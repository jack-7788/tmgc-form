import require$$0$1, { openBlock, createElementBlock, normalizeClass, normalizeStyle, createElementVNode, toDisplayString, createCommentVNode, reactive, createVNode, resolveComponent, withCtx, createTextVNode, createBlock, renderSlot, withModifiers, Fragment, withDirectives, renderList, vShow, h, nextTick, createSlots, watch, ref, onBeforeUnmount, onMounted, onUnmounted, mergeProps, resolveDynamicComponent, normalizeProps, guardReactiveProps, pushScopeId, popScopeId, defineComponent, Transition, render, isVNode } from "vue";
import { cloneDeep, isArray as isArray$4, debounce as debounce$1, isEmpty, omit as omit$1 } from "lodash-es";
import { Modal, message } from "ant-design-vue";
const _export_sfc$1 = (sfc, props) => {
  const target = sfc.__vccOpts || sfc;
  for (const [key, val] of props) {
    target[key] = val;
  }
  return target;
};
const _sfc_main$4C = {
  name: "SvgIcon",
  props: {
    iconClass: {
      type: String,
      required: true
    },
    className: {
      type: String
    },
    title: {
      type: String,
      default: ""
    },
    size: {
      type: String,
      default: "1.1em"
    }
  },
  computed: {
    iconName() {
      return `#icon-${this.iconClass}`;
    },
    svgClass() {
      if (this.className) {
        return "svg-icon " + this.className;
      } else {
        return "svg-icon";
      }
    },
    getStyle() {
      return {
        width: this.size,
        height: this.size,
        cursor: "pointer"
        //cursor ? 'pointer' : move ? 'move' : ''
      };
    }
  }
};
const _hoisted_1$1a = ["xlink:href"];
const _hoisted_2$E = { key: 0 };
function _sfc_render$4B(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", {
    class: normalizeClass($options.svgClass),
    "aria-hidden": "true",
    style: normalizeStyle($options.getStyle)
  }, [
    createElementVNode("use", { "xlink:href": $options.iconName }, null, 8, _hoisted_1$1a),
    !!$props.title ? (openBlock(), createElementBlock("title", _hoisted_2$E, toDisplayString($props.title), 1)) : createCommentVNode("", true)
  ], 6);
}
const SvgIcon = /* @__PURE__ */ _export_sfc$1(_sfc_main$4C, [["render", _sfc_render$4B], ["__scopeId", "data-v-dfe46d5e"]]);
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function getDefaultExportFromCjs(x) {
  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
}
var clipboard = { exports: {} };
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
    module.exports = factory();
  })(commonjsGlobal, function() {
    return (
      /******/
      function() {
        var __webpack_modules__ = {
          /***/
          686: (
            /***/
            function(__unused_webpack_module, __webpack_exports__, __webpack_require__2) {
              __webpack_require__2.d(__webpack_exports__, {
                "default": function() {
                  return (
                    /* binding */
                    clipboard2
                  );
                }
              });
              var tiny_emitter = __webpack_require__2(279);
              var tiny_emitter_default = /* @__PURE__ */ __webpack_require__2.n(tiny_emitter);
              var listen = __webpack_require__2(370);
              var listen_default = /* @__PURE__ */ __webpack_require__2.n(listen);
              var src_select = __webpack_require__2(817);
              var select_default = /* @__PURE__ */ __webpack_require__2.n(src_select);
              function command(type) {
                try {
                  return document.execCommand(type);
                } catch (err) {
                  return false;
                }
              }
              var ClipboardActionCut = function ClipboardActionCut2(target) {
                var selectedText = select_default()(target);
                command("cut");
                return selectedText;
              };
              var actions_cut = ClipboardActionCut;
              function createFakeElement(value2) {
                var isRTL = document.documentElement.getAttribute("dir") === "rtl";
                var fakeElement = document.createElement("textarea");
                fakeElement.style.fontSize = "12pt";
                fakeElement.style.border = "0";
                fakeElement.style.padding = "0";
                fakeElement.style.margin = "0";
                fakeElement.style.position = "absolute";
                fakeElement.style[isRTL ? "right" : "left"] = "-9999px";
                var yPosition = window.pageYOffset || document.documentElement.scrollTop;
                fakeElement.style.top = "".concat(yPosition, "px");
                fakeElement.setAttribute("readonly", "");
                fakeElement.value = value2;
                return fakeElement;
              }
              var fakeCopyAction = function fakeCopyAction2(value2, options) {
                var fakeElement = createFakeElement(value2);
                options.container.appendChild(fakeElement);
                var selectedText = select_default()(fakeElement);
                command("copy");
                fakeElement.remove();
                return selectedText;
              };
              var ClipboardActionCopy = function ClipboardActionCopy2(target) {
                var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                  container: document.body
                };
                var selectedText = "";
                if (typeof target === "string") {
                  selectedText = fakeCopyAction(target, options);
                } else if (target instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(target === null || target === void 0 ? void 0 : target.type)) {
                  selectedText = fakeCopyAction(target.value, options);
                } else {
                  selectedText = select_default()(target);
                  command("copy");
                }
                return selectedText;
              };
              var actions_copy = ClipboardActionCopy;
              function _typeof2(obj) {
                "@babel/helpers - typeof";
                if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
                  _typeof2 = function _typeof3(obj2) {
                    return typeof obj2;
                  };
                } else {
                  _typeof2 = function _typeof3(obj2) {
                    return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
                  };
                }
                return _typeof2(obj);
              }
              var ClipboardActionDefault = function ClipboardActionDefault2() {
                var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                var _options$action = options.action, action = _options$action === void 0 ? "copy" : _options$action, container = options.container, target = options.target, text = options.text;
                if (action !== "copy" && action !== "cut") {
                  throw new Error('Invalid "action" value, use either "copy" or "cut"');
                }
                if (target !== void 0) {
                  if (target && _typeof2(target) === "object" && target.nodeType === 1) {
                    if (action === "copy" && target.hasAttribute("disabled")) {
                      throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
                    }
                    if (action === "cut" && (target.hasAttribute("readonly") || target.hasAttribute("disabled"))) {
                      throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);
                    }
                  } else {
                    throw new Error('Invalid "target" value, use a valid Element');
                  }
                }
                if (text) {
                  return actions_copy(text, {
                    container
                  });
                }
                if (target) {
                  return action === "cut" ? actions_cut(target) : actions_copy(target, {
                    container
                  });
                }
              };
              var actions_default = ClipboardActionDefault;
              function clipboard_typeof(obj) {
                "@babel/helpers - typeof";
                if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
                  clipboard_typeof = function _typeof3(obj2) {
                    return typeof obj2;
                  };
                } else {
                  clipboard_typeof = function _typeof3(obj2) {
                    return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
                  };
                }
                return clipboard_typeof(obj);
              }
              function _classCallCheck(instance2, Constructor) {
                if (!(instance2 instanceof Constructor)) {
                  throw new TypeError("Cannot call a class as a function");
                }
              }
              function _defineProperties(target, props) {
                for (var i = 0; i < props.length; i++) {
                  var descriptor = props[i];
                  descriptor.enumerable = descriptor.enumerable || false;
                  descriptor.configurable = true;
                  if ("value" in descriptor)
                    descriptor.writable = true;
                  Object.defineProperty(target, descriptor.key, descriptor);
                }
              }
              function _createClass(Constructor, protoProps, staticProps) {
                if (protoProps)
                  _defineProperties(Constructor.prototype, protoProps);
                if (staticProps)
                  _defineProperties(Constructor, staticProps);
                return Constructor;
              }
              function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                  throw new TypeError("Super expression must either be null or a function");
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
                if (superClass)
                  _setPrototypeOf(subClass, superClass);
              }
              function _setPrototypeOf(o, p) {
                _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
                  o2.__proto__ = p2;
                  return o2;
                };
                return _setPrototypeOf(o, p);
              }
              function _createSuper(Derived) {
                var hasNativeReflectConstruct = _isNativeReflectConstruct();
                return function _createSuperInternal() {
                  var Super = _getPrototypeOf(Derived), result2;
                  if (hasNativeReflectConstruct) {
                    var NewTarget = _getPrototypeOf(this).constructor;
                    result2 = Reflect.construct(Super, arguments, NewTarget);
                  } else {
                    result2 = Super.apply(this, arguments);
                  }
                  return _possibleConstructorReturn(this, result2);
                };
              }
              function _possibleConstructorReturn(self2, call) {
                if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) {
                  return call;
                }
                return _assertThisInitialized(self2);
              }
              function _assertThisInitialized(self2) {
                if (self2 === void 0) {
                  throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                }
                return self2;
              }
              function _isNativeReflectConstruct() {
                if (typeof Reflect === "undefined" || !Reflect.construct)
                  return false;
                if (Reflect.construct.sham)
                  return false;
                if (typeof Proxy === "function")
                  return true;
                try {
                  Date.prototype.toString.call(Reflect.construct(Date, [], function() {
                  }));
                  return true;
                } catch (e2) {
                  return false;
                }
              }
              function _getPrototypeOf(o) {
                _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
                  return o2.__proto__ || Object.getPrototypeOf(o2);
                };
                return _getPrototypeOf(o);
              }
              function getAttributeValue(suffix, element) {
                var attribute = "data-clipboard-".concat(suffix);
                if (!element.hasAttribute(attribute)) {
                  return;
                }
                return element.getAttribute(attribute);
              }
              var Clipboard2 = /* @__PURE__ */ function(_Emitter) {
                _inherits(Clipboard3, _Emitter);
                var _super = _createSuper(Clipboard3);
                function Clipboard3(trigger, options) {
                  var _this;
                  _classCallCheck(this, Clipboard3);
                  _this = _super.call(this);
                  _this.resolveOptions(options);
                  _this.listenClick(trigger);
                  return _this;
                }
                _createClass(Clipboard3, [{
                  key: "resolveOptions",
                  value: function resolveOptions() {
                    var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                    this.action = typeof options.action === "function" ? options.action : this.defaultAction;
                    this.target = typeof options.target === "function" ? options.target : this.defaultTarget;
                    this.text = typeof options.text === "function" ? options.text : this.defaultText;
                    this.container = clipboard_typeof(options.container) === "object" ? options.container : document.body;
                  }
                  /**
                   * Adds a click event listener to the passed trigger.
                   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
                   */
                }, {
                  key: "listenClick",
                  value: function listenClick(trigger) {
                    var _this2 = this;
                    this.listener = listen_default()(trigger, "click", function(e2) {
                      return _this2.onClick(e2);
                    });
                  }
                  /**
                   * Defines a new `ClipboardAction` on each click event.
                   * @param {Event} e
                   */
                }, {
                  key: "onClick",
                  value: function onClick(e2) {
                    var trigger = e2.delegateTarget || e2.currentTarget;
                    var action = this.action(trigger) || "copy";
                    var text = actions_default({
                      action,
                      container: this.container,
                      target: this.target(trigger),
                      text: this.text(trigger)
                    });
                    this.emit(text ? "success" : "error", {
                      action,
                      text,
                      trigger,
                      clearSelection: function clearSelection() {
                        if (trigger) {
                          trigger.focus();
                        }
                        window.getSelection().removeAllRanges();
                      }
                    });
                  }
                  /**
                   * Default `action` lookup function.
                   * @param {Element} trigger
                   */
                }, {
                  key: "defaultAction",
                  value: function defaultAction(trigger) {
                    return getAttributeValue("action", trigger);
                  }
                  /**
                   * Default `target` lookup function.
                   * @param {Element} trigger
                   */
                }, {
                  key: "defaultTarget",
                  value: function defaultTarget(trigger) {
                    var selector = getAttributeValue("target", trigger);
                    if (selector) {
                      return document.querySelector(selector);
                    }
                  }
                  /**
                   * Allow fire programmatically a copy action
                   * @param {String|HTMLElement} target
                   * @param {Object} options
                   * @returns Text copied.
                   */
                }, {
                  key: "defaultText",
                  /**
                   * Default `text` lookup function.
                   * @param {Element} trigger
                   */
                  value: function defaultText(trigger) {
                    return getAttributeValue("text", trigger);
                  }
                  /**
                   * Destroy lifecycle.
                   */
                }, {
                  key: "destroy",
                  value: function destroy2() {
                    this.listener.destroy();
                  }
                }], [{
                  key: "copy",
                  value: function copy(target) {
                    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
                      container: document.body
                    };
                    return actions_copy(target, options);
                  }
                  /**
                   * Allow fire programmatically a cut action
                   * @param {String|HTMLElement} target
                   * @returns Text cutted.
                   */
                }, {
                  key: "cut",
                  value: function cut(target) {
                    return actions_cut(target);
                  }
                  /**
                   * Returns the support of the given action, or all actions if no action is
                   * given.
                   * @param {String} [action]
                   */
                }, {
                  key: "isSupported",
                  value: function isSupported() {
                    var action = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : ["copy", "cut"];
                    var actions = typeof action === "string" ? [action] : action;
                    var support = !!document.queryCommandSupported;
                    actions.forEach(function(action2) {
                      support = support && !!document.queryCommandSupported(action2);
                    });
                    return support;
                  }
                }]);
                return Clipboard3;
              }(tiny_emitter_default());
              var clipboard2 = Clipboard2;
            }
          ),
          /***/
          828: (
            /***/
            function(module2) {
              var DOCUMENT_NODE_TYPE = 9;
              if (typeof Element !== "undefined" && !Element.prototype.matches) {
                var proto = Element.prototype;
                proto.matches = proto.matchesSelector || proto.mozMatchesSelector || proto.msMatchesSelector || proto.oMatchesSelector || proto.webkitMatchesSelector;
              }
              function closest2(element, selector) {
                while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
                  if (typeof element.matches === "function" && element.matches(selector)) {
                    return element;
                  }
                  element = element.parentNode;
                }
              }
              module2.exports = closest2;
            }
          ),
          /***/
          438: (
            /***/
            function(module2, __unused_webpack_exports, __webpack_require__2) {
              var closest2 = __webpack_require__2(828);
              function _delegate(element, selector, type, callback, useCapture) {
                var listenerFn = listener.apply(this, arguments);
                element.addEventListener(type, listenerFn, useCapture);
                return {
                  destroy: function() {
                    element.removeEventListener(type, listenerFn, useCapture);
                  }
                };
              }
              function delegate2(elements, selector, type, callback, useCapture) {
                if (typeof elements.addEventListener === "function") {
                  return _delegate.apply(null, arguments);
                }
                if (typeof type === "function") {
                  return _delegate.bind(null, document).apply(null, arguments);
                }
                if (typeof elements === "string") {
                  elements = document.querySelectorAll(elements);
                }
                return Array.prototype.map.call(elements, function(element) {
                  return _delegate(element, selector, type, callback, useCapture);
                });
              }
              function listener(element, selector, type, callback) {
                return function(e2) {
                  e2.delegateTarget = closest2(e2.target, selector);
                  if (e2.delegateTarget) {
                    callback.call(element, e2);
                  }
                };
              }
              module2.exports = delegate2;
            }
          ),
          /***/
          879: (
            /***/
            function(__unused_webpack_module, exports2) {
              exports2.node = function(value2) {
                return value2 !== void 0 && value2 instanceof HTMLElement && value2.nodeType === 1;
              };
              exports2.nodeList = function(value2) {
                var type = Object.prototype.toString.call(value2);
                return value2 !== void 0 && (type === "[object NodeList]" || type === "[object HTMLCollection]") && "length" in value2 && (value2.length === 0 || exports2.node(value2[0]));
              };
              exports2.string = function(value2) {
                return typeof value2 === "string" || value2 instanceof String;
              };
              exports2.fn = function(value2) {
                var type = Object.prototype.toString.call(value2);
                return type === "[object Function]";
              };
            }
          ),
          /***/
          370: (
            /***/
            function(module2, __unused_webpack_exports, __webpack_require__2) {
              var is3 = __webpack_require__2(879);
              var delegate2 = __webpack_require__2(438);
              function listen(target, type, callback) {
                if (!target && !type && !callback) {
                  throw new Error("Missing required arguments");
                }
                if (!is3.string(type)) {
                  throw new TypeError("Second argument must be a String");
                }
                if (!is3.fn(callback)) {
                  throw new TypeError("Third argument must be a Function");
                }
                if (is3.node(target)) {
                  return listenNode(target, type, callback);
                } else if (is3.nodeList(target)) {
                  return listenNodeList(target, type, callback);
                } else if (is3.string(target)) {
                  return listenSelector(target, type, callback);
                } else {
                  throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");
                }
              }
              function listenNode(node2, type, callback) {
                node2.addEventListener(type, callback);
                return {
                  destroy: function() {
                    node2.removeEventListener(type, callback);
                  }
                };
              }
              function listenNodeList(nodeList, type, callback) {
                Array.prototype.forEach.call(nodeList, function(node2) {
                  node2.addEventListener(type, callback);
                });
                return {
                  destroy: function() {
                    Array.prototype.forEach.call(nodeList, function(node2) {
                      node2.removeEventListener(type, callback);
                    });
                  }
                };
              }
              function listenSelector(selector, type, callback) {
                return delegate2(document.body, selector, type, callback);
              }
              module2.exports = listen;
            }
          ),
          /***/
          817: (
            /***/
            function(module2) {
              function select2(element) {
                var selectedText;
                if (element.nodeName === "SELECT") {
                  element.focus();
                  selectedText = element.value;
                } else if (element.nodeName === "INPUT" || element.nodeName === "TEXTAREA") {
                  var isReadOnly = element.hasAttribute("readonly");
                  if (!isReadOnly) {
                    element.setAttribute("readonly", "");
                  }
                  element.select();
                  element.setSelectionRange(0, element.value.length);
                  if (!isReadOnly) {
                    element.removeAttribute("readonly");
                  }
                  selectedText = element.value;
                } else {
                  if (element.hasAttribute("contenteditable")) {
                    element.focus();
                  }
                  var selection = window.getSelection();
                  var range = document.createRange();
                  range.selectNodeContents(element);
                  selection.removeAllRanges();
                  selection.addRange(range);
                  selectedText = selection.toString();
                }
                return selectedText;
              }
              module2.exports = select2;
            }
          ),
          /***/
          279: (
            /***/
            function(module2) {
              function E() {
              }
              E.prototype = {
                on: function(name2, callback, ctx) {
                  var e2 = this.e || (this.e = {});
                  (e2[name2] || (e2[name2] = [])).push({
                    fn: callback,
                    ctx
                  });
                  return this;
                },
                once: function(name2, callback, ctx) {
                  var self2 = this;
                  function listener() {
                    self2.off(name2, listener);
                    callback.apply(ctx, arguments);
                  }
                  listener._ = callback;
                  return this.on(name2, listener, ctx);
                },
                emit: function(name2) {
                  var data = [].slice.call(arguments, 1);
                  var evtArr = ((this.e || (this.e = {}))[name2] || []).slice();
                  var i = 0;
                  var len = evtArr.length;
                  for (i; i < len; i++) {
                    evtArr[i].fn.apply(evtArr[i].ctx, data);
                  }
                  return this;
                },
                off: function(name2, callback) {
                  var e2 = this.e || (this.e = {});
                  var evts = e2[name2];
                  var liveEvents = [];
                  if (evts && callback) {
                    for (var i = 0, len = evts.length; i < len; i++) {
                      if (evts[i].fn !== callback && evts[i].fn._ !== callback)
                        liveEvents.push(evts[i]);
                    }
                  }
                  liveEvents.length ? e2[name2] = liveEvents : delete e2[name2];
                  return this;
                }
              };
              module2.exports = E;
              module2.exports.TinyEmitter = E;
            }
          )
          /******/
        };
        var __webpack_module_cache__ = {};
        function __webpack_require__(moduleId) {
          if (__webpack_module_cache__[moduleId]) {
            return __webpack_module_cache__[moduleId].exports;
          }
          var module2 = __webpack_module_cache__[moduleId] = {
            /******/
            // no module.id needed
            /******/
            // no module.loaded needed
            /******/
            exports: {}
            /******/
          };
          __webpack_modules__[moduleId](module2, module2.exports, __webpack_require__);
          return module2.exports;
        }
        !function() {
          __webpack_require__.n = function(module2) {
            var getter2 = module2 && module2.__esModule ? (
              /******/
              function() {
                return module2["default"];
              }
            ) : (
              /******/
              function() {
                return module2;
              }
            );
            __webpack_require__.d(getter2, { a: getter2 });
            return getter2;
          };
        }();
        !function() {
          __webpack_require__.d = function(exports2, definition) {
            for (var key in definition) {
              if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports2, key)) {
                Object.defineProperty(exports2, key, { enumerable: true, get: definition[key] });
              }
            }
          };
        }();
        !function() {
          __webpack_require__.o = function(obj, prop) {
            return Object.prototype.hasOwnProperty.call(obj, prop);
          };
        }();
        return __webpack_require__(686);
      }().default
    );
  });
})(clipboard);
var clipboardExports = clipboard.exports;
const Clipboard = /* @__PURE__ */ getDefaultExportFromCjs(clipboardExports);
function isNull(value2) {
  return value2 === null || value2 === void 0;
}
function isEmptyStr(str) {
  return str === void 0 || !str && str !== 0 && str !== "0" || !/[^\s]/.test(str);
}
const generateId = function() {
  return Math.floor(Math.random() * 1e5 + Math.random() * 2e4 + Math.random() * 5e3);
};
const deepClone = function(origin) {
  return cloneDeep(origin);
};
const overwriteObj = function(obj1, obj2) {
  Object.keys(obj2).forEach((prop) => {
    obj1[prop] = obj2[prop];
  });
};
const addWindowResizeHandler = function(handler) {
  const oldHandler = window.onresize;
  if (typeof window.onresize !== "function") {
    window.onresize = handler;
  } else {
    window.onresize = function() {
      oldHandler();
      handler();
    };
  }
};
const insertCustomCssToHead = function(cssCode, formId = "") {
  const head = document.getElementsByTagName("head")[0];
  const newStyle = document.createElement("style");
  newStyle.type = "text/css";
  newStyle.rel = "stylesheet";
  newStyle.id = !!formId ? "vform-custom-css-" + formId : "vform-custom-css";
  try {
    newStyle.appendChild(document.createTextNode(cssCode));
  } catch (ex) {
    newStyle.styleSheet.cssText = cssCode;
  }
  head.appendChild(newStyle);
};
const insertGlobalFunctionsToHtml = function(functionsCode, formId = "") {
  const bodyEle = document.getElementsByTagName("body")[0];
  const newScriptEle = document.createElement("script");
  newScriptEle.id = !!formId ? "v_form_global_functions-" + formId : "v_form_global_functions";
  newScriptEle.type = "text/javascript";
  newScriptEle.innerHTML = functionsCode;
  bodyEle.appendChild(newScriptEle);
};
function traverseFieldWidgets(widgetList, handler, parent = null, staticWidgetsIncluded = false) {
  if (!widgetList) {
    return;
  }
  widgetList.map((w) => {
    if (w.formItemFlag || w.formItemFlag === false && staticWidgetsIncluded) {
      handler(w, parent);
    } else if (w.type === "grid") {
      w.cols.map((col) => {
        traverseFieldWidgets(col.widgetList, handler, w, staticWidgetsIncluded);
      });
    } else if (w.type === "table") {
      w.rows.map((row) => {
        row.cols.map((cell) => {
          traverseFieldWidgets(cell.widgetList, handler, w, staticWidgetsIncluded);
        });
      });
    } else if (w.type === "tab") {
      w.tabs.map((tab2) => {
        traverseFieldWidgets(tab2.widgetList, handler, w, staticWidgetsIncluded);
      });
    } else if (w.type === "sub-form" || w.type === "grid-sub-form") {
      traverseFieldWidgets(w.widgetList, handler, w, staticWidgetsIncluded);
    } else if (w.category === "container") {
      traverseFieldWidgets(w.widgetList, handler, w, staticWidgetsIncluded);
    }
  });
}
function traverseContainerWidgets(widgetList, handler) {
  if (!widgetList) {
    return;
  }
  widgetList.map((w) => {
    if (w.category === "container") {
      handler(w);
    }
    if (w.type === "grid") {
      w.cols.map((col) => {
        traverseContainerWidgets(col.widgetList, handler);
      });
    } else if (w.type === "table") {
      w.rows.map((row) => {
        row.cols.map((cell) => {
          traverseContainerWidgets(cell.widgetList, handler);
        });
      });
    } else if (w.type === "tab") {
      w.tabs.map((tab2) => {
        traverseContainerWidgets(tab2.widgetList, handler);
      });
    } else if (w.type === "sub-form" || w.type === "grid-sub-form") {
      traverseContainerWidgets(w.widgetList, handler);
    } else if (w.category === "container") {
      traverseContainerWidgets(w.widgetList, handler);
    }
  });
}
function traverseAllWidgets(widgetList, handler) {
  if (!widgetList) {
    return;
  }
  widgetList.map((w) => {
    handler(w);
    if (w.type === "grid") {
      w.cols.map((col) => {
        handler(col);
        traverseAllWidgets(col.widgetList, handler);
      });
    } else if (w.type === "table") {
      w.rows.map((row) => {
        row.cols.map((cell) => {
          handler(cell);
          traverseAllWidgets(cell.widgetList, handler);
        });
      });
    } else if (w.type === "tab") {
      w.tabs.map((tab2) => {
        traverseAllWidgets(tab2.widgetList, handler);
      });
    } else if (w.type === "sub-form" || w.type === "grid-sub-form") {
      traverseAllWidgets(w.widgetList, handler);
    } else if (w.category === "container") {
      traverseAllWidgets(w.widgetList, handler);
    }
  });
}
function handleWidgetForTraverse(widget, handler) {
  if (!!widget.category && widget.category === "container") {
    traverseFieldWidgetsOfContainer(widget, handler);
  } else if (widget.formItemFlag) {
    handler(widget);
  }
}
function traverseFieldWidgetsOfContainer(con, handler) {
  if (con.type === "grid") {
    con.cols.forEach((col) => {
      col.widgetList.forEach((cw) => {
        handleWidgetForTraverse(cw, handler);
      });
    });
  } else if (con.type === "table") {
    con.rows.forEach((row) => {
      row.cols.forEach((cell) => {
        cell.widgetList.forEach((cw) => {
          handleWidgetForTraverse(cw, handler);
        });
      });
    });
  } else if (con.type === "tab") {
    con.tabs.forEach((tab2) => {
      tab2.widgetList.forEach((cw) => {
        handleWidgetForTraverse(cw, handler);
      });
    });
  } else if (con.type === "sub-form" || con.type === "grid-sub-form") {
    con.widgetList.forEach((cw) => {
      handleWidgetForTraverse(cw, handler);
    });
  } else if (con.category === "container") {
    con.widgetList.forEach((cw) => {
      handleWidgetForTraverse(cw, handler);
    });
  }
}
function handleContainerTraverse(widget, fieldHandler, containerHandler) {
  if (!!widget.category && widget.category === "container") {
    traverseWidgetsOfContainer(widget, fieldHandler);
  } else if (widget.formItemFlag) {
    fieldHandler(widget);
  }
}
function traverseWidgetsOfContainer(con, fieldHandler, containerHandler) {
  if (con.type === "grid") {
    con.cols.forEach((col) => {
      col.widgetList.forEach((cw) => {
        handleContainerTraverse(cw, fieldHandler);
      });
    });
  } else if (con.type === "table") {
    con.rows.forEach((row) => {
      row.cols.forEach((cell) => {
        cell.widgetList.forEach((cw) => {
          handleContainerTraverse(cw, fieldHandler);
        });
      });
    });
  } else if (con.type === "tab") {
    con.tabs.forEach((tab2) => {
      tab2.widgetList.forEach((cw) => {
        handleContainerTraverse(cw, fieldHandler);
      });
    });
  } else if (con.type === "sub-form" || con.type === "grid-sub-form") {
    con.widgetList.forEach((cw) => {
      handleContainerTraverse(cw, fieldHandler);
    });
  } else if (con.category === "container") {
    con.widgetList.forEach((cw) => {
      handleContainerTraverse(cw, fieldHandler);
    });
  }
}
function getAllFieldWidgets(widgetList, staticWidgetsIncluded = false) {
  if (!widgetList) {
    return [];
  }
  const result2 = [];
  const handlerFn = (w) => {
    result2.push({
      type: w.type,
      name: w.options.name,
      field: w
    });
  };
  traverseFieldWidgets(widgetList, handlerFn, null, staticWidgetsIncluded);
  return result2;
}
function getAllContainerWidgets(widgetList) {
  if (!widgetList) {
    return [];
  }
  const result2 = [];
  const handlerFn = (w) => {
    result2.push({
      type: w.type,
      name: w.options.name,
      container: w
    });
  };
  traverseContainerWidgets(widgetList, handlerFn);
  return result2;
}
function getFieldWidgetByName(widgetList, fieldName, staticWidgetsIncluded) {
  if (!widgetList) {
    return null;
  }
  let foundWidget = null;
  const handlerFn = (widget) => {
    if (widget.options.name === fieldName) {
      foundWidget = widget;
    }
  };
  traverseFieldWidgets(widgetList, handlerFn, null, staticWidgetsIncluded);
  return foundWidget;
}
function getContainerWidgetByName(widgetList, containerName) {
  if (!widgetList) {
    return null;
  }
  let foundContainer = null;
  const handlerFn = (con) => {
    if (con.options.name === containerName) {
      foundContainer = con;
    }
  };
  traverseContainerWidgets(widgetList, handlerFn);
  return foundContainer;
}
function copyToClipboard(content, clickEvent, $message, successMsg, errorMsg) {
  const clipboard2 = new Clipboard(clickEvent.target, {
    text: () => content
  });
  clipboard2.on("success", () => {
    $message.success(successMsg);
    clipboard2.destroy();
  });
  clipboard2.on("error", () => {
    $message.error(errorMsg);
    clipboard2.destroy();
  });
  clipboard2.onClick(clickEvent);
}
function getQueryParam(variable) {
  const query2 = window.location.search.substring(1);
  const vars = query2.split("&");
  for (let i = 0; i < vars.length; i++) {
    const pair = vars[i].split("=");
    if (pair[0] == variable) {
      return pair[1];
    }
  }
  return void 0;
}
function getDefaultFormConfig() {
  const { formCode = "" } = getLocat();
  return {
    // useInnerLogic: true, //使用内置逻辑
    labelWidth: 80,
    labelPosition: "horizontal",
    //'left',
    size: "",
    labelAlign: "right",
    cssCode: "",
    customClass: [],
    functions: "",
    //全局函数
    layoutType: "PC",
    // jsonVersion: 3,
    // dataSources: [], //数据源集合
    onFormCreated: "",
    onFormMounted: `
    if(!this.vfCtx) return
    if(!this.vfCtx._id) return
    const type = this.vfCtx.type
    this.setReadMode(type==='view')
    this.onFormDetail().then(res=>{
      this.setFormData({...res})
    })
    `,
    onFormDataChange: "",
    serveList: {
      vformUpdate: {
        http: {
          url: `/api/tmgc2-mgt/formDefinition/${formCode}/evaluate/formSubmit`,
          method: "post",
          data: { _id: "${_id}" },
          params: {}
        },
        dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
        dataHandlerCode: ""
      },
      vformDetail: {
        http: {
          url: `/api/tmgc2-mgt/formDefinition/${formCode}/evaluate/formLoad`,
          method: "post",
          data: { _id: "${_id}" },
          params: {}
        },
        dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
        dataHandlerCode: "return data.data.object||{}"
      }
    }
  };
}
function buildDefaultFormJson() {
  return {
    widgetList: [],
    formConfig: deepClone(getDefaultFormConfig())
  };
}
function cloneFormConfigWithoutEventHandler(formConfig) {
  const newFC = deepClone(formConfig);
  newFC.onFormCreated = "";
  newFC.onFormMounted = "";
  newFC.onFormDataChange = "";
  return newFC;
}
function translateOptionItems(rawData, widgetType, labelKey, valueKey) {
  if (["cascader", "treeSelect", "select"].includes(widgetType)) {
    return deepClone(rawData);
  }
  const result2 = [];
  if (!!rawData && rawData.length > 0) {
    rawData.forEach((ri) => {
      result2.push({
        label: ri[labelKey],
        value: ri[valueKey]
      });
    });
  }
  return rawData;
}
function assembleAxiosConfig(arrayObj, DSV, VFR) {
  const result = {};
  if (!arrayObj || arrayObj.length <= 0) {
    return result;
  }
  arrayObj.map((ai) => {
    if (ai.type === "String") {
      result[ai.name] = String(ai.value);
    } else if (ai.type === "Number") {
      result[ai.name] = Number(ai.value);
    } else if (ai.type === "Boolean") {
      if (ai.value.toLowerCase() === "false" || ai.value === "0") {
        result[ai.name] = false;
      } else if (ai.value.toLowerCase() === "true" || ai.value === "1") {
        result[ai.name] = true;
      } else {
        result[ai.name] = null;
      }
    } else if (ai.type === "Variable") {
      result[ai.name] = eval(ai.value);
    }
  });
  console.log("test DSV: ", DSV);
  console.log("test VFR: ", VFR);
  return result;
}
function buildRequestConfig(dataSource, DSV, VFR, isSandbox) {
  const config = {};
  if (dataSource.requestURLType === "String") {
    config.url = dataSource.requestURL;
  } else {
    config.url = eval(dataSource.requestURL);
  }
  config.method = dataSource.requestMethod;
  config.headers = assembleAxiosConfig(dataSource.headers, DSV, VFR);
  config.params = assembleAxiosConfig(dataSource.params, DSV, VFR);
  config.data = assembleAxiosConfig(dataSource.data, DSV, VFR);
  const chFn = new Function("config", "isSandbox", "DSV", "VFR", dataSource.configHandlerCode);
  return chFn.call(null, config, isSandbox, DSV, VFR);
}
async function runDataSourceRequest(dataSource2, DSV2, VFR2, isSandbox2, $message) {
  try {
    const requestConfig = buildRequestConfig(dataSource2, DSV2, VFR2, isSandbox2);
  } catch (err) {
    const ehFn = new Function(
      "error",
      "isSandbox",
      "DSV",
      "$message",
      "VFR",
      dataSource2.errorHandlerCode
    );
    ehFn.call(null, err, isSandbox2, DSV2, $message, VFR2);
    console.error(err);
  }
}
function getDSByName(formConfig, dsName) {
  let resultDS = null;
  if (!!dsName && !!formConfig.dataSources) {
    formConfig.dataSources.forEach((ds) => {
      if (ds.uniqueName === dsName) {
        resultDS = ds;
      }
    });
  }
  return resultDS;
}
function replaceVars(str, vars) {
  return str.replace(/\$\{([^}]+)\}/g, (match, varName) => vars[varName] || null);
}
function getLocat(url) {
  url = url || window.location.search;
  const theRequest = {};
  if (url.indexOf("?") !== -1) {
    const str = url.substr(1);
    const strs = str.split("&");
    for (let i = 0; i < strs.length; i++) {
      theRequest[strs[i].split("=")[0]] = decodeURI(strs[i].split("=")[1]);
    }
  }
  return theRequest;
}
const getUuidKey = () => {
  return "k" + Math.random().toString(36).slice(2, 8);
};
const input = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "input",
    icon: "text-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      type: "text",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      maxLength: null,
      showCount: false,
      addonBefore: "",
      addonAfter: "",
      //-------------------
      onCreated: "",
      onMounted: "",
      onInput: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const textarea = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "textarea",
    icon: "textarea-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      rows: 3,
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      // minLength: null,
      maxLength: null,
      showCount: false,
      //-------------------
      onCreated: "",
      onMounted: "",
      onInput: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const number = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "number",
    icon: "number-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      min: -99999999,
      max: 99999999,
      precision: 0,
      step: 1,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const radio = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "radio",
    icon: "radio-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      columnWidth: "200px",
      size: "",
      displayStyle: "inline",
      buttonStyle: false,
      border: false,
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      dsEnabled: false,
      // 是否使用数据源数据
      labelKey: "label",
      valueKey: "value",
      optionItems: [
        { label: "radio 1", value: 1 },
        { label: "radio 2", value: 2 },
        { label: "radio 3", value: 3 }
      ],
      http: {
        url: "",
        // '/api/tmgc2-mgt/pageFieldConfig/queryPageFieldValueOptions',
        method: "get",
        data: {},
        params: {}
        // { pageCode: '${pageCode}', fieldCode: '${fieldCode}' }
      },
      dataHandlerCode: "return data.data;\n ",
      dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const checkbox = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "checkbox",
    icon: "checkbox-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: [],
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      labelKey: "label",
      valueKey: "value",
      optionItems: [
        { label: "check 1", value: 1 },
        { label: "check 2", value: 2 },
        { label: "check 3", value: 3 }
      ],
      http: {
        url: "",
        method: "get",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data;\n ",
      dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const select = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "select",
    icon: "select-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: false,
      dsEnabled: false,
      // 是否使用数据源数据
      labelKey: "label",
      valueKey: "value",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "",
        method: "get",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data;\n ",
      dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const time = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "time",
    icon: "time-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      placeholder: "",
      columnWidth: "200px",
      size: "",
      autoFullWidth: true,
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      format: "HH:mm:ss",
      //时间格式
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const timeRange = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "time-range",
    icon: "time-range-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      startPlaceholder: "",
      endPlaceholder: "",
      columnWidth: "200px",
      size: "",
      autoFullWidth: true,
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      format: "HH:mm:ss",
      //时间格式
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const date = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "date",
    icon: "date-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      type: "date",
      defaultValue: null,
      placeholder: "",
      columnWidth: "200px",
      size: "",
      autoFullWidth: true,
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      showTime: false,
      format: "YYYY-MM-DD",
      //日期显示格式
      valueFormat: "YYYY-MM-DD",
      //日期对象格式
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const dateRange = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "date-range",
    icon: "date-range-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      startPlaceholder: "",
      endPlaceholder: "",
      columnWidth: "200px",
      size: "",
      autoFullWidth: true,
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      showTime: false,
      format: "YYYY-MM-DD",
      //日期显示格式
      valueFormat: "YYYY-MM-DD",
      //日期对象格式
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const switchCom = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "switch",
    icon: "switch-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      columnWidth: "200px",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      switchWidth: 40,
      checkedValue: "1",
      unCheckedValue: "0",
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const rate = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "rate",
    icon: "rate-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      columnWidth: "200px",
      allowClear: true,
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      count: 5,
      allowHalf: false,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const color = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "color",
    icon: "color-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: null,
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const slider = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "slider",
    icon: "slider-field",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      hidden: false,
      holdHidden: true,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      min: 0,
      max: 100,
      step: 1,
      range: false,
      height: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onValidate: "",
      ...ops
    }
  };
};
const staticText = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "static-text",
    icon: "static-text",
    formItemFlag: false,
    options: {
      name: "",
      columnWidth: "200px",
      hidden: false,
      holdHidden: true,
      textContent: "static text",
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      ...ops
    }
  };
};
const htmlText = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "html-text",
    icon: "html-text",
    formItemFlag: false,
    options: {
      name: "",
      columnWidth: "200px",
      hidden: false,
      holdHidden: true,
      htmlContent: "<b>html text</b>",
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      ...ops
    }
  };
};
const button = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "button",
    icon: "button",
    formItemFlag: false,
    options: {
      name: "",
      label: "",
      size: "",
      displayStyle: "block",
      disabled: false,
      hidden: false,
      holdHidden: true,
      type: "primary",
      shape: "",
      danger: false,
      ghost: false,
      icon: null,
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      onClick: "",
      ...ops
    }
  };
};
const divider = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "divider",
    icon: "divider",
    formItemFlag: false,
    options: {
      name: "",
      label: "",
      columnWidth: "200px",
      direction: "horizontal",
      contentPosition: "center",
      hidden: false,
      holdHidden: true,
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      ...ops
    }
  };
};
const dropdown = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    type: "dropdown",
    icon: "dropdown",
    formItemFlag: false,
    options: {
      name: "",
      label: "",
      size: "",
      displayStyle: "block",
      disabled: false,
      hidden: false,
      holdHidden: true,
      type: "primary",
      shape: "",
      danger: false,
      ghost: false,
      placement: "bottomLeft",
      menuList: [
        { value: "1", label: "功能1" },
        { value: "2", label: "功能2" }
      ],
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      onClick: "",
      onMenuClick: "",
      ...ops
    }
  };
};
const basicFieldsEnums = {
  input,
  textarea,
  number,
  radio,
  checkbox,
  select,
  time,
  timeRange,
  date,
  dateRange,
  switch: switchCom,
  rate,
  color,
  slider,
  staticText,
  htmlText,
  button,
  divider,
  dropdown
};
const userSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择用户",
    type: "select",
    icon: "yonghu1",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择用户",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "userName",
      valueKey: "userId",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-org/user/queryUserPageByParam",
        method: "post",
        data: {
          limitStatus: 0,
          lockFlag: 1
        },
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
      const d=data.data||{};
      Object.keys(d).forEach(k=>{
        if(d[k]==='null'){
          d[k]=null
        }
        });
        const userName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {userName,page,pageSize} ;

        return {...data,data:{...d,...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const departmentSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择部门",
    type: "select",
    icon: "bumen",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择部门",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "departmentName",
      valueKey: "departmentCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-org/department/getDepartmentList",
        method: "post",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
      const d=data.data||{};
      Object.keys(d).forEach(k=>{
        if(d[k]==='null'){
          d[k]=null
        }
        });
        const departmentName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {departmentName,page,pageSize} ;

        return {...data,data:{...d,...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const postSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择岗位",
    type: "select",
    icon: "gangweitubiao",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择岗位",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "postName",
      valueKey: "postCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-org/post/getPostList",
        method: "post",
        data: { lockFlag: "" },
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
      const d=data.data||{};
      Object.keys(d).forEach(k=>{
        if(d[k]==='null'){
          d[k]=null
        }
        });
        const postName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {postName,page,pageSize} ;
        return {...data,data:{...d,...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const operationSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择工序",
    type: "select",
    icon: "gongxu",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择工序",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "operationName",
      valueKey: "operationCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-query/dataQuery/execute",
        method: "post",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
        const operationName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {
          "pageCode":"OperationInfo",
          "conditions":[
            {"fieldCode":"operationName","type":"CONTAINS","value":operationName}
          ],
          "requiredFields":["operationCode","operationName"],
          "page":page,
          "pageSize":pageSize,
          "sorts":[{"fieldCode":"createDatetime","order":"DESC"}]
        }
        return {...data,data:{...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const materialSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择物料",
    type: "select",
    icon: "navicon-wlpp",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择物料",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "materialName",
      valueKey: "materialCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-material/material/queryMaterialListByPage-v2",
        method: "post",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
        const materialName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {
          "pageCode":"Material",
          "conditions":[
            {"fieldCode":"materialName","type":"CONTAINS","value":materialName}
          ],
          "requiredFields":["materialName","materialCode"],
          "page":page,
          "pageSize":pageSize,
          "sorts":[{"fieldCode":"modifyDatetime","order":"DESC"}]
        }
        return {...data,data:{...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const projectSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择项目",
    type: "select",
    icon: "xiangmu",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择项目",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "projectName",
      valueKey: "projectCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-production/project/queryPopProjectListByPage",
        method: "post",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
        const projectName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {
          "forbidden": "1",
          "projectName":projectName,
          "page":page,
          "pageSize":pageSize
        }
        return {...data,data:{...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const projectGroupSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "选择项目组",
    type: "select",
    icon: "changyongtubiao_xiangmuzushezhi",
    formItemFlag: true,
    options: {
      name: "",
      label: "选择项目组",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      columnWidth: "200px",
      size: "",
      labelWidth: null,
      labelHidden: false,
      disabled: false,
      useModal: false,
      loadingPage: true,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      maxTagCount: "responsive",
      mode: "combobox",
      showSearch: true,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "projectGroupName",
      valueKey: "projectGroupCode",
      optionItems: [
        { label: "select 1", value: "1" },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      http: {
        url: "/api/tmgc2-query/dataQuery/execute",
        method: "post",
        data: {},
        params: {}
      },
      dataHandlerCode: "return data.data.object;\n ",
      dataReqHandlerCode: `
        const projectGroupName = this.keyword||'';
        const {page,pageSize} =this.pager ;
        const p = {
          "pageCode":"projectGroup",
          "conditions":[
            {"fieldCode":"projectGroupName","type":"CONTAINS","value":projectGroupName}
          ],
          "requiredFields":["projectGroupCode","projectGroupName"],
          "page":page,
          "pageSize":pageSize,
          "sorts":[]
        }
        return {...data,data:{...p}}
        `,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      // onRemoteQuery: '',
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      onClickIcon: 'console.log(this,"onClickIcon")',
      ...ops
    }
  };
};
const businessFieldsEnums = {
  userSelect,
  departmentSelect,
  postSelect,
  operationSelect,
  materialSelect,
  projectSelect,
  projectGroupSelect
};
const grid = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "grid",
    // 组件类型
    alias: "",
    //组件别名，可以自定义
    category: "container",
    //容器类型
    icon: "grid",
    //icon
    cols: [],
    // 列配置
    options: {
      // 配置
      name: "",
      //名称
      hidden: false,
      //是否隐藏
      gutter: 12,
      //'栅格间隔',
      colHeight: null,
      //栅格列统一高度属性，用于解决栅格列设置响应式布局浮动后被挂住的问题！！
      customClass: [],
      //自定义css类名
      ...ops
    }
  };
};
const gridCol = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "grid-col",
    category: "container",
    icon: "grid-col",
    internal: true,
    widgetList: [],
    options: {
      name: "",
      hidden: false,
      span: 12,
      offset: 0,
      push: 0,
      pull: 0,
      responsive: false,
      //是否开启响应式布局
      md: 12,
      sm: 12,
      xs: 12,
      customClass: [],
      //自定义css类名
      ...ops
    }
  };
};
const dataTable = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "data-table",
    //数据表格
    category: "container",
    icon: "data-table",
    widgetList: [],
    options: {
      name: "",
      label: "data-table",
      hidden: false,
      tableHeight: "300px",
      //高度，百分比或像素
      tableWidth: "100%",
      //宽度，百分比或像素宽度
      customClass: [],
      //自定义css样式
      // stripe: true, // 是否斑马线
      showIndex: false,
      // 是否显示行号列
      showPagination: true,
      // 是否分页
      border: true,
      // 是否带有纵向边框（拖拽）
      tableSize: "small",
      // 表格大小，large大、default中、small小
      tableColumns: [
        //表格列信息
        {
          columnId: 1,
          dataIndex: "name",
          title: "姓名",
          width: 150,
          show: true,
          align: "center",
          fixed: "",
          sorter: false,
          customRender: "",
          ellipsis: true,
          resizable: true,
          showSorterTooltip: false
        }
      ],
      showButtonsColumn: false,
      // 是否显示操作列
      buttonsColumnTitle: "操作",
      buttonsColumnWidth: 200,
      operationButtons: [
        {
          // 操作按钮配置
          name: "detail",
          label: "详情",
          type: "link",
          shape: "default",
          size: "small",
          hidden: false,
          disabled: false,
          onClick: ""
        }
      ],
      dsEnabled: false,
      //是否使用数据源数据
      http: {
        url: "",
        method: "get",
        data: {},
        params: {}
      },
      dataReqHandlerCode: "",
      dataHandlerCode: "",
      rowKey: "name",
      //树形数据数据row-key
      childrenKey: "children",
      //树形数据children
      dataSource: [
        //表格数据
        {
          date: "2016-05-02",
          date2: "2016-05-02 23:12:12",
          date3: "2016-05-02 9:11:12",
          name: "小二",
          add: "上海市普陀区金沙江路 1518 弄",
          age: 100
        }
      ],
      onCreated: "",
      onMounted: "",
      //设置操作按钮是否隐藏回调事件（必须有返回值）
      onHideOperationButton: "",
      //设置操作按钮是否禁用回调事件（必须有返回值）
      onDisableOperationButton: "",
      //设置操作按钮文本回调事件（必须有返回值）
      //操作按钮点击事件
      onOperationButtonClick: "",
      customRow: { onClick: "", onDblclick: "", onMouseenter: "", onMouseleave: "" },
      //合并行、列事件
      onTableChange: "",
      //分页、排序、筛选变化时触发
      pagination: {
        pageSizeOptions: ["10", "20", "50", "100"],
        current: 1,
        //当前页数
        hideOnSinglePage: false,
        //只有一页时是否隐藏分页器
        pageSize: 20,
        //每页条数
        total: 0,
        //数据总数
        showQuickJumper: true,
        //是否可以快速跳转至某页
        showSizeChanger: true,
        //是否展示 pageSize 切换器，当 total 大于 50 时默认为 true
        position: ["bottomRight"],
        showTotal: (total) => `共 ${total} 条`
      },
      colorRow: true,
      rowSelection: {
        hasRowSelection: false,
        preserveSelectedRowKeys: false,
        //当数据被删除时仍然保留选项的 key
        // type:"checkbox",//多选/单选，checkbox or radio
        fixed: true,
        //把选择框列固定在左边
        onChange: "console.log(122222,selectedRowKeys, selectedRows)",
        //选中项发生变化时的回调 Function(selectedRowKeys, selectedRows)
        columnWidth: 100
      },
      //antd 功能的配置
      ...ops
    }
  };
};
const vfDialog = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "vf-dialog",
    //弹窗
    category: "container",
    icon: "vf-dialog",
    widgetList: [],
    options: {
      name: "",
      title: "标题",
      width: "50%",
      height: "600px",
      bodyStyle: "",
      formCode: "",
      showClose: true,
      closeOnClickModal: false,
      closeOnPressEscape: false,
      readMode: false,
      disabledMode: false,
      okButtonLabel: "",
      okButtonHidden: false,
      cancelButtonLabel: "",
      cancelButtonHidden: false,
      onOkButtonClick: "",
      onCancelButtonClick: "",
      onDialogOpened: "",
      onDialogBeforeClose: "",
      ...ops
    }
  };
};
const vfCollapse = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "vf-collapse",
    //折叠面板
    category: "container",
    icon: "zhediemianban",
    widgetList: [],
    headerRightSlotList: [],
    defaultSlotsList: [],
    cols: [],
    options: {
      name: "",
      title: "标题",
      height: "",
      bodyStyle: "",
      formCode: "",
      collapseIcon: "xiangshang",
      unCollapseIcon: "xiangxia",
      isCollapse: true,
      rightSlotCss: [],
      ...ops
    }
  };
};
const vfBox = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "vf-box",
    showName: "盒容器",
    category: "container",
    icon: "ccgl-zhouzhuanxiang-4",
    widgetList: [],
    options: {
      name: "",
      // title: '标题',
      // width: '100%',
      // height: '600px',
      formCode: "",
      customClass: []
    }
  };
};
const tab = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "tab",
    category: "container",
    icon: "tab",
    displayType: "border-card",
    tabs: [],
    options: {
      name: "",
      hidden: false,
      customClass: [],
      //自定义css类名
      onTabClick: "",
      //tab被选中时触发
      tabBarGutter: 30,
      tabPosition: "top",
      type: "line",
      onCreated: "",
      onMounted: ""
    }
  };
};
const tabPane = () => {
  return {
    key: getUuidKey(),
    type: "tab-pane",
    category: "container",
    icon: "tab-pane",
    internal: true,
    widgetList: [],
    options: {
      name: "",
      label: "",
      hidden: false,
      active: false,
      disabled: false,
      customClass: []
      //自定义css类名
    }
  };
};
const containersEnums = {
  grid,
  gridCol,
  dataTable,
  vfDialog,
  vfCollapse,
  vfBox,
  tab,
  tabPane
};
const codeEditor = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "代码编辑器",
    type: "code-editor",
    icon: "code-editor",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      columnWidth: "200px",
      labelWidth: null,
      labelHidden: false,
      readonly: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      required: false,
      requiredHint: "",
      mode: "javascript",
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      onInput: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: `
        const flag = this.$refs.fieldEditor.validateCode();
        if(flag) return Promise.resolve();
        return Promise.reject('语法校验失败');
      `,
      ...ops
    }
  };
};
const cascader = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "cascader",
    icon: "cascader-field",
    id: ops.name,
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      size: "",
      labelWidth: null,
      labelHidden: false,
      columnWidth: "200px",
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      multiple: false,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "label",
      valueKey: "value",
      childrenKey: "children",
      http: {
        url: "",
        method: "get",
        data: {},
        params: {}
      },
      optionItems: [
        { label: "select 1", value: "1", children: [{ label: "child 1", value: 11 }] },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      dataHandlerCode: "return data.data;\n ",
      dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const treeSelect = (ops = {}) => {
  return {
    key: getUuidKey(),
    type: "treeSelect",
    icon: "tree_line",
    id: ops.name,
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      placeholder: "",
      size: "",
      labelWidth: null,
      labelHidden: false,
      columnWidth: "200px",
      disabled: false,
      hidden: false,
      holdHidden: true,
      allowClear: true,
      multiple: false,
      treeDefaultExpandAll: false,
      dsEnabled: true,
      // 是否使用数据源数据
      labelKey: "label",
      valueKey: "value",
      childrenKey: "children",
      http: {
        url: "",
        method: "get",
        data: {},
        params: {}
      },
      optionItems: [
        { label: "select 1", value: "1", children: [{ label: "child 1", value: 11 }] },
        { label: "select 2", value: "2" },
        { label: "select 3", value: "3" }
      ],
      dataHandlerCode: "return data.data;\n ",
      dataReqHandlerCode: `const d=data.data||{};
 Object.keys(d).forEach(k=>{
 if(d[k]==='null'){
 d[k]=null
 }
 })
return {...data,data:d}`,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onChange: "",
      onFocus: "",
      onBlur: "",
      onValidate: "",
      ...ops
    }
  };
};
const richEditor = (ops = {}) => {
  return {
    type: "rich-editor",
    icon: "rich-editor-field",
    id: ops.name,
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      placeholder: "",
      labelWidth: null,
      labelHidden: false,
      columnWidth: "200px",
      contentHeight: "200px",
      disabled: false,
      hidden: false,
      required: false,
      requiredHint: "",
      validation: "",
      // 自定义校验选项
      validationHint: "",
      //自定义校验提示语
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      // minLength: null,
      maxLength: null,
      showCount: false,
      //-------------------
      onCreated: "",
      onMounted: "",
      onValidate: "",
      ...ops
    }
  };
};
const fileUpload = (ops = {}) => {
  return {
    type: "file-upload",
    icon: "file-upload-field",
    formItemFlag: true,
    id: ops.name,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      labelWidth: null,
      labelHidden: false,
      columnWidth: "200px",
      multiple: false,
      accept: [".xls", ".xlsx", ".pdf"],
      maxSize: 10,
      disabled: false,
      hidden: false,
      required: false,
      requiredHint: "",
      validation: "",
      validationHint: "",
      //-------------------
      showFileList: true,
      limit: 1,
      //-------------------
      customClass: [],
      //自定义css类名
      labelIconClass: null,
      labelIconPosition: "rear",
      labelTooltip: null,
      //-------------------
      onCreated: "",
      onMounted: "",
      onBeforeUpload: "",
      // onUploadSuccess: '',
      // onUploadError: '',
      // onFileRemove: '',
      onValidate: "",
      //onFileChange: '',
      ...ops
    }
  };
};
const bpmnEditor = (ops = {}) => {
  return {
    key: getUuidKey(),
    id: ops.name,
    showName: "流程图",
    type: "bpmn-editor",
    icon: "liucheng",
    formItemFlag: true,
    options: {
      name: "",
      label: "",
      labelAlign: "",
      defaultValue: "",
      columnWidth: "200px",
      labelWidth: null,
      labelHidden: false,
      hidden: false,
      holdHidden: true,
      //-------------------
      customClass: [],
      //自定义css类名
      //-------------------
      onCreated: "",
      onMounted: "",
      ...ops
    }
  };
};
const advancedFieldsEnums = {
  cascader,
  treeSelect,
  richEditor,
  codeEditor,
  fileUpload,
  bpmnEditor
};
const containers$1 = Object.values(containersEnums).map((fn) => fn());
const basicFields = Object.values(basicFieldsEnums).map((fn) => fn());
const businessFields = Object.values(businessFieldsEnums).map((fn) => fn());
const advancedFields = Object.values(advancedFieldsEnums).map((fn) => fn());
const customFields = [];
function addContainerWidgetSchema(containerSchema) {
  containers$1.push(containerSchema);
}
function addBasicFieldSchema(fieldSchema) {
  basicFields.push(fieldSchema);
}
function addAdvancedFieldSchema(fieldSchema) {
  advancedFields.push(fieldSchema);
}
function addCustomWidgetSchema(widgetSchema) {
  customFields.push(widgetSchema);
}
const formTemplates = [
  {
    title: "单列表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t1.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json1.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "多列表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t2.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json2.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "分组表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t3.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json3.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "标签页表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t4.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json4.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "主从表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t5.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json5.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "响应式表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t6.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json6.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "问卷调查表",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t7.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json7.txt",
    description: "表单模板详细说明..."
  },
  {
    title: "固定表格表单",
    imgUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/t8.png",
    jsonUrl: "https://ks3-cn-beijing.ksyuncs.com/vform-static/form-samples/json8.txt",
    description: "表单模板详细说明..."
  }
];
function isDef(value2) {
  return value2 !== void 0 && value2 !== null;
}
function get$1(object, path) {
  const keys = path.split(".");
  let result2 = object;
  keys.forEach((key) => {
    result2 = isDef(result2) && isDef(result2[key]) ? result2[key] : null;
  });
  return result2;
}
const locale$6 = reactive({
  lang: localStorage.getItem("v_form_locale") || "zh-CN"
});
function createI18n(options) {
  return {
    messages: options.messages,
    $st(path, ...args) {
      const message2 = get$1(this.messages[locale$6.lang], path);
      return typeof message2 === "function" ? message2(...args) : message2 !== null ? message2 : path;
    },
    $st2(path, path2) {
      const messages = this.messages[locale$6.lang];
      const message2 = get$1(messages, path);
      return message2 !== null ? message2 : get$1(messages, path2);
    },
    setLang(lang) {
      locale$6.lang = lang;
    }
  };
}
const Pagination$1 = {
  // Options.jsx
  items_per_page: "条/页",
  jump_to: "跳至",
  jump_to_confirm: "确定",
  page: "页",
  // Pagination.jsx
  prev_page: "上一页",
  next_page: "下一页",
  prev_5: "向前 5 页",
  next_5: "向后 5 页",
  prev_3: "向前 3 页",
  next_3: "向后 3 页"
};
function _typeof$1(o) {
  "@babel/helpers - typeof";
  return _typeof$1 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
    return typeof o2;
  } : function(o2) {
    return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
  }, _typeof$1(o);
}
function toPrimitive(t, r) {
  if ("object" != _typeof$1(t) || !t)
    return t;
  var e2 = t[Symbol.toPrimitive];
  if (void 0 !== e2) {
    var i = e2.call(t, r || "default");
    if ("object" != _typeof$1(i))
      return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof$1(i) ? i : i + "";
}
function _defineProperty$7(obj, key, value2) {
  key = toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value2,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value2;
  }
  return obj;
}
function ownKeys$1(e2, r) {
  var t = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e2);
    r && (o = o.filter(function(r2) {
      return Object.getOwnPropertyDescriptor(e2, r2).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread2$1(e2) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys$1(Object(t), true).forEach(function(r2) {
      _defineProperty$7(e2, r2, t[r2]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(t)) : ownKeys$1(Object(t)).forEach(function(r2) {
      Object.defineProperty(e2, r2, Object.getOwnPropertyDescriptor(t, r2));
    });
  }
  return e2;
}
var locale$5 = {
  locale: "zh_CN",
  today: "今天",
  now: "此刻",
  backToToday: "返回今天",
  ok: "确定",
  timeSelect: "选择时间",
  dateSelect: "选择日期",
  weekSelect: "选择周",
  clear: "清除",
  month: "月",
  year: "年",
  previousMonth: "上个月 (翻页上键)",
  nextMonth: "下个月 (翻页下键)",
  monthSelect: "选择月份",
  yearSelect: "选择年份",
  decadeSelect: "选择年代",
  yearFormat: "YYYY年",
  dayFormat: "D日",
  dateFormat: "YYYY年M月D日",
  dateTimeFormat: "YYYY年M月D日 HH时mm分ss秒",
  previousYear: "上一年 (Control键加左方向键)",
  nextYear: "下一年 (Control键加右方向键)",
  previousDecade: "上一年代",
  nextDecade: "下一年代",
  previousCentury: "上一世纪",
  nextCentury: "下一世纪"
};
const CalendarLocale$1 = locale$5;
var locale$4 = {
  placeholder: "请选择时间",
  rangePlaceholder: ["开始时间", "结束时间"]
};
const TimePicker$1 = locale$4;
var locale$3 = {
  lang: _objectSpread2$1({
    placeholder: "请选择日期",
    yearPlaceholder: "请选择年份",
    quarterPlaceholder: "请选择季度",
    monthPlaceholder: "请选择月份",
    weekPlaceholder: "请选择周",
    rangePlaceholder: ["开始日期", "结束日期"],
    rangeYearPlaceholder: ["开始年份", "结束年份"],
    rangeMonthPlaceholder: ["开始月份", "结束月份"],
    rangeQuarterPlaceholder: ["开始季度", "结束季度"],
    rangeWeekPlaceholder: ["开始周", "结束周"]
  }, CalendarLocale$1),
  timePickerLocale: _objectSpread2$1({}, TimePicker$1)
};
locale$3.lang.ok = "确定";
const DatePicker$1 = locale$3;
var typeTemplate$1 = "${label}不是一个有效的${type}";
var localeValues$1 = {
  locale: "zh-cn",
  Pagination: Pagination$1,
  DatePicker: DatePicker$1,
  TimePicker: TimePicker$1,
  Calendar: DatePicker$1,
  // locales for all components
  global: {
    placeholder: "请选择"
  },
  Table: {
    filterTitle: "筛选",
    filterConfirm: "确定",
    filterReset: "重置",
    filterEmptyText: "无筛选项",
    filterCheckall: "全选",
    filterSearchPlaceholder: "在筛选项中搜索",
    selectAll: "全选当页",
    selectInvert: "反选当页",
    selectNone: "清空所有",
    selectionAll: "全选所有",
    sortTitle: "排序",
    expand: "展开行",
    collapse: "关闭行",
    triggerDesc: "点击降序",
    triggerAsc: "点击升序",
    cancelSort: "取消排序"
  },
  Modal: {
    okText: "确定",
    cancelText: "取消",
    justOkText: "知道了"
  },
  Popconfirm: {
    cancelText: "取消",
    okText: "确定"
  },
  Transfer: {
    searchPlaceholder: "请输入搜索内容",
    itemUnit: "项",
    itemsUnit: "项",
    remove: "删除",
    selectCurrent: "全选当页",
    removeCurrent: "删除当页",
    selectAll: "全选所有",
    removeAll: "删除全部",
    selectInvert: "反选当页"
  },
  Upload: {
    uploading: "文件上传中",
    removeFile: "删除文件",
    uploadError: "上传错误",
    previewFile: "预览文件",
    downloadFile: "下载文件"
  },
  Empty: {
    description: "暂无数据"
  },
  Icon: {
    icon: "图标"
  },
  Text: {
    edit: "编辑",
    copy: "复制",
    copied: "复制成功",
    expand: "展开"
  },
  PageHeader: {
    back: "返回"
  },
  Form: {
    optional: "（可选）",
    defaultValidateMessages: {
      default: "字段验证错误${label}",
      required: "请输入${label}",
      enum: "${label}必须是其中一个[${enum}]",
      whitespace: "${label}不能为空字符",
      date: {
        format: "${label}日期格式无效",
        parse: "${label}不能转换为日期",
        invalid: "${label}是一个无效日期"
      },
      types: {
        string: typeTemplate$1,
        method: typeTemplate$1,
        array: typeTemplate$1,
        object: typeTemplate$1,
        number: typeTemplate$1,
        date: typeTemplate$1,
        boolean: typeTemplate$1,
        integer: typeTemplate$1,
        float: typeTemplate$1,
        regexp: typeTemplate$1,
        email: typeTemplate$1,
        url: typeTemplate$1,
        hex: typeTemplate$1
      },
      string: {
        len: "${label}须为${len}个字符",
        min: "${label}最少${min}个字符",
        max: "${label}最多${max}个字符",
        range: "${label}须在${min}-${max}字符之间"
      },
      number: {
        len: "${label}必须等于${len}",
        min: "${label}最小值为${min}",
        max: "${label}最大值为${max}",
        range: "${label}须在${min}-${max}之间"
      },
      array: {
        len: "须为${len}个${label}",
        min: "最少${min}个${label}",
        max: "最多${max}个${label}",
        range: "${label}数量须在${min}-${max}之间"
      },
      pattern: {
        mismatch: "${label}与模式不匹配${pattern}"
      }
    }
  },
  Image: {
    preview: "预览"
  }
};
const Pagination = {
  // Options.jsx
  items_per_page: "/ page",
  jump_to: "Go to",
  jump_to_confirm: "confirm",
  page: "",
  // Pagination.jsx
  prev_page: "Previous Page",
  next_page: "Next Page",
  prev_5: "Previous 5 Pages",
  next_5: "Next 5 Pages",
  prev_3: "Previous 3 Pages",
  next_3: "Next 3 Pages"
};
var locale$2 = {
  locale: "en_US",
  today: "Today",
  now: "Now",
  backToToday: "Back to today",
  ok: "Ok",
  clear: "Clear",
  month: "Month",
  year: "Year",
  timeSelect: "select time",
  dateSelect: "select date",
  weekSelect: "Choose a week",
  monthSelect: "Choose a month",
  yearSelect: "Choose a year",
  decadeSelect: "Choose a decade",
  yearFormat: "YYYY",
  dateFormat: "M/D/YYYY",
  dayFormat: "D",
  dateTimeFormat: "M/D/YYYY HH:mm:ss",
  monthBeforeYear: true,
  previousMonth: "Previous month (PageUp)",
  nextMonth: "Next month (PageDown)",
  previousYear: "Last year (Control + left)",
  nextYear: "Next year (Control + right)",
  previousDecade: "Last decade",
  nextDecade: "Next decade",
  previousCentury: "Last century",
  nextCentury: "Next century"
};
const CalendarLocale = locale$2;
var locale$1 = {
  placeholder: "Select time",
  rangePlaceholder: ["Start time", "End time"]
};
const TimePicker = locale$1;
var locale = {
  lang: _objectSpread2$1({
    placeholder: "Select date",
    yearPlaceholder: "Select year",
    quarterPlaceholder: "Select quarter",
    monthPlaceholder: "Select month",
    weekPlaceholder: "Select week",
    rangePlaceholder: ["Start date", "End date"],
    rangeYearPlaceholder: ["Start year", "End year"],
    rangeQuarterPlaceholder: ["Start quarter", "End quarter"],
    rangeMonthPlaceholder: ["Start month", "End month"],
    rangeWeekPlaceholder: ["Start week", "End week"]
  }, CalendarLocale),
  timePickerLocale: _objectSpread2$1({}, TimePicker)
};
const DatePicker = locale;
var typeTemplate = "${label} is not a valid ${type}";
var localeValues = {
  locale: "en",
  Pagination,
  DatePicker,
  TimePicker,
  Calendar: DatePicker,
  global: {
    placeholder: "Please select"
  },
  Table: {
    filterTitle: "Filter menu",
    filterConfirm: "OK",
    filterReset: "Reset",
    filterEmptyText: "No filters",
    filterCheckall: "Select all items",
    filterSearchPlaceholder: "Search in filters",
    emptyText: "No data",
    selectAll: "Select current page",
    selectInvert: "Invert current page",
    selectNone: "Clear all data",
    selectionAll: "Select all data",
    sortTitle: "Sort",
    expand: "Expand row",
    collapse: "Collapse row",
    triggerDesc: "Click to sort descending",
    triggerAsc: "Click to sort ascending",
    cancelSort: "Click to cancel sorting"
  },
  Modal: {
    okText: "OK",
    cancelText: "Cancel",
    justOkText: "OK"
  },
  Popconfirm: {
    okText: "OK",
    cancelText: "Cancel"
  },
  Transfer: {
    titles: ["", ""],
    searchPlaceholder: "Search here",
    itemUnit: "item",
    itemsUnit: "items",
    remove: "Remove",
    selectCurrent: "Select current page",
    removeCurrent: "Remove current page",
    selectAll: "Select all data",
    removeAll: "Remove all data",
    selectInvert: "Invert current page"
  },
  Upload: {
    uploading: "Uploading...",
    removeFile: "Remove file",
    uploadError: "Upload error",
    previewFile: "Preview file",
    downloadFile: "Download file"
  },
  Empty: {
    description: "No Data"
  },
  Icon: {
    icon: "icon"
  },
  Text: {
    edit: "Edit",
    copy: "Copy",
    copied: "Copied",
    expand: "Expand"
  },
  PageHeader: {
    back: "Back"
  },
  Form: {
    optional: "(optional)",
    defaultValidateMessages: {
      default: "Field validation error for ${label}",
      required: "Please enter ${label}",
      enum: "${label} must be one of [${enum}]",
      whitespace: "${label} cannot be a blank character",
      date: {
        format: "${label} date format is invalid",
        parse: "${label} cannot be converted to a date",
        invalid: "${label} is an invalid date"
      },
      types: {
        string: typeTemplate,
        method: typeTemplate,
        array: typeTemplate,
        object: typeTemplate,
        number: typeTemplate,
        date: typeTemplate,
        boolean: typeTemplate,
        integer: typeTemplate,
        float: typeTemplate,
        regexp: typeTemplate,
        email: typeTemplate,
        url: typeTemplate,
        hex: typeTemplate
      },
      string: {
        len: "${label} must be ${len} characters",
        min: "${label} must be at least ${min} characters",
        max: "${label} must be up to ${max} characters",
        range: "${label} must be between ${min}-${max} characters"
      },
      number: {
        len: "${label} must be equal to ${len}",
        min: "${label} must be minimum ${min}",
        max: "${label} must be maximum ${max}",
        range: "${label} must be between ${min}-${max}"
      },
      array: {
        len: "Must be ${len} ${label}",
        min: "At least ${min} ${label}",
        max: "At most ${max} ${label}",
        range: "The amount of ${label} must be between ${min}-${max}"
      },
      pattern: {
        mismatch: "${label} does not match the pattern ${pattern}"
      }
    }
  },
  Image: {
    preview: "Preview"
  }
};
const enLocale = {
  application: {
    "zh-CN": "简体中文",
    "en-US": "English",
    productTitle: "Online Form Designer",
    github: "GitHub",
    document: "Docs",
    qqGroup: "WeChat Group",
    deployment: "Deployment",
    subscription: "Subscription"
  },
  designer: {
    outline: "Outline",
    field: "Field",
    componentLib: "Components",
    formLib: "Templates",
    containerTitle: "Container",
    dragHandlerHint: "drag container or field to layout center",
    dragAction: "drag",
    basicFieldTitle: "Basic",
    advancedFieldTitle: "Advanced Field",
    customFieldTitle: "Customized Field",
    noWidgetHint: "Please select a widget from the left list, drag and drop to this container.",
    widgetLabel: {
      grid: "Grid",
      table: "Table",
      tab: "Tab",
      section: "Section",
      "sub-form": "SubForm",
      "grid-sub-form": "GridSubForm",
      "grid-col": "GridCol",
      "table-cell": "TableCell",
      "tab-pane": "TabPane",
      "data-table": "DataTable",
      "vf-dialog": "Dialog",
      "vf-collapse": "Collapse",
      "vf-drawer": "Drawer",
      input: "Input",
      textarea: "Textarea",
      number: "InputNumber",
      radio: "Radio",
      checkbox: "Checkbox",
      select: "Select",
      time: "Time",
      "time-range": "Time range",
      date: "Date",
      "date-range": "Date range",
      switch: "Switch",
      rate: "Rate",
      color: "ColorPicker",
      slider: "Slider",
      "static-text": "Text",
      "html-text": "HTML",
      button: "Button",
      divider: "Divider",
      dropdown: "dropdown",
      "picture-upload": "Picture",
      "file-upload": "File",
      "rich-editor": "Rich Editor",
      cascader: "Cascader",
      treeSelect: "treeSelect",
      slot: "Slot",
      custom: "Custom Component"
    },
    hint: {
      selectParentWidget: "Select parent of this widget",
      moveUpWidget: "Move up this widget",
      moveDownWidget: "Move down this widget",
      cloneWidget: "Clone this widget",
      insertRow: "Insert new row",
      insertColumn: "Insert new column",
      remove: "Remove this widget",
      cellSetting: "Cell setting",
      dragHandler: "Drag handler",
      copyField: "Copy field widget",
      onlyFieldWidgetAcceptable: "Only field widget can be dragged into sub-form",
      moveUpFirstChildHint: "First child can not be move up",
      moveDownLastChildHint: "Last child can not be move down",
      closePreview: "Close",
      copyJson: "Copy",
      saveFormJson: "Save As File",
      copyVueCode: "Copy Vue Code",
      copyHtmlCode: "Copy HTML Code",
      copyJsonSuccess: "Copy succeed",
      importJsonSuccess: "Import succeed",
      invalidJsonFormat: "Invalid JSON format",
      jsonVersionMismatch: "Version of JSON mismatch",
      copyJsonFail: "Copy failed",
      copyVueCodeSuccess: "Copy succeed",
      copyVueCodeFail: "Copy failed",
      copyHtmlCodeSuccess: "Copy succeed",
      copyHtmlCodeFail: "Copy failed",
      saveVueCode: "Save Vue File",
      saveHtmlCode: "Save Html File",
      getFormData: "Get Data",
      resetForm: "Reset",
      disableForm: "Disable",
      enableForm: "Enable",
      switchReadMode: "Read Mode",
      exportFormData: "Form Data",
      copyFormData: "Copy",
      saveFormData: "Save As File",
      copyVue2SFC: "Copy Vue2",
      copyVue3SFC: "Copy Vue3",
      copySFCFail: "Copy failed",
      copySFCSuccess: "Copy succeed",
      saveVue2SFC: "Save As Vue2",
      saveVue3SFC: "Save As Vue3",
      fileNameForSave: "File name:",
      saveFileTitle: "Save as File",
      fileNameInputPlaceholder: "Enter the file name",
      sampleLoadedSuccess: "Example loaded successfully",
      sampleLoadedFail: "Sample load failed",
      loadFormTemplate: "Load This",
      loadFormTemplateHint: "Are you sure to load this template?",
      loadFormTemplateSuccess: "Load form template success!",
      loadFormTemplateFailed: "Load form template failed.",
      currentNodeCannotBeSelected: "The current node cannot be selected.",
      noSelectedWidgetHint: "No selected widget.",
      widgetSetting: "Widget Prop",
      formSetting: "Form Prop",
      prompt: "Prompt",
      confirm: "OK",
      cancel: "Cancel",
      import: "Import",
      importJsonHint: "The code to be imported should have the following JSON format.",
      importDSHint: "The format of the imported datasource must be valid.",
      invalidOptionsData: "Invalid data of options:",
      lastPaneCannotBeDeleted: "The last pane cannot be deleted.",
      duplicateName: "Duplicate name: ",
      nameRequired: "Name required.",
      numberValidator: "Number",
      letterValidator: "Letter",
      letterAndNumberValidator: "LetterAndNumber",
      mobilePhoneValidator: "MobilePhone",
      emailValidator: "Email",
      urlValidator: "URL",
      noChineseValidator: "Non-Chinese",
      chineseValidator: "Chinese",
      rowspanNotConsistentForMergeEntireRow: "Cells in this row don't have the same rowspan, operation failed.",
      colspanNotConsistentForMergeEntireColumn: "Cells in this column don't have the same colspan, operation failed.",
      rowspanNotConsistentForDeleteEntireRow: "Cells in this row don't have the same rowspan, operation failed.",
      colspanNotConsistentForDeleteEntireColumn: "Cells in this column don't have the same colspan, operation failed.",
      lastColCannotBeDeleted: "The last col cannot be deleted.",
      lastRowCannotBeDeleted: "The last row cannot be deleted."
    },
    toolbar: {
      undoHint: "Undo",
      redoHint: "Redo",
      pcLayout: "PC",
      padLayout: "Pad",
      mobileLayout: "H5",
      nodeTreeHint: "Tree View Of Component Hierarchy",
      nodeTreeTitle: "Tree View Of Component Hierarchy",
      clear: "Clear",
      preview: "Preview",
      save: "Save",
      importJson: "Import",
      exportJson: "Export",
      exportCode: "Codes",
      generateCode: "Generate Code",
      generateSFC: "Generate SFC"
    },
    setting: {
      basicSetting: "Basic Setting",
      attributeSetting: "Attribute Setting",
      commonSetting: "Common Setting",
      advancedSetting: "Advanced Setting",
      eventSetting: "Event Setting",
      uniqueName: "Unique Name",
      editNameHelp: "Press enter to confirm the modification",
      label: "Label",
      displayType: "Type",
      defaultValue: "Default Value",
      placeholder: "Placeholder",
      startPlaceholder: "Start Placeholder",
      endPlaceholder: "End Placeholder",
      widgetColumnWidth: "Width",
      widgetSize: "Size",
      autoFullWidth: "Auto Full Width",
      displayStyle: "Display Style",
      inlineLayout: "inline",
      blockLayout: "block",
      buttonStyle: "Show As Button",
      border: "Show Border",
      labelWidth: "Width Of Label",
      rows: "Rows",
      labelHidden: "Hide Label",
      required: "Required",
      requiredHint: "Failure Hint",
      validation: "Validation",
      validationHelp: "Regular expressions supported",
      validationHint: "Validation Hint",
      readonly: "Readonly",
      disabled: "Disabled",
      hidden: "Hidden",
      textContent: "Text",
      htmlContent: "HTML",
      allowClear: "AllowClear",
      editable: "Editable",
      format: "Format",
      valueFormat: "Value Format",
      showPassword: "Show Reveal",
      filterable: "Filterable",
      allowCreate: "Allow Create",
      showSearch: "showSearch Query",
      automaticDropdown: "Automatic Dropdown",
      multiple: "Multiple",
      multipleLimit: "Multiple Limit",
      checkStrictly: "Any Level Selectable",
      showAllLevels: "Show All Levels",
      contentPosition: "Content Position",
      dividerDirection: "Direction",
      plain: "Plain",
      round: "Round",
      circle: "Circle",
      icon: "Icon",
      optionsSetting: "Options Setting",
      addOption: "Add Option",
      importOptions: "Import Options",
      resetDefault: "Reset Default",
      uploadSetting: "Upload Setting",
      uploadURL: "Upload URL",
      uploadTip: "Tip Content",
      withCredentials: "Send Cookie",
      multipleSelect: "File Multi-select",
      showFileList: "Show File List",
      limit: "Max Upload Number",
      fileMaxSize: "Max Size(MB)",
      fileTypes: "Upload File Types",
      fileTypesHelp: "Allows to add more file types",
      headers: "Request Headers",
      cellWidth: "Width",
      cellHeight: "Height",
      gridColHeight: "Height Of Col(px)",
      gutter: "Gutter(px)",
      columnSetting: "Cols Setting",
      colsOfGrid: "Cols Of Grid:",
      colSpanTitle: "Spans Of Col",
      colOffsetTitle: "Offset Of Col",
      colPushTitle: "Push Of Col",
      colPullTitle: "Pull Of Col",
      addColumn: "Add Column",
      responsive: "Responsive",
      tabPaneSetting: "Tab Panes",
      addTabPane: "Add Tab Pane",
      paneActive: "Active",
      customLabelIcon: "Custom Label",
      labelIconClass: "Label Icon Class",
      labelIconPosition: "Label Icon Position",
      labelTooltip: "Label Tooltip",
      minValue: "Min Value",
      maxValue: "Max Value",
      precision: "Precision",
      step: "Step",
      controlsPosition: "Controls Position",
      minLength: "Min Length",
      maxLength: "Max Length",
      showCount: "Show Word Limit",
      addonBefore: "Prefix Icon",
      addonAfter: "Suffix Icon",
      inputButton: "Input Button Setting",
      appendButton: "Append Button",
      appendButtonDisabled: "Button Disabled",
      appendButtonIcon: "Append Button Icon",
      buttonIcon: "Button Icon",
      switchWidth: "Width of Switch(px)",
      checkedValue: "Active Text",
      unCheckedValue: "Inactive Text",
      activeColor: "Active Color",
      inactiveColor: "Inactive Color",
      maxStars: "Stars Max Number",
      lowThreshold: "Low Threshold",
      highThreshold: "High Threshold",
      allowHalf: "Allow Half",
      showText: "Show Text",
      showScore: "Show Score",
      range: "Range",
      vertical: "Vertical",
      showBlankRow: "Show Blank Row",
      showRowNumber: "Show Row Number",
      actionColumnPosition: "Position Of Buttons Column",
      contentHeight: "Content Area Height",
      insertColumnToLeft: "insert column to left",
      insertColumnToRight: "insert column to right",
      insertRowAbove: "insert row above",
      insertRowBelow: "insert row below",
      mergeLeftColumn: "merge left cell",
      mergeRightColumn: "merge right cell",
      mergeEntireRow: "merge entire row",
      mergeRowAbove: "merge cell above",
      mergeRowBelow: "merge cell below",
      mergeEntireColumn: "merge entire column",
      undoMergeCol: "undo merge column",
      undoMergeRow: "undo merge row",
      deleteEntireCol: "delete entire column",
      deleteEntireRow: "delete entire row",
      widgetName: "Unique Name",
      formSize: "Size",
      labelPosition: "Position Of Label",
      topPosition: "Top",
      leftPosition: "Left",
      labelAlign: "Label Align",
      leftAlign: "Left",
      centerAlign: "Center",
      rightAlign: "Right",
      formCss: "Form CSS",
      addCss: "Edit",
      customClass: "Custom Class",
      globalFunctions: "Global Functions",
      addEventHandler: "Edit",
      editWidgetEventHandler: "Edit Widget Event Handler",
      editFormEventHandler: "Edit Form Event Handler",
      formSFCSetting: "SFC Setting",
      formModelName: "Model Name",
      formRefName: "Ref Name",
      formRulesName: "Rules Name",
      syntaxCheckWarning: "Syntax error in the javascript codes, please check again!",
      //dialog & drawer
      title: "Title",
      dialogWidth: "Width（px/%）",
      fullscreen: "Full Screen",
      showModal: "Show Modal",
      showClose: "Show Close",
      closeOnClickModal: "Click Modal To Close ",
      closeOnPressEscape: "Press Esc To Close",
      center: "Center Header And Footer",
      readMode: "Form Readonly",
      disabledMode: "Form Disabled",
      okButtonLabel: "Label Of OK Btn",
      okButtonHidden: "Hide OK Btn",
      cancelButtonLabel: "Label Of Cancel Btn",
      cancelButtonHidden: "Hide Cancel Btn",
      drawSize: "Size(px/%)",
      drawDirection: "Direction",
      //data-table
      tableWidth: "Width(px/%)",
      tableHeight: "Height(px/%)",
      showCheckBox: "Show CheckBox",
      showIndex: "Show Row Number",
      showPagination: "Show Pagination",
      smallPagination: "Small Pagination",
      tableColEdit: "Edit Cols",
      tableDataEdit: "Edit Data",
      stripe: "Stripe",
      showSummary: "Show Summary",
      rowSpacing: "Row Spacing(px)",
      editAction: "Edit...",
      columnName: "Name",
      columnLabel: "Label",
      columnWidth: "Width(px/%)",
      visibleColumn: "Visible",
      sortableColumn: "Sortable",
      fixedColumn: "Fixed",
      alignTypeOfColumn: "Align",
      formatOfColumn: "Format",
      customRenderGroup: "Custom Render",
      renderFunction: "Render",
      actionColumn: "Action",
      addTableColumn: "Add New Column",
      deleteTableColumn: "Delete This Column",
      onlyOneColumnCannotBeDeleted: "The last column cannot be deleted.",
      treeDataEnabled: "Enable Tree Data",
      rowKeyOfTreeData: "Row Key Of Data",
      childrenKeyOfTreeData: "Children Of Data",
      showButtonsColumn: "Buttons Column",
      buttonsColumnEdit: "Edit Buttons",
      buttonsColumnTitle: "Title",
      buttonsColumnWidth: "Width(px)",
      operationButtonsSetting: "Buttons Setting",
      operationButtonName: "Name",
      operationButtonLabel: "Text",
      operationButtonType: "Type",
      operationButtonSize: "Size",
      operationButtonRound: "Round",
      operationButtonHidden: "Hidden",
      operationButtonDisabled: "Disabled",
      addOperationButton: "Add New Button",
      deleteOperationButtonHint: "Delete this button?",
      operationButtonDuplicatedNameError: "Duplicate button name.",
      //data-source
      dsEnabled: "Use Datasource",
      dsName: "Datasource Name",
      dataSetName: "Dataset Name",
      labelKeyName: "Label Key",
      valueKeyName: "Value Key",
      childrenKeyName: "Children Key",
      dataSource: "Datasource",
      noDataSource: "No datasource.",
      addDataSource: "Add Datasource",
      importDataSource: "Import Datasource",
      clearExistingDataSource: "Empty the existing datasource",
      remainExistingDataSource: "Append to the existing datasource",
      exportDataSource: "Export Datasource",
      selectDataSourceForExport: "Select Datasource",
      dataSourceChecked: "Checked",
      previewDataSourceExportResult: "Preview Result",
      dataSourceSetting: "Datasource Setting",
      deleteDataSourceHint: "Delete this datasource？",
      fieldValueRequired: "Value can not be null",
      dsUniqueName: "Unique Name",
      dsRequestURL: "Request URL",
      dsRequestURLType: "Request URL Type",
      dsURLStringType: "String",
      dsURLVariableType: "Expression",
      dsDescription: "Description",
      dsRequestMethod: "Request Method",
      dsRequestHeaders: "Headers",
      addRequestHeader: "Add Header",
      dsRequestParams: "Params",
      addRequestParam: "Add Param",
      dsRequestData: "Data",
      addRequestData: "Add Data",
      addDataSet: "Add Dataset",
      dsRequestValueStringType: "String",
      dsRequestValueNumberType: "Number",
      dsRequestValueBooleanType: "Boolean",
      dsRequestValueVariableType: "Variable",
      dsRequestNameInputPlaceholder: "Name",
      dsRequestTypeInputPlaceholder: "Type",
      dsRequestValueInputPlaceholder: "Value",
      dataSetRemarkInputPlaceholder: "Note",
      dsConfigHandlerTitle: "1. Config Handler",
      dsDataHandlerTitle: "2. Data Handler",
      dsErrorHandlerTitle: "3. Error Handler",
      dataSetSettingTitle: "4. Dataset Setting",
      dataSetEnabled: "Multiple Datasets Enabled",
      dataSetSetting: "List Of Datasets",
      testDataSource: "Test Datasource",
      dsvTitle: "Datasource Variable",
      dsRequestResult: "Result Data",
      executeDataSource: "Run Test",
      clearRequestResult: "Clear Result",
      dsRequestNumberTypeError: "Number value error",
      dsRequestBooleanTypeError: "Boolean value error",
      dsValidationError: "Datasource check failure.",
      dsDuplicatedNameError: "Duplicate datasource name."
    }
  }
};
const zhLocale = {
  application: {
    "zh-CN": "简体中文",
    "en-US": "English",
    productTitle: "表单设计器",
    github: "GitHub",
    document: "文档",
    qqGroup: "技术WX群",
    deployment: "私有部署",
    subscription: "订阅Pro"
  },
  designer: {
    outline: "大纲",
    field: "字段",
    componentLib: "组件",
    formLib: "模板",
    containerTitle: "容器",
    dragHandlerHint: "鼠标拖拽容器组件或字段组件并放置于表单中",
    dragAction: "拖动",
    basicFieldTitle: "基础组件",
    advancedFieldTitle: "高级组件",
    customFieldTitle: "自定义扩展字段",
    noWidgetHint: "请从左侧列表中选择一个组件, 然后用鼠标拖动组件放置于此处.",
    widgetLabel: {
      grid: "栅格",
      table: "表格",
      tab: "标签页",
      section: "区块",
      "sub-form": "单行子表单",
      "grid-sub-form": "多行子表单",
      "grid-col": "栅格列",
      "table-cell": "单元格",
      "tab-pane": "选项卡页",
      "data-table": "数据表格",
      "vf-dialog": "弹出窗口",
      "vf-collapse": "折叠面板",
      "vf-drawer": "侧滑抽屉",
      input: "单行文本",
      textarea: "多行文本",
      number: "计数器",
      radio: "单选框",
      checkbox: "多选框",
      select: "下拉选项",
      time: "时间",
      "time-range": "时间范围",
      date: "日期",
      "date-range": "日期范围",
      switch: "开关",
      rate: "评分",
      color: "颜色选择器",
      slider: "滑块",
      "static-text": "静态文字",
      "html-text": "HTML",
      button: "按钮",
      divider: "分隔线",
      dropdown: "下拉菜单",
      "picture-upload": "图片",
      "file-upload": "附件",
      "rich-editor": "富文本",
      cascader: "级联选择",
      treeSelect: "树形选择",
      slot: "插槽",
      custom: "Custom Component"
    },
    hint: {
      selectParentWidget: "选中父组件",
      moveUpWidget: "上移组件",
      moveDownWidget: "下移组件",
      cloneWidget: "复制组件",
      insertRow: "插入新行",
      insertColumn: "插入新列",
      remove: "移除组件",
      cellSetting: "单元格操作",
      dragHandler: "拖拽手柄",
      copyField: "复制字段组件",
      onlyFieldWidgetAcceptable: "子表单只能接收字段组件",
      moveUpFirstChildHint: "已经移动到最上面",
      moveDownLastChildHint: "已经移动到最下面",
      closePreview: "关闭",
      copyJson: "复制JSON",
      saveFormJson: "保存为文件",
      copyVueCode: "复制Vue代码",
      copyHtmlCode: "复制HTML代码",
      copyJsonSuccess: "复制JSON成功",
      importJsonSuccess: "导入JSON成功",
      invalidJsonFormat: "无效的表单JSON格式",
      jsonVersionMismatch: "表单JSON版本号不匹配",
      copyJsonFail: "复制JSON失败",
      copyVueCodeSuccess: "复制Vue代码成功",
      copyVueCodeFail: "复制Vue代码失败",
      copyHtmlCodeSuccess: "复制HTML代码成功",
      copyHtmlCodeFail: "复制HTML代码失败",
      saveVueCode: "保存Vue文件",
      saveHtmlCode: "保存Html文件",
      getFormData: "获取数据",
      resetForm: "重置表单",
      disableForm: "禁用编辑",
      enableForm: "恢复编辑",
      switchReadMode: "只读查看",
      exportFormData: "表单数据",
      copyFormData: "复制JSON",
      saveFormData: "保存为文件",
      copyVue2SFC: "复制Vue2代码",
      copyVue3SFC: "复制Vue3代码",
      copySFCFail: "复制SFC代码失败",
      copySFCSuccess: "复制SFC代码成功",
      saveVue2SFC: "保存为Vue2组件",
      saveVue3SFC: "保存为Vue3组件",
      fileNameForSave: "文件名：",
      saveFileTitle: "保存为文件",
      fileNameInputPlaceholder: "请输入文件名",
      sampleLoadedSuccess: "表单示例加载成功",
      sampleLoadedFail: "表单示例加载失败",
      loadFormTemplate: "加载此模板",
      loadFormTemplateHint: "是否加载这个模板？加载后会覆盖设计器当前表单，你可以使用“撤销”功能恢复。",
      loadFormTemplateSuccess: "表单模板加载成功",
      loadFormTemplateFailed: "表单模板加载失败",
      currentNodeCannotBeSelected: "当前组件节点不可选择",
      noSelectedWidgetHint: "当前没有选中设置的组件",
      widgetSetting: "组件设置",
      formSetting: "表单设置",
      prompt: "提示",
      confirm: "确定",
      cancel: "取消",
      import: "导入",
      importJsonHint: "导入的JSON内容须符合下述格式，以保证顺利导入.",
      importDSHint: "导入的数据源格式须符合规范，以保证顺利导入.",
      invalidOptionsData: "无效的选项数据:",
      lastPaneCannotBeDeleted: "仅剩一个选项卡页不可删除.",
      duplicateName: "组件名称已存在: ",
      nameRequired: "组件名称不可为空",
      numberValidator: "数字",
      letterValidator: "字母",
      letterAndNumberValidator: "数字字母",
      mobilePhoneValidator: "手机号码",
      emailValidator: "邮箱",
      urlValidator: "网址",
      noChineseValidator: "非中文字符",
      chineseValidator: "仅中文字符",
      rowspanNotConsistentForMergeEntireRow: "存在行高不一致的单元格, 无法合并整行.",
      colspanNotConsistentForMergeEntireColumn: "存在列宽不一致的单元格, 无法合并整列.",
      rowspanNotConsistentForDeleteEntireRow: "存在行高不一致的单元格, 不可删除整行.",
      colspanNotConsistentForDeleteEntireColumn: "存在列宽不一致的单元格, 不可删除整列.",
      lastColCannotBeDeleted: "最后一列不可删除.",
      lastRowCannotBeDeleted: "最后一行不可删除."
    },
    toolbar: {
      undoHint: "撤销",
      redoHint: "重做",
      pcLayout: "PC",
      padLayout: "Pad",
      mobileLayout: "H5",
      nodeTreeHint: "组件层次结构树",
      nodeTreeTitle: "组件层次结构树",
      clear: "清空",
      preview: "预览",
      save: "保存",
      importJson: "导入JSON",
      exportJson: "导出JSON",
      exportCode: "导出代码",
      generateCode: "生成代码",
      generateSFC: "生成SFC"
    },
    setting: {
      basicSetting: "基本属性",
      attributeSetting: "属性设置",
      commonSetting: "常见属性",
      advancedSetting: "高级属性",
      eventSetting: "事件属性",
      uniqueName: "唯一名称",
      editNameHelp: "修改名称后需按回车确认",
      label: "标签",
      displayType: "显示类型",
      defaultValue: "默认值",
      placeholder: "占位内容",
      startPlaceholder: "起始占位内容",
      endPlaceholder: "截止占位内容",
      widgetColumnWidth: "组件列宽",
      widgetSize: "组件大小",
      autoFullWidth: "自动拉伸宽度",
      displayStyle: "显示样式",
      inlineLayout: "行内",
      blockLayout: "块",
      buttonStyle: "显示为按钮",
      border: "带有边框",
      labelWidth: "标签宽度(px)",
      rows: "行数",
      labelHidden: "隐藏字段标签",
      required: "必填字段",
      requiredHint: "必填校验提示",
      validation: "字段校验",
      validationHelp: "支持输入正则表达式",
      validationHint: "校验失败提示",
      readonly: "只读",
      disabled: "禁用",
      hidden: "隐藏",
      textContent: "静态文字",
      htmlContent: "HTML",
      allowClear: "可清除",
      editable: "可输入",
      format: "显示格式",
      valueFormat: "绑定值格式",
      showPassword: "可显示密码",
      filterable: "可搜索选项",
      allowCreate: "允许创建选项",
      showSearch: "可远程搜索",
      automaticDropdown: "自动弹出选项",
      multiple: "选项可多选",
      multipleLimit: "多选数量限制",
      checkStrictly: "任意级节点可选",
      showAllLevels: "显示完整路径",
      contentPosition: "文字位置",
      dividerDirection: "分割线方向",
      plain: "朴素按钮",
      round: "圆角按钮",
      circle: "圆形按钮",
      icon: "图标",
      optionsSetting: "选项设置",
      addOption: "增加选项",
      importOptions: "导入选项",
      resetDefault: "重设选中项",
      uploadSetting: "上传参数设置",
      uploadURL: "上传地址",
      uploadTip: "上传提示内容",
      withCredentials: "发送cookie凭证",
      multipleSelect: "文件可多选",
      showFileList: "显示文件列表",
      limit: "最大上传数量",
      fileMaxSize: "文件大小限制(MB)",
      fileTypes: "上传文件类型",
      fileTypesHelp: "支持添加其他文件类型",
      headers: "上传请求头",
      cellWidth: "宽度",
      cellHeight: "高度",
      gridColHeight: "栅格列统一高度(px)",
      gutter: "栅格间隔(px)",
      columnSetting: "栅格属性设置",
      colsOfGrid: "当前栅格列:",
      colSpanTitle: "栅格宽度",
      colOffsetTitle: "左侧间隔格数",
      colPushTitle: "右移栅格数",
      colPullTitle: "左移栅格数",
      addColumn: "增加栅格",
      responsive: "响应式布局",
      tabPaneSetting: "选项卡设置",
      addTabPane: "增加选项卡页",
      paneActive: "激活",
      customLabelIcon: "定制字段标签",
      labelIconClass: "标签Icon样式",
      labelIconPosition: "标签Icon位置",
      labelTooltip: "标签文字提示",
      minValue: "最小值",
      maxValue: "最大值",
      precision: "精度",
      step: "增减步长",
      controlsPosition: "控制按钮位置",
      minLength: "最小长度",
      maxLength: "最大长度",
      showCount: "显示字数统计",
      addonBefore: "头部标签",
      addonAfter: "尾部标签",
      inputButton: "输入框按钮设置",
      appendButton: "添加后置按钮",
      appendButtonDisabled: "后置按钮禁用",
      appendButtonIcon: "后置按钮Icon",
      buttonIcon: "按钮Icon",
      switchWidth: "开关宽度（像素）",
      checkedValue: "开启时对应枚举",
      unCheckedValue: "关闭时对应枚举",
      activeColor: "开启时背景色",
      inactiveColor: "关闭时背景色",
      maxStars: "最大评分值",
      lowThreshold: "低分界限值",
      highThreshold: "高分界限值",
      allowHalf: "允许半选",
      showText: "显示辅助文字",
      showScore: "显示当前分数",
      range: "是否为范围选择",
      vertical: "是否竖向显示",
      showBlankRow: "默认显示新行",
      showRowNumber: "显示行号",
      actionColumnPosition: "操作列位置",
      contentHeight: "内容区高度",
      insertColumnToLeft: "插入左侧列",
      insertColumnToRight: "插入右侧列",
      insertRowAbove: "插入上方行",
      insertRowBelow: "插入下方行",
      mergeLeftColumn: "合并左侧单元格",
      mergeRightColumn: "合并右侧单元格",
      mergeEntireRow: "合并整行",
      mergeRowAbove: "合并上方单元格",
      mergeRowBelow: "合并下方单元格",
      mergeEntireColumn: "合并整列",
      undoMergeCol: "撤销列合并",
      undoMergeRow: "撤销行合并",
      deleteEntireCol: "删除整列",
      deleteEntireRow: "删除整行",
      widgetName: "组件唯一名称",
      formSize: "全局组件大小",
      labelPosition: "字段标签位置",
      topPosition: "顶部",
      leftPosition: "左边",
      labelAlign: "字段标签对齐",
      leftAlign: "居左",
      centerAlign: "居中",
      rightAlign: "居右",
      formCss: "表单全局CSS",
      addCss: "编写CSS",
      customClass: "自定义CSS样式",
      globalFunctions: "表单全局函数",
      addEventHandler: "编写代码",
      editWidgetEventHandler: "组件事件处理",
      editFormEventHandler: "表单事件处理",
      formSFCSetting: "生成SFC设置",
      formModelName: "数据对象名称",
      formRefName: "引用名称",
      formRulesName: "验证规则名称",
      syntaxCheckWarning: "JS代码存在语法错误，请仔细检查！",
      //dialog & drawer
      title: "标题",
      dialogWidth: "弹窗宽度（px/%）",
      fullscreen: "全屏显示弹窗",
      showModal: "显示遮罩层",
      showClose: "显示关闭按钮",
      closeOnClickModal: "点击遮罩层关闭",
      closeOnPressEscape: "按Esc键关闭",
      center: "头部底部居中",
      readMode: "弹窗表单只读",
      disabledMode: "弹窗表单禁用",
      okButtonLabel: "确认按钮文字",
      okButtonHidden: "隐藏确认按钮",
      cancelButtonLabel: "取消按钮文字",
      cancelButtonHidden: "隐藏取消按钮",
      drawSize: "抽屉大小（px/%）",
      drawDirection: "抽屉滑出方向",
      //data-table
      tableWidth: "宽度(px/%)",
      tableHeight: "高度(px/%)",
      // showCheckBox: '是否显示复选框列',
      showIndex: "是否显示行号",
      showPagination: "是否显示分页",
      smallPagination: "小型分页",
      tableColEdit: "表格列编辑",
      tableDataEdit: "表格数据编辑",
      showSummary: "是否合计",
      stripe: "是否斑马线",
      rowSpacing: "行距（px）",
      editAction: "编辑...",
      columnName: "字段名称",
      columnLabel: "显示名称",
      columnWidth: "列宽(px/%)",
      visibleColumn: "是否显示",
      sortableColumn: "是否排序",
      fixedColumn: "固定方式",
      alignTypeOfColumn: "对齐方式",
      formatOfColumn: "格式化",
      customRenderGroup: "动态渲染",
      renderFunction: "渲染函数",
      actionColumn: "操作",
      addTableColumn: "增加列",
      deleteTableColumn: "删除列",
      onlyOneColumnCannotBeDeleted: "表格只有一列时不可删除.",
      treeDataEnabled: "允许加载树形数据",
      rowKeyOfTreeData: "树形数据ID键",
      childrenKeyOfTreeData: "树形数据子节点键",
      showButtonsColumn: "显示操作按钮列",
      buttonsColumnEdit: "操作按钮编辑",
      buttonsColumnTitle: "列标题",
      buttonsColumnWidth: "列宽度（px）",
      operationButtonsSetting: "操作按钮设置",
      operationButtonName: "名称",
      operationButtonLabel: "文字",
      operationButtonType: "类型",
      operationButtonSize: "大小",
      operationButtonRound: "圆角",
      operationButtonHidden: "隐藏",
      operationButtonDisabled: "禁用",
      addOperationButton: "增加按钮",
      deleteOperationButtonHint: "确定删除该按钮？",
      operationButtonDuplicatedNameError: "按钮名称不可重复",
      //data-source
      dsEnabled: "使用数据源",
      dsName: "指定数据源",
      dataSetName: "指定数据集",
      labelKeyName: "选项标签名",
      valueKeyName: "选项值名",
      childrenKeyName: "子节点属性名称",
      dataSource: "数据源",
      noDataSource: "暂无数据源",
      addDataSource: "新增数据源",
      importDataSource: "导入数据源",
      clearExistingDataSource: "导入后清空原有数据源",
      remainExistingDataSource: "追加到已有数据源之后",
      exportDataSource: "导出数据源",
      selectDataSourceForExport: "选择导出数据源",
      dataSourceChecked: "选中导出",
      previewDataSourceExportResult: "导出结果预览",
      dataSourceSetting: "数据源设置",
      deleteDataSourceHint: "确认删除该数据源？",
      fieldValueRequired: "输入内容不可为空",
      dsUniqueName: "唯一名称",
      dsRequestURL: "请求地址",
      dsRequestURLType: "请求URL类型",
      dsURLStringType: "固定字符串",
      dsURLVariableType: "变量或表达式",
      dsDescription: "描述信息",
      dsRequestMethod: "请求方法",
      dsRequestHeaders: "请求头（headers）",
      addRequestHeader: "新增请求头",
      dsRequestParams: "参数（params）",
      addRequestParam: "新增请求参数",
      dsRequestData: "发送数据（data）",
      addRequestData: "新增发送数据",
      addDataSet: "新增数据集",
      dsRequestValueStringType: "字符串类型",
      dsRequestValueNumberType: "数值类型",
      dsRequestValueBooleanType: "布尔类型",
      dsRequestValueVariableType: "变量或表达式",
      dsRequestNameInputPlaceholder: "名称",
      dsRequestTypeInputPlaceholder: "类型",
      dsRequestValueInputPlaceholder: "值",
      dataSetRemarkInputPlaceholder: "备注说明",
      dsConfigHandlerTitle: "1. 请求配置",
      dsDataHandlerTitle: "2. 数据处理",
      dsErrorHandlerTitle: "3. 错误处理",
      dataSetSettingTitle: "4. 多数据集配置",
      dataSetEnabled: "开启多数据集返回",
      dataSetSetting: "返回数据集管理",
      testDataSource: "测试数据源",
      dsvTitle: "DSV数据源变量",
      dsRequestResult: "返回数据",
      executeDataSource: "立即执行",
      clearRequestResult: "清空结果",
      dsRequestNumberTypeError: "数据类型值错误",
      dsRequestBooleanTypeError: "布尔类型值错误",
      dsValidationError: "数据源设置存在错误，请修改",
      dsDuplicatedNameError: "数据源名称重复，请修改！"
    }
  }
};
const enLocale_render = {
  render: {
    hint: {
      prompt: "Prompt",
      confirm: "OK",
      cancel: "Cancel",
      defaultActiveText: "True",
      defaultInactiveText: "False",
      selectPlaceholder: "Pick some item",
      timePlaceholder: "Select time",
      startTimePlaceholder: "Start time",
      endTimePlaceholder: "End time",
      datePlaceholder: "Select date",
      startDatePlaceholder: "Start date",
      endDatePlaceholder: "End date",
      blankCellContent: "--",
      uploadError: "Upload error: ",
      uploadExceed: "The maximum number(${uploadLimit}) of file uploads has been exceeded.",
      unsupportedFileType: "Unsupported format: ",
      fileSizeExceed: "File size out of limit: ",
      refNotFound: "Ref not found: ",
      fieldRequired: "Input value should be not null.",
      invalidNumber: "Invalid number format",
      selectFile: " File...",
      downloadFile: "Download",
      removeFile: "Remove",
      validationFailed: "Form validation failed",
      subFormAction: "Action",
      subFormAddAction: "Add",
      subFormRowNo: "#",
      subFormAddActionHint: "add new row",
      insertSubFormRow: "insert new row",
      deleteSubFormRow: "delete this row",
      nonSubFormType: "The type of widget don't match sub-form"
    }
  }
};
const zhLocale_render = {
  render: {
    hint: {
      prompt: "提示",
      confirm: "确定",
      cancel: "取消",
      defaultActiveText: "是",
      defaultInactiveText: "否",
      selectPlaceholder: "请选择",
      timePlaceholder: "选择时间",
      startTimePlaceholder: "起始时间",
      endTimePlaceholder: "截止时间",
      datePlaceholder: "选择日期",
      startDatePlaceholder: "起始日期",
      endDatePlaceholder: "截止日期",
      blankCellContent: "--",
      uploadError: "上传错误: ",
      uploadExceed: "最大上传数量(${uploadLimit})已超出.",
      unsupportedFileType: "不支持格式: ",
      fileSizeExceed: "文件大小已超出: ",
      refNotFound: "组件未找到: ",
      fieldRequired: "字段值不可为空",
      invalidNumber: "数据格式错误",
      selectFile: " 选择文件",
      downloadFile: "下载",
      removeFile: "移除",
      validationFailed: "表单数据校验失败",
      subFormAction: "操作",
      subFormAddAction: "新增",
      subFormRowNo: "行号",
      subFormAddActionHint: "新增行",
      insertSubFormRow: "插入行",
      deleteSubFormRow: "删除行",
      nonSubFormType: "组件类型不是子表单"
    }
  }
};
const enLocale_extension = {
  extension: {
    widgetLabel: {
      card: "Card",
      alert: "Alert"
    },
    setting: {
      cardFolded: "Folded",
      cardShowFold: "Show Fold",
      cardWidth: "Width Of Card",
      cardShadow: "Shadow",
      alertTitle: "Title",
      alertType: "Type",
      description: "Description",
      closable: "Closable",
      closeText: "Text On Close Btn",
      center: "Center",
      showIcon: "Show Icon",
      effect: "Effect"
    }
  }
};
const zhLocale_extension = {
  extension: {
    widgetLabel: {
      card: "卡片",
      alert: "提示"
    },
    setting: {
      cardFolded: "是否收起",
      cardShowFold: "显示折叠按钮",
      cardWidth: "卡片宽度",
      cardShadow: "显示阴影",
      alertTitle: "标题",
      alertType: "类型",
      description: "辅助性文字",
      closable: "是否可关闭",
      closeText: "关闭按钮文字",
      center: "文字居中",
      showIcon: "显示图标",
      effect: "显示效果"
    }
  }
};
const langResources = {
  "en-US": {
    something: {
      //...
    },
    ...localeValues,
    ...enLocale,
    ...enLocale_render,
    ...enLocale_extension
  },
  "zh-CN": {
    something: {
      //...
    },
    ...localeValues$1,
    ...zhLocale,
    ...zhLocale_render,
    ...zhLocale_extension
  }
};
const i18n = createI18n({
  locale: localStorage.getItem("v_form_locale") || "zh-CN",
  messages: langResources
});
const changeLocale = function(langName) {
  i18n.setLang(langName);
  localStorage.setItem("v_form_locale", langName);
};
const translate$2 = function(key) {
  return i18n.$st(key);
};
const addZHExtensionLang = (zhLang) => {
  if (!!zhLang.extension && !!zhLang.extension.widgetLabel) {
    overwriteObj(zhLocale_extension.extension.widgetLabel, zhLang.extension.widgetLabel);
  }
  if (!!zhLang.extension && !!zhLang.extension.setting) {
    overwriteObj(zhLocale_extension.extension.setting, zhLang.extension.setting);
  }
};
const addENExtensionLang = (enLang) => {
  if (!!enLang.extension && !!enLang.extension.widgetLabel) {
    overwriteObj(enLocale_extension.extension.widgetLabel, enLang.extension.widgetLabel);
  }
  if (!!enLang.extension && !!enLang.extension.setting) {
    overwriteObj(enLocale_extension.extension.setting, enLang.extension.setting);
  }
};
const i18n$1 = {
  methods: {
    i18nt(key) {
      return i18n.$st(key);
    },
    /* 如果key1不存在，则查找key2 */
    i18n2t(key1, key2) {
      return i18n.$st2(key1, key2);
    }
  }
};
function bind$3(fn, thisArg) {
  return function wrap() {
    return fn.apply(thisArg, arguments);
  };
}
const { toString: toString$2 } = Object.prototype;
const { getPrototypeOf } = Object;
const kindOf = /* @__PURE__ */ ((cache) => (thing) => {
  const str = toString$2.call(thing);
  return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());
})(/* @__PURE__ */ Object.create(null));
const kindOfTest = (type) => {
  type = type.toLowerCase();
  return (thing) => kindOf(thing) === type;
};
const typeOfTest = (type) => (thing) => typeof thing === type;
const { isArray: isArray$3 } = Array;
const isUndefined$3 = typeOfTest("undefined");
function isBuffer(val) {
  return val !== null && !isUndefined$3(val) && val.constructor !== null && !isUndefined$3(val.constructor) && isFunction$1(val.constructor.isBuffer) && val.constructor.isBuffer(val);
}
const isArrayBuffer = kindOfTest("ArrayBuffer");
function isArrayBufferView(val) {
  let result2;
  if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
    result2 = ArrayBuffer.isView(val);
  } else {
    result2 = val && val.buffer && isArrayBuffer(val.buffer);
  }
  return result2;
}
const isString$1 = typeOfTest("string");
const isFunction$1 = typeOfTest("function");
const isNumber$1 = typeOfTest("number");
const isObject$1 = (thing) => thing !== null && typeof thing === "object";
const isBoolean = (thing) => thing === true || thing === false;
const isPlainObject = (val) => {
  if (kindOf(val) !== "object") {
    return false;
  }
  const prototype2 = getPrototypeOf(val);
  return (prototype2 === null || prototype2 === Object.prototype || Object.getPrototypeOf(prototype2) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);
};
const isDate = kindOfTest("Date");
const isFile = kindOfTest("File");
const isBlob = kindOfTest("Blob");
const isFileList = kindOfTest("FileList");
const isStream = (val) => isObject$1(val) && isFunction$1(val.pipe);
const isFormData = (thing) => {
  let kind;
  return thing && (typeof FormData === "function" && thing instanceof FormData || isFunction$1(thing.append) && ((kind = kindOf(thing)) === "formdata" || // detect form-data instance
  kind === "object" && isFunction$1(thing.toString) && thing.toString() === "[object FormData]"));
};
const isURLSearchParams = kindOfTest("URLSearchParams");
const trim = (str) => str.trim ? str.trim() : str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function forEach$2(obj, fn, { allOwnKeys = false } = {}) {
  if (obj === null || typeof obj === "undefined") {
    return;
  }
  let i;
  let l;
  if (typeof obj !== "object") {
    obj = [obj];
  }
  if (isArray$3(obj)) {
    for (i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);
    const len = keys.length;
    let key;
    for (i = 0; i < len; i++) {
      key = keys[i];
      fn.call(null, obj[key], key, obj);
    }
  }
}
function findKey(obj, key) {
  key = key.toLowerCase();
  const keys = Object.keys(obj);
  let i = keys.length;
  let _key;
  while (i-- > 0) {
    _key = keys[i];
    if (key === _key.toLowerCase()) {
      return _key;
    }
  }
  return null;
}
const _global = (() => {
  if (typeof globalThis !== "undefined")
    return globalThis;
  return typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : global;
})();
const isContextDefined = (context) => !isUndefined$3(context) && context !== _global;
function merge() {
  const { caseless } = isContextDefined(this) && this || {};
  const result2 = {};
  const assignValue = (val, key) => {
    const targetKey = caseless && findKey(result2, key) || key;
    if (isPlainObject(result2[targetKey]) && isPlainObject(val)) {
      result2[targetKey] = merge(result2[targetKey], val);
    } else if (isPlainObject(val)) {
      result2[targetKey] = merge({}, val);
    } else if (isArray$3(val)) {
      result2[targetKey] = val.slice();
    } else {
      result2[targetKey] = val;
    }
  };
  for (let i = 0, l = arguments.length; i < l; i++) {
    arguments[i] && forEach$2(arguments[i], assignValue);
  }
  return result2;
}
const extend$3 = (a, b, thisArg, { allOwnKeys } = {}) => {
  forEach$2(b, (val, key) => {
    if (thisArg && isFunction$1(val)) {
      a[key] = bind$3(val, thisArg);
    } else {
      a[key] = val;
    }
  }, { allOwnKeys });
  return a;
};
const stripBOM = (content) => {
  if (content.charCodeAt(0) === 65279) {
    content = content.slice(1);
  }
  return content;
};
const inherits$1 = (constructor, superConstructor, props, descriptors2) => {
  constructor.prototype = Object.create(superConstructor.prototype, descriptors2);
  constructor.prototype.constructor = constructor;
  Object.defineProperty(constructor, "super", {
    value: superConstructor.prototype
  });
  props && Object.assign(constructor.prototype, props);
};
const toFlatObject = (sourceObj, destObj, filter3, propFilter) => {
  let props;
  let i;
  let prop;
  const merged = {};
  destObj = destObj || {};
  if (sourceObj == null)
    return destObj;
  do {
    props = Object.getOwnPropertyNames(sourceObj);
    i = props.length;
    while (i-- > 0) {
      prop = props[i];
      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {
        destObj[prop] = sourceObj[prop];
        merged[prop] = true;
      }
    }
    sourceObj = filter3 !== false && getPrototypeOf(sourceObj);
  } while (sourceObj && (!filter3 || filter3(sourceObj, destObj)) && sourceObj !== Object.prototype);
  return destObj;
};
const endsWith = (str, searchString, position) => {
  str = String(str);
  if (position === void 0 || position > str.length) {
    position = str.length;
  }
  position -= searchString.length;
  const lastIndex = str.indexOf(searchString, position);
  return lastIndex !== -1 && lastIndex === position;
};
const toArray = (thing) => {
  if (!thing)
    return null;
  if (isArray$3(thing))
    return thing;
  let i = thing.length;
  if (!isNumber$1(i))
    return null;
  const arr = new Array(i);
  while (i-- > 0) {
    arr[i] = thing[i];
  }
  return arr;
};
const isTypedArray = /* @__PURE__ */ ((TypedArray) => {
  return (thing) => {
    return TypedArray && thing instanceof TypedArray;
  };
})(typeof Uint8Array !== "undefined" && getPrototypeOf(Uint8Array));
const forEachEntry = (obj, fn) => {
  const generator = obj && obj[Symbol.iterator];
  const iterator = generator.call(obj);
  let result2;
  while ((result2 = iterator.next()) && !result2.done) {
    const pair = result2.value;
    fn.call(obj, pair[0], pair[1]);
  }
};
const matchAll = (regExp, str) => {
  let matches2;
  const arr = [];
  while ((matches2 = regExp.exec(str)) !== null) {
    arr.push(matches2);
  }
  return arr;
};
const isHTMLForm = kindOfTest("HTMLFormElement");
const toCamelCase = (str) => {
  return str.toLowerCase().replace(
    /[-_\s]([a-z\d])(\w*)/g,
    function replacer2(m, p1, p2) {
      return p1.toUpperCase() + p2;
    }
  );
};
const hasOwnProperty$2 = (({ hasOwnProperty: hasOwnProperty2 }) => (obj, prop) => hasOwnProperty2.call(obj, prop))(Object.prototype);
const isRegExp = kindOfTest("RegExp");
const reduceDescriptors = (obj, reducer) => {
  const descriptors2 = Object.getOwnPropertyDescriptors(obj);
  const reducedDescriptors = {};
  forEach$2(descriptors2, (descriptor, name2) => {
    let ret;
    if ((ret = reducer(descriptor, name2, obj)) !== false) {
      reducedDescriptors[name2] = ret || descriptor;
    }
  });
  Object.defineProperties(obj, reducedDescriptors);
};
const freezeMethods = (obj) => {
  reduceDescriptors(obj, (descriptor, name2) => {
    if (isFunction$1(obj) && ["arguments", "caller", "callee"].indexOf(name2) !== -1) {
      return false;
    }
    const value2 = obj[name2];
    if (!isFunction$1(value2))
      return;
    descriptor.enumerable = false;
    if ("writable" in descriptor) {
      descriptor.writable = false;
      return;
    }
    if (!descriptor.set) {
      descriptor.set = () => {
        throw Error("Can not rewrite read-only method '" + name2 + "'");
      };
    }
  });
};
const toObjectSet = (arrayOrString, delimiter) => {
  const obj = {};
  const define = (arr) => {
    arr.forEach((value2) => {
      obj[value2] = true;
    });
  };
  isArray$3(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));
  return obj;
};
const noop = () => {
};
const toFiniteNumber = (value2, defaultValue) => {
  value2 = +value2;
  return Number.isFinite(value2) ? value2 : defaultValue;
};
const ALPHA = "abcdefghijklmnopqrstuvwxyz";
const DIGIT = "0123456789";
const ALPHABET = {
  DIGIT,
  ALPHA,
  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT
};
const generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {
  let str = "";
  const { length } = alphabet;
  while (size--) {
    str += alphabet[Math.random() * length | 0];
  }
  return str;
};
function isSpecCompliantForm(thing) {
  return !!(thing && isFunction$1(thing.append) && thing[Symbol.toStringTag] === "FormData" && thing[Symbol.iterator]);
}
const toJSONObject = (obj) => {
  const stack = new Array(10);
  const visit = (source, i) => {
    if (isObject$1(source)) {
      if (stack.indexOf(source) >= 0) {
        return;
      }
      if (!("toJSON" in source)) {
        stack[i] = source;
        const target = isArray$3(source) ? [] : {};
        forEach$2(source, (value2, key) => {
          const reducedValue = visit(value2, i + 1);
          !isUndefined$3(reducedValue) && (target[key] = reducedValue);
        });
        stack[i] = void 0;
        return target;
      }
    }
    return source;
  };
  return visit(obj, 0);
};
const isAsyncFn = kindOfTest("AsyncFunction");
const isThenable = (thing) => thing && (isObject$1(thing) || isFunction$1(thing)) && isFunction$1(thing.then) && isFunction$1(thing.catch);
const utils$1 = {
  isArray: isArray$3,
  isArrayBuffer,
  isBuffer,
  isFormData,
  isArrayBufferView,
  isString: isString$1,
  isNumber: isNumber$1,
  isBoolean,
  isObject: isObject$1,
  isPlainObject,
  isUndefined: isUndefined$3,
  isDate,
  isFile,
  isBlob,
  isRegExp,
  isFunction: isFunction$1,
  isStream,
  isURLSearchParams,
  isTypedArray,
  isFileList,
  forEach: forEach$2,
  merge,
  extend: extend$3,
  trim,
  stripBOM,
  inherits: inherits$1,
  toFlatObject,
  kindOf,
  kindOfTest,
  endsWith,
  toArray,
  forEachEntry,
  matchAll,
  isHTMLForm,
  hasOwnProperty: hasOwnProperty$2,
  hasOwnProp: hasOwnProperty$2,
  // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors,
  freezeMethods,
  toObjectSet,
  toCamelCase,
  noop,
  toFiniteNumber,
  findKey,
  global: _global,
  isContextDefined,
  ALPHABET,
  generateString,
  isSpecCompliantForm,
  toJSONObject,
  isAsyncFn,
  isThenable
};
function AxiosError(message2, code, config2, request, response) {
  Error.call(this);
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, this.constructor);
  } else {
    this.stack = new Error().stack;
  }
  this.message = message2;
  this.name = "AxiosError";
  code && (this.code = code);
  config2 && (this.config = config2);
  request && (this.request = request);
  response && (this.response = response);
}
utils$1.inherits(AxiosError, Error, {
  toJSON: function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: utils$1.toJSONObject(this.config),
      code: this.code,
      status: this.response && this.response.status ? this.response.status : null
    };
  }
});
const prototype$1 = AxiosError.prototype;
const descriptors = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL"
  // eslint-disable-next-line func-names
].forEach((code) => {
  descriptors[code] = { value: code };
});
Object.defineProperties(AxiosError, descriptors);
Object.defineProperty(prototype$1, "isAxiosError", { value: true });
AxiosError.from = (error2, code, config2, request, response, customProps) => {
  const axiosError = Object.create(prototype$1);
  utils$1.toFlatObject(error2, axiosError, function filter3(obj) {
    return obj !== Error.prototype;
  }, (prop) => {
    return prop !== "isAxiosError";
  });
  AxiosError.call(axiosError, error2.message, code, config2, request, response);
  axiosError.cause = error2;
  axiosError.name = error2.name;
  customProps && Object.assign(axiosError, customProps);
  return axiosError;
};
const httpAdapter = null;
function isVisitable(thing) {
  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);
}
function removeBrackets(key) {
  return utils$1.endsWith(key, "[]") ? key.slice(0, -2) : key;
}
function renderKey(path, key, dots) {
  if (!path)
    return key;
  return path.concat(key).map(function each(token, i) {
    token = removeBrackets(token);
    return !dots && i ? "[" + token + "]" : token;
  }).join(dots ? "." : "");
}
function isFlatArray(arr) {
  return utils$1.isArray(arr) && !arr.some(isVisitable);
}
const predicates = utils$1.toFlatObject(utils$1, {}, null, function filter2(prop) {
  return /^is[A-Z]/.test(prop);
});
function toFormData(obj, formData, options) {
  if (!utils$1.isObject(obj)) {
    throw new TypeError("target must be an object");
  }
  formData = formData || new FormData();
  options = utils$1.toFlatObject(options, {
    metaTokens: true,
    dots: false,
    indexes: false
  }, false, function defined(option2, source) {
    return !utils$1.isUndefined(source[option2]);
  });
  const metaTokens = options.metaTokens;
  const visitor = options.visitor || defaultVisitor;
  const dots = options.dots;
  const indexes = options.indexes;
  const _Blob = options.Blob || typeof Blob !== "undefined" && Blob;
  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);
  if (!utils$1.isFunction(visitor)) {
    throw new TypeError("visitor must be a function");
  }
  function convertValue(value2) {
    if (value2 === null)
      return "";
    if (utils$1.isDate(value2)) {
      return value2.toISOString();
    }
    if (!useBlob && utils$1.isBlob(value2)) {
      throw new AxiosError("Blob is not supported. Use a Buffer instead.");
    }
    if (utils$1.isArrayBuffer(value2) || utils$1.isTypedArray(value2)) {
      return useBlob && typeof Blob === "function" ? new Blob([value2]) : Buffer.from(value2);
    }
    return value2;
  }
  function defaultVisitor(value2, key, path) {
    let arr = value2;
    if (value2 && !path && typeof value2 === "object") {
      if (utils$1.endsWith(key, "{}")) {
        key = metaTokens ? key : key.slice(0, -2);
        value2 = JSON.stringify(value2);
      } else if (utils$1.isArray(value2) && isFlatArray(value2) || (utils$1.isFileList(value2) || utils$1.endsWith(key, "[]")) && (arr = utils$1.toArray(value2))) {
        key = removeBrackets(key);
        arr.forEach(function each(el, index2) {
          !(utils$1.isUndefined(el) || el === null) && formData.append(
            // eslint-disable-next-line no-nested-ternary
            indexes === true ? renderKey([key], index2, dots) : indexes === null ? key : key + "[]",
            convertValue(el)
          );
        });
        return false;
      }
    }
    if (isVisitable(value2)) {
      return true;
    }
    formData.append(renderKey(path, key, dots), convertValue(value2));
    return false;
  }
  const stack = [];
  const exposedHelpers = Object.assign(predicates, {
    defaultVisitor,
    convertValue,
    isVisitable
  });
  function build(value2, path) {
    if (utils$1.isUndefined(value2))
      return;
    if (stack.indexOf(value2) !== -1) {
      throw Error("Circular reference detected in " + path.join("."));
    }
    stack.push(value2);
    utils$1.forEach(value2, function each(el, key) {
      const result2 = !(utils$1.isUndefined(el) || el === null) && visitor.call(
        formData,
        el,
        utils$1.isString(key) ? key.trim() : key,
        path,
        exposedHelpers
      );
      if (result2 === true) {
        build(el, path ? path.concat(key) : [key]);
      }
    });
    stack.pop();
  }
  if (!utils$1.isObject(obj)) {
    throw new TypeError("data must be an object");
  }
  build(obj);
  return formData;
}
function encode$1(str) {
  const charMap = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0"
  };
  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer2(match) {
    return charMap[match];
  });
}
function AxiosURLSearchParams(params, options) {
  this._pairs = [];
  params && toFormData(params, this, options);
}
const prototype = AxiosURLSearchParams.prototype;
prototype.append = function append2(name2, value2) {
  this._pairs.push([name2, value2]);
};
prototype.toString = function toString2(encoder) {
  const _encode = encoder ? function(value2) {
    return encoder.call(this, value2, encode$1);
  } : encode$1;
  return this._pairs.map(function each(pair) {
    return _encode(pair[0]) + "=" + _encode(pair[1]);
  }, "").join("&");
};
function encode(val) {
  return encodeURIComponent(val).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]");
}
function buildURL(url, params, options) {
  if (!params) {
    return url;
  }
  const _encode = options && options.encode || encode;
  const serializeFn = options && options.serialize;
  let serializedParams;
  if (serializeFn) {
    serializedParams = serializeFn(params, options);
  } else {
    serializedParams = utils$1.isURLSearchParams(params) ? params.toString() : new AxiosURLSearchParams(params, options).toString(_encode);
  }
  if (serializedParams) {
    const hashmarkIndex = url.indexOf("#");
    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }
    url += (url.indexOf("?") === -1 ? "?" : "&") + serializedParams;
  }
  return url;
}
class InterceptorManager {
  constructor() {
    this.handlers = [];
  }
  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(fulfilled, rejected, options) {
    this.handlers.push({
      fulfilled,
      rejected,
      synchronous: options ? options.synchronous : false,
      runWhen: options ? options.runWhen : null
    });
    return this.handlers.length - 1;
  }
  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(id) {
    if (this.handlers[id]) {
      this.handlers[id] = null;
    }
  }
  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    if (this.handlers) {
      this.handlers = [];
    }
  }
  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(fn) {
    utils$1.forEach(this.handlers, function forEachHandler(h2) {
      if (h2 !== null) {
        fn(h2);
      }
    });
  }
}
const transitionalDefaults = {
  silentJSONParsing: true,
  forcedJSONParsing: true,
  clarifyTimeoutError: false
};
const URLSearchParams$1 = typeof URLSearchParams !== "undefined" ? URLSearchParams : AxiosURLSearchParams;
const FormData$1 = typeof FormData !== "undefined" ? FormData : null;
const Blob$1 = typeof Blob !== "undefined" ? Blob : null;
const platform$1 = {
  isBrowser: true,
  classes: {
    URLSearchParams: URLSearchParams$1,
    FormData: FormData$1,
    Blob: Blob$1
  },
  protocols: ["http", "https", "file", "blob", "url", "data"]
};
const hasBrowserEnv = typeof window !== "undefined" && typeof document !== "undefined";
const hasStandardBrowserEnv = ((product) => {
  return hasBrowserEnv && ["ReactNative", "NativeScript", "NS"].indexOf(product) < 0;
})(typeof navigator !== "undefined" && navigator.product);
const hasStandardBrowserWebWorkerEnv = (() => {
  return typeof WorkerGlobalScope !== "undefined" && // eslint-disable-next-line no-undef
  self instanceof WorkerGlobalScope && typeof self.importScripts === "function";
})();
const utils = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  hasBrowserEnv,
  hasStandardBrowserEnv,
  hasStandardBrowserWebWorkerEnv
}, Symbol.toStringTag, { value: "Module" }));
const platform = {
  ...utils,
  ...platform$1
};
function toURLEncodedForm(data, options) {
  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({
    visitor: function(value2, key, path, helpers) {
      if (platform.isNode && utils$1.isBuffer(value2)) {
        this.append(key, value2.toString("base64"));
        return false;
      }
      return helpers.defaultVisitor.apply(this, arguments);
    }
  }, options));
}
function parsePropPath(name2) {
  return utils$1.matchAll(/\w+|\[(\w*)]/g, name2).map((match) => {
    return match[0] === "[]" ? "" : match[1] || match[0];
  });
}
function arrayToObject(arr) {
  const obj = {};
  const keys = Object.keys(arr);
  let i;
  const len = keys.length;
  let key;
  for (i = 0; i < len; i++) {
    key = keys[i];
    obj[key] = arr[key];
  }
  return obj;
}
function formDataToJSON(formData) {
  function buildPath(path, value2, target, index2) {
    let name2 = path[index2++];
    if (name2 === "__proto__")
      return true;
    const isNumericKey = Number.isFinite(+name2);
    const isLast = index2 >= path.length;
    name2 = !name2 && utils$1.isArray(target) ? target.length : name2;
    if (isLast) {
      if (utils$1.hasOwnProp(target, name2)) {
        target[name2] = [target[name2], value2];
      } else {
        target[name2] = value2;
      }
      return !isNumericKey;
    }
    if (!target[name2] || !utils$1.isObject(target[name2])) {
      target[name2] = [];
    }
    const result2 = buildPath(path, value2, target[name2], index2);
    if (result2 && utils$1.isArray(target[name2])) {
      target[name2] = arrayToObject(target[name2]);
    }
    return !isNumericKey;
  }
  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {
    const obj = {};
    utils$1.forEachEntry(formData, (name2, value2) => {
      buildPath(parsePropPath(name2), value2, obj, 0);
    });
    return obj;
  }
  return null;
}
function stringifySafely(rawValue, parser, encoder) {
  if (utils$1.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils$1.trim(rawValue);
    } catch (e2) {
      if (e2.name !== "SyntaxError") {
        throw e2;
      }
    }
  }
  return (encoder || JSON.stringify)(rawValue);
}
const defaults$1 = {
  transitional: transitionalDefaults,
  adapter: ["xhr", "http"],
  transformRequest: [function transformRequest(data, headers) {
    const contentType = headers.getContentType() || "";
    const hasJSONContentType = contentType.indexOf("application/json") > -1;
    const isObjectPayload = utils$1.isObject(data);
    if (isObjectPayload && utils$1.isHTMLForm(data)) {
      data = new FormData(data);
    }
    const isFormData2 = utils$1.isFormData(data);
    if (isFormData2) {
      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;
    }
    if (utils$1.isArrayBuffer(data) || utils$1.isBuffer(data) || utils$1.isStream(data) || utils$1.isFile(data) || utils$1.isBlob(data)) {
      return data;
    }
    if (utils$1.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils$1.isURLSearchParams(data)) {
      headers.setContentType("application/x-www-form-urlencoded;charset=utf-8", false);
      return data.toString();
    }
    let isFileList2;
    if (isObjectPayload) {
      if (contentType.indexOf("application/x-www-form-urlencoded") > -1) {
        return toURLEncodedForm(data, this.formSerializer).toString();
      }
      if ((isFileList2 = utils$1.isFileList(data)) || contentType.indexOf("multipart/form-data") > -1) {
        const _FormData = this.env && this.env.FormData;
        return toFormData(
          isFileList2 ? { "files[]": data } : data,
          _FormData && new _FormData(),
          this.formSerializer
        );
      }
    }
    if (isObjectPayload || hasJSONContentType) {
      headers.setContentType("application/json", false);
      return stringifySafely(data);
    }
    return data;
  }],
  transformResponse: [function transformResponse(data) {
    const transitional2 = this.transitional || defaults$1.transitional;
    const forcedJSONParsing = transitional2 && transitional2.forcedJSONParsing;
    const JSONRequested = this.responseType === "json";
    if (data && utils$1.isString(data) && (forcedJSONParsing && !this.responseType || JSONRequested)) {
      const silentJSONParsing = transitional2 && transitional2.silentJSONParsing;
      const strictJSONParsing = !silentJSONParsing && JSONRequested;
      try {
        return JSON.parse(data);
      } catch (e2) {
        if (strictJSONParsing) {
          if (e2.name === "SyntaxError") {
            throw AxiosError.from(e2, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);
          }
          throw e2;
        }
      }
    }
    return data;
  }],
  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: {
    FormData: platform.classes.FormData,
    Blob: platform.classes.Blob
  },
  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  },
  headers: {
    common: {
      "Accept": "application/json, text/plain, */*",
      "Content-Type": void 0
    }
  }
};
utils$1.forEach(["delete", "get", "head", "post", "put", "patch"], (method) => {
  defaults$1.headers[method] = {};
});
const defaults$2 = defaults$1;
const ignoreDuplicateOf = utils$1.toObjectSet([
  "age",
  "authorization",
  "content-length",
  "content-type",
  "etag",
  "expires",
  "from",
  "host",
  "if-modified-since",
  "if-unmodified-since",
  "last-modified",
  "location",
  "max-forwards",
  "proxy-authorization",
  "referer",
  "retry-after",
  "user-agent"
]);
const parseHeaders = (rawHeaders) => {
  const parsed = {};
  let key;
  let val;
  let i;
  rawHeaders && rawHeaders.split("\n").forEach(function parser(line) {
    i = line.indexOf(":");
    key = line.substring(0, i).trim().toLowerCase();
    val = line.substring(i + 1).trim();
    if (!key || parsed[key] && ignoreDuplicateOf[key]) {
      return;
    }
    if (key === "set-cookie") {
      if (parsed[key]) {
        parsed[key].push(val);
      } else {
        parsed[key] = [val];
      }
    } else {
      parsed[key] = parsed[key] ? parsed[key] + ", " + val : val;
    }
  });
  return parsed;
};
const $internals = Symbol("internals");
function normalizeHeader(header) {
  return header && String(header).trim().toLowerCase();
}
function normalizeValue(value2) {
  if (value2 === false || value2 == null) {
    return value2;
  }
  return utils$1.isArray(value2) ? value2.map(normalizeValue) : String(value2);
}
function parseTokens(str) {
  const tokens = /* @__PURE__ */ Object.create(null);
  const tokensRE = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let match;
  while (match = tokensRE.exec(str)) {
    tokens[match[1]] = match[2];
  }
  return tokens;
}
const isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());
function matchHeaderValue(context, value2, header, filter3, isHeaderNameFilter) {
  if (utils$1.isFunction(filter3)) {
    return filter3.call(this, value2, header);
  }
  if (isHeaderNameFilter) {
    value2 = header;
  }
  if (!utils$1.isString(value2))
    return;
  if (utils$1.isString(filter3)) {
    return value2.indexOf(filter3) !== -1;
  }
  if (utils$1.isRegExp(filter3)) {
    return filter3.test(value2);
  }
}
function formatHeader(header) {
  return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (w, char, str) => {
    return char.toUpperCase() + str;
  });
}
function buildAccessors(obj, header) {
  const accessorName = utils$1.toCamelCase(" " + header);
  ["get", "set", "has"].forEach((methodName) => {
    Object.defineProperty(obj, methodName + accessorName, {
      value: function(arg1, arg2, arg3) {
        return this[methodName].call(this, header, arg1, arg2, arg3);
      },
      configurable: true
    });
  });
}
class AxiosHeaders {
  constructor(headers) {
    headers && this.set(headers);
  }
  set(header, valueOrRewrite, rewrite) {
    const self2 = this;
    function setHeader(_value, _header, _rewrite) {
      const lHeader = normalizeHeader(_header);
      if (!lHeader) {
        throw new Error("header name must be a non-empty string");
      }
      const key = utils$1.findKey(self2, lHeader);
      if (!key || self2[key] === void 0 || _rewrite === true || _rewrite === void 0 && self2[key] !== false) {
        self2[key || _header] = normalizeValue(_value);
      }
    }
    const setHeaders = (headers, _rewrite) => utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));
    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {
      setHeaders(header, valueOrRewrite);
    } else if (utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {
      setHeaders(parseHeaders(header), valueOrRewrite);
    } else {
      header != null && setHeader(valueOrRewrite, header, rewrite);
    }
    return this;
  }
  get(header, parser) {
    header = normalizeHeader(header);
    if (header) {
      const key = utils$1.findKey(this, header);
      if (key) {
        const value2 = this[key];
        if (!parser) {
          return value2;
        }
        if (parser === true) {
          return parseTokens(value2);
        }
        if (utils$1.isFunction(parser)) {
          return parser.call(this, value2, key);
        }
        if (utils$1.isRegExp(parser)) {
          return parser.exec(value2);
        }
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(header, matcher) {
    header = normalizeHeader(header);
    if (header) {
      const key = utils$1.findKey(this, header);
      return !!(key && this[key] !== void 0 && (!matcher || matchHeaderValue(this, this[key], key, matcher)));
    }
    return false;
  }
  delete(header, matcher) {
    const self2 = this;
    let deleted = false;
    function deleteHeader(_header) {
      _header = normalizeHeader(_header);
      if (_header) {
        const key = utils$1.findKey(self2, _header);
        if (key && (!matcher || matchHeaderValue(self2, self2[key], key, matcher))) {
          delete self2[key];
          deleted = true;
        }
      }
    }
    if (utils$1.isArray(header)) {
      header.forEach(deleteHeader);
    } else {
      deleteHeader(header);
    }
    return deleted;
  }
  clear(matcher) {
    const keys = Object.keys(this);
    let i = keys.length;
    let deleted = false;
    while (i--) {
      const key = keys[i];
      if (!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {
        delete this[key];
        deleted = true;
      }
    }
    return deleted;
  }
  normalize(format2) {
    const self2 = this;
    const headers = {};
    utils$1.forEach(this, (value2, header) => {
      const key = utils$1.findKey(headers, header);
      if (key) {
        self2[key] = normalizeValue(value2);
        delete self2[header];
        return;
      }
      const normalized = format2 ? formatHeader(header) : String(header).trim();
      if (normalized !== header) {
        delete self2[header];
      }
      self2[normalized] = normalizeValue(value2);
      headers[normalized] = true;
    });
    return this;
  }
  concat(...targets) {
    return this.constructor.concat(this, ...targets);
  }
  toJSON(asStrings) {
    const obj = /* @__PURE__ */ Object.create(null);
    utils$1.forEach(this, (value2, header) => {
      value2 != null && value2 !== false && (obj[header] = asStrings && utils$1.isArray(value2) ? value2.join(", ") : value2);
    });
    return obj;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([header, value2]) => header + ": " + value2).join("\n");
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(thing) {
    return thing instanceof this ? thing : new this(thing);
  }
  static concat(first, ...targets) {
    const computed = new this(first);
    targets.forEach((target) => computed.set(target));
    return computed;
  }
  static accessor(header) {
    const internals = this[$internals] = this[$internals] = {
      accessors: {}
    };
    const accessors = internals.accessors;
    const prototype2 = this.prototype;
    function defineAccessor(_header) {
      const lHeader = normalizeHeader(_header);
      if (!accessors[lHeader]) {
        buildAccessors(prototype2, _header);
        accessors[lHeader] = true;
      }
    }
    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);
    return this;
  }
}
AxiosHeaders.accessor(["Content-Type", "Content-Length", "Accept", "Accept-Encoding", "User-Agent", "Authorization"]);
utils$1.reduceDescriptors(AxiosHeaders.prototype, ({ value: value2 }, key) => {
  let mapped = key[0].toUpperCase() + key.slice(1);
  return {
    get: () => value2,
    set(headerValue) {
      this[mapped] = headerValue;
    }
  };
});
utils$1.freezeMethods(AxiosHeaders);
const AxiosHeaders$1 = AxiosHeaders;
function transformData(fns, response) {
  const config2 = this || defaults$2;
  const context = response || config2;
  const headers = AxiosHeaders$1.from(context.headers);
  let data = context.data;
  utils$1.forEach(fns, function transform2(fn) {
    data = fn.call(config2, data, headers.normalize(), response ? response.status : void 0);
  });
  headers.normalize();
  return data;
}
function isCancel(value2) {
  return !!(value2 && value2.__CANCEL__);
}
function CanceledError(message2, config2, request) {
  AxiosError.call(this, message2 == null ? "canceled" : message2, AxiosError.ERR_CANCELED, config2, request);
  this.name = "CanceledError";
}
utils$1.inherits(CanceledError, AxiosError, {
  __CANCEL__: true
});
function settle(resolve, reject, response) {
  const validateStatus2 = response.config.validateStatus;
  if (!response.status || !validateStatus2 || validateStatus2(response.status)) {
    resolve(response);
  } else {
    reject(new AxiosError(
      "Request failed with status code " + response.status,
      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],
      response.config,
      response.request,
      response
    ));
  }
}
const cookies = platform.hasStandardBrowserEnv ? (
  // Standard browser envs support document.cookie
  {
    write(name2, value2, expires, path, domain, secure) {
      const cookie = [name2 + "=" + encodeURIComponent(value2)];
      utils$1.isNumber(expires) && cookie.push("expires=" + new Date(expires).toGMTString());
      utils$1.isString(path) && cookie.push("path=" + path);
      utils$1.isString(domain) && cookie.push("domain=" + domain);
      secure === true && cookie.push("secure");
      document.cookie = cookie.join("; ");
    },
    read(name2) {
      const match = document.cookie.match(new RegExp("(^|;\\s*)(" + name2 + ")=([^;]*)"));
      return match ? decodeURIComponent(match[3]) : null;
    },
    remove(name2) {
      this.write(name2, "", Date.now() - 864e5);
    }
  }
) : (
  // Non-standard browser env (web workers, react-native) lack needed support.
  {
    write() {
    },
    read() {
      return null;
    },
    remove() {
    }
  }
);
function isAbsoluteURL(url) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
}
function combineURLs(baseURL, relativeURL) {
  return relativeURL ? baseURL.replace(/\/?\/$/, "") + "/" + relativeURL.replace(/^\/+/, "") : baseURL;
}
function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
}
const isURLSameOrigin = platform.hasStandardBrowserEnv ? (
  // Standard browser envs have full support of the APIs needed to test
  // whether the request URL is of the same origin as current location.
  function standardBrowserEnv() {
    const msie = /(msie|trident)/i.test(navigator.userAgent);
    const urlParsingNode = document.createElement("a");
    let originURL;
    function resolveURL(url) {
      let href = url;
      if (msie) {
        urlParsingNode.setAttribute("href", href);
        href = urlParsingNode.href;
      }
      urlParsingNode.setAttribute("href", href);
      return {
        href: urlParsingNode.href,
        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, "") : "",
        host: urlParsingNode.host,
        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, "") : "",
        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, "") : "",
        hostname: urlParsingNode.hostname,
        port: urlParsingNode.port,
        pathname: urlParsingNode.pathname.charAt(0) === "/" ? urlParsingNode.pathname : "/" + urlParsingNode.pathname
      };
    }
    originURL = resolveURL(window.location.href);
    return function isURLSameOrigin2(requestURL) {
      const parsed = utils$1.isString(requestURL) ? resolveURL(requestURL) : requestURL;
      return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
    };
  }()
) : (
  // Non standard browser envs (web workers, react-native) lack needed support.
  /* @__PURE__ */ function nonStandardBrowserEnv() {
    return function isURLSameOrigin2() {
      return true;
    };
  }()
);
function parseProtocol(url) {
  const match = /^([-+\w]{1,25})(:?\/\/|:)/.exec(url);
  return match && match[1] || "";
}
function speedometer(samplesCount, min) {
  samplesCount = samplesCount || 10;
  const bytes = new Array(samplesCount);
  const timestamps = new Array(samplesCount);
  let head = 0;
  let tail = 0;
  let firstSampleTS;
  min = min !== void 0 ? min : 1e3;
  return function push(chunkLength) {
    const now = Date.now();
    const startedAt = timestamps[tail];
    if (!firstSampleTS) {
      firstSampleTS = now;
    }
    bytes[head] = chunkLength;
    timestamps[head] = now;
    let i = tail;
    let bytesCount = 0;
    while (i !== head) {
      bytesCount += bytes[i++];
      i = i % samplesCount;
    }
    head = (head + 1) % samplesCount;
    if (head === tail) {
      tail = (tail + 1) % samplesCount;
    }
    if (now - firstSampleTS < min) {
      return;
    }
    const passed = startedAt && now - startedAt;
    return passed ? Math.round(bytesCount * 1e3 / passed) : void 0;
  };
}
function progressEventReducer(listener, isDownloadStream) {
  let bytesNotified = 0;
  const _speedometer = speedometer(50, 250);
  return (e2) => {
    const loaded = e2.loaded;
    const total = e2.lengthComputable ? e2.total : void 0;
    const progressBytes = loaded - bytesNotified;
    const rate2 = _speedometer(progressBytes);
    const inRange = loaded <= total;
    bytesNotified = loaded;
    const data = {
      loaded,
      total,
      progress: total ? loaded / total : void 0,
      bytes: progressBytes,
      rate: rate2 ? rate2 : void 0,
      estimated: rate2 && total && inRange ? (total - loaded) / rate2 : void 0,
      event: e2
    };
    data[isDownloadStream ? "download" : "upload"] = true;
    listener(data);
  };
}
const isXHRAdapterSupported = typeof XMLHttpRequest !== "undefined";
const xhrAdapter = isXHRAdapterSupported && function(config2) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    let requestData = config2.data;
    const requestHeaders = AxiosHeaders$1.from(config2.headers).normalize();
    let { responseType, withXSRFToken } = config2;
    let onCanceled;
    function done() {
      if (config2.cancelToken) {
        config2.cancelToken.unsubscribe(onCanceled);
      }
      if (config2.signal) {
        config2.signal.removeEventListener("abort", onCanceled);
      }
    }
    let contentType;
    if (utils$1.isFormData(requestData)) {
      if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {
        requestHeaders.setContentType(false);
      } else if ((contentType = requestHeaders.getContentType()) !== false) {
        const [type, ...tokens] = contentType ? contentType.split(";").map((token) => token.trim()).filter(Boolean) : [];
        requestHeaders.setContentType([type || "multipart/form-data", ...tokens].join("; "));
      }
    }
    let request = new XMLHttpRequest();
    if (config2.auth) {
      const username = config2.auth.username || "";
      const password = config2.auth.password ? unescape(encodeURIComponent(config2.auth.password)) : "";
      requestHeaders.set("Authorization", "Basic " + btoa(username + ":" + password));
    }
    const fullPath = buildFullPath(config2.baseURL, config2.url);
    request.open(config2.method.toUpperCase(), buildURL(fullPath, config2.params, config2.paramsSerializer), true);
    request.timeout = config2.timeout;
    function onloadend() {
      if (!request) {
        return;
      }
      const responseHeaders = AxiosHeaders$1.from(
        "getAllResponseHeaders" in request && request.getAllResponseHeaders()
      );
      const responseData = !responseType || responseType === "text" || responseType === "json" ? request.responseText : request.response;
      const response = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config: config2,
        request
      };
      settle(function _resolve(value2) {
        resolve(value2);
        done();
      }, function _reject(err) {
        reject(err);
        done();
      }, response);
      request = null;
    }
    if ("onloadend" in request) {
      request.onloadend = onloadend;
    } else {
      request.onreadystatechange = function handleLoad() {
        if (!request || request.readyState !== 4) {
          return;
        }
        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf("file:") === 0)) {
          return;
        }
        setTimeout(onloadend);
      };
    }
    request.onabort = function handleAbort() {
      if (!request) {
        return;
      }
      reject(new AxiosError("Request aborted", AxiosError.ECONNABORTED, config2, request));
      request = null;
    };
    request.onerror = function handleError() {
      reject(new AxiosError("Network Error", AxiosError.ERR_NETWORK, config2, request));
      request = null;
    };
    request.ontimeout = function handleTimeout() {
      let timeoutErrorMessage = config2.timeout ? "timeout of " + config2.timeout + "ms exceeded" : "timeout exceeded";
      const transitional2 = config2.transitional || transitionalDefaults;
      if (config2.timeoutErrorMessage) {
        timeoutErrorMessage = config2.timeoutErrorMessage;
      }
      reject(new AxiosError(
        timeoutErrorMessage,
        transitional2.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,
        config2,
        request
      ));
      request = null;
    };
    if (platform.hasStandardBrowserEnv) {
      withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(config2));
      if (withXSRFToken || withXSRFToken !== false && isURLSameOrigin(fullPath)) {
        const xsrfValue = config2.xsrfHeaderName && config2.xsrfCookieName && cookies.read(config2.xsrfCookieName);
        if (xsrfValue) {
          requestHeaders.set(config2.xsrfHeaderName, xsrfValue);
        }
      }
    }
    requestData === void 0 && requestHeaders.setContentType(null);
    if ("setRequestHeader" in request) {
      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {
        request.setRequestHeader(key, val);
      });
    }
    if (!utils$1.isUndefined(config2.withCredentials)) {
      request.withCredentials = !!config2.withCredentials;
    }
    if (responseType && responseType !== "json") {
      request.responseType = config2.responseType;
    }
    if (typeof config2.onDownloadProgress === "function") {
      request.addEventListener("progress", progressEventReducer(config2.onDownloadProgress, true));
    }
    if (typeof config2.onUploadProgress === "function" && request.upload) {
      request.upload.addEventListener("progress", progressEventReducer(config2.onUploadProgress));
    }
    if (config2.cancelToken || config2.signal) {
      onCanceled = (cancel) => {
        if (!request) {
          return;
        }
        reject(!cancel || cancel.type ? new CanceledError(null, config2, request) : cancel);
        request.abort();
        request = null;
      };
      config2.cancelToken && config2.cancelToken.subscribe(onCanceled);
      if (config2.signal) {
        config2.signal.aborted ? onCanceled() : config2.signal.addEventListener("abort", onCanceled);
      }
    }
    const protocol = parseProtocol(fullPath);
    if (protocol && platform.protocols.indexOf(protocol) === -1) {
      reject(new AxiosError("Unsupported protocol " + protocol + ":", AxiosError.ERR_BAD_REQUEST, config2));
      return;
    }
    request.send(requestData || null);
  });
};
const knownAdapters = {
  http: httpAdapter,
  xhr: xhrAdapter
};
utils$1.forEach(knownAdapters, (fn, value2) => {
  if (fn) {
    try {
      Object.defineProperty(fn, "name", { value: value2 });
    } catch (e2) {
    }
    Object.defineProperty(fn, "adapterName", { value: value2 });
  }
});
const renderReason = (reason) => `- ${reason}`;
const isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;
const adapters = {
  getAdapter: (adapters2) => {
    adapters2 = utils$1.isArray(adapters2) ? adapters2 : [adapters2];
    const { length } = adapters2;
    let nameOrAdapter;
    let adapter;
    const rejectedReasons = {};
    for (let i = 0; i < length; i++) {
      nameOrAdapter = adapters2[i];
      let id;
      adapter = nameOrAdapter;
      if (!isResolvedHandle(nameOrAdapter)) {
        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];
        if (adapter === void 0) {
          throw new AxiosError(`Unknown adapter '${id}'`);
        }
      }
      if (adapter) {
        break;
      }
      rejectedReasons[id || "#" + i] = adapter;
    }
    if (!adapter) {
      const reasons = Object.entries(rejectedReasons).map(
        ([id, state]) => `adapter ${id} ` + (state === false ? "is not supported by the environment" : "is not available in the build")
      );
      let s = length ? reasons.length > 1 ? "since :\n" + reasons.map(renderReason).join("\n") : " " + renderReason(reasons[0]) : "as no adapter specified";
      throw new AxiosError(
        `There is no suitable adapter to dispatch the request ` + s,
        "ERR_NOT_SUPPORT"
      );
    }
    return adapter;
  },
  adapters: knownAdapters
};
function throwIfCancellationRequested(config2) {
  if (config2.cancelToken) {
    config2.cancelToken.throwIfRequested();
  }
  if (config2.signal && config2.signal.aborted) {
    throw new CanceledError(null, config2);
  }
}
function dispatchRequest(config2) {
  throwIfCancellationRequested(config2);
  config2.headers = AxiosHeaders$1.from(config2.headers);
  config2.data = transformData.call(
    config2,
    config2.transformRequest
  );
  if (["post", "put", "patch"].indexOf(config2.method) !== -1) {
    config2.headers.setContentType("application/x-www-form-urlencoded", false);
  }
  const adapter = adapters.getAdapter(config2.adapter || defaults$2.adapter);
  return adapter(config2).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config2);
    response.data = transformData.call(
      config2,
      config2.transformResponse,
      response
    );
    response.headers = AxiosHeaders$1.from(response.headers);
    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel(reason)) {
      throwIfCancellationRequested(config2);
      if (reason && reason.response) {
        reason.response.data = transformData.call(
          config2,
          config2.transformResponse,
          reason.response
        );
        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);
      }
    }
    return Promise.reject(reason);
  });
}
const headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;
function mergeConfig(config1, config2) {
  config2 = config2 || {};
  const config3 = {};
  function getMergedValue(target, source, caseless) {
    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {
      return utils$1.merge.call({ caseless }, target, source);
    } else if (utils$1.isPlainObject(source)) {
      return utils$1.merge({}, source);
    } else if (utils$1.isArray(source)) {
      return source.slice();
    }
    return source;
  }
  function mergeDeepProperties(a, b, caseless) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(a, b, caseless);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(void 0, a, caseless);
    }
  }
  function valueFromConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(void 0, b);
    }
  }
  function defaultToConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(void 0, b);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(void 0, a);
    }
  }
  function mergeDirectKeys(a, b, prop) {
    if (prop in config2) {
      return getMergedValue(a, b);
    } else if (prop in config1) {
      return getMergedValue(void 0, a);
    }
  }
  const mergeMap = {
    url: valueFromConfig2,
    method: valueFromConfig2,
    data: valueFromConfig2,
    baseURL: defaultToConfig2,
    transformRequest: defaultToConfig2,
    transformResponse: defaultToConfig2,
    paramsSerializer: defaultToConfig2,
    timeout: defaultToConfig2,
    timeoutMessage: defaultToConfig2,
    withCredentials: defaultToConfig2,
    withXSRFToken: defaultToConfig2,
    adapter: defaultToConfig2,
    responseType: defaultToConfig2,
    xsrfCookieName: defaultToConfig2,
    xsrfHeaderName: defaultToConfig2,
    onUploadProgress: defaultToConfig2,
    onDownloadProgress: defaultToConfig2,
    decompress: defaultToConfig2,
    maxContentLength: defaultToConfig2,
    maxBodyLength: defaultToConfig2,
    beforeRedirect: defaultToConfig2,
    transport: defaultToConfig2,
    httpAgent: defaultToConfig2,
    httpsAgent: defaultToConfig2,
    cancelToken: defaultToConfig2,
    socketPath: defaultToConfig2,
    responseEncoding: defaultToConfig2,
    validateStatus: mergeDirectKeys,
    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)
  };
  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {
    const merge2 = mergeMap[prop] || mergeDeepProperties;
    const configValue = merge2(config1[prop], config2[prop], prop);
    utils$1.isUndefined(configValue) && merge2 !== mergeDirectKeys || (config3[prop] = configValue);
  });
  return config3;
}
const VERSION = "1.6.8";
const validators$1 = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach((type, i) => {
  validators$1[type] = function validator2(thing) {
    return typeof thing === type || "a" + (i < 1 ? "n " : " ") + type;
  };
});
const deprecatedWarnings = {};
validators$1.transitional = function transitional(validator2, version2, message2) {
  function formatMessage(opt, desc) {
    return "[Axios v" + VERSION + "] Transitional option '" + opt + "'" + desc + (message2 ? ". " + message2 : "");
  }
  return (value2, opt, opts) => {
    if (validator2 === false) {
      throw new AxiosError(
        formatMessage(opt, " has been removed" + (version2 ? " in " + version2 : "")),
        AxiosError.ERR_DEPRECATED
      );
    }
    if (version2 && !deprecatedWarnings[opt]) {
      deprecatedWarnings[opt] = true;
      console.warn(
        formatMessage(
          opt,
          " has been deprecated since v" + version2 + " and will be removed in the near future"
        )
      );
    }
    return validator2 ? validator2(value2, opt, opts) : true;
  };
};
function assertOptions(options, schema, allowUnknown) {
  if (typeof options !== "object") {
    throw new AxiosError("options must be an object", AxiosError.ERR_BAD_OPTION_VALUE);
  }
  const keys = Object.keys(options);
  let i = keys.length;
  while (i-- > 0) {
    const opt = keys[i];
    const validator2 = schema[opt];
    if (validator2) {
      const value2 = options[opt];
      const result2 = value2 === void 0 || validator2(value2, opt, options);
      if (result2 !== true) {
        throw new AxiosError("option " + opt + " must be " + result2, AxiosError.ERR_BAD_OPTION_VALUE);
      }
      continue;
    }
    if (allowUnknown !== true) {
      throw new AxiosError("Unknown option " + opt, AxiosError.ERR_BAD_OPTION);
    }
  }
}
const validator = {
  assertOptions,
  validators: validators$1
};
const validators = validator.validators;
class Axios {
  constructor(instanceConfig) {
    this.defaults = instanceConfig;
    this.interceptors = {
      request: new InterceptorManager(),
      response: new InterceptorManager()
    };
  }
  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  async request(configOrUrl, config2) {
    try {
      return await this._request(configOrUrl, config2);
    } catch (err) {
      if (err instanceof Error) {
        let dummy;
        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : dummy = new Error();
        const stack = dummy.stack ? dummy.stack.replace(/^.+\n/, "") : "";
        if (!err.stack) {
          err.stack = stack;
        } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\n.+\n/, ""))) {
          err.stack += "\n" + stack;
        }
      }
      throw err;
    }
  }
  _request(configOrUrl, config2) {
    if (typeof configOrUrl === "string") {
      config2 = config2 || {};
      config2.url = configOrUrl;
    } else {
      config2 = configOrUrl || {};
    }
    config2 = mergeConfig(this.defaults, config2);
    const { transitional: transitional2, paramsSerializer, headers } = config2;
    if (transitional2 !== void 0) {
      validator.assertOptions(transitional2, {
        silentJSONParsing: validators.transitional(validators.boolean),
        forcedJSONParsing: validators.transitional(validators.boolean),
        clarifyTimeoutError: validators.transitional(validators.boolean)
      }, false);
    }
    if (paramsSerializer != null) {
      if (utils$1.isFunction(paramsSerializer)) {
        config2.paramsSerializer = {
          serialize: paramsSerializer
        };
      } else {
        validator.assertOptions(paramsSerializer, {
          encode: validators.function,
          serialize: validators.function
        }, true);
      }
    }
    config2.method = (config2.method || this.defaults.method || "get").toLowerCase();
    let contextHeaders = headers && utils$1.merge(
      headers.common,
      headers[config2.method]
    );
    headers && utils$1.forEach(
      ["delete", "get", "head", "post", "put", "patch", "common"],
      (method) => {
        delete headers[method];
      }
    );
    config2.headers = AxiosHeaders$1.concat(contextHeaders, headers);
    const requestInterceptorChain = [];
    let synchronousRequestInterceptors = true;
    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
      if (typeof interceptor.runWhen === "function" && interceptor.runWhen(config2) === false) {
        return;
      }
      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;
      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
    });
    const responseInterceptorChain = [];
    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
    });
    let promise;
    let i = 0;
    let len;
    if (!synchronousRequestInterceptors) {
      const chain = [dispatchRequest.bind(this), void 0];
      chain.unshift.apply(chain, requestInterceptorChain);
      chain.push.apply(chain, responseInterceptorChain);
      len = chain.length;
      promise = Promise.resolve(config2);
      while (i < len) {
        promise = promise.then(chain[i++], chain[i++]);
      }
      return promise;
    }
    len = requestInterceptorChain.length;
    let newConfig = config2;
    i = 0;
    while (i < len) {
      const onFulfilled = requestInterceptorChain[i++];
      const onRejected = requestInterceptorChain[i++];
      try {
        newConfig = onFulfilled(newConfig);
      } catch (error2) {
        onRejected.call(this, error2);
        break;
      }
    }
    try {
      promise = dispatchRequest.call(this, newConfig);
    } catch (error2) {
      return Promise.reject(error2);
    }
    i = 0;
    len = responseInterceptorChain.length;
    while (i < len) {
      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);
    }
    return promise;
  }
  getUri(config2) {
    config2 = mergeConfig(this.defaults, config2);
    const fullPath = buildFullPath(config2.baseURL, config2.url);
    return buildURL(fullPath, config2.params, config2.paramsSerializer);
  }
}
utils$1.forEach(["delete", "get", "head", "options"], function forEachMethodNoData(method) {
  Axios.prototype[method] = function(url, config2) {
    return this.request(mergeConfig(config2 || {}, {
      method,
      url,
      data: (config2 || {}).data
    }));
  };
});
utils$1.forEach(["post", "put", "patch"], function forEachMethodWithData(method) {
  function generateHTTPMethod(isForm) {
    return function httpMethod(url, data, config2) {
      return this.request(mergeConfig(config2 || {}, {
        method,
        headers: isForm ? {
          "Content-Type": "multipart/form-data"
        } : {},
        url,
        data
      }));
    };
  }
  Axios.prototype[method] = generateHTTPMethod();
  Axios.prototype[method + "Form"] = generateHTTPMethod(true);
});
const Axios$1 = Axios;
class CancelToken {
  constructor(executor) {
    if (typeof executor !== "function") {
      throw new TypeError("executor must be a function.");
    }
    let resolvePromise;
    this.promise = new Promise(function promiseExecutor(resolve) {
      resolvePromise = resolve;
    });
    const token = this;
    this.promise.then((cancel) => {
      if (!token._listeners)
        return;
      let i = token._listeners.length;
      while (i-- > 0) {
        token._listeners[i](cancel);
      }
      token._listeners = null;
    });
    this.promise.then = (onfulfilled) => {
      let _resolve;
      const promise = new Promise((resolve) => {
        token.subscribe(resolve);
        _resolve = resolve;
      }).then(onfulfilled);
      promise.cancel = function reject() {
        token.unsubscribe(_resolve);
      };
      return promise;
    };
    executor(function cancel(message2, config2, request) {
      if (token.reason) {
        return;
      }
      token.reason = new CanceledError(message2, config2, request);
      resolvePromise(token.reason);
    });
  }
  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason) {
      throw this.reason;
    }
  }
  /**
   * Subscribe to the cancel signal
   */
  subscribe(listener) {
    if (this.reason) {
      listener(this.reason);
      return;
    }
    if (this._listeners) {
      this._listeners.push(listener);
    } else {
      this._listeners = [listener];
    }
  }
  /**
   * Unsubscribe from the cancel signal
   */
  unsubscribe(listener) {
    if (!this._listeners) {
      return;
    }
    const index2 = this._listeners.indexOf(listener);
    if (index2 !== -1) {
      this._listeners.splice(index2, 1);
    }
  }
  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let cancel;
    const token = new CancelToken(function executor(c) {
      cancel = c;
    });
    return {
      token,
      cancel
    };
  }
}
const CancelToken$1 = CancelToken;
function spread(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
}
function isAxiosError(payload) {
  return utils$1.isObject(payload) && payload.isAxiosError === true;
}
const HttpStatusCode = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511
};
Object.entries(HttpStatusCode).forEach(([key, value2]) => {
  HttpStatusCode[value2] = key;
});
const HttpStatusCode$1 = HttpStatusCode;
function createInstance(defaultConfig) {
  const context = new Axios$1(defaultConfig);
  const instance2 = bind$3(Axios$1.prototype.request, context);
  utils$1.extend(instance2, Axios$1.prototype, context, { allOwnKeys: true });
  utils$1.extend(instance2, context, null, { allOwnKeys: true });
  instance2.create = function create2(instanceConfig) {
    return createInstance(mergeConfig(defaultConfig, instanceConfig));
  };
  return instance2;
}
const axios = createInstance(defaults$2);
axios.Axios = Axios$1;
axios.CanceledError = CanceledError;
axios.CancelToken = CancelToken$1;
axios.isCancel = isCancel;
axios.VERSION = VERSION;
axios.toFormData = toFormData;
axios.AxiosError = AxiosError;
axios.Cancel = axios.CanceledError;
axios.all = function all2(promises) {
  return Promise.all(promises);
};
axios.spread = spread;
axios.isAxiosError = isAxiosError;
axios.mergeConfig = mergeConfig;
axios.AxiosHeaders = AxiosHeaders$1;
axios.formToJSON = (thing) => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);
axios.getAdapter = adapters.getAdapter;
axios.HttpStatusCode = HttpStatusCode$1;
axios.default = axios;
const TpfConfirm = (ops) => {
  const option2 = typeof ops === "string" ? {} : ops;
  const {
    type = "confirm"
  } = option2;
  return new Promise((resolve, reject) => {
    Modal[type]({
      class: "tpf-model-confirm",
      centered: true,
      icon: createVNode("span", {
        "class": "anticon anticon-exclamation-circle"
      }, [createVNode(SvgIcon, {
        "iconClass": "el-error-circle"
      }, null)]),
      title: "确认删除",
      okText: "确定",
      cancelText: "取消",
      closable: false,
      onOk() {
        resolve("confirm");
      },
      onCancel: () => {
        reject("cancel");
      },
      ...option2
    });
  });
};
const _sfc_main$4B = {
  name: "FieldPanel",
  mixins: [i18n$1],
  components: { SvgIcon },
  props: {
    designer: Object
  },
  inject: ["getBannedWidgets", "getDesignerConfig"],
  data() {
    return {
      designerConfig: this.getDesignerConfig(),
      firstTab: "componentLib",
      scrollerHeight: 0,
      activeNames: [
        "containerTitle",
        "basicFieldTitle",
        "advancedFieldTitle",
        "yyzj",
        "customFieldTitle"
      ],
      containers: [],
      basicFields: [],
      advancedFields: [],
      customFields: [],
      businessFields: [],
      formTemplates,
      ftImages: []
    };
  },
  computed: {
    //
  },
  created() {
    this.loadWidgets();
  },
  mounted() {
    this.scrollerHeight = window.innerHeight - 56 + "px";
    addWindowResizeHandler(() => {
      this.$nextTick(() => {
        this.scrollerHeight = window.innerHeight - 56 + "px";
      });
    });
  },
  methods: {
    isBanned(wName) {
      return this.getBannedWidgets().indexOf(wName) > -1;
    },
    showFormTemplates() {
      if (this.designerConfig["formTemplates"] === void 0) {
        return true;
      }
      return !!this.designerConfig["formTemplates"];
    },
    loadWidgets() {
      this.containers = containers$1.map((con) => {
        return {
          key: generateId(),
          ...con,
          displayName: this.i18n2t(
            `designer.widgetLabel.${con.type}`,
            `extension.widgetLabel.${con.type}`
          )
        };
      }).filter((con) => {
        return !con.internal && !this.isBanned(con.type);
      });
      this.basicFields = basicFields.map((fld) => {
        return {
          key: generateId(),
          ...fld,
          displayName: this.i18n2t(
            `designer.widgetLabel.${fld.type}`,
            `extension.widgetLabel.${fld.type}`
          )
        };
      }).filter((fld) => {
        return !this.isBanned(fld.type);
      });
      this.advancedFields = advancedFields.map((fld) => {
        return {
          key: generateId(),
          ...fld,
          displayName: this.i18n2t(
            `designer.widgetLabel.${fld.type}`,
            `extension.widgetLabel.${fld.type}`
          )
        };
      }).filter((fld) => {
        return !this.isBanned(fld.type);
      });
      this.customFields = customFields.map((fld) => {
        return {
          key: generateId(),
          ...fld,
          displayName: this.i18n2t(
            `designer.widgetLabel.${fld.type}`,
            `extension.widgetLabel.${fld.type}`
          )
        };
      }).filter((fld) => {
        return !this.isBanned(fld.type);
      });
      this.businessFields = businessFields.map((fld) => {
        return {
          key: generateId(),
          ...fld,
          displayName: this.i18n2t(
            `designer.widgetLabel.${fld.type}`,
            `extension.widgetLabel.${fld.type}`
          )
        };
      }).filter((fld) => {
        return !this.isBanned(fld.type);
      });
    },
    handleContainerWidgetClone(origin) {
      return this.designer.copyNewContainerWidget(origin);
    },
    handleFieldWidgetClone(origin) {
      return this.designer.copyNewFieldWidget(origin);
    },
    /* draggable组件的move钩子是在内部子组件被拖放到其他draggable组件时触发！！ */
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    /* draggable组件的move钩子是在内部子组件被拖放到其他draggable组件时触发！！ */
    checkFieldMove(evt) {
      return this.designer.checkFieldMove(evt);
    },
    onContainerDragEnd(evt) {
    },
    addContainerByDbClick(container) {
      this.designer.addContainerByDbClick(container);
    },
    addFieldByDbClick(widget) {
      this.designer.addFieldByDbClick(widget);
    },
    loadFormTemplate(jsonUrl) {
      TpfConfirm({
        type: "confirm",
        content: this.i18nt("designer.setting.loadFormTemplateHint"),
        title: this.i18nt("render.hint.prompt"),
        okText: this.i18nt("render.hint.confirm"),
        cancelText: this.i18nt("render.hint.cancel")
      }).then(() => {
        axios.get(jsonUrl).then((res) => {
          let modifiedFlag = false;
          if (typeof res.data === "string") {
            modifiedFlag = this.designer.loadFormJson(JSON.parse(res.data));
          } else if (res.data.constructor === Object) {
            modifiedFlag = this.designer.loadFormJson(res.data);
          }
          if (modifiedFlag) {
            this.designer.emitHistoryChange();
          }
          this.$message.success(this.i18nt("designer.hint.loadFormTemplateSuccess"));
        }).catch((error2) => {
          this.$message.error(
            this.i18nt("designer.hint.loadFormTemplateFailed") + ":" + error2
          );
        });
      }).catch((error2) => {
        console.error(error2);
      });
    }
  }
};
const _hoisted_1$19 = { class: "side-scroll-bar" };
const _hoisted_2$D = { class: "panel-container" };
const _hoisted_3$t = ["title", "onDblclick"];
const _hoisted_4$h = ["title", "onDblclick"];
const _hoisted_5$b = ["title", "onDblclick"];
const _hoisted_7$8 = ["title", "onDblclick"];
function _sfc_render$4A(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_draggable = resolveComponent("draggable");
  const _component_a_collapse_panel = resolveComponent("a-collapse-panel");
  const _component_a_collapse = resolveComponent("a-collapse");
  const _component_a_tab_pane = resolveComponent("a-tab-pane");
  resolveComponent("a-popover");
  resolveComponent("a-button");
  resolveComponent("a-card");
  const _component_a_tabs = resolveComponent("a-tabs");
  return openBlock(), createElementBlock("div", _hoisted_1$19, [
    createElementVNode("div", _hoisted_2$D, [
      createVNode(_component_a_tabs, {
        activeKey: $data.firstTab,
        "onUpdate:activeKey": _cache[1] || (_cache[1] = ($event) => $data.firstTab = $event),
        class: "no-bottom-margin indent-left-margin"
      }, {
        default: withCtx(() => [
          createVNode(_component_a_tab_pane, { key: "componentLib" }, {
            tab: withCtx(() => [
              createElementVNode("span", null, [
                createVNode(_component_svg_icon, { "icon-class": "el-set-up" }),
                createTextVNode(" " + toDisplayString(_ctx.i18nt("designer.componentLib")), 1)
              ])
            ]),
            default: withCtx(() => [
              createVNode(_component_a_collapse, {
                activeKey: $data.activeNames,
                "onUpdate:activeKey": _cache[0] || (_cache[0] = ($event) => $data.activeNames = $event),
                class: "widget-collapse"
              }, {
                default: withCtx(() => [
                  createVNode(_component_a_collapse_panel, {
                    key: "containerTitle",
                    header: _ctx.i18nt("designer.containerTitle")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_draggable, {
                        tag: "ul",
                        list: $data.containers,
                        "item-key": "key",
                        group: { name: "dragGroup", pull: "clone", put: false },
                        clone: $options.handleContainerWidgetClone,
                        "ghost-class": "ghost",
                        sort: false,
                        move: $options.checkContainerMove,
                        onEnd: $options.onContainerDragEnd
                      }, {
                        item: withCtx(({ element: ctn }) => [
                          createElementVNode("li", {
                            class: "container-widget-item",
                            title: ctn.displayName,
                            onDblclick: ($event) => $options.addContainerByDbClick(ctn)
                          }, [
                            createElementVNode("span", null, [
                              createVNode(_component_svg_icon, {
                                "icon-class": ctn.icon,
                                "class-name": "color-svg-icon"
                              }, null, 8, ["icon-class"]),
                              createTextVNode(" " + toDisplayString(ctn.showName || _ctx.i18n2t(
                                `designer.widgetLabel.${ctn.type}`,
                                `extension.widgetLabel.${ctn.type}`
                              )), 1)
                            ])
                          ], 40, _hoisted_3$t)
                        ]),
                        _: 1
                      }, 8, ["list", "clone", "move", "onEnd"])
                    ]),
                    _: 1
                  }, 8, ["header"]),
                  createVNode(_component_a_collapse_panel, {
                    key: "basicFieldTitle",
                    header: _ctx.i18nt("designer.basicFieldTitle")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_draggable, {
                        tag: "ul",
                        list: $data.basicFields,
                        "item-key": "key",
                        group: { name: "dragGroup", pull: "clone", put: false },
                        move: $options.checkFieldMove,
                        clone: $options.handleFieldWidgetClone,
                        "ghost-class": "ghost",
                        sort: false
                      }, {
                        item: withCtx(({ element: fld }) => [
                          createElementVNode("li", {
                            class: "field-widget-item",
                            title: fld.displayName,
                            onDblclick: ($event) => $options.addFieldByDbClick(fld)
                          }, [
                            createElementVNode("span", null, [
                              createVNode(_component_svg_icon, {
                                "icon-class": fld.icon,
                                "class-name": "color-svg-icon"
                              }, null, 8, ["icon-class"]),
                              createTextVNode(" " + toDisplayString(fld.showName || _ctx.i18n2t(
                                `designer.widgetLabel.${fld.type}`,
                                `extension.widgetLabel.${fld.type}`
                              )), 1)
                            ])
                          ], 40, _hoisted_4$h)
                        ]),
                        _: 1
                      }, 8, ["list", "move", "clone"])
                    ]),
                    _: 1
                  }, 8, ["header"]),
                  createVNode(_component_a_collapse_panel, {
                    key: "advancedFieldTitle",
                    header: _ctx.i18nt("designer.advancedFieldTitle")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_draggable, {
                        tag: "ul",
                        list: $data.advancedFields,
                        "item-key": "key",
                        group: { name: "dragGroup", pull: "clone", put: false },
                        move: $options.checkFieldMove,
                        clone: $options.handleFieldWidgetClone,
                        "ghost-class": "ghost",
                        sort: false
                      }, {
                        item: withCtx(({ element: fld }) => [
                          createElementVNode("li", {
                            class: "field-widget-item",
                            title: fld.displayName,
                            onDblclick: ($event) => $options.addFieldByDbClick(fld)
                          }, [
                            createElementVNode("span", null, [
                              createVNode(_component_svg_icon, {
                                "icon-class": fld.icon,
                                "class-name": "color-svg-icon"
                              }, null, 8, ["icon-class"]),
                              createTextVNode(" " + toDisplayString(fld.showName || _ctx.i18n2t(
                                `designer.widgetLabel.${fld.type}`,
                                `extension.widgetLabel.${fld.type}`
                              )), 1)
                            ])
                          ], 40, _hoisted_5$b)
                        ]),
                        _: 1
                      }, 8, ["list", "move", "clone"])
                    ]),
                    _: 1
                  }, 8, ["header"]),
                  createCommentVNode("", true),
                  $data.customFields.length ? (openBlock(), createBlock(_component_a_collapse_panel, {
                    key: "customFieldTitle",
                    header: _ctx.i18nt("designer.customFieldTitle")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_draggable, {
                        tag: "ul",
                        list: $data.customFields,
                        "item-key": "key",
                        group: { name: "dragGroup", pull: "clone", put: false },
                        move: $options.checkFieldMove,
                        clone: $options.handleFieldWidgetClone,
                        "ghost-class": "ghost",
                        sort: false
                      }, {
                        item: withCtx(({ element: fld }) => [
                          createElementVNode("li", {
                            class: "field-widget-item",
                            title: fld.displayName,
                            onDblclick: ($event) => $options.addFieldByDbClick(fld)
                          }, [
                            createElementVNode("span", null, [
                              createVNode(_component_svg_icon, {
                                "icon-class": fld.icon,
                                "class-name": "color-svg-icon"
                              }, null, 8, ["icon-class"]),
                              createTextVNode(" " + toDisplayString(_ctx.i18n2t(
                                `designer.widgetLabel.${fld.type}`,
                                `extension.widgetLabel.${fld.type}`
                              )), 1)
                            ])
                          ], 40, _hoisted_7$8)
                        ]),
                        _: 1
                      }, 8, ["list", "move", "clone"])
                    ]),
                    _: 1
                  }, 8, ["header"])) : createCommentVNode("", true)
                ]),
                _: 1
              }, 8, ["activeKey"])
            ]),
            _: 1
          }),
          createCommentVNode("", true)
        ]),
        _: 1
      }, 8, ["activeKey"])
    ])
  ]);
}
const WidgetPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$4B, [["render", _sfc_render$4A], ["__scopeId", "data-v-dbc3e9b9"]]);
const emitter = {
  data() {
    return {
      vfEvents: {}
    };
  },
  methods: {
    emit$(eventName, data) {
      if (this.vfEvents[eventName]) {
        this.vfEvents[eventName].forEach((fn) => {
          fn(data);
        });
      }
    },
    on$(eventName, fn) {
      this.vfEvents[eventName] = this.vfEvents[eventName] || [];
      this.vfEvents[eventName].push(fn);
    },
    off$(eventName, fn) {
      if (this.vfEvents[eventName]) {
        if (fn === void 0 || fn === null) {
          this.vfEvents[eventName].length = 0;
          return;
        }
        for (let i = 0; i < this.vfEvents[eventName].length; i++) {
          if (this.vfEvents[eventName][i] === fn) {
            this.vfEvents[eventName].splice(i, 1);
            break;
          }
        }
      }
    },
    dispatch: function dispatch(componentName, eventName, params) {
      let parent = this.$parent || this.$root;
      let name2 = parent.$options.componentName;
      while (parent && (!name2 || name2 !== componentName)) {
        parent = parent.$parent;
        if (parent) {
          name2 = parent.$options.componentName;
        }
      }
      if (parent) {
        if (!!parent.emit$) {
          parent.emit$.call(parent, eventName, params);
          if (componentName === "VFormRender") {
            parent.$emit(eventName, ...params);
          }
        }
      }
    },
    broadcast: function broadcast(componentName, eventName, params) {
      if (!!this.widgetRefList) {
        Object.keys(this.widgetRefList).forEach((refName) => {
          const cmpName = this.widgetRefList[refName].$options.componentName;
          if (cmpName === componentName) {
            const foundRef = this.widgetRefList[refName];
            foundRef.emit$.call(foundRef, eventName, params);
          }
        });
      }
      if (!!this.refList) {
        Object.keys(this.refList).forEach((refName) => {
          const cmpName = this.refList[refName].$options.componentName;
          if (cmpName === componentName) {
            const foundRef = this.refList[refName];
            foundRef.emit$.call(foundRef, eventName, params);
          }
        });
      }
    }
  }
};
const _sfc_main$4A = {
  name: "container-item-wrapper",
  props: {
    widget: Object
  },
  computed: {
    customClass() {
      return !!this.widget.options.customClass ? this.widget.options.customClass.join(" ") : "";
    }
  }
};
function _sfc_render$4z(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["container-wrapper", [$options.customClass]]),
    style: normalizeStyle(_ctx.$attrs.containerStyle)
  }, [
    renderSlot(_ctx.$slots, "default")
  ], 6);
}
const ContainerItemWrapper = /* @__PURE__ */ _export_sfc$1(_sfc_main$4A, [["render", _sfc_render$4z]]);
const __vite_glob_0_0$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ContainerItemWrapper
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4z = {
  name: "form-item-wrapper",
  mixins: [i18n$1],
  components: {
    SvgIcon
  },
  props: {
    field: Object,
    designer: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    },
    rules: Array
  },
  inject: ["getFormConfig", "getSubFormFieldFlag", "getSubFormName"],
  computed: {
    formConfig() {
      return this.getFormConfig();
    },
    selected() {
      return !!this.designer && this.field.id === this.designer.selectedId;
    },
    label() {
      if (!!this.field.options.labelHidden) {
        return "";
      }
      return this.field.options.label;
    },
    labelWidth() {
      if (!!this.field.options.labelHidden) {
        return 0;
      }
      if (!!this.field.options.labelWidth) {
        return this.field.options.labelWidth;
      }
      if (!!this.designer) {
        return this.designer.formConfig.labelWidth;
      } else {
        return this.formConfig.labelWidth;
      }
    },
    labelAlign() {
      if (!!this.field.options.labelAlign) {
        return this.field.options.labelAlign;
      }
      if (!!this.designer) {
        return this.designer.formConfig.labelAlign || "right";
      } else {
        return this.formConfig.labelAlign || "right";
      }
    },
    size() {
      if (!!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    customClass() {
      return this.field.options.customClass.join(" ");
    },
    subFormName() {
      return !!this.getSubFormName ? this.getSubFormName() : "";
    },
    subFormItemFlag() {
      return !!this.getSubFormFieldFlag ? this.getSubFormFieldFlag() : false;
    }
  },
  created() {
  },
  methods: {
    // handleHidden() {
    //   if (this.designState) {
    //     return false;
    //   }
    //   const { onHidden, hidden } = this.field.options;
    //   if (hidden) return true;
    //   if (onHidden) {
    //     const onHiddenFn = new Function(onHidden);
    //     return onHiddenFn.call(this);
    //   }
    //   return false;
    // },
    selectField(field) {
      if (!!this.designer) {
        this.designer.setSelected(field);
        this.designer.emitEvent("field-selected", this.parentWidget);
      }
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    removeFieldWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    },
    getPropName() {
      if (this.subFormItemFlag && !this.designState) {
        return this.subFormName + "." + this.subFormRowIndex + "." + this.field.options.name;
      } else {
        return this.field.options.name;
      }
    }
  }
};
const _hoisted_1$18 = { class: "label-box" };
const _hoisted_2$C = {
  key: 0,
  class: "custom-label"
};
const _hoisted_3$s = { class: "label-text" };
const _hoisted_4$g = { class: "label-text" };
const _hoisted_5$a = { class: "label-text" };
const _hoisted_6$9 = { class: "label-text" };
const _hoisted_7$7 = { class: "label-text" };
const _hoisted_8$7 = {
  key: 0,
  class: "field-action"
};
const _hoisted_9$5 = ["title"];
const _hoisted_10$4 = ["title"];
const _hoisted_11$3 = ["title"];
const _hoisted_12$1 = ["title"];
const _hoisted_13$1 = {
  key: 1,
  class: "drag-handler background-opacity"
};
const _hoisted_14$1 = ["title"];
const _hoisted_15 = { key: 0 };
function _sfc_render$4y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["field-wrapper", { "design-time-bottom-margin": !!this.designer }])
  }, [
    !!$props.field.formItemFlag ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      labelCol: { style: { width: $options.labelWidth + "px" } },
      title: $props.field.options.labelTooltip,
      size: $options.size,
      rules: $props.rules,
      name: $options.getPropName(),
      labelAlign: $options.labelAlign,
      class: normalizeClass([$options.selected ? "selected" : "", $options.customClass]),
      onClick: _cache[0] || (_cache[0] = withModifiers(($event) => $options.selectField($props.field), ["stop"]))
    }, {
      label: withCtx(() => [
        createElementVNode("div", _hoisted_1$18, [
          !!$props.field.options.labelIconClass ? (openBlock(), createElementBlock("span", _hoisted_2$C, [
            $props.field.options.labelIconPosition === "front" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
              !!$props.field.options.labelTooltip ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                createVNode(_component_a_tooltip, {
                  title: $props.field.options.labelTooltip,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createVNode(_component_svg_icon, {
                      "icon-class": $props.field.options.labelIconClass
                    }, null, 8, ["icon-class"])
                  ]),
                  _: 1
                }, 8, ["title"]),
                createVNode(_component_a_tooltip, {
                  title: $options.label,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createElementVNode("div", _hoisted_3$s, toDisplayString($options.label), 1)
                  ]),
                  _: 1
                }, 8, ["title"])
              ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                createVNode(_component_svg_icon, {
                  "icon-class": $props.field.options.labelIconClass
                }, null, 8, ["icon-class"]),
                createVNode(_component_a_tooltip, {
                  title: $options.label,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createElementVNode("div", _hoisted_4$g, toDisplayString($options.label), 1)
                  ]),
                  _: 1
                }, 8, ["title"])
              ], 64))
            ], 64)) : $props.field.options.labelIconPosition === "rear" ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
              !!$props.field.options.labelTooltip ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                createVNode(_component_a_tooltip, {
                  title: $options.label,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createElementVNode("div", _hoisted_5$a, toDisplayString($options.label), 1)
                  ]),
                  _: 1
                }, 8, ["title"]),
                createVNode(_component_a_tooltip, {
                  title: $props.field.options.labelTooltip,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createVNode(_component_svg_icon, {
                      "icon-class": $props.field.options.labelIconClass
                    }, null, 8, ["icon-class"])
                  ]),
                  _: 1
                }, 8, ["title"])
              ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                createVNode(_component_a_tooltip, {
                  title: $options.label,
                  overlayStyle: { zIndex: 1e3 }
                }, {
                  default: withCtx(() => [
                    createElementVNode("div", _hoisted_6$9, toDisplayString($options.label), 1)
                  ]),
                  _: 1
                }, 8, ["title"]),
                createVNode(_component_svg_icon, {
                  "icon-class": $props.field.options.labelIconClass
                }, null, 8, ["icon-class"])
              ], 64))
            ], 64)) : createCommentVNode("", true)
          ])) : (openBlock(), createBlock(_component_a_tooltip, {
            key: 1,
            title: $options.label,
            overlayStyle: { zIndex: 1e3 }
          }, {
            default: withCtx(() => [
              createElementVNode("div", _hoisted_7$7, toDisplayString($options.label), 1)
            ]),
            _: 1
          }, 8, ["title"]))
        ])
      ]),
      default: withCtx(() => [
        renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ]),
      _: 3
    }, 8, ["labelCol", "title", "size", "rules", "name", "labelAlign", "class"])) : createCommentVNode("", true),
    !!this.designer ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
      $props.designer.selectedId === $props.field.id ? (openBlock(), createElementBlock("div", _hoisted_8$7, [
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.selectParentWidget"),
          onClick: _cache[1] || (_cache[1] = withModifiers(($event) => $options.selectParentWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-back" })
        ], 8, _hoisted_9$5),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 0,
          title: _ctx.i18nt("designer.hint.moveUpWidget"),
          onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.moveUpWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-up" })
        ], 8, _hoisted_10$4)) : createCommentVNode("", true),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 1,
          title: _ctx.i18nt("designer.hint.moveDownWidget"),
          onClick: _cache[3] || (_cache[3] = withModifiers(($event) => $options.moveDownWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-down" })
        ], 8, _hoisted_11$3)) : createCommentVNode("", true),
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.remove"),
          onClick: _cache[4] || (_cache[4] = withModifiers((...args) => $options.removeFieldWidget && $options.removeFieldWidget(...args), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-delete" })
        ], 8, _hoisted_12$1)
      ])) : createCommentVNode("", true),
      $props.designer.selectedId === $props.field.id ? (openBlock(), createElementBlock("div", _hoisted_13$1, [
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.dragHandler")
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-drag-move" })
        ], 8, _hoisted_14$1),
        createElementVNode("i", null, toDisplayString(_ctx.i18n2t(`designer.widgetLabel.${$props.field.type}`, `extension.widgetLabel.${$props.field.type}`)), 1),
        $props.field.options.hidden === true ? (openBlock(), createElementBlock("i", _hoisted_15, [
          createVNode(_component_svg_icon, { "icon-class": "el-hide" })
        ])) : createCommentVNode("", true)
      ])) : createCommentVNode("", true)
    ], 64)) : createCommentVNode("", true)
  ], 2);
}
const FormItemWrapper = /* @__PURE__ */ _export_sfc$1(_sfc_main$4z, [["render", _sfc_render$4y], ["__scopeId", "data-v-e7234e21"]]);
const __vite_glob_0_11$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: FormItemWrapper
}, Symbol.toStringTag, { value: "Module" }));
const getRegExp = function(validatorName2) {
  const commonRegExp = {
    number: "/^[-]?\\d+(\\.\\d+)?$/",
    letter: "/^[A-Za-z]+$/",
    letterAndNumber: "/^[A-Za-z0-9]+$/",
    mobilePhone: "/^[1][3-9][0-9]{9}$/",
    letterStartNumberIncluded: "/^[A-Za-z]+[A-Za-z\\d]*$/",
    noChinese: "/^[^一-龥]+$/",
    chinese: "/^[一-龥]+$/",
    email: "/^([-_A-Za-z0-9.]+)@([_A-Za-z0-9]+\\.)+[A-Za-z0-9]{2,3}$/",
    url: "/^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\/])+$/"
  };
  return commonRegExp[validatorName2];
};
const validateFn = function(validatorName, rule, value, defaultErrorMsg) {
  console.log("rule: ", rule);
  try {
    if (isNull(value) || value.length <= 0) {
      return Promise.resolve();
    }
    const reg = eval(getRegExp(validatorName));
    if (!reg.test(value)) {
      const errTxt = rule.errorMsg || defaultErrorMsg;
      console.log("errTxt: ", errTxt);
      return Promise.reject(errTxt);
    } else {
      return Promise.resolve();
    }
  } catch (error2) {
    return Promise.resolve();
  }
};
const FormValidators = {
  /* 数字 */
  number(rule2, value2) {
    return validateFn("number", rule2, value2, "[" + rule2.label + "]包含非数字字符");
  },
  /* 字母 */
  letter(rule2, value2) {
    return validateFn("letter", rule2, value2, "[" + rule2.label + "]包含非字母字符");
  },
  /* 字母和数字 */
  letterAndNumber(rule2, value2) {
    return validateFn("letterAndNumber", rule2, value2, "[" + rule2.label + "]只能输入字母或数字");
  },
  /* 手机号码 */
  mobilePhone(rule2, value2) {
    return validateFn("mobilePhone", rule2, value2, "[" + rule2.label + "]手机号码格式有误");
  },
  /* 禁止空白字符开头 */
  noBlankStart(rule2, value2) {
  },
  /* 禁止空白字符结尾 */
  noBlankEnd(rule2, value2) {
  },
  /* 字母开头，仅可包含数字 */
  letterStartNumberIncluded(rule2, value2) {
    return validateFn(
      "letterStartNumberIncluded",
      rule2,
      value2,
      "[" + rule2.label + "]必须以字母开头，可包含数字"
    );
  },
  /* 禁止中文输入 */
  noChinese(rule2, value2) {
    return validateFn("noChinese", rule2, value2, "[" + rule2.label + "]不可输入中文字符");
  },
  /* 必须中文输入 */
  chinese(rule2, value2) {
    return validateFn("chinese", rule2, value2, "[" + rule2.label + "]只能输入中文字符");
  },
  /* 电子邮箱 */
  email(rule2, value2) {
    return validateFn("email", rule2, value2, "[" + rule2.label + "]邮箱格式有误");
  },
  /* URL网址 */
  url(rule2, value2) {
    return validateFn("url", rule2, value2, "[" + rule2.label + "]URL格式有误");
  },
  /*测试
    test(rule, value) {
      //空值不校验
      if (isNull(value) || (value.length <= 0)) {
        return Promise.resolve()
      }
  
      if (value < 100) {
        return Promise.reject('[' + rule.label + ']不能小于100')
      } else {
        return Promise.resolve()
      }
    },
    */
  regExp(rule, value) {
    if (isNull(value) || value.length <= 0) {
      return Promise.resolve();
    }
    const pattern = eval(rule.regExp);
    if (!pattern.test(value)) {
      const errTxt = rule.errorMsg || "[" + rule.label + "]invalid value";
      return Promise.reject(errTxt);
    } else {
      return Promise.resolve();
    }
  }
};
const USER_INFO_KEY = "USER__INFO__";
const getUserInfo = () => {
  const userInfo = JSON.parse(localStorage.getItem(USER_INFO_KEY) || "{}");
  return userInfo;
};
const handleErrorStatus = {
  401: (data) => {
    message.error(data.statusText);
    window.location.href.toString();
  },
  403: (data) => {
    message.error(data.statusText);
  },
  404: (data) => {
    message.error(data.statusText);
  },
  418: (data) => {
    message.error(data.statusText);
  },
  429: (data) => {
    message.error(data.statusText);
  },
  500: (data) => {
    message.error("网络繁忙");
  },
  510: (data) => {
    message.error(data.data.errorMessage || data.statusText);
  },
  599: (data) => {
    message.error(data.data.errorMessage);
  }
};
var define_import_meta_env_default = { VITE_NODE_ENV: "production", VITE_APP_API_ROOT: "", VITE_APP_USE_MOCK: "1", VITE_APP_UCENTER_URL: "/redirect_usercenter", VITE_APP_GATEWAY_URL: "/redirect_geteway_url", BASE_URL: "/", MODE: "production", DEV: false, PROD: true, SSR: false };
const http = axios.create({
  timeout: 6e5,
  baseURL: define_import_meta_env_default.VITE_API_BASE_URL,
  withCredentials: true,
  // transformResponse: [
  //   function (data) {
  //     try {
  //       return JSONBig.parse(data);
  //     } catch (error) {
  //       console.log(error);
  //       return data;
  //     }
  //   }
  // ],
  validateStatus(status) {
    return status <= 600;
  }
});
http.interceptors.request.use((config2) => {
  var _a, _b, _c, _d, _e;
  const localUserInfo = getUserInfo();
  const tokenId = (_b = (_a = localUserInfo == null ? void 0 : localUserInfo.loginInfo) == null ? void 0 : _a.userToken) == null ? void 0 : _b.tokenId;
  const tenantId = (_d = (_c = localUserInfo == null ? void 0 : localUserInfo.loginInfo) == null ? void 0 : _c.userToken) == null ? void 0 : _d.tenantId;
  const employeeId = (_e = localUserInfo == null ? void 0 : localUserInfo.loginInfo) == null ? void 0 : _e.employeeId;
  config2.withCredentials = true;
  if (!config2.headers) {
    config2.headers = {};
  }
  config2.headers["mes-user"] = "{}";
  config2.headers["imeclient-type"] = "PC";
  config2.headers["imeclient-source"] = "tmgc2";
  config2.headers["imeclient-version"] = "1.0";
  config2.headers["accept-language"] = "zh-CN";
  if (tokenId) {
    config2.headers["Authorization"] = "Bearer " + tokenId;
  }
  if (tenantId) {
    config2.headers["imeclient-tenant-id"] = tenantId;
  }
  if (employeeId) {
    config2.headers["imeclient-employee-id"] = employeeId;
  }
  return config2;
});
http.interceptors.response.use(
  (data) => {
    if ([200].includes(data.status)) {
      const resData = data.data;
      if (data.config.responseType === "blob") {
        return data;
      }
      if (resData.success === true) {
        return resData;
      }
      message.error(resData.errorMessage || "接口报错");
      return Promise.reject(data);
    } else {
      if (handleErrorStatus[Number(data.status)]) {
        handleErrorStatus[Number(data.status)](data);
      } else {
        message.error(data.statusText);
      }
      return Promise.reject(data);
    }
  },
  (error2) => {
    if (error2.name === "CanceledError") {
      return Promise.reject(error2);
    }
    if (!error2.response) {
      return Promise.reject(error2);
    }
    console.log(error2);
    return Promise.reject(error2);
  }
);
const getHttp = () => {
  var _a;
  return ((_a = window.$vform) == null ? void 0 : _a.$http) || http;
};
async function fmtHttpParams(req, params = {}) {
  const request = getHttp();
  const { data, vfCtx, ...args } = params;
  const { http: http2, dataHandlerCode, dataReqHandlerCode } = req;
  if (!http2.url)
    return;
  const paramsMap = { ...getLocat(), ...data, ...vfCtx, ...args };
  const method = http2.method || "get";
  const sendParams = JSON.stringify({
    ...http2,
    method,
    params: http2.method === "get" ? { ...http2.params, ...data } : { ...http2.params },
    data: http2.method === "post" ? { ...http2.data, ...data } : { ...http2.data }
  });
  let p = JSON.parse(replaceVars(sendParams, paramsMap));
  if (dataReqHandlerCode) {
    const dataReqHandlerCodeFn = new Function("data", dataReqHandlerCode);
    p = dataReqHandlerCodeFn.call(this, p);
  }
  if (!p)
    return;
  console.log("请求参数 ", p);
  let dsResult = await request(p);
  if (dataHandlerCode) {
    const dhFn = new Function("data", dataHandlerCode);
    dsResult = dhFn.call(this, dsResult);
  }
  return dsResult;
}
const fieldMixin = {
  inject: [
    "refList",
    "getFormConfig",
    "globalOptionData",
    "globalModel",
    "getOptionData",
    "getGlobalDsv",
    "getReadMode",
    "getSubFormFieldFlag",
    "getSubFormName",
    "getDSResultCache"
  ],
  data() {
    return {
      fieldReadonlyFlag: false,
      loading: false
    };
  },
  computed: {
    formConfig() {
      return this.getFormConfig();
    },
    subFormName() {
      return !!this.getSubFormName ? this.getSubFormName() : "";
    },
    subFormItemFlag() {
      return !!this.getSubFormFieldFlag ? this.getSubFormFieldFlag() : false;
    },
    formModel: {
      cache: false,
      get() {
        return this.globalModel.formModel;
      }
    },
    isReadMode() {
      return !!this.getReadMode() ? true : this.fieldReadonlyFlag;
    },
    optionLabel() {
      if (this.fieldModel === null) {
        return "";
      } else {
        let resultContent = "";
        const { valueKey, labelKey } = this.field.options;
        this.field.options.optionItems.forEach((oItem) => {
          if (oItem[valueKey] === this.fieldModel || this.findInArray(this.fieldModel, oItem[valueKey]) !== -1) {
            resultContent = resultContent === "" ? oItem[labelKey] : resultContent + " " + oItem[labelKey];
          }
        });
        return resultContent;
      }
    }
  },
  methods: {
    handleHidden() {
      if (this.designState) {
        return false;
      }
      const { onHidden, hidden } = this.field.options;
      if (hidden)
        return true;
      if (onHidden) {
        const onHiddenFn = new Function(onHidden);
        return onHiddenFn.call(this);
      }
      return false;
    },
    handleDisabled() {
      if (this.designState) {
        return false;
      }
      const { onDisabled, disabled } = this.field.options;
      if (disabled)
        return true;
      if (onDisabled) {
        const disabledFn = new Function(onDisabled);
        return disabledFn.call(this);
      }
      return false;
    },
    findInArray(arrayObject, element) {
      if (!Array.isArray(arrayObject)) {
        return -1;
      }
      let foundIdx = -1;
      arrayObject.forEach((aItem, aIdx) => {
        if (aItem === element) {
          foundIdx = aIdx;
        }
      });
      return foundIdx;
    },
    //--------------------- 组件内部方法 begin ------------------//
    getPropName() {
      if (this.subFormItemFlag && !this.designState) {
        return this.subFormName + "." + this.subFormRowIndex + "." + this.field.options.name;
      } else {
        return this.field.options.name;
      }
    },
    initFieldModel() {
      if (!this.field.formItemFlag) {
        return;
      }
      if (!!this.subFormItemFlag && !this.designState) {
        const subFormData = this.formModel[this.subFormName];
        if ((subFormData === void 0 || subFormData[this.subFormRowIndex] === void 0 || subFormData[this.subFormRowIndex][this.field.options.name] === void 0) && this.field.options.defaultValue !== void 0) {
          this.fieldModel = this.field.options.defaultValue;
          subFormData[this.subFormRowIndex][this.field.options.name] = this.field.options.defaultValue;
        } else if (subFormData[this.subFormRowIndex][this.field.options.name] === void 0) {
          this.fieldModel = null;
          subFormData[this.subFormRowIndex][this.field.options.name] = null;
        } else {
          this.fieldModel = subFormData[this.subFormRowIndex][this.field.options.name];
        }
        setTimeout(() => {
          this.handleOnChangeForSubForm(
            this.fieldModel,
            this.oldFieldValue,
            [],
            subFormData,
            this.subFormRowId
          );
        }, 800);
        this.oldFieldValue = deepClone(this.fieldModel);
        this.initFileList();
        return;
      }
      if (this.formModel[this.field.options.name] === void 0 && this.field.options.defaultValue !== void 0) {
        this.fieldModel = this.field.options.defaultValue;
      } else if (this.formModel[this.field.options.name] === void 0) {
        this.formModel[this.field.options.name] = null;
      } else {
        this.fieldModel = this.formModel[this.field.options.name];
      }
      this.oldFieldValue = deepClone(this.fieldModel);
      this.initFileList();
    },
    initFileList() {
      if (this.field.type !== "picture-upload" && this.field.type !== "file-upload" || this.designState === true) {
        return;
      }
      if (!!this.fieldModel) {
        if (Array.isArray(this.fieldModel)) {
          this.fileList = deepClone(this.fieldModel);
        } else {
          this.fileList.splice(0, 0, deepClone(this.fieldModel));
        }
      }
    },
    initEventHandler() {
      this.on$("setFormData", (newFormData) => {
        if (!this.subFormItemFlag) {
          this.setValue(newFormData[this.field.options.name]);
        }
      });
      this.on$("field-value-changed", (values) => {
        if (!!this.subFormItemFlag) {
          const subFormData = this.formModel[this.subFormName];
          this.handleOnChangeForSubForm(values[0], values[1], subFormData, this.subFormRowId);
        } else {
          this.handleOnChange(values[0], values[1]);
        }
      });
      this.on$("loadOptionItemsFromDataSet", (dsName) => {
        this.loadOptionItemsFromDataSet(dsName);
      });
      this.on$("reloadOptionItems", (widgetNames) => {
        if (widgetNames.length === 0 || widgetNames.indexOf(this.field.options.name) > -1) {
          this.initOptionItems(true);
        }
      });
    },
    handleOnCreated() {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onCreated) {
        const customFunc = new Function(this.field.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onMounted) {
        const mountFunc = new Function(this.field.options.onMounted);
        mountFunc.call(this);
      }
    },
    registerToRefList(oldRefName) {
      if (this.refList !== null && !!this.field.options.name) {
        if (this.subFormItemFlag && !this.designState) {
          if (!!oldRefName) {
            delete this.refList[oldRefName + "@row" + this.subFormRowId];
          }
          this.refList[this.field.options.name + "@row" + this.subFormRowId] = this;
        } else {
          if (!!oldRefName) {
            delete this.refList[oldRefName];
          }
          this.refList[this.field.options.name] = this;
        }
      }
    },
    unregisterFromRefList() {
      if (this.refList !== null && !!this.field.options.name) {
        const oldRefName = this.field.options.name;
        if (this.subFormItemFlag && !this.designState) {
          delete this.refList[oldRefName + "@row" + this.subFormRowId];
        } else {
          delete this.refList[oldRefName];
        }
      }
    },
    clearOptionItems() {
      if (!!this.field.options.dsEnabled) {
        this.field.options.optionItems.splice(0, this.field.options.optionItems.length);
      }
    },
    async initOptionItems(keepSelected) {
      var _a;
      if (this.designState) {
        return;
      }
      if (this.loading)
        return;
      this.loading = true;
      if (["radio", "checkbox", "select", "cascader", "treeSelect"].includes(this.field.type)) {
        if (!!this.field.options.dsEnabled && ((_a = this.field.options.http) == null ? void 0 : _a.url)) {
          try {
            const dsResult = await fmtHttpParams.call(this, this.field.options, {
              fieldCode: this.field.options.name
            });
            if (isArray$4(dsResult)) {
              this.loadOptions(dsResult);
            }
            if (isArray$4(dsResult.list)) {
              if (this.field.options.loadingPage) {
                this.pager.total = dsResult.total || 0;
                this.pager.totalPage = dsResult.totalPage || 0;
                this.loadOptions([...this.getOptionItems(), ...dsResult.list]);
              } else {
                this.loadOptions(dsResult.list);
              }
            }
          } catch (err) {
            console.error("err: ", err);
          }
        }
        const newOptionItems = this.getOptionData();
        if (!!newOptionItems && newOptionItems.hasOwnProperty(this.field.options.name)) {
          if (!!keepSelected) {
            this.reloadOptions(newOptionItems[this.field.options.name]);
          } else {
            this.loadOptions(newOptionItems[this.field.options.name]);
          }
        }
        this.loading = false;
      }
    },
    loadOptionItemsFromDataSet(dsName) {
      if (this.designState) {
        return;
      }
      if (this.field.type !== "radio" && this.field.type !== "checkbox" && this.field.type !== "select" && this.field.type !== "cascader") {
        return;
      }
      if (!this.field.options.dsEnabled || !this.field.options.dsName || !this.field.options.dataSetName || this.field.options.dsName !== dsName) {
        return;
      }
      const dataCache = this.getDSResultCache();
      const dSetName = this.field.options.dataSetName;
      if (!!dataCache && !!dataCache[dsName] && !!dataCache[dsName][dSetName]) {
        this.field.options.optionItems.splice(0, this.field.options.optionItems.length);
        this.loadOptions(dataCache[dsName][dSetName]);
      }
    },
    refreshDefaultValue() {
      if (this.designState === true && this.field.options.defaultValue !== void 0) {
        this.fieldModel = this.field.options.defaultValue;
      }
    },
    clearFieldRules() {
      if (!this.field.formItemFlag) {
        return;
      }
      this.rules.splice(0, this.rules.length);
    },
    buildFieldRules() {
      if (!this.field.formItemFlag || this.field.options.hidden) {
        return;
      }
      this.rules.splice(0, this.rules.length);
      if (!!this.field.options.required) {
        this.rules.push({
          required: true,
          //trigger: ['blur', 'change'],
          trigger: [
            "blur"
          ],
          message: this.field.options.requiredHint || this.i18nt("render.hint.fieldRequired")
        });
      }
      if (!!this.field.options.validation) {
        const vldName = this.field.options.validation;
        if (!!FormValidators[vldName]) {
          this.rules.push({
            validator: FormValidators[vldName],
            trigger: ["blur", "change"],
            label: this.field.options.label,
            errorMsg: this.field.options.validationHint
          });
        } else {
          this.rules.push({
            validator: FormValidators["regExp"],
            trigger: ["blur", "change"],
            regExp: vldName,
            label: this.field.options.label,
            errorMsg: this.field.options.validationHint
          });
        }
      }
      if (!!this.field.options.onValidate) {
        const customFn = (rule2, value2) => {
          const tmpFunc = new Function("rule", "value", this.field.options.onValidate);
          return tmpFunc.call(this, rule2, value2);
        };
        this.rules.push({
          validator: customFn,
          trigger: ["blur"],
          label: this.field.options.label
        });
      }
    },
    /**
     * 禁用字段值变动触发表单校验
     */
    disableChangeValidate() {
      if (!this.rules) {
        return;
      }
      this.rules.forEach((rule2) => {
        if (!!rule2.trigger) {
          rule2.trigger.splice(0, rule2.trigger.length);
        }
      });
    },
    /**
     * 启用字段值变动触发表单校验
     */
    enableChangeValidate() {
      if (!this.rules) {
        return;
      }
      this.rules.forEach((rule2) => {
        if (!!rule2.trigger) {
          rule2.trigger.push("blur");
          rule2.trigger.push("change");
        }
      });
    },
    disableOptionOfList(optionList, optionValue) {
      if (!!optionList && optionList.length > 0) {
        optionList.forEach((opt) => {
          if (opt.value === optionValue) {
            opt.disabled = true;
          }
        });
      }
    },
    enableOptionOfList(optionList, optionValue) {
      if (!!optionList && optionList.length > 0) {
        optionList.forEach((opt) => {
          if (opt.value === optionValue) {
            opt.disabled = false;
          }
        });
      }
    },
    //--------------------- 组件内部方法 end ------------------//
    //--------------------- 事件处理 begin ------------------//
    emitFieldDataChange(newValue, oldValue) {
      if (newValue) {
        newValue = newValue.target ? newValue.target.value : newValue;
      }
      this.emit$("field-value-changed", [newValue, oldValue]);
      this.dispatch("VFormRender", "fieldChange", [
        this.field.options.name,
        newValue,
        oldValue,
        this.subFormName,
        this.subFormRowIndex
      ]);
    },
    syncUpdateFormModel(value2) {
      if (!!this.designState) {
        return;
      }
      if (!!this.subFormItemFlag) {
        const subFormData = this.formModel[this.subFormName] || [{}];
        const subFormDataRow = subFormData[this.subFormRowIndex];
        if (!!subFormDataRow) {
          subFormDataRow[this.field.options.name] = value2;
        }
      } else {
        this.formModel[this.field.options.name] = value2;
      }
    },
    handleChangeEvent(value2) {
      if (value2) {
        value2 = value2.target ? value2.target.value : value2;
      }
      if (!!this.designState) {
        return;
      }
      this.syncUpdateFormModel(value2);
      this.emitFieldDataChange(value2, this.oldFieldValue);
      this.oldFieldValue = deepClone(value2);
      this.dispatch("VFormRender", "fieldValidation", [this.getPropName()]);
    },
    handleFocusCustomEvent(event2) {
      if (!!this.designState) {
        return;
      }
      this.oldFieldValue = deepClone(this.fieldModel);
      if (!!this.field.options.onFocus) {
        const customFn = new Function("event", this.field.options.onFocus);
        customFn.call(this, event2);
      }
    },
    handleBlurCustomEvent(event2) {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onBlur) {
        const customFn = new Function("event", this.field.options.onBlur);
        customFn.call(this, event2);
      }
    },
    handleInputCustomEvent(value2) {
      if (value2) {
        value2 = value2.target ? value2.target.value : value2;
      }
      if (!!this.designState) {
        return;
      }
      this.syncUpdateFormModel(value2);
      this.dispatch("VFormRender", "fieldValidation", [this.getPropName()]);
      if (!!this.field.options.onInput) {
        const customFn = new Function("value", this.field.options.onInput);
        customFn.call(this, value2);
      }
    },
    emitAppendButtonClick() {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onAppendButtonClick) {
        const customFn = new Function(this.field.options.onAppendButtonClick);
        customFn.call(this);
      } else {
        this.dispatch("VFormRender", "appendButtonClick", [this]);
      }
    },
    handleOnChange(val, oldVal, ops = []) {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onChange) {
        const changeFn = new Function("value", "oldValue", "ops", this.field.options.onChange);
        changeFn.call(this, val, oldVal, ops[0]);
      }
    },
    handleOnChangeForSubForm(val, oldVal, ops = [], subFormData, rowId) {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onChange) {
        const changeFn = new Function(
          "value",
          "oldValue",
          "ops",
          "subFormData",
          "rowId",
          this.field.options.onChange
        );
        changeFn.call(this, val, oldVal, ops[0], subFormData, rowId);
      }
    },
    onClick() {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onClick) {
        const customFn = new Function(this.field.options.onClick);
        return customFn.call(this);
      } else {
        this.dispatch("VFormRender", "buttonClick", [this]);
      }
    },
    handleButtonWidgetClick() {
      if (!!this.designState) {
        return;
      }
      if (!!this.field.options.onClick) {
        const customFn = new Function(this.field.options.onClick);
        return customFn.call(this);
      } else {
        this.dispatch("VFormRender", "buttonClick", [this]);
      }
    },
    /**
     * 下拉框右边搜索按钮
     */
    handleClickIcon() {
      if (!!this.designState) {
        return;
      }
      if (this.handleDisabled()) {
        return;
      }
      if (!!this.field.options.onClickIcon) {
        const onClickIconFn = new Function(this.field.options.onClickIcon);
        onClickIconFn.call(this);
      }
    },
    // remoteQuery(keyword) {
    //   if (!!this.designState) {
    //     //设计状态不触发事件
    //     return;
    //   }
    //   if (!!this.field.options.onRemoteQuery) {
    //     const remoteFn = new Function('keyword', this.field.options.onRemoteQuery);
    //     remoteFn.call(this, keyword);
    //   }
    // },
    //--------------------- 事件处理 end ------------------//
    //--------------------- 以下为组件支持外部调用的API方法 begin ------------------//
    /* 提示：用户可自行扩充这些方法！！！ */
    getFormRef() {
      return this.refList["v_form_ref"];
    },
    getWidgetRef(widgetName, showError) {
      const foundRef = this.refList[widgetName];
      if (!foundRef && !!showError) {
        this.$message.error(this.i18nt("render.hint.refNotFound") + widgetName);
      }
      return foundRef;
    },
    getFieldEditor() {
      return this.$refs["fieldEditor"];
    },
    showFileList(list) {
      if (!isArray$4(list))
        return [];
      const res = list.map((item, uid) => ({
        ...item,
        name: item.fileName,
        uid
      }));
      return res;
    },
    /*
      注意：VFormRender的setFormData方法不会触发子表单内field-widget的setValue方法，
      因为setFormData方法调用后，子表单内所有field-widget组件已被清空，接收不到setFormData事件！！
    */
    setValue(newValue, disableChangeEvent = false) {
      if (newValue) {
        newValue = newValue.target ? newValue.target.value : newValue;
      }
      if (!!this.field.formItemFlag) {
        const oldValue = deepClone(this.fieldModel);
        if (this.field.type === "file-upload") {
          newValue = this.showFileList(newValue || []);
        } else if (this.field.type === "code-editor") {
          this.$refs.fieldEditor.setValue(newValue);
        }
        this.fieldModel = newValue;
        this.initFileList();
        this.syncUpdateFormModel(newValue);
        if (!disableChangeEvent) {
          this.emitFieldDataChange(newValue, oldValue);
        }
      }
    },
    getValue() {
      {
        return this.fieldModel;
      }
    },
    resetField() {
      const defaultValue = this.field.options.defaultValue;
      this.setValue(defaultValue);
      this.$nextTick(() => {
      });
      if (this.field.type === "picture-upload" || this.field.type === "file-upload") {
        this.fileList.splice(0, this.fileList.length);
        this.handleChangeEvent(this.fileList);
      }
    },
    setWidgetOption(optionName, optionValue) {
      if (this.field.options.hasOwnProperty(optionName)) {
        this.field.options[optionName] = optionValue;
      }
    },
    setReadonly(flag) {
      this.field.options.readonly = flag;
    },
    setDisabled(flag) {
      this.field.options.disabled = flag;
    },
    setAppendButtonVisible(flag) {
      this.field.options.appendButton = flag;
    },
    setAppendButtonDisabled(flag) {
      this.field.options.appendButtonDisabled = flag;
    },
    setHidden(flag) {
      this.field.options.hidden = flag;
      if (!!flag) {
        this.clearFieldRules();
      } else {
        this.buildFieldRules();
      }
    },
    setRequired(flag) {
      this.field.options.required = flag;
      this.buildFieldRules();
      if (!this.designState && !flag) {
        this.clearValidate();
      }
    },
    /**
     * 清除字段校验提示
     */
    clearValidate() {
      if (!!this.designState) {
        return;
      }
      this.getFormRef().getNativeForm().clearValidate(this.getPropName());
    },
    getVfCtx() {
      return this.getFormRef().vfCtx;
    },
    setLabel(newLabel) {
      this.field.options.label = newLabel;
    },
    focus() {
      if (!!this.getFieldEditor() && !!this.getFieldEditor().focus) {
        this.getFieldEditor().focus();
      }
    },
    clearSelectedOptions() {
      if (this.field.type !== "checkbox" && this.field.type !== "radio" && this.field.type !== "select") {
        return;
      }
      if (this.field.type === "checkbox" || this.field.type === "select" && this.field.options.multiple) {
        this.fieldModel = [];
      } else {
        this.fieldModel = "";
      }
    },
    /**
     * 加载选项，并清空字段值
     * @param options
     */
    loadOptions(options) {
      this.field.options.optionItems = translateOptionItems(
        options,
        this.field.type,
        this.field.options.labelKey || "label",
        this.field.options.valueKey || "value"
      );
    },
    /**
     * 重新加载选项，不清空字段值
     * @param options
     */
    reloadOptions(options) {
      this.field.options.optionItems = translateOptionItems(
        options,
        this.field.type,
        this.field.options.labelKey || "label",
        this.field.options.valueKey || "value"
      );
    },
    disableOption(optionValue) {
      this.disableOptionOfList(this.field.options.optionItems, optionValue);
    },
    enableOption(optionValue) {
      this.enableOptionOfList(this.field.options.optionItems, optionValue);
    },
    /**
     * 返回选择项
     * @returns {*}
     */
    getOptionItems() {
      return this.field.options.optionItems;
    },
    setUploadHeader(name2, value2) {
      this.uploadHeaders[name2] = value2;
    },
    setUploadData(name2, value2) {
      this.uploadData[name2] = value2;
    },
    setToolbar(customToolbar) {
      this.customToolbar = customToolbar;
    },
    /**
     * 是否子表单内嵌的字段组件
     * @returns {boolean}
     */
    isSubFormItem() {
      return this.subFormItemFlag;
    },
    /**
     * 是否子表单内嵌的字段组件
     * @returns {boolean}
     */
    isSubFormField() {
      return this.subFormItemFlag;
    },
    /**
     * 设置或取消设置字段只读查看模式
     * @param readonlyFlag
     */
    setReadMode(readonlyFlag = true) {
      this.fieldReadonlyFlag = readonlyFlag;
    },
    /**
     * 动态增加自定义css样式
     * @param className
     */
    addCssClass(className) {
      if (!this.field.options.customClass) {
        this.field.options.customClass = [className];
      } else {
        this.field.options.customClass.push(className);
      }
    },
    /**
     * 动态移除自定义css样式
     * @param className
     */
    removeCssClass(className) {
      if (!this.field.options.customClass) {
        return;
      }
      let foundIdx = -1;
      this.field.options.customClass.map((cc, idx) => {
        if (cc === className) {
          foundIdx = idx;
        }
      });
      if (foundIdx > -1) {
        this.field.options.customClass.splice(foundIdx, 1);
      }
    }
    //--------------------- 以上为组件支持外部调用的API方法 end ------------------//
  }
};
function e(e2, t) {
  t && (e2.super_ = t, e2.prototype = Object.create(t.prototype, { constructor: { value: e2, enumerable: false, writable: true, configurable: true } }));
}
const nativeToString$1 = Object.prototype.toString;
const nativeHasOwnProperty$1 = Object.prototype.hasOwnProperty;
function isUndefined$2(obj) {
  return obj === void 0;
}
function isDefined(obj) {
  return obj !== void 0;
}
function isNil(obj) {
  return obj == null;
}
function isArray$2(obj) {
  return nativeToString$1.call(obj) === "[object Array]";
}
function isObject(obj) {
  return nativeToString$1.call(obj) === "[object Object]";
}
function isNumber(obj) {
  return nativeToString$1.call(obj) === "[object Number]";
}
function isFunction(obj) {
  const tag = nativeToString$1.call(obj);
  return tag === "[object Function]" || tag === "[object AsyncFunction]" || tag === "[object GeneratorFunction]" || tag === "[object AsyncGeneratorFunction]" || tag === "[object Proxy]";
}
function isString(obj) {
  return nativeToString$1.call(obj) === "[object String]";
}
function has$1(target, key) {
  return nativeHasOwnProperty$1.call(target, key);
}
function find$1(collection2, matcher) {
  const matchFn = toMatcher(matcher);
  let match;
  forEach$1(collection2, function(val, key) {
    if (matchFn(val, key)) {
      match = val;
      return false;
    }
  });
  return match;
}
function findIndex(collection2, matcher) {
  const matchFn = toMatcher(matcher);
  let idx = isArray$2(collection2) ? -1 : void 0;
  forEach$1(collection2, function(val, key) {
    if (matchFn(val, key)) {
      idx = key;
      return false;
    }
  });
  return idx;
}
function filter(collection2, matcher) {
  const matchFn = toMatcher(matcher);
  let result2 = [];
  forEach$1(collection2, function(val, key) {
    if (matchFn(val, key)) {
      result2.push(val);
    }
  });
  return result2;
}
function forEach$1(collection2, iterator) {
  let val, result2;
  if (isUndefined$2(collection2)) {
    return;
  }
  const convertKey = isArray$2(collection2) ? toNum$1 : identity$1;
  for (let key in collection2) {
    if (has$1(collection2, key)) {
      val = collection2[key];
      result2 = iterator(val, convertKey(key));
      if (result2 === false) {
        return val;
      }
    }
  }
}
function reduce(collection2, iterator, result2) {
  forEach$1(collection2, function(value2, idx) {
    result2 = iterator(result2, value2, idx);
  });
  return result2;
}
function every(collection2, matcher) {
  return !!reduce(collection2, function(matches2, val, key) {
    return matches2 && matcher(val, key);
  }, true);
}
function some(collection2, matcher) {
  return !!find$1(collection2, matcher);
}
function map$1(collection2, fn) {
  let result2 = [];
  forEach$1(collection2, function(val, key) {
    result2.push(fn(val, key));
  });
  return result2;
}
function matchPattern(pattern2) {
  return function(el) {
    return every(pattern2, function(val, key) {
      return el[key] === val;
    });
  };
}
function toMatcher(matcher) {
  return isFunction(matcher) ? matcher : (e2) => {
    return e2 === matcher;
  };
}
function identity$1(arg) {
  return arg;
}
function toNum$1(arg) {
  return Number(arg);
}
function debounce(fn, timeout) {
  let timer;
  let lastArgs;
  let lastThis;
  let lastNow;
  function fire(force) {
    let now = Date.now();
    let scheduledDiff = force ? 0 : lastNow + timeout - now;
    if (scheduledDiff > 0) {
      return schedule(scheduledDiff);
    }
    fn.apply(lastThis, lastArgs);
    clear2();
  }
  function schedule(timeout2) {
    timer = setTimeout(fire, timeout2);
  }
  function clear2() {
    if (timer) {
      clearTimeout(timer);
    }
    timer = lastNow = lastArgs = lastThis = void 0;
  }
  function flush() {
    if (timer) {
      fire(true);
    }
    clear2();
  }
  function callback(...args) {
    lastNow = Date.now();
    lastArgs = args;
    lastThis = this;
    if (!timer) {
      schedule(timeout);
    }
  }
  callback.flush = flush;
  callback.cancel = clear2;
  return callback;
}
function bind$2(fn, target) {
  return fn.bind(target);
}
function assign$1(target, ...others) {
  return Object.assign(target, ...others);
}
function set$1(target, path, value2) {
  let currentTarget = target;
  forEach$1(path, function(key, idx) {
    if (typeof key !== "number" && typeof key !== "string") {
      throw new Error("illegal key type: " + typeof key + ". Key should be of type number or string.");
    }
    if (key === "constructor") {
      throw new Error("illegal key: constructor");
    }
    if (key === "__proto__") {
      throw new Error("illegal key: __proto__");
    }
    let nextKey = path[idx + 1];
    let nextTarget = currentTarget[key];
    if (isDefined(nextKey) && isNil(nextTarget)) {
      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];
    }
    if (isUndefined$2(nextKey)) {
      if (isUndefined$2(value2)) {
        delete currentTarget[key];
      } else {
        currentTarget[key] = value2;
      }
    } else {
      currentTarget = nextTarget;
    }
  });
  return target;
}
function pick(target, properties) {
  let result2 = {};
  let obj = Object(target);
  forEach$1(properties, function(prop) {
    if (prop in obj) {
      result2[prop] = target[prop];
    }
  });
  return result2;
}
function omit(target, properties) {
  let result2 = {};
  let obj = Object(target);
  forEach$1(obj, function(prop, key) {
    if (properties.indexOf(key) === -1) {
      result2[key] = prop;
    }
  });
  return result2;
}
var DEFAULT_RENDER_PRIORITY$1 = 1e3;
function BaseRenderer(eventBus2, renderPriority) {
  var self2 = this;
  renderPriority = renderPriority || DEFAULT_RENDER_PRIORITY$1;
  eventBus2.on(["render.shape", "render.connection"], renderPriority, function(evt, context) {
    var type = evt.type, element = context.element, visuals = context.gfx, attrs = context.attrs;
    if (self2.canRender(element)) {
      if (type === "render.shape") {
        return self2.drawShape(visuals, element, attrs);
      } else {
        return self2.drawConnection(visuals, element, attrs);
      }
    }
  });
  eventBus2.on(["render.getShapePath", "render.getConnectionPath"], renderPriority, function(evt, element) {
    if (self2.canRender(element)) {
      if (evt.type === "render.getShapePath") {
        return self2.getShapePath(element);
      } else {
        return self2.getConnectionPath(element);
      }
    }
  });
}
BaseRenderer.prototype.canRender = function(element) {
};
BaseRenderer.prototype.drawShape = function(visuals, shape) {
};
BaseRenderer.prototype.drawConnection = function(visuals, connection) {
};
BaseRenderer.prototype.getShapePath = function(shape) {
};
BaseRenderer.prototype.getConnectionPath = function(connection) {
};
function is$1(element, type) {
  var bo = getBusinessObject(element);
  return bo && typeof bo.$instanceOf === "function" && bo.$instanceOf(type);
}
function isAny(element, types2) {
  return some(types2, function(t) {
    return is$1(element, t);
  });
}
function getBusinessObject(element) {
  return element && element.businessObject || element;
}
function getDi(element) {
  return element && element.di;
}
function isExpanded(element, di) {
  if (is$1(element, "bpmn:CallActivity")) {
    return false;
  }
  if (is$1(element, "bpmn:SubProcess")) {
    di = di || getDi(element);
    if (di && is$1(di, "bpmndi:BPMNPlane")) {
      return true;
    }
    return di && !!di.isExpanded;
  }
  if (is$1(element, "bpmn:Participant")) {
    return !!getBusinessObject(element).processRef;
  }
  return true;
}
function isEventSubProcess(element) {
  return element && !!getBusinessObject(element).triggeredByEvent;
}
function isConnection(value2) {
  return isObject(value2) && has$1(value2, "waypoints");
}
var DEFAULT_LABEL_SIZE$1 = {
  width: 90,
  height: 20
};
var FLOW_LABEL_INDENT = 15;
function isLabelExternal(semantic) {
  return is$1(semantic, "bpmn:Event") || is$1(semantic, "bpmn:Gateway") || is$1(semantic, "bpmn:DataStoreReference") || is$1(semantic, "bpmn:DataObjectReference") || is$1(semantic, "bpmn:DataInput") || is$1(semantic, "bpmn:DataOutput") || is$1(semantic, "bpmn:SequenceFlow") || is$1(semantic, "bpmn:MessageFlow") || is$1(semantic, "bpmn:Group");
}
function getFlowLabelPosition(waypoints) {
  var mid = waypoints.length / 2 - 1;
  var first = waypoints[Math.floor(mid)];
  var second = waypoints[Math.ceil(mid + 0.01)];
  var position = getWaypointsMid(waypoints);
  var angle = Math.atan((second.y - first.y) / (second.x - first.x));
  var x = position.x, y = position.y;
  if (Math.abs(angle) < Math.PI / 2) {
    y -= FLOW_LABEL_INDENT;
  } else {
    x += FLOW_LABEL_INDENT;
  }
  return { x, y };
}
function getWaypointsMid(waypoints) {
  var mid = waypoints.length / 2 - 1;
  var first = waypoints[Math.floor(mid)];
  var second = waypoints[Math.ceil(mid + 0.01)];
  return {
    x: first.x + (second.x - first.x) / 2,
    y: first.y + (second.y - first.y) / 2
  };
}
function getExternalLabelMid(element) {
  if (element.waypoints) {
    return getFlowLabelPosition(element.waypoints);
  } else if (is$1(element, "bpmn:Group")) {
    return {
      x: element.x + element.width / 2,
      y: element.y + DEFAULT_LABEL_SIZE$1.height / 2
    };
  } else {
    return {
      x: element.x + element.width / 2,
      y: element.y + element.height + DEFAULT_LABEL_SIZE$1.height / 2
    };
  }
}
function getExternalLabelBounds(di, element) {
  var mid, size, bounds, label = di.label;
  if (label && label.bounds) {
    bounds = label.bounds;
    size = {
      width: Math.max(DEFAULT_LABEL_SIZE$1.width, bounds.width),
      height: bounds.height
    };
    mid = {
      x: bounds.x + bounds.width / 2,
      y: bounds.y + bounds.height / 2
    };
  } else {
    mid = getExternalLabelMid(element);
    size = DEFAULT_LABEL_SIZE$1;
  }
  return assign$1({
    x: mid.x - size.width / 2,
    y: mid.y - size.height / 2
  }, size);
}
function getLabelAttr(semantic) {
  if (is$1(semantic, "bpmn:FlowElement") || is$1(semantic, "bpmn:Participant") || is$1(semantic, "bpmn:Lane") || is$1(semantic, "bpmn:SequenceFlow") || is$1(semantic, "bpmn:MessageFlow") || is$1(semantic, "bpmn:DataInput") || is$1(semantic, "bpmn:DataOutput")) {
    return "name";
  }
  if (is$1(semantic, "bpmn:TextAnnotation")) {
    return "text";
  }
  if (is$1(semantic, "bpmn:Group")) {
    return "categoryValueRef";
  }
}
function getCategoryValue(semantic) {
  var categoryValueRef = semantic["categoryValueRef"];
  if (!categoryValueRef) {
    return "";
  }
  return categoryValueRef.value || "";
}
function getLabel(element) {
  var semantic = element.businessObject, attr2 = getLabelAttr(semantic);
  if (attr2) {
    if (attr2 === "categoryValueRef") {
      return getCategoryValue(semantic);
    }
    return semantic[attr2] || "";
  }
}
function ensureImported(element, target) {
  if (element.ownerDocument !== target.ownerDocument) {
    try {
      return target.ownerDocument.importNode(element, true);
    } catch (e2) {
    }
  }
  return element;
}
function appendTo(element, target) {
  return target.appendChild(ensureImported(element, target));
}
function append(target, node2) {
  appendTo(node2, target);
  return target;
}
var LENGTH_ATTR = 2;
var CSS_PROPERTIES = {
  "alignment-baseline": 1,
  "baseline-shift": 1,
  "clip": 1,
  "clip-path": 1,
  "clip-rule": 1,
  "color": 1,
  "color-interpolation": 1,
  "color-interpolation-filters": 1,
  "color-profile": 1,
  "color-rendering": 1,
  "cursor": 1,
  "direction": 1,
  "display": 1,
  "dominant-baseline": 1,
  "enable-background": 1,
  "fill": 1,
  "fill-opacity": 1,
  "fill-rule": 1,
  "filter": 1,
  "flood-color": 1,
  "flood-opacity": 1,
  "font": 1,
  "font-family": 1,
  "font-size": LENGTH_ATTR,
  "font-size-adjust": 1,
  "font-stretch": 1,
  "font-style": 1,
  "font-variant": 1,
  "font-weight": 1,
  "glyph-orientation-horizontal": 1,
  "glyph-orientation-vertical": 1,
  "image-rendering": 1,
  "kerning": 1,
  "letter-spacing": 1,
  "lighting-color": 1,
  "marker": 1,
  "marker-end": 1,
  "marker-mid": 1,
  "marker-start": 1,
  "mask": 1,
  "opacity": 1,
  "overflow": 1,
  "pointer-events": 1,
  "shape-rendering": 1,
  "stop-color": 1,
  "stop-opacity": 1,
  "stroke": 1,
  "stroke-dasharray": 1,
  "stroke-dashoffset": 1,
  "stroke-linecap": 1,
  "stroke-linejoin": 1,
  "stroke-miterlimit": 1,
  "stroke-opacity": 1,
  "stroke-width": LENGTH_ATTR,
  "text-anchor": 1,
  "text-decoration": 1,
  "text-rendering": 1,
  "unicode-bidi": 1,
  "visibility": 1,
  "word-spacing": 1,
  "writing-mode": 1
};
function getAttribute(node2, name2) {
  if (CSS_PROPERTIES[name2]) {
    return node2.style[name2];
  } else {
    return node2.getAttributeNS(null, name2);
  }
}
function setAttribute(node2, name2, value2) {
  var hyphenated = name2.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
  var type = CSS_PROPERTIES[hyphenated];
  if (type) {
    if (type === LENGTH_ATTR && typeof value2 === "number") {
      value2 = String(value2) + "px";
    }
    node2.style[hyphenated] = value2;
  } else {
    node2.setAttributeNS(null, name2, value2);
  }
}
function setAttributes(node2, attrs) {
  var names2 = Object.keys(attrs), i, name2;
  for (i = 0, name2; name2 = names2[i]; i++) {
    setAttribute(node2, name2, attrs[name2]);
  }
}
function attr$1(node2, name2, value2) {
  if (typeof name2 === "string") {
    if (value2 !== void 0) {
      setAttribute(node2, name2, value2);
    } else {
      return getAttribute(node2, name2);
    }
  } else {
    setAttributes(node2, name2);
  }
  return node2;
}
const toString$1 = Object.prototype.toString;
function classes$1(el) {
  return new ClassList$1(el);
}
function ClassList$1(el) {
  if (!el || !el.nodeType) {
    throw new Error("A DOM element reference is required");
  }
  this.el = el;
  this.list = el.classList;
}
ClassList$1.prototype.add = function(name2) {
  this.list.add(name2);
  return this;
};
ClassList$1.prototype.remove = function(name2) {
  if ("[object RegExp]" == toString$1.call(name2)) {
    return this.removeMatching(name2);
  }
  this.list.remove(name2);
  return this;
};
ClassList$1.prototype.removeMatching = function(re) {
  const arr = this.array();
  for (let i = 0; i < arr.length; i++) {
    if (re.test(arr[i])) {
      this.remove(arr[i]);
    }
  }
  return this;
};
ClassList$1.prototype.toggle = function(name2, force) {
  if ("undefined" !== typeof force) {
    if (force !== this.list.toggle(name2, force)) {
      this.list.toggle(name2);
    }
  } else {
    this.list.toggle(name2);
  }
  return this;
};
ClassList$1.prototype.array = function() {
  return Array.from(this.list);
};
ClassList$1.prototype.has = ClassList$1.prototype.contains = function(name2) {
  return this.list.contains(name2);
};
function clear$1(element) {
  var child;
  while (child = element.firstChild) {
    element.removeChild(child);
  }
  return element;
}
var ns = {
  svg: "http://www.w3.org/2000/svg"
};
var SVG_START = '<svg xmlns="' + ns.svg + '"';
function parse$1(svg) {
  var unwrap = false;
  if (svg.substring(0, 4) === "<svg") {
    if (svg.indexOf(ns.svg) === -1) {
      svg = SVG_START + svg.substring(4);
    }
  } else {
    svg = SVG_START + ">" + svg + "</svg>";
    unwrap = true;
  }
  var parsed = parseDocument(svg);
  if (!unwrap) {
    return parsed;
  }
  var fragment = document.createDocumentFragment();
  var parent = parsed.firstChild;
  while (parent.firstChild) {
    fragment.appendChild(parent.firstChild);
  }
  return fragment;
}
function parseDocument(svg) {
  var parser;
  parser = new DOMParser();
  parser.async = false;
  return parser.parseFromString(svg, "text/xml");
}
function create$1(name2, attrs) {
  var element;
  name2 = name2.trim();
  if (name2.charAt(0) === "<") {
    element = parse$1(name2).firstChild;
    element = document.importNode(element, true);
  } else {
    element = document.createElementNS(ns.svg, name2);
  }
  if (attrs) {
    attr$1(element, attrs);
  }
  return element;
}
var node = null;
function getNode() {
  if (node === null) {
    node = create$1("svg");
  }
  return node;
}
function extend$2(object, props) {
  var i, k, keys = Object.keys(props);
  for (i = 0; k = keys[i]; i++) {
    object[k] = props[k];
  }
  return object;
}
function createMatrix(a, b, c, d, e2, f) {
  var matrix2 = getNode().createSVGMatrix();
  switch (arguments.length) {
    case 0:
      return matrix2;
    case 1:
      return extend$2(matrix2, a);
    case 6:
      return extend$2(matrix2, {
        a,
        b,
        c,
        d,
        e: e2,
        f
      });
  }
}
function createTransform(matrix2) {
  if (matrix2) {
    return getNode().createSVGTransformFromMatrix(matrix2);
  } else {
    return getNode().createSVGTransform();
  }
}
var TEXT_ENTITIES = /([&<>]{1})/g;
var ATTR_ENTITIES = /([\n\r"]{1})/g;
var ENTITY_REPLACEMENT = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "'"
};
function escape$1(str, pattern2) {
  function replaceFn(match, entity) {
    return ENTITY_REPLACEMENT[entity] || entity;
  }
  return str.replace(pattern2, replaceFn);
}
function serialize(node2, output) {
  var i, len, attrMap, attrNode, childNodes;
  switch (node2.nodeType) {
    case 3:
      output.push(escape$1(node2.textContent, TEXT_ENTITIES));
      break;
    case 1:
      output.push("<", node2.tagName);
      if (node2.hasAttributes()) {
        attrMap = node2.attributes;
        for (i = 0, len = attrMap.length; i < len; ++i) {
          attrNode = attrMap.item(i);
          output.push(" ", attrNode.name, '="', escape$1(attrNode.value, ATTR_ENTITIES), '"');
        }
      }
      if (node2.hasChildNodes()) {
        output.push(">");
        childNodes = node2.childNodes;
        for (i = 0, len = childNodes.length; i < len; ++i) {
          serialize(childNodes.item(i), output);
        }
        output.push("</", node2.tagName, ">");
      } else {
        output.push("/>");
      }
      break;
    case 8:
      output.push("<!--", escape$1(node2.nodeValue, TEXT_ENTITIES), "-->");
      break;
    case 4:
      output.push("<![CDATA[", node2.nodeValue, "]]>");
      break;
    default:
      throw new Error("unable to handle node " + node2.nodeType);
  }
  return output;
}
function set(element, svg) {
  var parsed = parse$1(svg);
  clear$1(element);
  if (!svg) {
    return;
  }
  if (!isFragment(parsed)) {
    parsed = parsed.documentElement;
  }
  var nodes = slice$1(parsed.childNodes);
  for (var i = 0; i < nodes.length; i++) {
    appendTo(nodes[i], element);
  }
}
function get(element) {
  var child = element.firstChild, output = [];
  while (child) {
    serialize(child, output);
    child = child.nextSibling;
  }
  return output.join("");
}
function isFragment(node2) {
  return node2.nodeName === "#document-fragment";
}
function innerSVG(element, svg) {
  if (svg !== void 0) {
    try {
      set(element, svg);
    } catch (e2) {
      throw new Error("error parsing SVG: " + e2.message);
    }
    return element;
  } else {
    return get(element);
  }
}
function slice$1(arr) {
  return Array.prototype.slice.call(arr);
}
function remove$2(element) {
  var parent = element.parentNode;
  if (parent) {
    parent.removeChild(element);
  }
  return element;
}
function wrapMatrix(transformList, transform2) {
  if (transform2 instanceof SVGMatrix) {
    return transformList.createSVGTransformFromMatrix(transform2);
  }
  return transform2;
}
function setTransforms(transformList, transforms) {
  var i, t;
  transformList.clear();
  for (i = 0; t = transforms[i]; i++) {
    transformList.appendItem(wrapMatrix(transformList, t));
  }
}
function transform$1(node2, transforms) {
  var transformList = node2.transform.baseVal;
  if (transforms) {
    if (!Array.isArray(transforms)) {
      transforms = [transforms];
    }
    setTransforms(transformList, transforms);
  }
  return transformList.consolidate();
}
function componentsToPath(elements) {
  return elements.flat().join(",").replace(/,?([A-z]),?/g, "$1");
}
function move(point) {
  return ["M", point.x, point.y];
}
function lineTo(point) {
  return ["L", point.x, point.y];
}
function curveTo(p1, p2, p3) {
  return ["C", p1.x, p1.y, p2.x, p2.y, p3.x, p3.y];
}
function drawPath(waypoints, cornerRadius) {
  const pointCount = waypoints.length;
  const path = [move(waypoints[0])];
  for (let i = 1; i < pointCount; i++) {
    const pointBefore = waypoints[i - 1];
    const point = waypoints[i];
    const pointAfter = waypoints[i + 1];
    if (!pointAfter || !cornerRadius) {
      path.push(lineTo(point));
      continue;
    }
    const effectiveRadius = Math.min(
      cornerRadius,
      vectorLength(point.x - pointBefore.x, point.y - pointBefore.y),
      vectorLength(pointAfter.x - point.x, pointAfter.y - point.y)
    );
    if (!effectiveRadius) {
      path.push(lineTo(point));
      continue;
    }
    const beforePoint = getPointAtLength(point, pointBefore, effectiveRadius);
    const beforePoint2 = getPointAtLength(point, pointBefore, effectiveRadius * 0.5);
    const afterPoint = getPointAtLength(point, pointAfter, effectiveRadius);
    const afterPoint2 = getPointAtLength(point, pointAfter, effectiveRadius * 0.5);
    path.push(lineTo(beforePoint));
    path.push(curveTo(beforePoint2, afterPoint2, afterPoint));
  }
  return path;
}
function getPointAtLength(start, end, length) {
  const deltaX = end.x - start.x;
  const deltaY = end.y - start.y;
  const totalLength = vectorLength(deltaX, deltaY);
  const percent = length / totalLength;
  return {
    x: start.x + deltaX * percent,
    y: start.y + deltaY * percent
  };
}
function vectorLength(x, y) {
  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));
}
function createLine(points, attrs, radius) {
  if (isNumber(attrs)) {
    radius = attrs;
    attrs = null;
  }
  if (!attrs) {
    attrs = {};
  }
  const line = create$1("path", attrs);
  if (isNumber(radius)) {
    line.dataset.cornerRadius = String(radius);
  }
  return updateLine(line, points);
}
function updateLine(gfx, points) {
  const cornerRadius = parseInt(gfx.dataset.cornerRadius, 10) || 0;
  attr$1(gfx, {
    d: componentsToPath(drawPath(points, cornerRadius))
  });
  return gfx;
}
var black = "hsl(225, 10%, 15%)";
function isTypedEvent(event2, eventDefinitionType) {
  return some(event2.eventDefinitions, function(definition) {
    return definition.$type === eventDefinitionType;
  });
}
function isThrowEvent(event2) {
  return event2.$type === "bpmn:IntermediateThrowEvent" || event2.$type === "bpmn:EndEvent";
}
function isCollection(element) {
  var dataObject = element.dataObjectRef;
  return element.isCollection || dataObject && dataObject.isCollection;
}
function getFillColor(element, defaultColor) {
  var di = getDi(element);
  return di.get("color:background-color") || di.get("bioc:fill") || defaultColor || "white";
}
function getStrokeColor(element, defaultColor) {
  var di = getDi(element);
  return di.get("color:border-color") || di.get("bioc:stroke") || defaultColor || black;
}
function getLabelColor(element, defaultColor, defaultStrokeColor) {
  var di = getDi(element), label = di.get("label");
  return label && label.get("color:color") || defaultColor || getStrokeColor(element, defaultStrokeColor);
}
function getCirclePath(shape) {
  var cx = shape.x + shape.width / 2, cy = shape.y + shape.height / 2, radius = shape.width / 2;
  var circlePath = [
    ["M", cx, cy],
    ["m", 0, -radius],
    ["a", radius, radius, 0, 1, 1, 0, 2 * radius],
    ["a", radius, radius, 0, 1, 1, 0, -2 * radius],
    ["z"]
  ];
  return componentsToPath(circlePath);
}
function getRoundRectPath(shape, borderRadius) {
  var x = shape.x, y = shape.y, width = shape.width, height = shape.height;
  var roundRectPath = [
    ["M", x + borderRadius, y],
    ["l", width - borderRadius * 2, 0],
    ["a", borderRadius, borderRadius, 0, 0, 1, borderRadius, borderRadius],
    ["l", 0, height - borderRadius * 2],
    ["a", borderRadius, borderRadius, 0, 0, 1, -borderRadius, borderRadius],
    ["l", borderRadius * 2 - width, 0],
    ["a", borderRadius, borderRadius, 0, 0, 1, -borderRadius, -borderRadius],
    ["l", 0, borderRadius * 2 - height],
    ["a", borderRadius, borderRadius, 0, 0, 1, borderRadius, -borderRadius],
    ["z"]
  ];
  return componentsToPath(roundRectPath);
}
function getDiamondPath(shape) {
  var width = shape.width, height = shape.height, x = shape.x, y = shape.y, halfWidth = width / 2, halfHeight = height / 2;
  var diamondPath = [
    ["M", x + halfWidth, y],
    ["l", halfWidth, halfHeight],
    ["l", -halfWidth, halfHeight],
    ["l", -halfWidth, -halfHeight],
    ["z"]
  ];
  return componentsToPath(diamondPath);
}
function getRectPath(shape) {
  var x = shape.x, y = shape.y, width = shape.width, height = shape.height;
  var rectPath = [
    ["M", x, y],
    ["l", width, 0],
    ["l", 0, height],
    ["l", -width, 0],
    ["z"]
  ];
  return componentsToPath(rectPath);
}
function _mergeNamespaces(n, m) {
  m.forEach(function(e2) {
    e2 && typeof e2 !== "string" && !Array.isArray(e2) && Object.keys(e2).forEach(function(k) {
      if (k !== "default" && !(k in n)) {
        var d = Object.getOwnPropertyDescriptor(e2, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function() {
            return e2[k];
          }
        });
      }
    });
  });
  return Object.freeze(n);
}
const nativeToString = Object.prototype.toString;
const nativeHasOwnProperty = Object.prototype.hasOwnProperty;
function isUndefined$1(obj) {
  return obj === void 0;
}
function isArray$1(obj) {
  return nativeToString.call(obj) === "[object Array]";
}
function has(target, key) {
  return nativeHasOwnProperty.call(target, key);
}
function forEach(collection2, iterator) {
  let val, result2;
  if (isUndefined$1(collection2)) {
    return;
  }
  const convertKey = isArray$1(collection2) ? toNum : identity;
  for (let key in collection2) {
    if (has(collection2, key)) {
      val = collection2[key];
      result2 = iterator(val, convertKey(key));
      if (result2 === false) {
        return val;
      }
    }
  }
}
function identity(arg) {
  return arg;
}
function toNum(arg) {
  return Number(arg);
}
function assign(element, ...styleSources) {
  const target = element.style;
  forEach(styleSources, function(style) {
    if (!style) {
      return;
    }
    forEach(style, function(value2, key) {
      target[key] = value2;
    });
  });
  return element;
}
function attr(el, name2, val) {
  if (arguments.length == 2) {
    return el.getAttribute(name2);
  }
  if (val === null) {
    return el.removeAttribute(name2);
  }
  el.setAttribute(name2, val);
  return el;
}
const toString = Object.prototype.toString;
function classes(el) {
  return new ClassList(el);
}
function ClassList(el) {
  if (!el || !el.nodeType) {
    throw new Error("A DOM element reference is required");
  }
  this.el = el;
  this.list = el.classList;
}
ClassList.prototype.add = function(name2) {
  this.list.add(name2);
  return this;
};
ClassList.prototype.remove = function(name2) {
  if ("[object RegExp]" == toString.call(name2)) {
    return this.removeMatching(name2);
  }
  this.list.remove(name2);
  return this;
};
ClassList.prototype.removeMatching = function(re) {
  const arr = this.array();
  for (let i = 0; i < arr.length; i++) {
    if (re.test(arr[i])) {
      this.remove(arr[i]);
    }
  }
  return this;
};
ClassList.prototype.toggle = function(name2, force) {
  if ("undefined" !== typeof force) {
    if (force !== this.list.toggle(name2, force)) {
      this.list.toggle(name2);
    }
  } else {
    this.list.toggle(name2);
  }
  return this;
};
ClassList.prototype.array = function() {
  return Array.from(this.list);
};
ClassList.prototype.has = ClassList.prototype.contains = function(name2) {
  return this.list.contains(name2);
};
function clear(element) {
  var child;
  while (child = element.firstChild) {
    element.removeChild(child);
  }
  return element;
}
function closest$1(element, selector, checkYourSelf) {
  var actualElement = checkYourSelf ? element : element.parentNode;
  return actualElement && typeof actualElement.closest === "function" && actualElement.closest(selector) || null;
}
var componentEvent = {};
var bind$1, unbind$1, prefix$6;
function detect() {
  bind$1 = window.addEventListener ? "addEventListener" : "attachEvent";
  unbind$1 = window.removeEventListener ? "removeEventListener" : "detachEvent";
  prefix$6 = bind$1 !== "addEventListener" ? "on" : "";
}
var bind_1 = componentEvent.bind = function(el, type, fn, capture) {
  if (!bind$1)
    detect();
  el[bind$1](prefix$6 + type, fn, capture || false);
  return fn;
};
var unbind_1 = componentEvent.unbind = function(el, type, fn, capture) {
  if (!unbind$1)
    detect();
  el[unbind$1](prefix$6 + type, fn, capture || false);
  return fn;
};
var event = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  bind: bind_1,
  unbind: unbind_1,
  "default": componentEvent
}, [componentEvent]);
var forceCaptureEvents = ["focus", "blur"];
function bind(el, selector, type, fn, capture) {
  if (forceCaptureEvents.indexOf(type) !== -1) {
    capture = true;
  }
  return event.bind(el, type, function(e2) {
    var target = e2.target || e2.srcElement;
    e2.delegateTarget = closest$1(target, selector, true);
    if (e2.delegateTarget) {
      fn.call(el, e2);
    }
  }, capture);
}
function unbind(el, type, fn, capture) {
  if (forceCaptureEvents.indexOf(type) !== -1) {
    capture = true;
  }
  return event.unbind(el, type, fn, capture);
}
var delegate = {
  bind,
  unbind
};
var domify = parse;
var innerHTMLBug = false;
var bugTestDiv;
if (typeof document !== "undefined") {
  bugTestDiv = document.createElement("div");
  bugTestDiv.innerHTML = '  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';
  innerHTMLBug = !bugTestDiv.getElementsByTagName("link").length;
  bugTestDiv = void 0;
}
var map = {
  legend: [1, "<fieldset>", "</fieldset>"],
  tr: [2, "<table><tbody>", "</tbody></table>"],
  col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
  // for script/link/style tags to work in IE6-8, you have to wrap
  // in a div with a non-whitespace character in front, ha!
  _default: innerHTMLBug ? [1, "X<div>", "</div>"] : [0, "", ""]
};
map.td = map.th = [3, "<table><tbody><tr>", "</tr></tbody></table>"];
map.option = map.optgroup = [1, '<select multiple="multiple">', "</select>"];
map.thead = map.tbody = map.colgroup = map.caption = map.tfoot = [1, "<table>", "</table>"];
map.polyline = map.ellipse = map.polygon = map.circle = map.text = map.line = map.path = map.rect = map.g = [1, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1">', "</svg>"];
function parse(html, doc) {
  if ("string" != typeof html)
    throw new TypeError("String expected");
  if (!doc)
    doc = document;
  var m = /<([\w:]+)/.exec(html);
  if (!m)
    return doc.createTextNode(html);
  html = html.replace(/^\s+|\s+$/g, "");
  var tag = m[1];
  if (tag == "body") {
    var el = doc.createElement("html");
    el.innerHTML = html;
    return el.removeChild(el.lastChild);
  }
  var wrap = Object.prototype.hasOwnProperty.call(map, tag) ? map[tag] : map._default;
  var depth = wrap[0];
  var prefix2 = wrap[1];
  var suffix = wrap[2];
  var el = doc.createElement("div");
  el.innerHTML = prefix2 + html + suffix;
  while (depth--)
    el = el.lastChild;
  if (el.firstChild == el.lastChild) {
    return el.removeChild(el.firstChild);
  }
  var fragment = doc.createDocumentFragment();
  while (el.firstChild) {
    fragment.appendChild(el.removeChild(el.firstChild));
  }
  return fragment;
}
var domify$1 = domify;
function query(selector, el) {
  el = el || document;
  return el.querySelector(selector);
}
function all(selector, el) {
  el = el || document;
  return el.querySelectorAll(selector);
}
function remove$1(el) {
  el.parentNode && el.parentNode.removeChild(el);
}
function transform(gfx, x, y, angle, amount) {
  var translate2 = createTransform();
  translate2.setTranslate(x, y);
  var rotate2 = createTransform();
  rotate2.setRotate(angle || 0, 0, 0);
  var scale = createTransform();
  scale.setScale(amount || 1, amount || 1);
  transform$1(gfx, [translate2, rotate2, scale]);
}
function translate$1(gfx, x, y) {
  var translate2 = createTransform();
  translate2.setTranslate(x, y);
  transform$1(gfx, translate2);
}
function rotate(gfx, angle) {
  var rotate2 = createTransform();
  rotate2.setRotate(angle, 0, 0);
  transform$1(gfx, rotate2);
}
function createCommonjsModule(fn, module) {
  return module = { exports: {} }, fn(module, module.exports), module.exports;
}
var hat_1 = createCommonjsModule(function(module) {
  var hat = module.exports = function(bits, base) {
    if (!base)
      base = 16;
    if (bits === void 0)
      bits = 128;
    if (bits <= 0)
      return "0";
    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);
    for (var i = 2; digits === Infinity; i *= 2) {
      digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;
    }
    var rem = digits - Math.floor(digits);
    var res = "";
    for (var i = 0; i < Math.floor(digits); i++) {
      var x = Math.floor(Math.random() * base).toString(base);
      res = x + res;
    }
    if (rem) {
      var b = Math.pow(base, rem);
      var x = Math.floor(Math.random() * b).toString(base);
      res = x + res;
    }
    var parsed = parseInt(res, base);
    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {
      return hat(bits, base);
    } else
      return res;
  };
  hat.rack = function(bits, base, expandBy) {
    var fn = function(data) {
      var iters = 0;
      do {
        if (iters++ > 10) {
          if (expandBy)
            bits += expandBy;
          else
            throw new Error("too many ID collisions, use more bits");
        }
        var id = hat(bits, base);
      } while (Object.hasOwnProperty.call(hats, id));
      hats[id] = data;
      return id;
    };
    var hats = fn.hats = {};
    fn.get = function(id) {
      return fn.hats[id];
    };
    fn.set = function(id, value2) {
      fn.hats[id] = value2;
      return fn;
    };
    fn.bits = bits || 128;
    fn.base = base || 16;
    return fn;
  };
});
function Ids(seed) {
  if (!(this instanceof Ids)) {
    return new Ids(seed);
  }
  seed = seed || [128, 36, 1];
  this._seed = seed.length ? hat_1.rack(seed[0], seed[1], seed[2]) : seed;
}
Ids.prototype.next = function(element) {
  return this._seed(element || true);
};
Ids.prototype.nextPrefixed = function(prefix2, element) {
  var id;
  do {
    id = prefix2 + this.next(true);
  } while (this.assigned(id));
  this.claim(id, element);
  return id;
};
Ids.prototype.claim = function(id, element) {
  this._seed.set(id, element || true);
};
Ids.prototype.assigned = function(id) {
  return this._seed.get(id) || false;
};
Ids.prototype.unclaim = function(id) {
  delete this._seed.hats[id];
};
Ids.prototype.clear = function() {
  var hats = this._seed.hats, id;
  for (id in hats) {
    this.unclaim(id);
  }
};
var RENDERER_IDS = new Ids();
var TASK_BORDER_RADIUS = 10;
var INNER_OUTER_DIST = 3;
var DEFAULT_FILL_OPACITY = 0.95, HIGH_FILL_OPACITY = 0.35;
var ELEMENT_LABEL_DISTANCE = 10;
function BpmnRenderer(config2, eventBus2, styles, pathMap, canvas, textRenderer, priority) {
  BaseRenderer.call(this, eventBus2, priority);
  var defaultFillColor = config2 && config2.defaultFillColor, defaultStrokeColor = config2 && config2.defaultStrokeColor, defaultLabelColor = config2 && config2.defaultLabelColor;
  var rendererId = RENDERER_IDS.next();
  var markers = {};
  function shapeStyle(attrs) {
    return styles.computeStyle(attrs, {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      stroke: black,
      strokeWidth: 2,
      fill: "white"
    });
  }
  function lineStyle(attrs) {
    return styles.computeStyle(attrs, ["no-fill"], {
      strokeLinecap: "round",
      strokeLinejoin: "round",
      stroke: black,
      strokeWidth: 2
    });
  }
  function addMarker(id, options) {
    var {
      ref: ref2 = { x: 0, y: 0 },
      scale = 1,
      element
    } = options;
    var marker2 = create$1("marker", {
      id,
      viewBox: "0 0 20 20",
      refX: ref2.x,
      refY: ref2.y,
      markerWidth: 20 * scale,
      markerHeight: 20 * scale,
      orient: "auto"
    });
    append(marker2, element);
    var defs = query("defs", canvas._svg);
    if (!defs) {
      defs = create$1("defs");
      append(canvas._svg, defs);
    }
    append(defs, marker2);
    markers[id] = marker2;
  }
  function colorEscape(str) {
    return str.replace(/[^0-9a-zA-z]+/g, "_");
  }
  function marker(type, fill, stroke) {
    var id = type + "-" + colorEscape(fill) + "-" + colorEscape(stroke) + "-" + rendererId;
    if (!markers[id]) {
      createMarker(id, type, fill, stroke);
    }
    return "url(#" + id + ")";
  }
  function createMarker(id, type, fill, stroke) {
    if (type === "sequenceflow-end") {
      var sequenceflowEnd = create$1("path", {
        d: "M 1 5 L 11 10 L 1 15 Z",
        ...shapeStyle({
          fill: stroke,
          stroke,
          strokeWidth: 1
        })
      });
      addMarker(id, {
        element: sequenceflowEnd,
        ref: { x: 11, y: 10 },
        scale: 0.5
      });
    }
    if (type === "messageflow-start") {
      var messageflowStart = create$1("circle", {
        cx: 6,
        cy: 6,
        r: 3.5,
        ...shapeStyle({
          fill,
          stroke,
          strokeWidth: 1,
          // fix for safari / chrome / firefox bug not correctly
          // resetting stroke dash array
          strokeDasharray: [1e4, 1]
        })
      });
      addMarker(id, {
        element: messageflowStart,
        ref: { x: 6, y: 6 }
      });
    }
    if (type === "messageflow-end") {
      var messageflowEnd = create$1("path", {
        d: "m 1 5 l 0 -3 l 7 3 l -7 3 z",
        ...shapeStyle({
          fill,
          stroke,
          strokeWidth: 1,
          // fix for safari / chrome / firefox bug not correctly
          // resetting stroke dash array
          strokeDasharray: [1e4, 1]
        })
      });
      addMarker(id, {
        element: messageflowEnd,
        ref: { x: 8.5, y: 5 }
      });
    }
    if (type === "association-start") {
      var associationStart = create$1("path", {
        d: "M 11 5 L 1 10 L 11 15",
        ...lineStyle({
          fill: "none",
          stroke,
          strokeWidth: 1.5,
          // fix for safari / chrome / firefox bug not correctly
          // resetting stroke dash array
          strokeDasharray: [1e4, 1]
        })
      });
      addMarker(id, {
        element: associationStart,
        ref: { x: 1, y: 10 },
        scale: 0.5
      });
    }
    if (type === "association-end") {
      var associationEnd = create$1("path", {
        d: "M 1 5 L 11 10 L 1 15",
        ...lineStyle({
          fill: "none",
          stroke,
          strokeWidth: 1.5,
          // fix for safari / chrome / firefox bug not correctly
          // resetting stroke dash array
          strokeDasharray: [1e4, 1]
        })
      });
      addMarker(id, {
        element: associationEnd,
        ref: { x: 11, y: 10 },
        scale: 0.5
      });
    }
    if (type === "conditional-flow-marker") {
      var conditionalFlowMarker = create$1("path", {
        d: "M 0 10 L 8 6 L 16 10 L 8 14 Z",
        ...shapeStyle({
          fill,
          stroke
        })
      });
      addMarker(id, {
        element: conditionalFlowMarker,
        ref: { x: -1, y: 10 },
        scale: 0.5
      });
    }
    if (type === "conditional-default-flow-marker") {
      var defaultFlowMarker = create$1("path", {
        d: "M 6 4 L 10 16",
        ...shapeStyle({
          stroke
        })
      });
      addMarker(id, {
        element: defaultFlowMarker,
        ref: { x: 0, y: 10 },
        scale: 0.5
      });
    }
  }
  function drawCircle(parentGfx, width, height, offset, attrs) {
    if (isObject(offset)) {
      attrs = offset;
      offset = 0;
    }
    offset = offset || 0;
    attrs = shapeStyle(attrs);
    if (attrs.fill === "none") {
      delete attrs.fillOpacity;
    }
    var cx = width / 2, cy = height / 2;
    var circle = create$1("circle", {
      cx,
      cy,
      r: Math.round((width + height) / 4 - offset),
      ...attrs
    });
    append(parentGfx, circle);
    return circle;
  }
  function drawRect(parentGfx, width, height, r, offset, attrs) {
    if (isObject(offset)) {
      attrs = offset;
      offset = 0;
    }
    offset = offset || 0;
    attrs = shapeStyle(attrs);
    var rect = create$1("rect", {
      x: offset,
      y: offset,
      width: width - offset * 2,
      height: height - offset * 2,
      rx: r,
      ry: r,
      ...attrs
    });
    append(parentGfx, rect);
    return rect;
  }
  function drawDiamond(parentGfx, width, height, attrs) {
    var x_2 = width / 2;
    var y_2 = height / 2;
    var points = [
      { x: x_2, y: 0 },
      { x: width, y: y_2 },
      { x: x_2, y: height },
      { x: 0, y: y_2 }
    ];
    var pointsString = points.map(function(point) {
      return point.x + "," + point.y;
    }).join(" ");
    attrs = shapeStyle(attrs);
    var polygon = create$1("polygon", {
      ...attrs,
      points: pointsString
    });
    append(parentGfx, polygon);
    return polygon;
  }
  function drawLine(parentGfx, waypoints, attrs, radius) {
    attrs = lineStyle(attrs);
    var line = createLine(waypoints, attrs, radius);
    append(parentGfx, line);
    return line;
  }
  function drawConnectionSegments(parentGfx, waypoints, attrs) {
    return drawLine(parentGfx, waypoints, attrs, 5);
  }
  function drawPath2(parentGfx, d, attrs) {
    attrs = lineStyle(attrs);
    var path = create$1("path", {
      ...attrs,
      d
    });
    append(parentGfx, path);
    return path;
  }
  function drawMarker(type, parentGfx, path, attrs) {
    return drawPath2(parentGfx, path, assign$1({ "data-marker": type }, attrs));
  }
  function renderer(type) {
    return handlers[type];
  }
  function as(type) {
    return function(parentGfx, element, options) {
      return renderer(type)(parentGfx, element, options);
    };
  }
  function renderEventContent(element, parentGfx) {
    var event2 = getBusinessObject(element);
    var isThrowing = isThrowEvent(event2);
    if (event2.eventDefinitions && event2.eventDefinitions.length > 1) {
      if (event2.parallelMultiple) {
        return renderer("bpmn:ParallelMultipleEventDefinition")(parentGfx, element, isThrowing);
      } else {
        return renderer("bpmn:MultipleEventDefinition")(parentGfx, element, isThrowing);
      }
    }
    if (isTypedEvent(event2, "bpmn:MessageEventDefinition")) {
      return renderer("bpmn:MessageEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:TimerEventDefinition")) {
      return renderer("bpmn:TimerEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:ConditionalEventDefinition")) {
      return renderer("bpmn:ConditionalEventDefinition")(parentGfx, element);
    }
    if (isTypedEvent(event2, "bpmn:SignalEventDefinition")) {
      return renderer("bpmn:SignalEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:EscalationEventDefinition")) {
      return renderer("bpmn:EscalationEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:LinkEventDefinition")) {
      return renderer("bpmn:LinkEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:ErrorEventDefinition")) {
      return renderer("bpmn:ErrorEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:CancelEventDefinition")) {
      return renderer("bpmn:CancelEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:CompensateEventDefinition")) {
      return renderer("bpmn:CompensateEventDefinition")(parentGfx, element, isThrowing);
    }
    if (isTypedEvent(event2, "bpmn:TerminateEventDefinition")) {
      return renderer("bpmn:TerminateEventDefinition")(parentGfx, element, isThrowing);
    }
    return null;
  }
  function renderLabel(parentGfx, label, options) {
    options = assign$1({
      size: {
        width: 100
      }
    }, options);
    var text = textRenderer.createText(label || "", options);
    classes$1(text).add("djs-label");
    append(parentGfx, text);
    return text;
  }
  function renderEmbeddedLabel(parentGfx, element, align) {
    var semantic = getBusinessObject(element);
    return renderLabel(parentGfx, semantic.name, {
      box: element,
      align,
      padding: 7,
      style: {
        fill: getLabelColor(element, defaultLabelColor, defaultStrokeColor)
      }
    });
  }
  function renderExternalLabel(parentGfx, element) {
    var box = {
      width: 90,
      height: 30,
      x: element.width / 2 + element.x,
      y: element.height / 2 + element.y
    };
    return renderLabel(parentGfx, getLabel(element), {
      box,
      fitBox: true,
      style: assign$1(
        {},
        textRenderer.getExternalStyle(),
        {
          fill: getLabelColor(element, defaultLabelColor, defaultStrokeColor)
        }
      )
    });
  }
  function renderLaneLabel(parentGfx, text, element) {
    var textBox = renderLabel(parentGfx, text, {
      box: {
        height: 30,
        width: element.height
      },
      align: "center-middle",
      style: {
        fill: getLabelColor(element, defaultLabelColor, defaultStrokeColor)
      }
    });
    var top2 = -1 * element.height;
    transform(textBox, 0, -top2, 270);
  }
  var handlers = this.handlers = {
    "bpmn:Event": function(parentGfx, element, attrs) {
      if (!("fillOpacity" in attrs)) {
        attrs.fillOpacity = DEFAULT_FILL_OPACITY;
      }
      return drawCircle(parentGfx, element.width, element.height, attrs);
    },
    "bpmn:StartEvent": function(parentGfx, element, options) {
      var attrs = {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      };
      var semantic = getBusinessObject(element);
      if (!semantic.isInterrupting) {
        attrs = {
          strokeDasharray: "6",
          fill: getFillColor(element, defaultFillColor),
          stroke: getStrokeColor(element, defaultStrokeColor)
        };
      }
      var circle = renderer("bpmn:Event")(parentGfx, element, attrs);
      if (!options || options.renderIcon !== false) {
        renderEventContent(element, parentGfx);
      }
      return circle;
    },
    "bpmn:MessageEventDefinition": function(parentGfx, element, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_MESSAGE", {
        xScaleFactor: 0.9,
        yScaleFactor: 0.9,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.235,
          my: 0.315
        }
      });
      var fill = isThrowing ? getStrokeColor(element, defaultStrokeColor) : getFillColor(element, defaultFillColor);
      var stroke = isThrowing ? getFillColor(element, defaultFillColor) : getStrokeColor(element, defaultStrokeColor);
      var messagePath = drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke
      });
      return messagePath;
    },
    "bpmn:TimerEventDefinition": function(parentGfx, element) {
      var circle = drawCircle(parentGfx, element.width, element.height, 0.2 * element.height, {
        strokeWidth: 2,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var pathData = pathMap.getScaledPath("EVENT_TIMER_WH", {
        xScaleFactor: 0.75,
        yScaleFactor: 0.75,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.5,
          my: 0.5
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 2,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      for (var i = 0; i < 12; i++) {
        var linePathData = pathMap.getScaledPath("EVENT_TIMER_LINE", {
          xScaleFactor: 0.75,
          yScaleFactor: 0.75,
          containerWidth: element.width,
          containerHeight: element.height,
          position: {
            mx: 0.5,
            my: 0.5
          }
        });
        var width = element.width / 2;
        var height = element.height / 2;
        drawPath2(parentGfx, linePathData, {
          strokeWidth: 1,
          transform: "rotate(" + i * 30 + "," + height + "," + width + ")",
          stroke: getStrokeColor(element, defaultStrokeColor)
        });
      }
      return circle;
    },
    "bpmn:EscalationEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_ESCALATION", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.5,
          my: 0.2
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:ConditionalEventDefinition": function(parentGfx, event2) {
      var pathData = pathMap.getScaledPath("EVENT_CONDITIONAL", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.5,
          my: 0.222
        }
      });
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:LinkEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_LINK", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.57,
          my: 0.263
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:ErrorEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_ERROR", {
        xScaleFactor: 1.1,
        yScaleFactor: 1.1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.2,
          my: 0.722
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:CancelEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_CANCEL_45", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.638,
          my: -0.055
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      var path = drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
      rotate(path, 45);
      return path;
    },
    "bpmn:CompensateEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_COMPENSATION", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.22,
          my: 0.5
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:SignalEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_SIGNAL", {
        xScaleFactor: 0.9,
        yScaleFactor: 0.9,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.5,
          my: 0.2
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill,
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:MultipleEventDefinition": function(parentGfx, event2, isThrowing) {
      var pathData = pathMap.getScaledPath("EVENT_MULTIPLE", {
        xScaleFactor: 1.1,
        yScaleFactor: 1.1,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.222,
          my: 0.36
        }
      });
      var fill = isThrowing ? getStrokeColor(event2, defaultStrokeColor) : "none";
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill
      });
    },
    "bpmn:ParallelMultipleEventDefinition": function(parentGfx, event2) {
      var pathData = pathMap.getScaledPath("EVENT_PARALLEL_MULTIPLE", {
        xScaleFactor: 1.2,
        yScaleFactor: 1.2,
        containerWidth: event2.width,
        containerHeight: event2.height,
        position: {
          mx: 0.458,
          my: 0.194
        }
      });
      return drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getStrokeColor(event2, defaultStrokeColor),
        stroke: getStrokeColor(event2, defaultStrokeColor)
      });
    },
    "bpmn:EndEvent": function(parentGfx, element, options) {
      var circle = renderer("bpmn:Event")(parentGfx, element, {
        strokeWidth: 4,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      if (!options || options.renderIcon !== false) {
        renderEventContent(element, parentGfx);
      }
      return circle;
    },
    "bpmn:TerminateEventDefinition": function(parentGfx, element) {
      var circle = drawCircle(parentGfx, element.width, element.height, 8, {
        strokeWidth: 4,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return circle;
    },
    "bpmn:IntermediateEvent": function(parentGfx, element, options) {
      var outer = renderer("bpmn:Event")(parentGfx, element, {
        strokeWidth: 1.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      drawCircle(parentGfx, element.width, element.height, INNER_OUTER_DIST, {
        strokeWidth: 1.5,
        fill: getFillColor(element, "none"),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      if (!options || options.renderIcon !== false) {
        renderEventContent(element, parentGfx);
      }
      return outer;
    },
    "bpmn:IntermediateCatchEvent": as("bpmn:IntermediateEvent"),
    "bpmn:IntermediateThrowEvent": as("bpmn:IntermediateEvent"),
    "bpmn:Activity": function(parentGfx, element, attrs) {
      attrs = attrs || {};
      if (!("fillOpacity" in attrs)) {
        attrs.fillOpacity = DEFAULT_FILL_OPACITY;
      }
      return drawRect(parentGfx, element.width, element.height, TASK_BORDER_RADIUS, attrs);
    },
    "bpmn:Task": function(parentGfx, element) {
      var attrs = {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      };
      var rect = renderer("bpmn:Activity")(parentGfx, element, attrs);
      renderEmbeddedLabel(parentGfx, element, "center-middle");
      attachTaskMarkers(parentGfx, element);
      return rect;
    },
    "bpmn:ServiceTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var pathDataBG = pathMap.getScaledPath("TASK_TYPE_SERVICE", {
        abspos: {
          x: 12,
          y: 18
        }
      });
      drawPath2(parentGfx, pathDataBG, {
        strokeWidth: 1,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var fillPathData = pathMap.getScaledPath("TASK_TYPE_SERVICE_FILL", {
        abspos: {
          x: 17.2,
          y: 18
        }
      });
      drawPath2(parentGfx, fillPathData, {
        strokeWidth: 0,
        fill: getFillColor(element, defaultFillColor)
      });
      var pathData = pathMap.getScaledPath("TASK_TYPE_SERVICE", {
        abspos: {
          x: 17,
          y: 22
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:UserTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var x = 15;
      var y = 12;
      var pathData = pathMap.getScaledPath("TASK_TYPE_USER_1", {
        abspos: {
          x,
          y
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 0.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var pathData2 = pathMap.getScaledPath("TASK_TYPE_USER_2", {
        abspos: {
          x,
          y
        }
      });
      drawPath2(parentGfx, pathData2, {
        strokeWidth: 0.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var pathData3 = pathMap.getScaledPath("TASK_TYPE_USER_3", {
        abspos: {
          x,
          y
        }
      });
      drawPath2(parentGfx, pathData3, {
        strokeWidth: 0.5,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:ManualTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var pathData = pathMap.getScaledPath("TASK_TYPE_MANUAL", {
        abspos: {
          x: 17,
          y: 15
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 0.5,
        // 0.25,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:SendTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var pathData = pathMap.getScaledPath("TASK_TYPE_SEND", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: 21,
        containerHeight: 14,
        position: {
          mx: 0.285,
          my: 0.357
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getFillColor(element, defaultFillColor)
      });
      return task;
    },
    "bpmn:ReceiveTask": function(parentGfx, element) {
      var semantic = getBusinessObject(element);
      var task = renderer("bpmn:Task")(parentGfx, element);
      var pathData;
      if (semantic.instantiate) {
        drawCircle(parentGfx, 28, 28, 20 * 0.22, { strokeWidth: 1 });
        pathData = pathMap.getScaledPath("TASK_TYPE_INSTANTIATING_SEND", {
          abspos: {
            x: 7.77,
            y: 9.52
          }
        });
      } else {
        pathData = pathMap.getScaledPath("TASK_TYPE_SEND", {
          xScaleFactor: 0.9,
          yScaleFactor: 0.9,
          containerWidth: 21,
          containerHeight: 14,
          position: {
            mx: 0.3,
            my: 0.4
          }
        });
      }
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:ScriptTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var pathData = pathMap.getScaledPath("TASK_TYPE_SCRIPT", {
        abspos: {
          x: 15,
          y: 20
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:BusinessRuleTask": function(parentGfx, element) {
      var task = renderer("bpmn:Task")(parentGfx, element);
      var headerPathData = pathMap.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER", {
        abspos: {
          x: 8,
          y: 8
        }
      });
      var businessHeaderPath = drawPath2(parentGfx, headerPathData);
      attr$1(businessHeaderPath, {
        strokeWidth: 1,
        fill: getFillColor(element, "#aaaaaa"),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var headerData = pathMap.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN", {
        abspos: {
          x: 8,
          y: 8
        }
      });
      var businessPath = drawPath2(parentGfx, headerData);
      attr$1(businessPath, {
        strokeWidth: 1,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return task;
    },
    "bpmn:SubProcess": function(parentGfx, element, attrs) {
      attrs = {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor),
        ...attrs
      };
      var rect = renderer("bpmn:Activity")(parentGfx, element, attrs);
      var expanded = isExpanded(element);
      if (isEventSubProcess(element)) {
        attr$1(rect, {
          strokeDasharray: "0, 5.5",
          strokeWidth: 2.5
        });
      }
      renderEmbeddedLabel(parentGfx, element, expanded ? "center-top" : "center-middle");
      if (expanded) {
        attachTaskMarkers(parentGfx, element);
      } else {
        attachTaskMarkers(parentGfx, element, ["SubProcessMarker"]);
      }
      return rect;
    },
    "bpmn:AdHocSubProcess": function(parentGfx, element) {
      return renderer("bpmn:SubProcess")(parentGfx, element);
    },
    "bpmn:Transaction": function(parentGfx, element) {
      var outer = renderer("bpmn:SubProcess")(parentGfx, element, { strokeWidth: 1.5 });
      var innerAttrs = styles.style(["no-fill", "no-events"], {
        stroke: getStrokeColor(element, defaultStrokeColor),
        strokeWidth: 1.5
      });
      drawRect(parentGfx, element.width, element.height, TASK_BORDER_RADIUS - 3, INNER_OUTER_DIST, innerAttrs);
      return outer;
    },
    "bpmn:CallActivity": function(parentGfx, element) {
      return renderer("bpmn:SubProcess")(parentGfx, element, {
        strokeWidth: 5
      });
    },
    "bpmn:Participant": function(parentGfx, element) {
      var strokeWidth = 1.5;
      var attrs = {
        fillOpacity: DEFAULT_FILL_OPACITY,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor),
        strokeWidth
      };
      var lane = renderer("bpmn:Lane")(parentGfx, element, attrs);
      var expandedPool = isExpanded(element);
      if (expandedPool) {
        drawLine(parentGfx, [
          { x: 30, y: 0 },
          { x: 30, y: element.height }
        ], {
          stroke: getStrokeColor(element, defaultStrokeColor),
          strokeWidth
        });
        var text = getBusinessObject(element).name;
        renderLaneLabel(parentGfx, text, element);
      } else {
        var text2 = getBusinessObject(element).name;
        renderLabel(parentGfx, text2, {
          box: element,
          align: "center-middle",
          style: {
            fill: getLabelColor(element, defaultLabelColor, defaultStrokeColor)
          }
        });
      }
      var participantMultiplicity = !!getBusinessObject(element).participantMultiplicity;
      if (participantMultiplicity) {
        renderer("ParticipantMultiplicityMarker")(parentGfx, element);
      }
      return lane;
    },
    "bpmn:Lane": function(parentGfx, element, attrs) {
      var rect = drawRect(parentGfx, element.width, element.height, 0, {
        fill: getFillColor(element, defaultFillColor),
        fillOpacity: HIGH_FILL_OPACITY,
        stroke: getStrokeColor(element, defaultStrokeColor),
        strokeWidth: 1.5,
        ...attrs
      });
      var semantic = getBusinessObject(element);
      if (semantic.$type === "bpmn:Lane") {
        var text = semantic.name;
        renderLaneLabel(parentGfx, text, element);
      }
      return rect;
    },
    "bpmn:InclusiveGateway": function(parentGfx, element) {
      var diamond = renderer("bpmn:Gateway")(parentGfx, element);
      drawCircle(parentGfx, element.width, element.height, element.height * 0.24, {
        strokeWidth: 2.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return diamond;
    },
    "bpmn:ExclusiveGateway": function(parentGfx, element) {
      var diamond = renderer("bpmn:Gateway")(parentGfx, element);
      var pathData = pathMap.getScaledPath("GATEWAY_EXCLUSIVE", {
        xScaleFactor: 0.4,
        yScaleFactor: 0.4,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.32,
          my: 0.3
        }
      });
      if (getDi(element).isMarkerVisible) {
        drawPath2(parentGfx, pathData, {
          strokeWidth: 1,
          fill: getStrokeColor(element, defaultStrokeColor),
          stroke: getStrokeColor(element, defaultStrokeColor)
        });
      }
      return diamond;
    },
    "bpmn:ComplexGateway": function(parentGfx, element) {
      var diamond = renderer("bpmn:Gateway")(parentGfx, element);
      var pathData = pathMap.getScaledPath("GATEWAY_COMPLEX", {
        xScaleFactor: 0.5,
        yScaleFactor: 0.5,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.46,
          my: 0.26
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return diamond;
    },
    "bpmn:ParallelGateway": function(parentGfx, element) {
      var diamond = renderer("bpmn:Gateway")(parentGfx, element);
      var pathData = pathMap.getScaledPath("GATEWAY_PARALLEL", {
        xScaleFactor: 0.6,
        yScaleFactor: 0.6,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.46,
          my: 0.2
        }
      });
      drawPath2(parentGfx, pathData, {
        strokeWidth: 1,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return diamond;
    },
    "bpmn:EventBasedGateway": function(parentGfx, element) {
      var semantic = getBusinessObject(element);
      var diamond = renderer("bpmn:Gateway")(parentGfx, element);
      drawCircle(parentGfx, element.width, element.height, element.height * 0.2, {
        strokeWidth: 1,
        fill: "none",
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var type = semantic.eventGatewayType;
      var instantiate = !!semantic.instantiate;
      function drawEvent() {
        var pathData2 = pathMap.getScaledPath("GATEWAY_EVENT_BASED", {
          xScaleFactor: 0.18,
          yScaleFactor: 0.18,
          containerWidth: element.width,
          containerHeight: element.height,
          position: {
            mx: 0.36,
            my: 0.44
          }
        });
        drawPath2(parentGfx, pathData2, {
          strokeWidth: 2,
          fill: getFillColor(element, "none"),
          stroke: getStrokeColor(element, defaultStrokeColor)
        });
      }
      if (type === "Parallel") {
        var pathData = pathMap.getScaledPath("GATEWAY_PARALLEL", {
          xScaleFactor: 0.4,
          yScaleFactor: 0.4,
          containerWidth: element.width,
          containerHeight: element.height,
          position: {
            mx: 0.474,
            my: 0.296
          }
        });
        drawPath2(parentGfx, pathData, {
          strokeWidth: 1,
          fill: "none"
        });
      } else if (type === "Exclusive") {
        if (!instantiate) {
          drawCircle(parentGfx, element.width, element.height, element.height * 0.26, {
            strokeWidth: 1,
            fill: "none",
            stroke: getStrokeColor(element, defaultStrokeColor)
          });
        }
        drawEvent();
      }
      return diamond;
    },
    "bpmn:Gateway": function(parentGfx, element) {
      return drawDiamond(parentGfx, element.width, element.height, {
        fill: getFillColor(element, defaultFillColor),
        fillOpacity: DEFAULT_FILL_OPACITY,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "bpmn:SequenceFlow": function(parentGfx, element) {
      var fill = getFillColor(element, defaultFillColor), stroke = getStrokeColor(element, defaultStrokeColor);
      var path = drawConnectionSegments(parentGfx, element.waypoints, {
        markerEnd: marker("sequenceflow-end", fill, stroke),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var sequenceFlow = getBusinessObject(element);
      var source;
      if (element.source) {
        source = element.source.businessObject;
        if (sequenceFlow.conditionExpression && source.$instanceOf("bpmn:Activity")) {
          attr$1(path, {
            markerStart: marker("conditional-flow-marker", fill, stroke)
          });
        }
        if (source.default && (source.$instanceOf("bpmn:Gateway") || source.$instanceOf("bpmn:Activity")) && source.default === sequenceFlow) {
          attr$1(path, {
            markerStart: marker("conditional-default-flow-marker", fill, stroke)
          });
        }
      }
      return path;
    },
    "bpmn:Association": function(parentGfx, element, attrs) {
      var semantic = getBusinessObject(element);
      var fill = getFillColor(element, defaultFillColor), stroke = getStrokeColor(element, defaultStrokeColor);
      attrs = {
        strokeDasharray: "0, 5",
        stroke: getStrokeColor(element, defaultStrokeColor),
        ...attrs
      };
      if (semantic.associationDirection === "One" || semantic.associationDirection === "Both") {
        attrs.markerEnd = marker("association-end", fill, stroke);
      }
      if (semantic.associationDirection === "Both") {
        attrs.markerStart = marker("association-start", fill, stroke);
      }
      return drawConnectionSegments(parentGfx, element.waypoints, attrs);
    },
    "bpmn:DataInputAssociation": function(parentGfx, element) {
      var fill = getFillColor(element, defaultFillColor), stroke = getStrokeColor(element, defaultStrokeColor);
      return renderer("bpmn:Association")(parentGfx, element, {
        markerEnd: marker("association-end", fill, stroke)
      });
    },
    "bpmn:DataOutputAssociation": function(parentGfx, element) {
      var fill = getFillColor(element, defaultFillColor), stroke = getStrokeColor(element, defaultStrokeColor);
      return renderer("bpmn:Association")(parentGfx, element, {
        markerEnd: marker("association-end", fill, stroke)
      });
    },
    "bpmn:MessageFlow": function(parentGfx, element) {
      var semantic = getBusinessObject(element), di = getDi(element);
      var fill = getFillColor(element, defaultFillColor), stroke = getStrokeColor(element, defaultStrokeColor);
      var path = drawConnectionSegments(parentGfx, element.waypoints, {
        markerEnd: marker("messageflow-end", fill, stroke),
        markerStart: marker("messageflow-start", fill, stroke),
        strokeDasharray: "10, 11",
        strokeWidth: 1.5,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      if (semantic.messageRef) {
        var midPoint = path.getPointAtLength(path.getTotalLength() / 2);
        var markerPathData = pathMap.getScaledPath("MESSAGE_FLOW_MARKER", {
          abspos: {
            x: midPoint.x,
            y: midPoint.y
          }
        });
        var messageAttrs = { strokeWidth: 1 };
        if (di.messageVisibleKind === "initiating") {
          messageAttrs.fill = "white";
          messageAttrs.stroke = black;
        } else {
          messageAttrs.fill = "#888";
          messageAttrs.stroke = "white";
        }
        var message2 = drawPath2(parentGfx, markerPathData, messageAttrs);
        var labelText = semantic.messageRef.name;
        var label = renderLabel(parentGfx, labelText, {
          align: "center-top",
          fitBox: true,
          style: {
            fill: getStrokeColor(element, defaultLabelColor)
          }
        });
        var messageBounds = message2.getBBox(), labelBounds = label.getBBox();
        var translateX = midPoint.x - labelBounds.width / 2, translateY = midPoint.y + messageBounds.height / 2 + ELEMENT_LABEL_DISTANCE;
        transform(label, translateX, translateY, 0);
      }
      return path;
    },
    "bpmn:DataObject": function(parentGfx, element) {
      var pathData = pathMap.getScaledPath("DATA_OBJECT_PATH", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0.474,
          my: 0.296
        }
      });
      var elementObject = drawPath2(parentGfx, pathData, {
        fill: getFillColor(element, defaultFillColor),
        fillOpacity: DEFAULT_FILL_OPACITY,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var semantic = getBusinessObject(element);
      if (isCollection(semantic)) {
        renderDataItemCollection(parentGfx, element);
      }
      return elementObject;
    },
    "bpmn:DataObjectReference": as("bpmn:DataObject"),
    "bpmn:DataInput": function(parentGfx, element) {
      var arrowPathData = pathMap.getRawPath("DATA_ARROW");
      var elementObject = renderer("bpmn:DataObject")(parentGfx, element);
      drawPath2(parentGfx, arrowPathData, { strokeWidth: 1 });
      return elementObject;
    },
    "bpmn:DataOutput": function(parentGfx, element) {
      var arrowPathData = pathMap.getRawPath("DATA_ARROW");
      var elementObject = renderer("bpmn:DataObject")(parentGfx, element);
      drawPath2(parentGfx, arrowPathData, {
        strokeWidth: 1,
        fill: black
      });
      return elementObject;
    },
    "bpmn:DataStoreReference": function(parentGfx, element) {
      var DATA_STORE_PATH = pathMap.getScaledPath("DATA_STORE", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0,
          my: 0.133
        }
      });
      var elementStore = drawPath2(parentGfx, DATA_STORE_PATH, {
        strokeWidth: 2,
        fill: getFillColor(element, defaultFillColor),
        fillOpacity: DEFAULT_FILL_OPACITY,
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      return elementStore;
    },
    "bpmn:BoundaryEvent": function(parentGfx, element, options) {
      var semantic = getBusinessObject(element), cancel = semantic.cancelActivity;
      var attrs = {
        strokeWidth: 1.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      };
      if (!cancel) {
        attrs.strokeDasharray = "6";
      }
      var outerAttrs = {
        ...attrs,
        fillOpacity: 1
      };
      var innerAttrs = {
        ...attrs,
        fill: "none"
      };
      var outer = renderer("bpmn:Event")(parentGfx, element, outerAttrs);
      drawCircle(parentGfx, element.width, element.height, INNER_OUTER_DIST, innerAttrs);
      if (!options || options.renderIcon !== false) {
        renderEventContent(element, parentGfx);
      }
      return outer;
    },
    "bpmn:Group": function(parentGfx, element) {
      return drawRect(parentGfx, element.width, element.height, TASK_BORDER_RADIUS, {
        stroke: getStrokeColor(element, defaultStrokeColor),
        strokeWidth: 1.5,
        strokeDasharray: "10,6,0,6",
        fill: "none",
        pointerEvents: "none"
      });
    },
    "label": function(parentGfx, element) {
      return renderExternalLabel(parentGfx, element);
    },
    "bpmn:TextAnnotation": function(parentGfx, element) {
      var textElement = drawRect(parentGfx, element.width, element.height, 0, 0, {
        "fill": "none",
        "stroke": "none"
      });
      var textPathData = pathMap.getScaledPath("TEXT_ANNOTATION", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: 0,
          my: 0
        }
      });
      drawPath2(parentGfx, textPathData, {
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      var text = getBusinessObject(element).text || "";
      renderLabel(parentGfx, text, {
        box: element,
        align: "left-top",
        padding: 7,
        style: {
          fill: getLabelColor(element, defaultLabelColor, defaultStrokeColor)
        }
      });
      return textElement;
    },
    "ParticipantMultiplicityMarker": function(parentGfx, element) {
      var markerPath = pathMap.getScaledPath("MARKER_PARALLEL", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: element.width / 2 / element.width,
          my: (element.height - 15) / element.height
        }
      });
      drawMarker("participant-multiplicity", parentGfx, markerPath, {
        strokeWidth: 2,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "SubProcessMarker": function(parentGfx, element) {
      var markerRect = drawRect(parentGfx, 14, 14, 0, {
        strokeWidth: 1,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
      translate$1(markerRect, element.width / 2 - 7.5, element.height - 20);
      var markerPath = pathMap.getScaledPath("MARKER_SUB_PROCESS", {
        xScaleFactor: 1.5,
        yScaleFactor: 1.5,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 - 7.5) / element.width,
          my: (element.height - 20) / element.height
        }
      });
      drawMarker("sub-process", parentGfx, markerPath, {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "ParallelMarker": function(parentGfx, element, position) {
      var markerPath = pathMap.getScaledPath("MARKER_PARALLEL", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 + position.parallel) / element.width,
          my: (element.height - 20) / element.height
        }
      });
      drawMarker("parallel", parentGfx, markerPath, {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "SequentialMarker": function(parentGfx, element, position) {
      var markerPath = pathMap.getScaledPath("MARKER_SEQUENTIAL", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 + position.seq) / element.width,
          my: (element.height - 19) / element.height
        }
      });
      drawMarker("sequential", parentGfx, markerPath, {
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "CompensationMarker": function(parentGfx, element, position) {
      var markerMath = pathMap.getScaledPath("MARKER_COMPENSATION", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 + position.compensation) / element.width,
          my: (element.height - 13) / element.height
        }
      });
      drawMarker("compensation", parentGfx, markerMath, {
        strokeWidth: 1,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    },
    "LoopMarker": function(parentGfx, element, position) {
      var markerPath = pathMap.getScaledPath("MARKER_LOOP", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 + position.loop) / element.width,
          my: (element.height - 7) / element.height
        }
      });
      drawMarker("loop", parentGfx, markerPath, {
        strokeWidth: 1.5,
        fill: getFillColor(element, defaultFillColor),
        stroke: getStrokeColor(element, defaultStrokeColor),
        strokeMiterlimit: 0.5
      });
    },
    "AdhocMarker": function(parentGfx, element, position) {
      var markerPath = pathMap.getScaledPath("MARKER_ADHOC", {
        xScaleFactor: 1,
        yScaleFactor: 1,
        containerWidth: element.width,
        containerHeight: element.height,
        position: {
          mx: (element.width / 2 + position.adhoc) / element.width,
          my: (element.height - 15) / element.height
        }
      });
      drawMarker("adhoc", parentGfx, markerPath, {
        strokeWidth: 1,
        fill: getStrokeColor(element, defaultStrokeColor),
        stroke: getStrokeColor(element, defaultStrokeColor)
      });
    }
  };
  function attachTaskMarkers(parentGfx, element, taskMarkers) {
    var obj = getBusinessObject(element);
    var subprocess = taskMarkers && taskMarkers.indexOf("SubProcessMarker") !== -1;
    var position;
    if (subprocess) {
      position = {
        seq: -21,
        parallel: -22,
        compensation: -42,
        loop: -18,
        adhoc: 10
      };
    } else {
      position = {
        seq: -3,
        parallel: -6,
        compensation: -27,
        loop: 0,
        adhoc: 10
      };
    }
    forEach$1(taskMarkers, function(marker2) {
      renderer(marker2)(parentGfx, element, position);
    });
    if (obj.isForCompensation) {
      renderer("CompensationMarker")(parentGfx, element, position);
    }
    if (obj.$type === "bpmn:AdHocSubProcess") {
      renderer("AdhocMarker")(parentGfx, element, position);
    }
    var loopCharacteristics = obj.loopCharacteristics, isSequential = loopCharacteristics && loopCharacteristics.isSequential;
    if (loopCharacteristics) {
      if (isSequential === void 0) {
        renderer("LoopMarker")(parentGfx, element, position);
      }
      if (isSequential === false) {
        renderer("ParallelMarker")(parentGfx, element, position);
      }
      if (isSequential === true) {
        renderer("SequentialMarker")(parentGfx, element, position);
      }
    }
  }
  function renderDataItemCollection(parentGfx, element) {
    var yPosition = (element.height - 18) / element.height;
    var pathData = pathMap.getScaledPath("DATA_OBJECT_COLLECTION_PATH", {
      xScaleFactor: 1,
      yScaleFactor: 1,
      containerWidth: element.width,
      containerHeight: element.height,
      position: {
        mx: 0.33,
        my: yPosition
      }
    });
    drawPath2(parentGfx, pathData, {
      strokeWidth: 2
    });
  }
  this._drawPath = drawPath2;
  this._renderer = renderer;
}
e(BpmnRenderer, BaseRenderer);
BpmnRenderer.$inject = [
  "config.bpmnRenderer",
  "eventBus",
  "styles",
  "pathMap",
  "canvas",
  "textRenderer"
];
BpmnRenderer.prototype.canRender = function(element) {
  return is$1(element, "bpmn:BaseElement");
};
BpmnRenderer.prototype.drawShape = function(parentGfx, element) {
  var type = element.type;
  var h2 = this._renderer(type);
  return h2(parentGfx, element);
};
BpmnRenderer.prototype.drawConnection = function(parentGfx, element) {
  var type = element.type;
  var h2 = this._renderer(type);
  return h2(parentGfx, element);
};
BpmnRenderer.prototype.getShapePath = function(element) {
  if (is$1(element, "bpmn:Event")) {
    return getCirclePath(element);
  }
  if (is$1(element, "bpmn:Activity")) {
    return getRoundRectPath(element, TASK_BORDER_RADIUS);
  }
  if (is$1(element, "bpmn:Gateway")) {
    return getDiamondPath(element);
  }
  return getRectPath(element);
};
var DEFAULT_BOX_PADDING = 0;
var DEFAULT_LABEL_SIZE = {
  width: 150,
  height: 50
};
function parseAlign(align) {
  var parts = align.split("-");
  return {
    horizontal: parts[0] || "center",
    vertical: parts[1] || "top"
  };
}
function parsePadding(padding) {
  if (isObject(padding)) {
    return assign$1({ top: 0, left: 0, right: 0, bottom: 0 }, padding);
  } else {
    return {
      top: padding,
      left: padding,
      right: padding,
      bottom: padding
    };
  }
}
function getTextBBox(text, fakeText) {
  fakeText.textContent = text;
  var textBBox;
  try {
    var bbox, emptyLine = text === "";
    fakeText.textContent = emptyLine ? "dummy" : text;
    textBBox = fakeText.getBBox();
    bbox = {
      width: textBBox.width + textBBox.x * 2,
      height: textBBox.height
    };
    if (emptyLine) {
      bbox.width = 0;
    }
    return bbox;
  } catch (e2) {
    return { width: 0, height: 0 };
  }
}
function layoutNext(lines, maxWidth, fakeText) {
  var originalLine = lines.shift(), fitLine = originalLine;
  var textBBox;
  for (; ; ) {
    textBBox = getTextBBox(fitLine, fakeText);
    textBBox.width = fitLine ? textBBox.width : 0;
    if (fitLine === " " || fitLine === "" || textBBox.width < Math.round(maxWidth) || fitLine.length < 2) {
      return fit(lines, fitLine, originalLine, textBBox);
    }
    fitLine = shortenLine(fitLine, textBBox.width, maxWidth);
  }
}
function fit(lines, fitLine, originalLine, textBBox) {
  if (fitLine.length < originalLine.length) {
    var remainder = originalLine.slice(fitLine.length).trim();
    lines.unshift(remainder);
  }
  return {
    width: textBBox.width,
    height: textBBox.height,
    text: fitLine
  };
}
var SOFT_BREAK = "­";
function semanticShorten(line, maxLength) {
  var parts = line.split(/(\s|-|\u00AD)/g), part, shortenedParts = [], length = 0;
  if (parts.length > 1) {
    while (part = parts.shift()) {
      if (part.length + length < maxLength) {
        shortenedParts.push(part);
        length += part.length;
      } else {
        if (part === "-" || part === SOFT_BREAK) {
          shortenedParts.pop();
        }
        break;
      }
    }
  }
  var last = shortenedParts[shortenedParts.length - 1];
  if (last && last === SOFT_BREAK) {
    shortenedParts[shortenedParts.length - 1] = "-";
  }
  return shortenedParts.join("");
}
function shortenLine(line, width, maxWidth) {
  var length = Math.max(line.length * (maxWidth / width), 1);
  var shortenedLine = semanticShorten(line, length);
  if (!shortenedLine) {
    shortenedLine = line.slice(0, Math.max(Math.round(length - 1), 1));
  }
  return shortenedLine;
}
function getHelperSvg() {
  var helperSvg = document.getElementById("helper-svg");
  if (!helperSvg) {
    helperSvg = create$1("svg");
    attr$1(helperSvg, {
      id: "helper-svg"
    });
    assign(helperSvg, {
      visibility: "hidden",
      position: "fixed",
      width: 0,
      height: 0
    });
    document.body.appendChild(helperSvg);
  }
  return helperSvg;
}
function Text$1(config2) {
  this._config = assign$1({}, {
    size: DEFAULT_LABEL_SIZE,
    padding: DEFAULT_BOX_PADDING,
    style: {},
    align: "center-top"
  }, config2 || {});
}
Text$1.prototype.createText = function(text, options) {
  return this.layoutText(text, options).element;
};
Text$1.prototype.getDimensions = function(text, options) {
  return this.layoutText(text, options).dimensions;
};
Text$1.prototype.layoutText = function(text, options) {
  var box = assign$1({}, this._config.size, options.box), style = assign$1({}, this._config.style, options.style), align = parseAlign(options.align || this._config.align), padding = parsePadding(options.padding !== void 0 ? options.padding : this._config.padding), fitBox = options.fitBox || false;
  var lineHeight = getLineHeight(style);
  var lines = text.split(/\u00AD?\r?\n/), layouted = [];
  var maxWidth = box.width - padding.left - padding.right;
  var helperText = create$1("text");
  attr$1(helperText, { x: 0, y: 0 });
  attr$1(helperText, style);
  var helperSvg = getHelperSvg();
  append(helperSvg, helperText);
  while (lines.length) {
    layouted.push(layoutNext(lines, maxWidth, helperText));
  }
  if (align.vertical === "middle") {
    padding.top = padding.bottom = 0;
  }
  var totalHeight = reduce(layouted, function(sum, line, idx) {
    return sum + (lineHeight || line.height);
  }, 0) + padding.top + padding.bottom;
  var maxLineWidth = reduce(layouted, function(sum, line, idx) {
    return line.width > sum ? line.width : sum;
  }, 0);
  var y = padding.top;
  if (align.vertical === "middle") {
    y += (box.height - totalHeight) / 2;
  }
  y -= (lineHeight || layouted[0].height) / 4;
  var textElement = create$1("text");
  attr$1(textElement, style);
  forEach$1(layouted, function(line) {
    var x;
    y += lineHeight || line.height;
    switch (align.horizontal) {
      case "left":
        x = padding.left;
        break;
      case "right":
        x = (fitBox ? maxLineWidth : maxWidth) - padding.right - line.width;
        break;
      default:
        x = Math.max(((fitBox ? maxLineWidth : maxWidth) - line.width) / 2 + padding.left, 0);
    }
    var tspan = create$1("tspan");
    attr$1(tspan, { x, y });
    tspan.textContent = line.text;
    append(textElement, tspan);
  });
  remove$2(helperText);
  var dimensions = {
    width: maxLineWidth,
    height: totalHeight
  };
  return {
    dimensions,
    element: textElement
  };
};
function getLineHeight(style) {
  if ("fontSize" in style && "lineHeight" in style) {
    return style.lineHeight * parseInt(style.fontSize, 10);
  }
}
var DEFAULT_FONT_SIZE = 12;
var LINE_HEIGHT_RATIO = 1.2;
var MIN_TEXT_ANNOTATION_HEIGHT = 30;
function TextRenderer(config2) {
  var defaultStyle = assign$1({
    fontFamily: "Arial, sans-serif",
    fontSize: DEFAULT_FONT_SIZE,
    fontWeight: "normal",
    lineHeight: LINE_HEIGHT_RATIO
  }, config2 && config2.defaultStyle || {});
  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;
  var externalStyle = assign$1({}, defaultStyle, {
    fontSize
  }, config2 && config2.externalStyle || {});
  var textUtil = new Text$1({
    style: defaultStyle
  });
  this.getExternalLabelBounds = function(bounds, text) {
    var layoutedDimensions = textUtil.getDimensions(text, {
      box: {
        width: 90,
        height: 30
      },
      style: externalStyle
    });
    return {
      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),
      y: Math.round(bounds.y),
      width: Math.ceil(layoutedDimensions.width),
      height: Math.ceil(layoutedDimensions.height)
    };
  };
  this.getTextAnnotationBounds = function(bounds, text) {
    var layoutedDimensions = textUtil.getDimensions(text, {
      box: bounds,
      style: defaultStyle,
      align: "left-top",
      padding: 5
    });
    return {
      x: bounds.x,
      y: bounds.y,
      width: bounds.width,
      height: Math.max(MIN_TEXT_ANNOTATION_HEIGHT, Math.round(layoutedDimensions.height))
    };
  };
  this.createText = function(text, options) {
    return textUtil.createText(text, options || {});
  };
  this.getDefaultStyle = function() {
    return defaultStyle;
  };
  this.getExternalStyle = function() {
    return externalStyle;
  };
}
TextRenderer.$inject = [
  "config.textRenderer"
];
function PathMap() {
  this.pathMap = {
    "EVENT_MESSAGE": {
      d: "m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",
      height: 36,
      width: 36,
      heightElements: [6, 14],
      widthElements: [10.5, 21]
    },
    "EVENT_SIGNAL": {
      d: "M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",
      height: 36,
      width: 36,
      heightElements: [18],
      widthElements: [10, 20]
    },
    "EVENT_ESCALATION": {
      d: "M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",
      height: 36,
      width: 36,
      heightElements: [20, 7],
      widthElements: [8]
    },
    "EVENT_CONDITIONAL": {
      d: "M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",
      height: 36,
      width: 36,
      heightElements: [8.5, 14.5, 18, 11.5, 14.5, 17.5, 20.5, 23.5, 26.5],
      widthElements: [10.5, 14.5, 12.5]
    },
    "EVENT_LINK": {
      d: "m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",
      height: 36,
      width: 36,
      heightElements: [4.4375, 6.75, 7.8125],
      widthElements: [9.84375, 13.5]
    },
    "EVENT_ERROR": {
      d: "m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",
      height: 36,
      width: 36,
      heightElements: [0.023, 8.737, 8.151, 16.564, 10.591, 8.714],
      widthElements: [0.085, 6.672, 6.97, 4.273, 5.337, 6.636]
    },
    "EVENT_CANCEL_45": {
      d: "m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",
      height: 36,
      width: 36,
      heightElements: [4.75, 8.5],
      widthElements: [4.75, 8.5]
    },
    "EVENT_COMPENSATION": {
      d: "m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",
      height: 36,
      width: 36,
      heightElements: [6.5, 13, 0.4, 6.1],
      widthElements: [9, 9.3, 8.7]
    },
    "EVENT_TIMER_WH": {
      d: "M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",
      height: 36,
      width: 36,
      heightElements: [10, 2],
      widthElements: [3, 7]
    },
    "EVENT_TIMER_LINE": {
      d: "M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",
      height: 36,
      width: 36,
      heightElements: [10, 3],
      widthElements: [0, 0]
    },
    "EVENT_MULTIPLE": {
      d: "m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",
      height: 36,
      width: 36,
      heightElements: [6.28099, 12.56199],
      widthElements: [3.1405, 9.42149, 12.56198]
    },
    "EVENT_PARALLEL_MULTIPLE": {
      d: "m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",
      height: 36,
      width: 36,
      heightElements: [2.56228, 7.68683],
      widthElements: [2.56228, 7.68683]
    },
    "GATEWAY_EXCLUSIVE": {
      d: "m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",
      height: 17.5,
      width: 17.5,
      heightElements: [8.5, 6.5312, -6.5312, -8.5],
      widthElements: [6.5, -6.5, 3, -3, 5, -5]
    },
    "GATEWAY_PARALLEL": {
      d: "m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",
      height: 30,
      width: 30,
      heightElements: [5, 12.5],
      widthElements: [5, 12.5]
    },
    "GATEWAY_EVENT_BASED": {
      d: "m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",
      height: 11,
      width: 11,
      heightElements: [-6, 6, 12, -12],
      widthElements: [9, -3, -12]
    },
    "GATEWAY_COMPLEX": {
      d: "m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",
      height: 17.125,
      width: 17.125,
      heightElements: [4.875, 3.4375, 2.125, 3],
      widthElements: [3.4375, 2.125, 4.875, 3]
    },
    "DATA_OBJECT_PATH": {
      d: "m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",
      height: 61,
      width: 51,
      heightElements: [10, 50, 60],
      widthElements: [10, 40, 50, 60]
    },
    "DATA_OBJECT_COLLECTION_PATH": {
      d: "m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",
      height: 10,
      width: 10,
      heightElements: [],
      widthElements: []
    },
    "DATA_ARROW": {
      d: "m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",
      height: 61,
      width: 51,
      heightElements: [],
      widthElements: []
    },
    "DATA_STORE": {
      d: "m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",
      height: 61,
      width: 61,
      heightElements: [7, 10, 45],
      widthElements: [2, 58, 60]
    },
    "TEXT_ANNOTATION": {
      d: "m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",
      height: 30,
      width: 10,
      heightElements: [30],
      widthElements: [10]
    },
    "MARKER_SUB_PROCESS": {
      d: "m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",
      height: 10,
      width: 10,
      heightElements: [],
      widthElements: []
    },
    "MARKER_PARALLEL": {
      d: "m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",
      height: 10,
      width: 10,
      heightElements: [],
      widthElements: []
    },
    "MARKER_SEQUENTIAL": {
      d: "m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",
      height: 10,
      width: 10,
      heightElements: [],
      widthElements: []
    },
    "MARKER_COMPENSATION": {
      d: "m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",
      height: 10,
      width: 21,
      heightElements: [],
      widthElements: []
    },
    "MARKER_LOOP": {
      d: "m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",
      height: 13.9,
      width: 13.7,
      heightElements: [],
      widthElements: []
    },
    "MARKER_ADHOC": {
      d: "m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",
      height: 4,
      width: 15,
      heightElements: [],
      widthElements: []
    },
    "TASK_TYPE_SEND": {
      d: "m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",
      height: 14,
      width: 21,
      heightElements: [6, 14],
      widthElements: [10.5, 21]
    },
    "TASK_TYPE_SCRIPT": {
      d: "m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",
      height: 15,
      width: 12.6,
      heightElements: [6, 14],
      widthElements: [10.5, 21]
    },
    "TASK_TYPE_USER_1": {
      d: "m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"
    },
    "TASK_TYPE_USER_2": {
      d: "m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "
    },
    "TASK_TYPE_USER_3": {
      d: "m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"
    },
    "TASK_TYPE_MANUAL": {
      d: "m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"
    },
    "TASK_TYPE_INSTANTIATING_SEND": {
      d: "m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"
    },
    "TASK_TYPE_SERVICE": {
      d: "m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"
    },
    "TASK_TYPE_SERVICE_FILL": {
      d: "m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"
    },
    "TASK_TYPE_BUSINESS_RULE_HEADER": {
      d: "m {mx},{my} 0,4 20,0 0,-4 z"
    },
    "TASK_TYPE_BUSINESS_RULE_MAIN": {
      d: "m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"
    },
    "MESSAGE_FLOW_MARKER": {
      d: "m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"
    }
  };
  this.getRawPath = function getRawPath(pathId) {
    return this.pathMap[pathId].d;
  };
  this.getScaledPath = function getScaledPath(pathId, param) {
    var rawPath = this.pathMap[pathId];
    var mx, my;
    if (param.abspos) {
      mx = param.abspos.x;
      my = param.abspos.y;
    } else {
      mx = param.containerWidth * param.position.mx;
      my = param.containerHeight * param.position.my;
    }
    var coordinates = {};
    if (param.position) {
      var heightRatio = param.containerHeight / rawPath.height * param.yScaleFactor;
      var widthRatio = param.containerWidth / rawPath.width * param.xScaleFactor;
      for (var heightIndex = 0; heightIndex < rawPath.heightElements.length; heightIndex++) {
        coordinates["y" + heightIndex] = rawPath.heightElements[heightIndex] * heightRatio;
      }
      for (var widthIndex = 0; widthIndex < rawPath.widthElements.length; widthIndex++) {
        coordinates["x" + widthIndex] = rawPath.widthElements[widthIndex] * widthRatio;
      }
    }
    var path = format(
      rawPath.d,
      {
        mx,
        my,
        e: coordinates
      }
    );
    return path;
  };
}
var tokenRegex = /\{([^{}]+)\}/g, objNotationRegex = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;
function replacer(all3, key, obj) {
  var res = obj;
  key.replace(objNotationRegex, function(all4, name2, quote, quotedName, isFunc) {
    name2 = name2 || quotedName;
    if (res) {
      if (name2 in res) {
        res = res[name2];
      }
      typeof res == "function" && isFunc && (res = res());
    }
  });
  res = (res == null || res == obj ? all3 : res) + "";
  return res;
}
function format(str, obj) {
  return String(str).replace(tokenRegex, function(all3, key) {
    return replacer(all3, key, obj);
  });
}
const DrawModule$1 = {
  __init__: ["bpmnRenderer"],
  bpmnRenderer: ["type", BpmnRenderer],
  textRenderer: ["type", TextRenderer],
  pathMap: ["type", PathMap]
};
function translate(template, replacements) {
  replacements = replacements || {};
  return template.replace(/{([^}]+)}/g, function(_, key) {
    return replacements[key] || "{" + key + "}";
  });
}
const TranslateModule = {
  translate: ["value", translate]
};
function roundPoint(point) {
  return {
    x: Math.round(point.x),
    y: Math.round(point.y)
  };
}
function asTRBL(bounds) {
  return {
    top: bounds.y,
    right: bounds.x + (bounds.width || 0),
    bottom: bounds.y + (bounds.height || 0),
    left: bounds.x
  };
}
function asBounds(trbl) {
  return {
    x: trbl.left,
    y: trbl.top,
    width: trbl.right - trbl.left,
    height: trbl.bottom - trbl.top
  };
}
function getBoundsMid(bounds) {
  return roundPoint({
    x: bounds.x + (bounds.width || 0) / 2,
    y: bounds.y + (bounds.height || 0) / 2
  });
}
function getConnectionMid(connection) {
  var waypoints = connection.waypoints;
  var parts = waypoints.reduce(function(parts2, point, index2) {
    var lastPoint = waypoints[index2 - 1];
    if (lastPoint) {
      var lastPart = parts2[parts2.length - 1];
      var startLength = lastPart && lastPart.endLength || 0;
      var length = distance(lastPoint, point);
      parts2.push({
        start: lastPoint,
        end: point,
        startLength,
        endLength: startLength + length,
        length
      });
    }
    return parts2;
  }, []);
  var totalLength = parts.reduce(function(length, part) {
    return length + part.length;
  }, 0);
  var midLength = totalLength / 2;
  var i = 0;
  var midSegment = parts[i];
  while (midSegment.endLength < midLength) {
    midSegment = parts[++i];
  }
  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;
  var midPoint = {
    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,
    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress
  };
  return midPoint;
}
function getMid(element) {
  if (isConnection(element)) {
    return getConnectionMid(element);
  }
  return getBoundsMid(element);
}
function distance(a, b) {
  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));
}
function elementToString(e2) {
  if (!e2) {
    return "<null>";
  }
  return "<" + e2.$type + (e2.id ? ' id="' + e2.id : "") + '" />';
}
function elementData(semantic, di, attrs) {
  return assign$1({
    id: semantic.id,
    type: semantic.$type,
    businessObject: semantic,
    di
  }, attrs);
}
function getWaypoints(di, source, target) {
  var waypoints = di.waypoint;
  if (!waypoints || waypoints.length < 2) {
    return [getMid(source), getMid(target)];
  }
  return waypoints.map(function(p) {
    return { x: p.x, y: p.y };
  });
}
function notYetDrawn(translate2, semantic, refSemantic, property) {
  return new Error(translate2("element {element} referenced by {referenced}#{property} not yet drawn", {
    element: elementToString(refSemantic),
    referenced: elementToString(semantic),
    property
  }));
}
function BpmnImporter(eventBus2, canvas, elementFactory, elementRegistry, translate2, textRenderer) {
  this._eventBus = eventBus2;
  this._canvas = canvas;
  this._elementFactory = elementFactory;
  this._elementRegistry = elementRegistry;
  this._translate = translate2;
  this._textRenderer = textRenderer;
}
BpmnImporter.$inject = [
  "eventBus",
  "canvas",
  "elementFactory",
  "elementRegistry",
  "translate",
  "textRenderer"
];
BpmnImporter.prototype.add = function(semantic, di, parentElement) {
  var element, translate2 = this._translate, hidden;
  var parentIndex;
  if (is$1(di, "bpmndi:BPMNPlane")) {
    var attrs = is$1(semantic, "bpmn:SubProcess") ? { id: semantic.id + "_plane" } : {};
    element = this._elementFactory.createRoot(elementData(semantic, di, attrs));
    this._canvas.addRootElement(element);
  } else if (is$1(di, "bpmndi:BPMNShape")) {
    var collapsed = !isExpanded(semantic, di), isFrame = isFrameElement$1(semantic);
    hidden = parentElement && (parentElement.hidden || parentElement.collapsed);
    var bounds = di.bounds;
    element = this._elementFactory.createShape(elementData(semantic, di, {
      collapsed,
      hidden,
      x: Math.round(bounds.x),
      y: Math.round(bounds.y),
      width: Math.round(bounds.width),
      height: Math.round(bounds.height),
      isFrame
    }));
    if (is$1(semantic, "bpmn:BoundaryEvent")) {
      this._attachBoundary(semantic, element);
    }
    if (is$1(semantic, "bpmn:Lane")) {
      parentIndex = 0;
    }
    if (is$1(semantic, "bpmn:DataStoreReference")) {
      if (!isPointInsideBBox(parentElement, getMid(bounds))) {
        parentElement = this._canvas.findRoot(parentElement);
      }
    }
    this._canvas.addShape(element, parentElement, parentIndex);
  } else if (is$1(di, "bpmndi:BPMNEdge")) {
    var source = this._getSource(semantic), target = this._getTarget(semantic);
    hidden = parentElement && (parentElement.hidden || parentElement.collapsed);
    element = this._elementFactory.createConnection(elementData(semantic, di, {
      hidden,
      source,
      target,
      waypoints: getWaypoints(di, source, target)
    }));
    if (is$1(semantic, "bpmn:DataAssociation")) {
      parentElement = this._canvas.findRoot(parentElement);
    }
    this._canvas.addConnection(element, parentElement, parentIndex);
  } else {
    throw new Error(translate2("unknown di {di} for element {semantic}", {
      di: elementToString(di),
      semantic: elementToString(semantic)
    }));
  }
  if (isLabelExternal(semantic) && getLabel(element)) {
    this.addLabel(semantic, di, element);
  }
  this._eventBus.fire("bpmnElement.added", { element });
  return element;
};
BpmnImporter.prototype._attachBoundary = function(boundarySemantic, boundaryElement) {
  var translate2 = this._translate;
  var hostSemantic = boundarySemantic.attachedToRef;
  if (!hostSemantic) {
    throw new Error(translate2("missing {semantic}#attachedToRef", {
      semantic: elementToString(boundarySemantic)
    }));
  }
  var host = this._elementRegistry.get(hostSemantic.id), attachers = host && host.attachers;
  if (!host) {
    throw notYetDrawn(translate2, boundarySemantic, hostSemantic, "attachedToRef");
  }
  boundaryElement.host = host;
  if (!attachers) {
    host.attachers = attachers = [];
  }
  if (attachers.indexOf(boundaryElement) === -1) {
    attachers.push(boundaryElement);
  }
};
BpmnImporter.prototype.addLabel = function(semantic, di, element) {
  var bounds, text, label;
  bounds = getExternalLabelBounds(di, element);
  text = getLabel(element);
  if (text) {
    bounds = this._textRenderer.getExternalLabelBounds(bounds, text);
  }
  label = this._elementFactory.createLabel(elementData(semantic, di, {
    id: semantic.id + "_label",
    labelTarget: element,
    type: "label",
    hidden: element.hidden || !getLabel(element),
    x: Math.round(bounds.x),
    y: Math.round(bounds.y),
    width: Math.round(bounds.width),
    height: Math.round(bounds.height)
  }));
  return this._canvas.addShape(label, element.parent);
};
BpmnImporter.prototype._getConnectedElement = function(semantic, side) {
  var element, refSemantic, type = semantic.$type, translate2 = this._translate;
  refSemantic = semantic[side + "Ref"];
  if (side === "source" && type === "bpmn:DataInputAssociation") {
    refSemantic = refSemantic && refSemantic[0];
  }
  if (side === "source" && type === "bpmn:DataOutputAssociation" || side === "target" && type === "bpmn:DataInputAssociation") {
    refSemantic = semantic.$parent;
  }
  element = refSemantic && this._getElement(refSemantic);
  if (element) {
    return element;
  }
  if (refSemantic) {
    throw notYetDrawn(translate2, semantic, refSemantic, side + "Ref");
  } else {
    throw new Error(translate2("{semantic}#{side} Ref not specified", {
      semantic: elementToString(semantic),
      side
    }));
  }
};
BpmnImporter.prototype._getSource = function(semantic) {
  return this._getConnectedElement(semantic, "source");
};
BpmnImporter.prototype._getTarget = function(semantic) {
  return this._getConnectedElement(semantic, "target");
};
BpmnImporter.prototype._getElement = function(semantic) {
  return this._elementRegistry.get(semantic.id);
};
function isPointInsideBBox(bbox, point) {
  var x = point.x, y = point.y;
  return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;
}
function isFrameElement$1(semantic) {
  return is$1(semantic, "bpmn:Group");
}
const ImportModule = {
  __depends__: [
    TranslateModule
  ],
  bpmnImporter: ["type", BpmnImporter]
};
const CoreModule$1 = {
  __depends__: [
    DrawModule$1,
    ImportModule
  ]
};
function getOriginal(event2) {
  return event2.originalEvent || event2.srcEvent;
}
function isMac() {
  return /mac/i.test(navigator.platform);
}
function isButton(event2, button2) {
  return (getOriginal(event2) || event2).button === button2;
}
function isPrimaryButton(event2) {
  return isButton(event2, 0);
}
function isAuxiliaryButton(event2) {
  return isButton(event2, 1);
}
function hasPrimaryModifier(event2) {
  var originalEvent = getOriginal(event2) || event2;
  if (!isPrimaryButton(event2)) {
    return false;
  }
  if (isMac()) {
    return originalEvent.metaKey;
  } else {
    return originalEvent.ctrlKey;
  }
}
function hasSecondaryModifier(event2) {
  var originalEvent = getOriginal(event2) || event2;
  return isPrimaryButton(event2) && originalEvent.shiftKey;
}
function allowAll(event2) {
  return true;
}
function allowPrimaryAndAuxiliary(event2) {
  return isPrimaryButton(event2) || isAuxiliaryButton(event2);
}
var LOW_PRIORITY$3 = 500;
function InteractionEvents(eventBus2, elementRegistry, styles) {
  var self2 = this;
  function fire(type, event2, element) {
    if (isIgnored(type, event2)) {
      return;
    }
    var target, gfx, returnValue;
    if (!element) {
      target = event2.delegateTarget || event2.target;
      if (target) {
        gfx = target;
        element = elementRegistry.get(gfx);
      }
    } else {
      gfx = elementRegistry.getGraphics(element);
    }
    if (!gfx || !element) {
      return;
    }
    returnValue = eventBus2.fire(type, {
      element,
      gfx,
      originalEvent: event2
    });
    if (returnValue === false) {
      event2.stopPropagation();
      event2.preventDefault();
    }
  }
  var handlers = {};
  function mouseHandler(localEventName) {
    return handlers[localEventName];
  }
  function isIgnored(localEventName, event2) {
    var filter3 = ignoredFilters[localEventName] || isPrimaryButton;
    return !filter3(event2);
  }
  var bindings = {
    click: "element.click",
    contextmenu: "element.contextmenu",
    dblclick: "element.dblclick",
    mousedown: "element.mousedown",
    mousemove: "element.mousemove",
    mouseover: "element.hover",
    mouseout: "element.out",
    mouseup: "element.mouseup"
  };
  var ignoredFilters = {
    "element.contextmenu": allowAll,
    "element.mousedown": allowPrimaryAndAuxiliary,
    "element.mouseup": allowPrimaryAndAuxiliary,
    "element.click": allowPrimaryAndAuxiliary,
    "element.dblclick": allowPrimaryAndAuxiliary
  };
  function triggerMouseEvent(eventName, event2, targetElement) {
    var localEventName = bindings[eventName];
    if (!localEventName) {
      throw new Error("unmapped DOM event name <" + eventName + ">");
    }
    return fire(localEventName, event2, targetElement);
  }
  var ELEMENT_SELECTOR = "svg, .djs-element";
  function registerEvent(node2, event2, localEvent, ignoredFilter) {
    var handler = handlers[localEvent] = function(event3) {
      fire(localEvent, event3);
    };
    if (ignoredFilter) {
      ignoredFilters[localEvent] = ignoredFilter;
    }
    handler.$delegate = delegate.bind(node2, ELEMENT_SELECTOR, event2, handler);
  }
  function unregisterEvent(node2, event2, localEvent) {
    var handler = mouseHandler(localEvent);
    if (!handler) {
      return;
    }
    delegate.unbind(node2, event2, handler.$delegate);
  }
  function registerEvents(svg) {
    forEach$1(bindings, function(val, key) {
      registerEvent(svg, key, val);
    });
  }
  function unregisterEvents(svg) {
    forEach$1(bindings, function(val, key) {
      unregisterEvent(svg, key, val);
    });
  }
  eventBus2.on("canvas.destroy", function(event2) {
    unregisterEvents(event2.svg);
  });
  eventBus2.on("canvas.init", function(event2) {
    registerEvents(event2.svg);
  });
  eventBus2.on(["shape.added", "connection.added"], function(event2) {
    var element = event2.element, gfx = event2.gfx;
    eventBus2.fire("interactionEvents.createHit", { element, gfx });
  });
  eventBus2.on([
    "shape.changed",
    "connection.changed"
  ], LOW_PRIORITY$3, function(event2) {
    var element = event2.element, gfx = event2.gfx;
    eventBus2.fire("interactionEvents.updateHit", { element, gfx });
  });
  eventBus2.on("interactionEvents.createHit", LOW_PRIORITY$3, function(event2) {
    var element = event2.element, gfx = event2.gfx;
    self2.createDefaultHit(element, gfx);
  });
  eventBus2.on("interactionEvents.updateHit", function(event2) {
    var element = event2.element, gfx = event2.gfx;
    self2.updateDefaultHit(element, gfx);
  });
  var STROKE_HIT_STYLE = createHitStyle("djs-hit djs-hit-stroke");
  var CLICK_STROKE_HIT_STYLE = createHitStyle("djs-hit djs-hit-click-stroke");
  var ALL_HIT_STYLE = createHitStyle("djs-hit djs-hit-all");
  var NO_MOVE_HIT_STYLE = createHitStyle("djs-hit djs-hit-no-move");
  var HIT_TYPES = {
    "all": ALL_HIT_STYLE,
    "click-stroke": CLICK_STROKE_HIT_STYLE,
    "stroke": STROKE_HIT_STYLE,
    "no-move": NO_MOVE_HIT_STYLE
  };
  function createHitStyle(classNames, attrs) {
    attrs = assign$1({
      stroke: "white",
      strokeWidth: 15
    }, attrs || {});
    return styles.cls(classNames, ["no-fill", "no-border"], attrs);
  }
  function applyStyle(hit, type) {
    var attrs = HIT_TYPES[type];
    if (!attrs) {
      throw new Error("invalid hit type <" + type + ">");
    }
    attr$1(hit, attrs);
    return hit;
  }
  function appendHit(gfx, hit) {
    append(gfx, hit);
  }
  this.removeHits = function(gfx) {
    var hits = all(".djs-hit", gfx);
    forEach$1(hits, remove$2);
  };
  this.createDefaultHit = function(element, gfx) {
    var waypoints = element.waypoints, isFrame = element.isFrame, boxType;
    if (waypoints) {
      return this.createWaypointsHit(gfx, waypoints);
    } else {
      boxType = isFrame ? "stroke" : "all";
      return this.createBoxHit(gfx, boxType, {
        width: element.width,
        height: element.height
      });
    }
  };
  this.createWaypointsHit = function(gfx, waypoints) {
    var hit = createLine(waypoints);
    applyStyle(hit, "stroke");
    appendHit(gfx, hit);
    return hit;
  };
  this.createBoxHit = function(gfx, type, attrs) {
    attrs = assign$1({
      x: 0,
      y: 0
    }, attrs);
    var hit = create$1("rect");
    applyStyle(hit, type);
    attr$1(hit, attrs);
    appendHit(gfx, hit);
    return hit;
  };
  this.updateDefaultHit = function(element, gfx) {
    var hit = query(".djs-hit", gfx);
    if (!hit) {
      return;
    }
    if (element.waypoints) {
      updateLine(hit, element.waypoints);
    } else {
      attr$1(hit, {
        width: element.width,
        height: element.height
      });
    }
    return hit;
  };
  this.fire = fire;
  this.triggerMouseEvent = triggerMouseEvent;
  this.mouseHandler = mouseHandler;
  this.registerEvent = registerEvent;
  this.unregisterEvent = unregisterEvent;
}
InteractionEvents.$inject = [
  "eventBus",
  "elementRegistry",
  "styles"
];
const InteractionEventsModule = {
  __init__: ["interactionEvents"],
  interactionEvents: ["type", InteractionEvents]
};
function getBBox(elements, stopRecursion) {
  stopRecursion = !!stopRecursion;
  if (!isArray$2(elements)) {
    elements = [elements];
  }
  var minX, minY, maxX, maxY;
  forEach$1(elements, function(element) {
    var bbox = element;
    if (element.waypoints && !stopRecursion) {
      bbox = getBBox(element.waypoints, true);
    }
    var x = bbox.x, y = bbox.y, height = bbox.height || 0, width = bbox.width || 0;
    if (x < minX || minX === void 0) {
      minX = x;
    }
    if (y < minY || minY === void 0) {
      minY = y;
    }
    if (x + width > maxX || maxX === void 0) {
      maxX = x + width;
    }
    if (y + height > maxY || maxY === void 0) {
      maxY = y + height;
    }
  });
  return {
    x: minX,
    y: minY,
    height: maxY - minY,
    width: maxX - minX
  };
}
function getType(element) {
  if ("waypoints" in element) {
    return "connection";
  }
  if ("x" in element) {
    return "shape";
  }
  return "root";
}
function isFrameElement(element) {
  return !!(element && element.isFrame);
}
var LOW_PRIORITY$2 = 500;
var DEFAULT_PRIORITY$2 = 1e3;
function Outline(eventBus2, styles) {
  this._eventBus = eventBus2;
  this.offset = 5;
  var OUTLINE_STYLE = styles.cls("djs-outline", ["no-fill"]);
  var self2 = this;
  function createOutline(gfx) {
    var outline = create$1("rect");
    attr$1(outline, assign$1({
      x: 0,
      y: 0,
      rx: 4,
      width: 100,
      height: 100
    }, OUTLINE_STYLE));
    return outline;
  }
  eventBus2.on(["shape.added", "shape.changed"], LOW_PRIORITY$2, function(event2) {
    var element = event2.element, gfx = event2.gfx;
    var outline = query(".djs-outline", gfx);
    if (!outline) {
      outline = self2.getOutline(element) || createOutline();
      append(gfx, outline);
    }
    self2.updateShapeOutline(outline, element);
  });
  eventBus2.on(["connection.added", "connection.changed"], function(event2) {
    var element = event2.element, gfx = event2.gfx;
    var outline = query(".djs-outline", gfx);
    if (!outline) {
      outline = createOutline();
      append(gfx, outline);
    }
    self2.updateConnectionOutline(outline, element);
  });
}
Outline.prototype.updateShapeOutline = function(outline, element) {
  var updated = false;
  var providers = this._getProviders();
  if (providers.length) {
    forEach$1(providers, function(provider) {
      updated = updated || provider.updateOutline(element, outline);
    });
  }
  if (!updated) {
    attr$1(outline, {
      x: -this.offset,
      y: -this.offset,
      width: element.width + this.offset * 2,
      height: element.height + this.offset * 2
    });
  }
};
Outline.prototype.updateConnectionOutline = function(outline, connection) {
  var bbox = getBBox(connection);
  attr$1(outline, {
    x: bbox.x - this.offset,
    y: bbox.y - this.offset,
    width: bbox.width + this.offset * 2,
    height: bbox.height + this.offset * 2
  });
};
Outline.prototype.registerProvider = function(priority, provider) {
  if (!provider) {
    provider = priority;
    priority = DEFAULT_PRIORITY$2;
  }
  this._eventBus.on("outline.getProviders", priority, function(event2) {
    event2.providers.push(provider);
  });
};
Outline.prototype._getProviders = function() {
  var event2 = this._eventBus.createEvent({
    type: "outline.getProviders",
    providers: []
  });
  this._eventBus.fire(event2);
  return event2.providers;
};
Outline.prototype.getOutline = function(element) {
  var outline;
  var providers = this._getProviders();
  forEach$1(providers, function(provider) {
    if (!isFunction(provider.getOutline)) {
      return;
    }
    outline = outline || provider.getOutline(element);
  });
  return outline;
};
Outline.$inject = ["eventBus", "styles", "elementRegistry"];
const OutlineModule = {
  __init__: ["outline"],
  outline: ["type", Outline]
};
function Selection(eventBus2, canvas) {
  this._eventBus = eventBus2;
  this._canvas = canvas;
  this._selectedElements = [];
  var self2 = this;
  eventBus2.on(["shape.remove", "connection.remove"], function(e2) {
    var element = e2.element;
    self2.deselect(element);
  });
  eventBus2.on(["diagram.clear", "root.set"], function(e2) {
    self2.select(null);
  });
}
Selection.$inject = ["eventBus", "canvas"];
Selection.prototype.deselect = function(element) {
  var selectedElements = this._selectedElements;
  var idx = selectedElements.indexOf(element);
  if (idx !== -1) {
    var oldSelection = selectedElements.slice();
    selectedElements.splice(idx, 1);
    this._eventBus.fire("selection.changed", { oldSelection, newSelection: selectedElements });
  }
};
Selection.prototype.get = function() {
  return this._selectedElements;
};
Selection.prototype.isSelected = function(element) {
  return this._selectedElements.indexOf(element) !== -1;
};
Selection.prototype.select = function(elements, add2) {
  var selectedElements = this._selectedElements, oldSelection = selectedElements.slice();
  if (!isArray$2(elements)) {
    elements = elements ? [elements] : [];
  }
  var canvas = this._canvas;
  var rootElement = canvas.getRootElement();
  elements = elements.filter(function(element) {
    var elementRoot = canvas.findRoot(element);
    return rootElement === elementRoot;
  });
  if (add2) {
    forEach$1(elements, function(element) {
      if (selectedElements.indexOf(element) !== -1) {
        return;
      } else {
        selectedElements.push(element);
      }
    });
  } else {
    this._selectedElements = selectedElements = elements.slice();
  }
  this._eventBus.fire("selection.changed", { oldSelection, newSelection: selectedElements });
};
var MARKER_HOVER = "hover", MARKER_SELECTED = "selected";
var SELECTION_OUTLINE_PADDING = 6;
function SelectionVisuals(canvas, eventBus2, selection) {
  this._canvas = canvas;
  var self2 = this;
  this._multiSelectionBox = null;
  function addMarker(e2, cls) {
    canvas.addMarker(e2, cls);
  }
  function removeMarker(e2, cls) {
    canvas.removeMarker(e2, cls);
  }
  eventBus2.on("element.hover", function(event2) {
    addMarker(event2.element, MARKER_HOVER);
  });
  eventBus2.on("element.out", function(event2) {
    removeMarker(event2.element, MARKER_HOVER);
  });
  eventBus2.on("selection.changed", function(event2) {
    function deselect(s) {
      removeMarker(s, MARKER_SELECTED);
    }
    function select2(s) {
      addMarker(s, MARKER_SELECTED);
    }
    var oldSelection = event2.oldSelection, newSelection = event2.newSelection;
    forEach$1(oldSelection, function(e2) {
      if (newSelection.indexOf(e2) === -1) {
        deselect(e2);
      }
    });
    forEach$1(newSelection, function(e2) {
      if (oldSelection.indexOf(e2) === -1) {
        select2(e2);
      }
    });
    self2._updateSelectionOutline(newSelection);
  });
  eventBus2.on("element.changed", function(event2) {
    if (selection.isSelected(event2.element)) {
      self2._updateSelectionOutline(selection.get());
    }
  });
}
SelectionVisuals.$inject = [
  "canvas",
  "eventBus",
  "selection"
];
SelectionVisuals.prototype._updateSelectionOutline = function(selection) {
  var layer = this._canvas.getLayer("selectionOutline");
  clear$1(layer);
  var enabled = selection.length > 1;
  var container = this._canvas.getContainer();
  classes$1(container)[enabled ? "add" : "remove"]("djs-multi-select");
  if (!enabled) {
    return;
  }
  var bBox = addSelectionOutlinePadding(getBBox(selection));
  var rect = create$1("rect");
  attr$1(rect, assign$1({
    rx: 3
  }, bBox));
  classes$1(rect).add("djs-selection-outline");
  append(layer, rect);
};
function addSelectionOutlinePadding(bBox) {
  return {
    x: bBox.x - SELECTION_OUTLINE_PADDING,
    y: bBox.y - SELECTION_OUTLINE_PADDING,
    width: bBox.width + SELECTION_OUTLINE_PADDING * 2,
    height: bBox.height + SELECTION_OUTLINE_PADDING * 2
  };
}
function SelectionBehavior(eventBus2, selection, canvas, elementRegistry) {
  eventBus2.on("create.end", 500, function(event2) {
    var context = event2.context, canExecute = context.canExecute, elements = context.elements, hints = context.hints || {}, autoSelect = hints.autoSelect;
    if (canExecute) {
      if (autoSelect === false) {
        return;
      }
      if (isArray$2(autoSelect)) {
        selection.select(autoSelect);
      } else {
        selection.select(elements.filter(isShown));
      }
    }
  });
  eventBus2.on("connect.end", 500, function(event2) {
    var context = event2.context, connection = context.connection;
    if (connection) {
      selection.select(connection);
    }
  });
  eventBus2.on("shape.move.end", 500, function(event2) {
    var previousSelection = event2.previousSelection || [];
    var shape = elementRegistry.get(event2.context.shape.id);
    var isSelected = find$1(previousSelection, function(selectedShape) {
      return shape.id === selectedShape.id;
    });
    if (!isSelected) {
      selection.select(shape);
    }
  });
  eventBus2.on("element.click", function(event2) {
    if (!isPrimaryButton(event2)) {
      return;
    }
    var element = event2.element;
    if (element === canvas.getRootElement()) {
      element = null;
    }
    var isSelected = selection.isSelected(element), isMultiSelect = selection.get().length > 1;
    var add2 = hasPrimaryModifier(event2) || hasSecondaryModifier(event2);
    if (isSelected && isMultiSelect) {
      if (add2) {
        return selection.deselect(element);
      } else {
        return selection.select(element);
      }
    } else if (!isSelected) {
      selection.select(element, add2);
    } else {
      selection.deselect(element);
    }
  });
}
SelectionBehavior.$inject = [
  "eventBus",
  "selection",
  "canvas",
  "elementRegistry"
];
function isShown(element) {
  return !element.hidden;
}
const SelectionModule = {
  __init__: ["selectionVisuals", "selectionBehavior"],
  __depends__: [
    InteractionEventsModule,
    OutlineModule
  ],
  selection: ["type", Selection],
  selectionVisuals: ["type", SelectionVisuals],
  selectionBehavior: ["type", SelectionBehavior]
};
function IdGenerator(prefix2) {
  this._counter = 0;
  this._prefix = (prefix2 ? prefix2 + "-" : "") + Math.floor(Math.random() * 1e9) + "-";
}
IdGenerator.prototype.next = function() {
  return this._prefix + ++this._counter;
};
var ids = new IdGenerator("ov");
var LOW_PRIORITY$1 = 500;
function Overlays(config2, eventBus2, canvas, elementRegistry) {
  this._eventBus = eventBus2;
  this._canvas = canvas;
  this._elementRegistry = elementRegistry;
  this._ids = ids;
  this._overlayDefaults = assign$1({
    // no show constraints
    show: null,
    // always scale
    scale: true
  }, config2 && config2.defaults);
  this._overlays = {};
  this._overlayContainers = [];
  this._overlayRoot = createRoot(canvas.getContainer());
  this._init();
}
Overlays.$inject = [
  "config.overlays",
  "eventBus",
  "canvas",
  "elementRegistry"
];
Overlays.prototype.get = function(search2) {
  if (isString(search2)) {
    search2 = { id: search2 };
  }
  if (isString(search2.element)) {
    search2.element = this._elementRegistry.get(search2.element);
  }
  if (search2.element) {
    var container = this._getOverlayContainer(search2.element, true);
    if (container) {
      return search2.type ? filter(container.overlays, matchPattern({ type: search2.type })) : container.overlays.slice();
    } else {
      return [];
    }
  } else if (search2.type) {
    return filter(this._overlays, matchPattern({ type: search2.type }));
  } else {
    return search2.id ? this._overlays[search2.id] : null;
  }
};
Overlays.prototype.add = function(element, type, overlay) {
  if (isObject(type)) {
    overlay = type;
    type = null;
  }
  if (!element.id) {
    element = this._elementRegistry.get(element);
  }
  if (!overlay.position) {
    throw new Error("must specifiy overlay position");
  }
  if (!overlay.html) {
    throw new Error("must specifiy overlay html");
  }
  if (!element) {
    throw new Error("invalid element specified");
  }
  var id = this._ids.next();
  overlay = assign$1({}, this._overlayDefaults, overlay, {
    id,
    type,
    element,
    html: overlay.html
  });
  this._addOverlay(overlay);
  return id;
};
Overlays.prototype.remove = function(filter3) {
  var overlays = this.get(filter3) || [];
  if (!isArray$2(overlays)) {
    overlays = [overlays];
  }
  var self2 = this;
  forEach$1(overlays, function(overlay) {
    var container = self2._getOverlayContainer(overlay.element, true);
    if (overlay) {
      remove$1(overlay.html);
      remove$1(overlay.htmlContainer);
      delete overlay.htmlContainer;
      delete overlay.element;
      delete self2._overlays[overlay.id];
    }
    if (container) {
      var idx = container.overlays.indexOf(overlay);
      if (idx !== -1) {
        container.overlays.splice(idx, 1);
      }
    }
  });
};
Overlays.prototype.isShown = function() {
  return this._overlayRoot.style.display !== "none";
};
Overlays.prototype.show = function() {
  setVisible(this._overlayRoot);
};
Overlays.prototype.hide = function() {
  setVisible(this._overlayRoot, false);
};
Overlays.prototype.clear = function() {
  this._overlays = {};
  this._overlayContainers = [];
  clear(this._overlayRoot);
};
Overlays.prototype._updateOverlayContainer = function(container) {
  var element = container.element, html = container.html;
  var x = element.x, y = element.y;
  if (element.waypoints) {
    var bbox = getBBox(element);
    x = bbox.x;
    y = bbox.y;
  }
  setPosition(html, x, y);
  attr(container.html, "data-container-id", element.id);
};
Overlays.prototype._updateOverlay = function(overlay) {
  var position = overlay.position, htmlContainer = overlay.htmlContainer, element = overlay.element;
  var left = position.left, top2 = position.top;
  if (position.right !== void 0) {
    var width;
    if (element.waypoints) {
      width = getBBox(element).width;
    } else {
      width = element.width;
    }
    left = position.right * -1 + width;
  }
  if (position.bottom !== void 0) {
    var height;
    if (element.waypoints) {
      height = getBBox(element).height;
    } else {
      height = element.height;
    }
    top2 = position.bottom * -1 + height;
  }
  setPosition(htmlContainer, left || 0, top2 || 0);
  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());
};
Overlays.prototype._createOverlayContainer = function(element) {
  var html = domify$1('<div class="djs-overlays" />');
  assign(html, { position: "absolute" });
  this._overlayRoot.appendChild(html);
  var container = {
    html,
    element,
    overlays: []
  };
  this._updateOverlayContainer(container);
  this._overlayContainers.push(container);
  return container;
};
Overlays.prototype._updateRoot = function(viewbox) {
  var scale = viewbox.scale || 1;
  var matrix2 = "matrix(" + [
    scale,
    0,
    0,
    scale,
    -1 * viewbox.x * scale,
    -1 * viewbox.y * scale
  ].join(",") + ")";
  setTransform(this._overlayRoot, matrix2);
};
Overlays.prototype._getOverlayContainer = function(element, raw) {
  var container = find$1(this._overlayContainers, function(c) {
    return c.element === element;
  });
  if (!container && !raw) {
    return this._createOverlayContainer(element);
  }
  return container;
};
Overlays.prototype._addOverlay = function(overlay) {
  var id = overlay.id, element = overlay.element, html = overlay.html, htmlContainer, overlayContainer;
  if (html.get && html.constructor.prototype.jquery) {
    html = html.get(0);
  }
  if (isString(html)) {
    html = domify$1(html);
  }
  overlayContainer = this._getOverlayContainer(element);
  htmlContainer = domify$1('<div class="djs-overlay" data-overlay-id="' + id + '">');
  assign(htmlContainer, { position: "absolute" });
  htmlContainer.appendChild(html);
  if (overlay.type) {
    classes(htmlContainer).add("djs-overlay-" + overlay.type);
  }
  var elementRoot = this._canvas.findRoot(element);
  var activeRoot = this._canvas.getRootElement();
  setVisible(htmlContainer, elementRoot === activeRoot);
  overlay.htmlContainer = htmlContainer;
  overlayContainer.overlays.push(overlay);
  overlayContainer.html.appendChild(htmlContainer);
  this._overlays[id] = overlay;
  this._updateOverlay(overlay);
  this._updateOverlayVisibilty(overlay, this._canvas.viewbox());
};
Overlays.prototype._updateOverlayVisibilty = function(overlay, viewbox) {
  var show = overlay.show, rootElement = this._canvas.findRoot(overlay.element), minZoom = show && show.minZoom, maxZoom = show && show.maxZoom, htmlContainer = overlay.htmlContainer, activeRootElement = this._canvas.getRootElement(), visible = true;
  if (rootElement !== activeRootElement) {
    visible = false;
  } else if (show) {
    if (isDefined(minZoom) && minZoom > viewbox.scale || isDefined(maxZoom) && maxZoom < viewbox.scale) {
      visible = false;
    }
  }
  setVisible(htmlContainer, visible);
  this._updateOverlayScale(overlay, viewbox);
};
Overlays.prototype._updateOverlayScale = function(overlay, viewbox) {
  var shouldScale = overlay.scale, minScale, maxScale, htmlContainer = overlay.htmlContainer;
  var scale, transform2 = "";
  if (shouldScale !== true) {
    if (shouldScale === false) {
      minScale = 1;
      maxScale = 1;
    } else {
      minScale = shouldScale.min;
      maxScale = shouldScale.max;
    }
    if (isDefined(minScale) && viewbox.scale < minScale) {
      scale = (1 / viewbox.scale || 1) * minScale;
    }
    if (isDefined(maxScale) && viewbox.scale > maxScale) {
      scale = (1 / viewbox.scale || 1) * maxScale;
    }
  }
  if (isDefined(scale)) {
    transform2 = "scale(" + scale + "," + scale + ")";
  }
  setTransform(htmlContainer, transform2);
};
Overlays.prototype._updateOverlaysVisibilty = function(viewbox) {
  var self2 = this;
  forEach$1(this._overlays, function(overlay) {
    self2._updateOverlayVisibilty(overlay, viewbox);
  });
};
Overlays.prototype._init = function() {
  var eventBus2 = this._eventBus;
  var self2 = this;
  function updateViewbox(viewbox) {
    self2._updateRoot(viewbox);
    self2._updateOverlaysVisibilty(viewbox);
    self2.show();
  }
  eventBus2.on("canvas.viewbox.changing", function(event2) {
    self2.hide();
  });
  eventBus2.on("canvas.viewbox.changed", function(event2) {
    updateViewbox(event2.viewbox);
  });
  eventBus2.on(["shape.remove", "connection.remove"], function(e2) {
    var element = e2.element;
    var overlays = self2.get({ element });
    forEach$1(overlays, function(o) {
      self2.remove(o.id);
    });
    var container = self2._getOverlayContainer(element);
    if (container) {
      remove$1(container.html);
      var i = self2._overlayContainers.indexOf(container);
      if (i !== -1) {
        self2._overlayContainers.splice(i, 1);
      }
    }
  });
  eventBus2.on("element.changed", LOW_PRIORITY$1, function(e2) {
    var element = e2.element;
    var container = self2._getOverlayContainer(element, true);
    if (container) {
      forEach$1(container.overlays, function(overlay) {
        self2._updateOverlay(overlay);
      });
      self2._updateOverlayContainer(container);
    }
  });
  eventBus2.on("element.marker.update", function(e2) {
    var container = self2._getOverlayContainer(e2.element, true);
    if (container) {
      classes(container.html)[e2.add ? "add" : "remove"](e2.marker);
    }
  });
  eventBus2.on("root.set", function() {
    self2._updateOverlaysVisibilty(self2._canvas.viewbox());
  });
  eventBus2.on("diagram.clear", this.clear, this);
};
function createRoot(parentNode) {
  var root = domify$1(
    '<div class="djs-overlay-container" />'
  );
  assign(root, {
    position: "absolute",
    width: 0,
    height: 0
  });
  parentNode.insertBefore(root, parentNode.firstChild);
  return root;
}
function setPosition(el, x, y) {
  assign(el, { left: x + "px", top: y + "px" });
}
function setVisible(el, visible) {
  el.style.display = visible === false ? "none" : "";
}
function setTransform(el, transform2) {
  el.style["transform-origin"] = "top left";
  ["", "-ms-", "-webkit-"].forEach(function(prefix2) {
    el.style[prefix2 + "transform"] = transform2;
  });
}
const OverlaysModule = {
  __init__: ["overlays"],
  overlays: ["type", Overlays]
};
function ChangeSupport(eventBus2, canvas, elementRegistry, graphicsFactory) {
  eventBus2.on("element.changed", function(event2) {
    var element = event2.element;
    if (element.parent || element === canvas.getRootElement()) {
      event2.gfx = elementRegistry.getGraphics(element);
    }
    if (!event2.gfx) {
      return;
    }
    eventBus2.fire(getType(element) + ".changed", event2);
  });
  eventBus2.on("elements.changed", function(event2) {
    var elements = event2.elements;
    elements.forEach(function(e2) {
      eventBus2.fire("element.changed", { element: e2 });
    });
    graphicsFactory.updateContainments(elements);
  });
  eventBus2.on("shape.changed", function(event2) {
    graphicsFactory.update("shape", event2.element, event2.gfx);
  });
  eventBus2.on("connection.changed", function(event2) {
    graphicsFactory.update("connection", event2.element, event2.gfx);
  });
}
ChangeSupport.$inject = [
  "eventBus",
  "canvas",
  "elementRegistry",
  "graphicsFactory"
];
const ChangeSupportModule = {
  __init__: ["changeSupport"],
  changeSupport: ["type", ChangeSupport]
};
var DEFAULT_PRIORITY$1 = 1e3;
function CommandInterceptor(eventBus2) {
  this._eventBus = eventBus2;
}
CommandInterceptor.$inject = ["eventBus"];
function unwrapEvent(fn, that) {
  return function(event2) {
    return fn.call(that || null, event2.context, event2.command, event2);
  };
}
CommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {
  if (isFunction(hook) || isNumber(hook)) {
    that = unwrap;
    unwrap = handlerFn;
    handlerFn = priority;
    priority = hook;
    hook = null;
  }
  if (isFunction(priority)) {
    that = unwrap;
    unwrap = handlerFn;
    handlerFn = priority;
    priority = DEFAULT_PRIORITY$1;
  }
  if (isObject(unwrap)) {
    that = unwrap;
    unwrap = false;
  }
  if (!isFunction(handlerFn)) {
    throw new Error("handlerFn must be a function");
  }
  if (!isArray$2(events)) {
    events = [events];
  }
  var eventBus2 = this._eventBus;
  forEach$1(events, function(event2) {
    var fullEvent = ["commandStack", event2, hook].filter(function(e2) {
      return e2;
    }).join(".");
    eventBus2.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);
  });
};
CommandInterceptor.prototype.canExecute = createHook("canExecute");
CommandInterceptor.prototype.preExecute = createHook("preExecute");
CommandInterceptor.prototype.preExecuted = createHook("preExecuted");
CommandInterceptor.prototype.execute = createHook("execute");
CommandInterceptor.prototype.executed = createHook("executed");
CommandInterceptor.prototype.postExecute = createHook("postExecute");
CommandInterceptor.prototype.postExecuted = createHook("postExecuted");
CommandInterceptor.prototype.revert = createHook("revert");
CommandInterceptor.prototype.reverted = createHook("reverted");
function createHook(hook) {
  const hookFn = function(events, priority, handlerFn, unwrap, that) {
    if (isFunction(events) || isNumber(events)) {
      that = unwrap;
      unwrap = handlerFn;
      handlerFn = priority;
      priority = events;
      events = null;
    }
    this.on(events, hook, priority, handlerFn, unwrap, that);
  };
  return hookFn;
}
function RootElementsBehavior(canvas, injector) {
  injector.invoke(CommandInterceptor, this);
  this.executed(function(event2) {
    var context = event2.context;
    if (context.rootElement) {
      canvas.setRootElement(context.rootElement);
    } else {
      context.rootElement = canvas.getRootElement();
    }
  });
  this.revert(function(event2) {
    var context = event2.context;
    if (context.rootElement) {
      canvas.setRootElement(context.rootElement);
    }
  });
}
e(RootElementsBehavior, CommandInterceptor);
RootElementsBehavior.$inject = ["canvas", "injector"];
const RootElementsModule = {
  __init__: ["rootElementsBehavior"],
  rootElementsBehavior: ["type", RootElementsBehavior]
};
var HTML_ESCAPE_MAP = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function escapeHTML(str) {
  str = "" + str;
  return str && str.replace(/[&<>"']/g, function(match) {
    return HTML_ESCAPE_MAP[match];
  });
}
var planeSuffix = "_plane";
function getPlaneIdFromShape(element) {
  var id = element.id;
  if (is$1(element, "bpmn:SubProcess")) {
    return addPlaneSuffix(id);
  }
  return id;
}
function addPlaneSuffix(id) {
  return id + planeSuffix;
}
var OPEN_CLASS = "bjs-breadcrumbs-shown";
function DrilldownBreadcrumbs(eventBus2, elementRegistry, canvas) {
  var breadcrumbs = domify$1('<ul class="bjs-breadcrumbs"></ul>');
  var container = canvas.getContainer();
  var containerClasses = classes(container);
  container.appendChild(breadcrumbs);
  var businessObjectParents = [];
  eventBus2.on("element.changed", function(event2) {
    var shape = event2.element, businessObject = getBusinessObject(shape);
    var isPresent = find$1(businessObjectParents, function(element) {
      return element === businessObject;
    });
    if (!isPresent) {
      return;
    }
    updateBreadcrumbs();
  });
  function updateBreadcrumbs(element) {
    if (element) {
      businessObjectParents = getBusinessObjectParentChain(element);
    }
    var path = businessObjectParents.map(function(parent) {
      var title = escapeHTML(parent.name || parent.id);
      var link = domify$1('<li><span class="bjs-crumb"><a title="' + title + '">' + title + "</a></span></li>");
      var parentPlane = canvas.findRoot(getPlaneIdFromShape(parent)) || canvas.findRoot(parent.id);
      if (!parentPlane && is$1(parent, "bpmn:Process")) {
        var participant = elementRegistry.find(function(element2) {
          var businessObject = getBusinessObject(element2);
          return businessObject && businessObject.get("processRef") && businessObject.get("processRef") === parent;
        });
        parentPlane = canvas.findRoot(participant.id);
      }
      link.addEventListener("click", function() {
        canvas.setRootElement(parentPlane);
      });
      return link;
    });
    breadcrumbs.innerHTML = "";
    var visible = path.length > 1;
    containerClasses.toggle(OPEN_CLASS, visible);
    path.forEach(function(element2) {
      breadcrumbs.appendChild(element2);
    });
  }
  eventBus2.on("root.set", function(event2) {
    updateBreadcrumbs(event2.element);
  });
}
DrilldownBreadcrumbs.$inject = ["eventBus", "elementRegistry", "canvas"];
function getBusinessObjectParentChain(child) {
  var businessObject = getBusinessObject(child);
  var parents = [];
  for (var element = businessObject; element; element = element.$parent) {
    if (is$1(element, "bpmn:SubProcess") || is$1(element, "bpmn:Process")) {
      parents.push(element);
    }
  }
  return parents.reverse();
}
function DrilldownCentering(eventBus2, canvas) {
  var currentRoot = null;
  var positionMap = new Map$1();
  eventBus2.on("root.set", function(event2) {
    var newRoot = event2.element;
    var currentViewbox = canvas.viewbox();
    var storedViewbox = positionMap.get(newRoot);
    positionMap.set(currentRoot, {
      x: currentViewbox.x,
      y: currentViewbox.y,
      zoom: currentViewbox.scale
    });
    currentRoot = newRoot;
    if (is$1(newRoot, "bpmn:Collaboration") && !storedViewbox) {
      return;
    }
    storedViewbox = storedViewbox || { x: 0, y: 0, zoom: 1 };
    var dx = (currentViewbox.x - storedViewbox.x) * currentViewbox.scale, dy = (currentViewbox.y - storedViewbox.y) * currentViewbox.scale;
    if (dx !== 0 || dy !== 0) {
      canvas.scroll({
        dx,
        dy
      });
    }
    if (storedViewbox.zoom !== currentViewbox.scale) {
      canvas.zoom(storedViewbox.zoom, { x: 0, y: 0 });
    }
  });
  eventBus2.on("diagram.clear", function() {
    positionMap.clear();
    currentRoot = null;
  });
}
DrilldownCentering.$inject = ["eventBus", "canvas"];
function Map$1() {
  this._entries = [];
  this.set = function(key, value2) {
    var found = false;
    for (var k in this._entries) {
      if (this._entries[k][0] === key) {
        this._entries[k][1] = value2;
        found = true;
        break;
      }
    }
    if (!found) {
      this._entries.push([key, value2]);
    }
  };
  this.get = function(key) {
    for (var k in this._entries) {
      if (this._entries[k][0] === key) {
        return this._entries[k][1];
      }
    }
    return null;
  };
  this.clear = function() {
    this._entries.length = 0;
  };
  this.remove = function(key) {
    var idx = -1;
    for (var k in this._entries) {
      if (this._entries[k][0] === key) {
        idx = k;
        break;
      }
    }
    if (idx !== -1) {
      this._entries.splice(idx, 1);
    }
  };
}
var DEFAULT_POSITION = {
  x: 180,
  y: 160
};
function SubprocessCompatibility(eventBus2, moddle) {
  this._eventBus = eventBus2;
  this._moddle = moddle;
  var self2 = this;
  eventBus2.on("import.render.start", 1500, function(e2, context) {
    self2._handleImport(context.definitions);
  });
}
SubprocessCompatibility.prototype._handleImport = function(definitions) {
  if (!definitions.diagrams) {
    return;
  }
  var self2 = this;
  this._definitions = definitions;
  this._processToDiagramMap = {};
  definitions.diagrams.forEach(function(diagram) {
    if (!diagram.plane || !diagram.plane.bpmnElement) {
      return;
    }
    self2._processToDiagramMap[diagram.plane.bpmnElement.id] = diagram;
  });
  var newDiagrams = [];
  definitions.diagrams.forEach(function(diagram) {
    var createdDiagrams = self2._createNewDiagrams(diagram.plane);
    Array.prototype.push.apply(newDiagrams, createdDiagrams);
  });
  newDiagrams.forEach(function(diagram) {
    self2._movePlaneElementsToOrigin(diagram.plane);
  });
};
SubprocessCompatibility.prototype._createNewDiagrams = function(plane) {
  var self2 = this;
  var collapsedElements = [];
  var elementsToMove = [];
  plane.get("planeElement").forEach(function(diElement) {
    var businessObject = diElement.bpmnElement;
    if (!businessObject) {
      return;
    }
    var parent = businessObject.$parent;
    if (is$1(businessObject, "bpmn:SubProcess") && !diElement.isExpanded) {
      collapsedElements.push(businessObject);
    }
    if (shouldMoveToPlane(businessObject, plane)) {
      elementsToMove.push({ diElement, parent });
    }
  });
  var newDiagrams = [];
  collapsedElements.forEach(function(element) {
    if (!self2._processToDiagramMap[element.id]) {
      var diagram = self2._createDiagram(element);
      self2._processToDiagramMap[element.id] = diagram;
      newDiagrams.push(diagram);
    }
  });
  elementsToMove.forEach(function(element) {
    var diElement = element.diElement;
    var parent = element.parent;
    while (parent && collapsedElements.indexOf(parent) === -1) {
      parent = parent.$parent;
    }
    if (!parent) {
      return;
    }
    var diagram = self2._processToDiagramMap[parent.id];
    self2._moveToDiPlane(diElement, diagram.plane);
  });
  return newDiagrams;
};
SubprocessCompatibility.prototype._movePlaneElementsToOrigin = function(plane) {
  var elements = plane.get("planeElement");
  var planeBounds = getPlaneBounds(plane);
  var offset = {
    x: planeBounds.x - DEFAULT_POSITION.x,
    y: planeBounds.y - DEFAULT_POSITION.y
  };
  elements.forEach(function(diElement) {
    if (diElement.waypoint) {
      diElement.waypoint.forEach(function(waypoint) {
        waypoint.x = waypoint.x - offset.x;
        waypoint.y = waypoint.y - offset.y;
      });
    } else if (diElement.bounds) {
      diElement.bounds.x = diElement.bounds.x - offset.x;
      diElement.bounds.y = diElement.bounds.y - offset.y;
    }
  });
};
SubprocessCompatibility.prototype._moveToDiPlane = function(diElement, newPlane) {
  var containingDiagram = findRootDiagram(diElement);
  var parentPlaneElement = containingDiagram.plane.get("planeElement");
  parentPlaneElement.splice(parentPlaneElement.indexOf(diElement), 1);
  newPlane.get("planeElement").push(diElement);
};
SubprocessCompatibility.prototype._createDiagram = function(businessObject) {
  var plane = this._moddle.create("bpmndi:BPMNPlane", {
    bpmnElement: businessObject
  });
  var diagram = this._moddle.create("bpmndi:BPMNDiagram", {
    plane
  });
  plane.$parent = diagram;
  plane.bpmnElement = businessObject;
  diagram.$parent = this._definitions;
  this._definitions.diagrams.push(diagram);
  return diagram;
};
SubprocessCompatibility.$inject = ["eventBus", "moddle"];
function findRootDiagram(element) {
  if (is$1(element, "bpmndi:BPMNDiagram")) {
    return element;
  } else {
    return findRootDiagram(element.$parent);
  }
}
function getPlaneBounds(plane) {
  var planeTrbl = {
    top: Infinity,
    right: -Infinity,
    bottom: -Infinity,
    left: Infinity
  };
  plane.planeElement.forEach(function(element) {
    if (!element.bounds) {
      return;
    }
    var trbl = asTRBL(element.bounds);
    planeTrbl.top = Math.min(trbl.top, planeTrbl.top);
    planeTrbl.left = Math.min(trbl.left, planeTrbl.left);
  });
  return asBounds(planeTrbl);
}
function shouldMoveToPlane(businessObject, plane) {
  var parent = businessObject.$parent;
  if (!is$1(parent, "bpmn:SubProcess") || parent === plane.bpmnElement) {
    return false;
  }
  if (isAny(businessObject, ["bpmn:DataInputAssociation", "bpmn:DataOutputAssociation"])) {
    return false;
  }
  return true;
}
var LOW_PRIORITY = 250;
var ARROW_DOWN_SVG = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>';
var EMPTY_MARKER = "bjs-drilldown-empty";
function DrilldownOverlayBehavior(canvas, eventBus2, elementRegistry, overlays) {
  CommandInterceptor.call(this, eventBus2);
  this._canvas = canvas;
  this._eventBus = eventBus2;
  this._elementRegistry = elementRegistry;
  this._overlays = overlays;
  var self2 = this;
  this.executed("shape.toggleCollapse", LOW_PRIORITY, function(context) {
    var shape = context.shape;
    if (self2._canDrillDown(shape)) {
      self2._addOverlay(shape);
    } else {
      self2._removeOverlay(shape);
    }
  }, true);
  this.reverted("shape.toggleCollapse", LOW_PRIORITY, function(context) {
    var shape = context.shape;
    if (self2._canDrillDown(shape)) {
      self2._addOverlay(shape);
    } else {
      self2._removeOverlay(shape);
    }
  }, true);
  this.executed(
    ["shape.create", "shape.move", "shape.delete"],
    LOW_PRIORITY,
    function(context) {
      var oldParent = context.oldParent, newParent = context.newParent || context.parent, shape = context.shape;
      if (self2._canDrillDown(shape)) {
        self2._addOverlay(shape);
      }
      self2._updateDrilldownOverlay(oldParent);
      self2._updateDrilldownOverlay(newParent);
      self2._updateDrilldownOverlay(shape);
    },
    true
  );
  this.reverted(
    ["shape.create", "shape.move", "shape.delete"],
    LOW_PRIORITY,
    function(context) {
      var oldParent = context.oldParent, newParent = context.newParent || context.parent, shape = context.shape;
      if (self2._canDrillDown(shape)) {
        self2._addOverlay(shape);
      }
      self2._updateDrilldownOverlay(oldParent);
      self2._updateDrilldownOverlay(newParent);
      self2._updateDrilldownOverlay(shape);
    },
    true
  );
  eventBus2.on("import.render.complete", function() {
    elementRegistry.filter(function(e2) {
      return self2._canDrillDown(e2);
    }).map(function(el) {
      self2._addOverlay(el);
    });
  });
}
e(DrilldownOverlayBehavior, CommandInterceptor);
DrilldownOverlayBehavior.prototype._updateDrilldownOverlay = function(shape) {
  var canvas = this._canvas;
  if (!shape) {
    return;
  }
  var root = canvas.findRoot(shape);
  if (root) {
    this._updateOverlayVisibility(root);
  }
};
DrilldownOverlayBehavior.prototype._canDrillDown = function(element) {
  var canvas = this._canvas;
  return is$1(element, "bpmn:SubProcess") && canvas.findRoot(getPlaneIdFromShape(element));
};
DrilldownOverlayBehavior.prototype._updateOverlayVisibility = function(element) {
  var overlays = this._overlays;
  var businessObject = getBusinessObject(element);
  var overlay = overlays.get({ element: businessObject.id, type: "drilldown" })[0];
  if (!overlay) {
    return;
  }
  var hasFlowElements = businessObject && businessObject.get("flowElements") && businessObject.get("flowElements").length;
  classes(overlay.html).toggle(EMPTY_MARKER, !hasFlowElements);
};
DrilldownOverlayBehavior.prototype._addOverlay = function(element) {
  var canvas = this._canvas, overlays = this._overlays;
  var existingOverlays = overlays.get({ element, type: "drilldown" });
  if (existingOverlays.length) {
    this._removeOverlay(element);
  }
  var button2 = domify$1('<button class="bjs-drilldown">' + ARROW_DOWN_SVG + "</button>");
  button2.addEventListener("click", function() {
    canvas.setRootElement(canvas.findRoot(getPlaneIdFromShape(element)));
  });
  overlays.add(element, "drilldown", {
    position: {
      bottom: -7,
      right: -8
    },
    html: button2
  });
  this._updateOverlayVisibility(element);
};
DrilldownOverlayBehavior.prototype._removeOverlay = function(element) {
  var overlays = this._overlays;
  overlays.remove({
    element,
    type: "drilldown"
  });
};
DrilldownOverlayBehavior.$inject = [
  "canvas",
  "eventBus",
  "elementRegistry",
  "overlays"
];
const DrilldownModdule = {
  __depends__: [OverlaysModule, ChangeSupportModule, RootElementsModule],
  __init__: ["drilldownBreadcrumbs", "drilldownOverlayBehavior", "drilldownCentering", "subprocessCompatibility"],
  drilldownBreadcrumbs: ["type", DrilldownBreadcrumbs],
  drilldownCentering: ["type", DrilldownCentering],
  drilldownOverlayBehavior: ["type", DrilldownOverlayBehavior],
  subprocessCompatibility: ["type", SubprocessCompatibility]
};
const CLASS_PATTERN = /^class[ {]/;
function isClass(fn) {
  return CLASS_PATTERN.test(fn.toString());
}
function isArray(obj) {
  return Array.isArray(obj);
}
function hasOwnProp(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}
function annotate(...args) {
  if (args.length === 1 && isArray(args[0])) {
    args = args[0];
  }
  args = [...args];
  const fn = args.pop();
  fn.$inject = args;
  return fn;
}
const CONSTRUCTOR_ARGS = /constructor\s*[^(]*\(\s*([^)]*)\)/m;
const FN_ARGS = /^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m;
const FN_ARG = /\/\*([^*]*)\*\//m;
function parseAnnotations(fn) {
  if (typeof fn !== "function") {
    throw new Error(`Cannot annotate "${fn}". Expected a function!`);
  }
  const match = fn.toString().match(isClass(fn) ? CONSTRUCTOR_ARGS : FN_ARGS);
  if (!match) {
    return [];
  }
  const args = match[1] || match[2];
  return args && args.split(",").map((arg) => {
    const argMatch = arg.match(FN_ARG);
    return (argMatch && argMatch[1] || arg).trim();
  }) || [];
}
function Injector(modules2, parent) {
  parent = parent || {
    get: function(name2, strict) {
      currentlyResolving.push(name2);
      if (strict === false) {
        return null;
      } else {
        throw error2(`No provider for "${name2}"!`);
      }
    }
  };
  const currentlyResolving = [];
  const providers = this._providers = Object.create(parent._providers || null);
  const instances = this._instances = /* @__PURE__ */ Object.create(null);
  const self2 = instances.injector = this;
  const error2 = function(msg) {
    const stack = currentlyResolving.join(" -> ");
    currentlyResolving.length = 0;
    return new Error(stack ? `${msg} (Resolving: ${stack})` : msg);
  };
  function get2(name2, strict) {
    if (!providers[name2] && name2.indexOf(".") !== -1) {
      const parts = name2.split(".");
      let pivot = get2(parts.shift());
      while (parts.length) {
        pivot = pivot[parts.shift()];
      }
      return pivot;
    }
    if (hasOwnProp(instances, name2)) {
      return instances[name2];
    }
    if (hasOwnProp(providers, name2)) {
      if (currentlyResolving.indexOf(name2) !== -1) {
        currentlyResolving.push(name2);
        throw error2("Cannot resolve circular dependency!");
      }
      currentlyResolving.push(name2);
      instances[name2] = providers[name2][0](providers[name2][1]);
      currentlyResolving.pop();
      return instances[name2];
    }
    return parent.get(name2, strict);
  }
  function fnDef(fn, locals) {
    if (typeof locals === "undefined") {
      locals = {};
    }
    if (typeof fn !== "function") {
      if (isArray(fn)) {
        fn = annotate(fn.slice());
      } else {
        throw error2(`Cannot invoke "${fn}". Expected a function!`);
      }
    }
    const inject = fn.$inject || parseAnnotations(fn);
    const dependencies = inject.map((dep) => {
      if (hasOwnProp(locals, dep)) {
        return locals[dep];
      } else {
        return get2(dep);
      }
    });
    return {
      fn,
      dependencies
    };
  }
  function instantiate(Type) {
    const {
      fn,
      dependencies
    } = fnDef(Type);
    const Constructor = Function.prototype.bind.apply(fn, [null].concat(dependencies));
    return new Constructor();
  }
  function invoke(func, context, locals) {
    const {
      fn,
      dependencies
    } = fnDef(func, locals);
    return fn.apply(context, dependencies);
  }
  function createPrivateInjectorFactory(childInjector) {
    return annotate((key) => childInjector.get(key));
  }
  function createChild(modules3, forceNewInstances) {
    if (forceNewInstances && forceNewInstances.length) {
      const fromParentModule = /* @__PURE__ */ Object.create(null);
      const matchedScopes = /* @__PURE__ */ Object.create(null);
      const privateInjectorsCache = [];
      const privateChildInjectors = [];
      const privateChildFactories = [];
      let provider;
      let cacheIdx;
      let privateChildInjector;
      let privateChildInjectorFactory;
      for (let name2 in providers) {
        provider = providers[name2];
        if (forceNewInstances.indexOf(name2) !== -1) {
          if (provider[2] === "private") {
            cacheIdx = privateInjectorsCache.indexOf(provider[3]);
            if (cacheIdx === -1) {
              privateChildInjector = provider[3].createChild([], forceNewInstances);
              privateChildInjectorFactory = createPrivateInjectorFactory(privateChildInjector);
              privateInjectorsCache.push(provider[3]);
              privateChildInjectors.push(privateChildInjector);
              privateChildFactories.push(privateChildInjectorFactory);
              fromParentModule[name2] = [privateChildInjectorFactory, name2, "private", privateChildInjector];
            } else {
              fromParentModule[name2] = [privateChildFactories[cacheIdx], name2, "private", privateChildInjectors[cacheIdx]];
            }
          } else {
            fromParentModule[name2] = [provider[2], provider[1]];
          }
          matchedScopes[name2] = true;
        }
        if ((provider[2] === "factory" || provider[2] === "type") && provider[1].$scope) {
          forceNewInstances.forEach((scope) => {
            if (provider[1].$scope.indexOf(scope) !== -1) {
              fromParentModule[name2] = [provider[2], provider[1]];
              matchedScopes[scope] = true;
            }
          });
        }
      }
      forceNewInstances.forEach((scope) => {
        if (!matchedScopes[scope]) {
          throw new Error('No provider for "' + scope + '". Cannot use provider from the parent!');
        }
      });
      modules3.unshift(fromParentModule);
    }
    return new Injector(modules3, self2);
  }
  const factoryMap = {
    factory: invoke,
    type: instantiate,
    value: function(value2) {
      return value2;
    }
  };
  function createInitializer(moduleDefinition, injector) {
    const initializers = moduleDefinition.__init__ || [];
    return function() {
      initializers.forEach((initializer) => {
        if (typeof initializer === "string") {
          injector.get(initializer);
        } else {
          injector.invoke(initializer);
        }
      });
    };
  }
  function loadModule(moduleDefinition) {
    const moduleExports = moduleDefinition.__exports__;
    if (moduleExports) {
      const nestedModules = moduleDefinition.__modules__;
      const clonedModule = Object.keys(moduleDefinition).reduce((clonedModule2, key) => {
        if (key !== "__exports__" && key !== "__modules__" && key !== "__init__" && key !== "__depends__") {
          clonedModule2[key] = moduleDefinition[key];
        }
        return clonedModule2;
      }, /* @__PURE__ */ Object.create(null));
      const childModules = (nestedModules || []).concat(clonedModule);
      const privateInjector = createChild(childModules);
      const getFromPrivateInjector = annotate(function(key) {
        return privateInjector.get(key);
      });
      moduleExports.forEach(function(key) {
        providers[key] = [getFromPrivateInjector, key, "private", privateInjector];
      });
      const initializers = (moduleDefinition.__init__ || []).slice();
      initializers.unshift(function() {
        privateInjector.init();
      });
      moduleDefinition = Object.assign({}, moduleDefinition, {
        __init__: initializers
      });
      return createInitializer(moduleDefinition, privateInjector);
    }
    Object.keys(moduleDefinition).forEach(function(key) {
      if (key === "__init__" || key === "__depends__") {
        return;
      }
      if (moduleDefinition[key][2] === "private") {
        providers[key] = moduleDefinition[key];
        return;
      }
      const type = moduleDefinition[key][0];
      const value2 = moduleDefinition[key][1];
      providers[key] = [factoryMap[type], arrayUnwrap(type, value2), type];
    });
    return createInitializer(moduleDefinition, self2);
  }
  function resolveDependencies(moduleDefinitions, moduleDefinition) {
    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {
      return moduleDefinitions;
    }
    moduleDefinitions = (moduleDefinition.__depends__ || []).reduce(resolveDependencies, moduleDefinitions);
    if (moduleDefinitions.indexOf(moduleDefinition) !== -1) {
      return moduleDefinitions;
    }
    return moduleDefinitions.concat(moduleDefinition);
  }
  function bootstrap2(moduleDefinitions) {
    const initializers = moduleDefinitions.reduce(resolveDependencies, []).map(loadModule);
    let initialized = false;
    return function() {
      if (initialized) {
        return;
      }
      initialized = true;
      initializers.forEach((initializer) => initializer());
    };
  }
  this.get = get2;
  this.invoke = invoke;
  this.instantiate = instantiate;
  this.createChild = createChild;
  this.init = bootstrap2(modules2);
}
function arrayUnwrap(type, value2) {
  if (type !== "value" && isArray(value2)) {
    value2 = annotate(value2.slice());
  }
  return value2;
}
var DEFAULT_RENDER_PRIORITY = 1;
function DefaultRenderer(eventBus2, styles) {
  BaseRenderer.call(this, eventBus2, DEFAULT_RENDER_PRIORITY);
  this.CONNECTION_STYLE = styles.style(["no-fill"], { strokeWidth: 5, stroke: "fuchsia" });
  this.SHAPE_STYLE = styles.style({ fill: "white", stroke: "fuchsia", strokeWidth: 2 });
  this.FRAME_STYLE = styles.style(["no-fill"], { stroke: "fuchsia", strokeDasharray: 4, strokeWidth: 2 });
}
e(DefaultRenderer, BaseRenderer);
DefaultRenderer.prototype.canRender = function() {
  return true;
};
DefaultRenderer.prototype.drawShape = function drawShape(visuals, element, attrs) {
  var rect = create$1("rect");
  attr$1(rect, {
    x: 0,
    y: 0,
    width: element.width || 0,
    height: element.height || 0
  });
  if (isFrameElement(element)) {
    attr$1(rect, assign$1({}, this.FRAME_STYLE, attrs || {}));
  } else {
    attr$1(rect, assign$1({}, this.SHAPE_STYLE, attrs || {}));
  }
  append(visuals, rect);
  return rect;
};
DefaultRenderer.prototype.drawConnection = function drawConnection(visuals, connection, attrs) {
  var line = createLine(connection.waypoints, assign$1({}, this.CONNECTION_STYLE, attrs || {}));
  append(visuals, line);
  return line;
};
DefaultRenderer.prototype.getShapePath = function getShapePath(shape) {
  var x = shape.x, y = shape.y, width = shape.width, height = shape.height;
  var shapePath = [
    ["M", x, y],
    ["l", width, 0],
    ["l", 0, height],
    ["l", -width, 0],
    ["z"]
  ];
  return componentsToPath(shapePath);
};
DefaultRenderer.prototype.getConnectionPath = function getConnectionPath(connection) {
  var waypoints = connection.waypoints;
  var idx, point, connectionPath = [];
  for (idx = 0; point = waypoints[idx]; idx++) {
    point = point.original || point;
    connectionPath.push([idx === 0 ? "M" : "L", point.x, point.y]);
  }
  return componentsToPath(connectionPath);
};
DefaultRenderer.$inject = ["eventBus", "styles"];
function Styles() {
  var defaultTraits = {
    "no-fill": {
      fill: "none"
    },
    "no-border": {
      strokeOpacity: 0
    },
    "no-events": {
      pointerEvents: "none"
    }
  };
  var self2 = this;
  this.cls = function(className, traits, additionalAttrs) {
    var attrs = this.style(traits, additionalAttrs);
    return assign$1(attrs, { "class": className });
  };
  this.style = function(traits, additionalAttrs) {
    if (!isArray$2(traits) && !additionalAttrs) {
      additionalAttrs = traits;
      traits = [];
    }
    var attrs = reduce(traits, function(attrs2, t) {
      return assign$1(attrs2, defaultTraits[t] || {});
    }, {});
    return additionalAttrs ? assign$1(attrs, additionalAttrs) : attrs;
  };
  this.computeStyle = function(custom, traits, defaultStyles) {
    if (!isArray$2(traits)) {
      defaultStyles = traits;
      traits = [];
    }
    return self2.style(traits || [], assign$1({}, defaultStyles, custom || {}));
  };
}
const DrawModule = {
  __init__: ["defaultRenderer"],
  defaultRenderer: ["type", DefaultRenderer],
  styles: ["type", Styles]
};
function remove(collection2, element) {
  if (!collection2 || !element) {
    return -1;
  }
  var idx = collection2.indexOf(element);
  if (idx !== -1) {
    collection2.splice(idx, 1);
  }
  return idx;
}
function add(collection2, element, idx) {
  if (!collection2 || !element) {
    return;
  }
  if (typeof idx !== "number") {
    idx = -1;
  }
  var currentIdx = collection2.indexOf(element);
  if (currentIdx !== -1) {
    if (currentIdx === idx) {
      return;
    } else {
      if (idx !== -1) {
        collection2.splice(currentIdx, 1);
      } else {
        return;
      }
    }
  }
  if (idx !== -1) {
    collection2.splice(idx, 0, element);
  } else {
    collection2.push(element);
  }
}
function round(number2, resolution) {
  return Math.round(number2 * resolution) / resolution;
}
function ensurePx(number2) {
  return isNumber(number2) ? number2 + "px" : number2;
}
function findRoot(element) {
  while (element.parent) {
    element = element.parent;
  }
  return element;
}
function createContainer(options) {
  options = assign$1({}, { width: "100%", height: "100%" }, options);
  const container = options.container || document.body;
  const parent = document.createElement("div");
  parent.setAttribute("class", "djs-container djs-parent");
  assign(parent, {
    position: "relative",
    overflow: "hidden",
    width: ensurePx(options.width),
    height: ensurePx(options.height)
  });
  container.appendChild(parent);
  return parent;
}
function createGroup(parent, cls, childIndex) {
  const group = create$1("g");
  classes$1(group).add(cls);
  const index2 = childIndex !== void 0 ? childIndex : parent.childNodes.length - 1;
  parent.insertBefore(group, parent.childNodes[index2] || null);
  return group;
}
const BASE_LAYER = "base";
const PLANE_LAYER_INDEX = 0;
const UTILITY_LAYER_INDEX = 1;
const REQUIRED_MODEL_ATTRS = {
  shape: ["x", "y", "width", "height"],
  connection: ["waypoints"]
};
function Canvas(config2, eventBus2, graphicsFactory, elementRegistry) {
  this._eventBus = eventBus2;
  this._elementRegistry = elementRegistry;
  this._graphicsFactory = graphicsFactory;
  this._rootsIdx = 0;
  this._layers = {};
  this._planes = [];
  this._rootElement = null;
  this._init(config2 || {});
}
Canvas.$inject = [
  "config.canvas",
  "eventBus",
  "graphicsFactory",
  "elementRegistry"
];
Canvas.prototype._init = function(config2) {
  const eventBus2 = this._eventBus;
  const container = this._container = createContainer(config2);
  const svg = this._svg = create$1("svg");
  attr$1(svg, { width: "100%", height: "100%" });
  append(container, svg);
  const viewport = this._viewport = createGroup(svg, "viewport");
  if (config2.deferUpdate) {
    this._viewboxChanged = debounce(bind$2(this._viewboxChanged, this), 300);
  }
  eventBus2.on("diagram.init", () => {
    eventBus2.fire("canvas.init", {
      svg,
      viewport
    });
  });
  eventBus2.on([
    "shape.added",
    "connection.added",
    "shape.removed",
    "connection.removed",
    "elements.changed",
    "root.set"
  ], () => {
    delete this._cachedViewbox;
  });
  eventBus2.on("diagram.destroy", 500, this._destroy, this);
  eventBus2.on("diagram.clear", 500, this._clear, this);
};
Canvas.prototype._destroy = function() {
  this._eventBus.fire("canvas.destroy", {
    svg: this._svg,
    viewport: this._viewport
  });
  const parent = this._container.parentNode;
  if (parent) {
    parent.removeChild(this._container);
  }
  delete this._svg;
  delete this._container;
  delete this._layers;
  delete this._planes;
  delete this._rootElement;
  delete this._viewport;
};
Canvas.prototype._clear = function() {
  const allElements = this._elementRegistry.getAll();
  allElements.forEach((element) => {
    const type = getType(element);
    if (type === "root") {
      this.removeRootElement(element);
    } else {
      this._removeElement(element, type);
    }
  });
  this._planes = [];
  this._rootElement = null;
  delete this._cachedViewbox;
};
Canvas.prototype.getDefaultLayer = function() {
  return this.getLayer(BASE_LAYER, PLANE_LAYER_INDEX);
};
Canvas.prototype.getLayer = function(name2, index2) {
  if (!name2) {
    throw new Error("must specify a name");
  }
  let layer = this._layers[name2];
  if (!layer) {
    layer = this._layers[name2] = this._createLayer(name2, index2);
  }
  if (typeof index2 !== "undefined" && layer.index !== index2) {
    throw new Error("layer <" + name2 + "> already created at index <" + index2 + ">");
  }
  return layer.group;
};
Canvas.prototype._getChildIndex = function(index2) {
  return reduce(this._layers, function(childIndex, layer) {
    if (layer.visible && index2 >= layer.index) {
      childIndex++;
    }
    return childIndex;
  }, 0);
};
Canvas.prototype._createLayer = function(name2, index2) {
  if (typeof index2 === "undefined") {
    index2 = UTILITY_LAYER_INDEX;
  }
  const childIndex = this._getChildIndex(index2);
  return {
    group: createGroup(this._viewport, "layer-" + name2, childIndex),
    index: index2,
    visible: true
  };
};
Canvas.prototype.showLayer = function(name2) {
  if (!name2) {
    throw new Error("must specify a name");
  }
  const layer = this._layers[name2];
  if (!layer) {
    throw new Error("layer <" + name2 + "> does not exist");
  }
  const viewport = this._viewport;
  const group = layer.group;
  const index2 = layer.index;
  if (layer.visible) {
    return group;
  }
  const childIndex = this._getChildIndex(index2);
  viewport.insertBefore(group, viewport.childNodes[childIndex] || null);
  layer.visible = true;
  return group;
};
Canvas.prototype.hideLayer = function(name2) {
  if (!name2) {
    throw new Error("must specify a name");
  }
  const layer = this._layers[name2];
  if (!layer) {
    throw new Error("layer <" + name2 + "> does not exist");
  }
  const group = layer.group;
  if (!layer.visible) {
    return group;
  }
  remove$2(group);
  layer.visible = false;
  return group;
};
Canvas.prototype._removeLayer = function(name2) {
  const layer = this._layers[name2];
  if (layer) {
    delete this._layers[name2];
    remove$2(layer.group);
  }
};
Canvas.prototype.getActiveLayer = function() {
  const plane = this._findPlaneForRoot(this.getRootElement());
  if (!plane) {
    return null;
  }
  return plane.layer;
};
Canvas.prototype.findRoot = function(element) {
  if (typeof element === "string") {
    element = this._elementRegistry.get(element);
  }
  if (!element) {
    return;
  }
  const plane = this._findPlaneForRoot(
    findRoot(element)
  ) || {};
  return plane.rootElement;
};
Canvas.prototype.getRootElements = function() {
  return this._planes.map(function(plane) {
    return plane.rootElement;
  });
};
Canvas.prototype._findPlaneForRoot = function(rootElement) {
  return find$1(this._planes, function(plane) {
    return plane.rootElement === rootElement;
  });
};
Canvas.prototype.getContainer = function() {
  return this._container;
};
Canvas.prototype._updateMarker = function(element, marker, add2) {
  let container;
  if (!element.id) {
    element = this._elementRegistry.get(element);
  }
  container = this._elementRegistry._elements[element.id];
  if (!container) {
    return;
  }
  forEach$1([container.gfx, container.secondaryGfx], function(gfx) {
    if (gfx) {
      if (add2) {
        classes$1(gfx).add(marker);
      } else {
        classes$1(gfx).remove(marker);
      }
    }
  });
  this._eventBus.fire("element.marker.update", { element, gfx: container.gfx, marker, add: !!add2 });
};
Canvas.prototype.addMarker = function(element, marker) {
  this._updateMarker(element, marker, true);
};
Canvas.prototype.removeMarker = function(element, marker) {
  this._updateMarker(element, marker, false);
};
Canvas.prototype.hasMarker = function(element, marker) {
  if (!element.id) {
    element = this._elementRegistry.get(element);
  }
  const gfx = this.getGraphics(element);
  return classes$1(gfx).has(marker);
};
Canvas.prototype.toggleMarker = function(element, marker) {
  if (this.hasMarker(element, marker)) {
    this.removeMarker(element, marker);
  } else {
    this.addMarker(element, marker);
  }
};
Canvas.prototype.getRootElement = function() {
  const rootElement = this._rootElement;
  if (rootElement || this._planes.length) {
    return rootElement;
  }
  return this.setRootElement(this.addRootElement(null));
};
Canvas.prototype.addRootElement = function(rootElement) {
  const idx = this._rootsIdx++;
  if (!rootElement) {
    rootElement = {
      id: "__implicitroot_" + idx,
      children: [],
      isImplicit: true
    };
  }
  const layerName = rootElement.layer = "root-" + idx;
  this._ensureValid("root", rootElement);
  const layer = this.getLayer(layerName, PLANE_LAYER_INDEX);
  this.hideLayer(layerName);
  this._addRoot(rootElement, layer);
  this._planes.push({
    rootElement,
    layer
  });
  return rootElement;
};
Canvas.prototype.removeRootElement = function(rootElement) {
  if (typeof rootElement === "string") {
    rootElement = this._elementRegistry.get(rootElement);
  }
  const plane = this._findPlaneForRoot(rootElement);
  if (!plane) {
    return;
  }
  this._removeRoot(rootElement);
  this._removeLayer(rootElement.layer);
  this._planes = this._planes.filter(function(plane2) {
    return plane2.rootElement !== rootElement;
  });
  if (this._rootElement === rootElement) {
    this._rootElement = null;
  }
  return rootElement;
};
Canvas.prototype.setRootElement = function(rootElement) {
  if (rootElement === this._rootElement) {
    return;
  }
  let plane;
  if (!rootElement) {
    throw new Error("rootElement required");
  }
  plane = this._findPlaneForRoot(rootElement);
  if (!plane) {
    rootElement = this.addRootElement(rootElement);
  }
  this._setRoot(rootElement);
  return rootElement;
};
Canvas.prototype._removeRoot = function(element) {
  const elementRegistry = this._elementRegistry, eventBus2 = this._eventBus;
  eventBus2.fire("root.remove", { element });
  eventBus2.fire("root.removed", { element });
  elementRegistry.remove(element);
};
Canvas.prototype._addRoot = function(element, gfx) {
  const elementRegistry = this._elementRegistry, eventBus2 = this._eventBus;
  eventBus2.fire("root.add", { element });
  elementRegistry.add(element, gfx);
  eventBus2.fire("root.added", { element, gfx });
};
Canvas.prototype._setRoot = function(rootElement, layer) {
  const currentRoot = this._rootElement;
  if (currentRoot) {
    this._elementRegistry.updateGraphics(currentRoot, null, true);
    this.hideLayer(currentRoot.layer);
  }
  if (rootElement) {
    if (!layer) {
      layer = this._findPlaneForRoot(rootElement).layer;
    }
    this._elementRegistry.updateGraphics(rootElement, this._svg, true);
    this.showLayer(rootElement.layer);
  }
  this._rootElement = rootElement;
  this._eventBus.fire("root.set", { element: rootElement });
};
Canvas.prototype._ensureValid = function(type, element) {
  if (!element.id) {
    throw new Error("element must have an id");
  }
  if (this._elementRegistry.get(element.id)) {
    throw new Error("element <" + element.id + "> already exists");
  }
  const requiredAttrs = REQUIRED_MODEL_ATTRS[type];
  const valid = every(requiredAttrs, function(attr2) {
    return typeof element[attr2] !== "undefined";
  });
  if (!valid) {
    throw new Error(
      "must supply { " + requiredAttrs.join(", ") + " } with " + type
    );
  }
};
Canvas.prototype._setParent = function(element, parent, parentIndex) {
  add(parent.children, element, parentIndex);
  element.parent = parent;
};
Canvas.prototype._addElement = function(type, element, parent, parentIndex) {
  parent = parent || this.getRootElement();
  const eventBus2 = this._eventBus, graphicsFactory = this._graphicsFactory;
  this._ensureValid(type, element);
  eventBus2.fire(type + ".add", { element, parent });
  this._setParent(element, parent, parentIndex);
  const gfx = graphicsFactory.create(type, element, parentIndex);
  this._elementRegistry.add(element, gfx);
  graphicsFactory.update(type, element, gfx);
  eventBus2.fire(type + ".added", { element, gfx });
  return element;
};
Canvas.prototype.addShape = function(shape, parent, parentIndex) {
  return this._addElement("shape", shape, parent, parentIndex);
};
Canvas.prototype.addConnection = function(connection, parent, parentIndex) {
  return this._addElement("connection", connection, parent, parentIndex);
};
Canvas.prototype._removeElement = function(element, type) {
  const elementRegistry = this._elementRegistry, graphicsFactory = this._graphicsFactory, eventBus2 = this._eventBus;
  element = elementRegistry.get(element.id || element);
  if (!element) {
    return;
  }
  eventBus2.fire(type + ".remove", { element });
  graphicsFactory.remove(element);
  remove(element.parent && element.parent.children, element);
  element.parent = null;
  eventBus2.fire(type + ".removed", { element });
  elementRegistry.remove(element);
  return element;
};
Canvas.prototype.removeShape = function(shape) {
  return this._removeElement(shape, "shape");
};
Canvas.prototype.removeConnection = function(connection) {
  return this._removeElement(connection, "connection");
};
Canvas.prototype.getGraphics = function(element, secondary) {
  return this._elementRegistry.getGraphics(element, secondary);
};
Canvas.prototype._changeViewbox = function(changeFn) {
  this._eventBus.fire("canvas.viewbox.changing");
  changeFn.apply(this);
  this._cachedViewbox = null;
  this._viewboxChanged();
};
Canvas.prototype._viewboxChanged = function() {
  this._eventBus.fire("canvas.viewbox.changed", { viewbox: this.viewbox() });
};
Canvas.prototype.viewbox = function(box) {
  if (box === void 0 && this._cachedViewbox) {
    return this._cachedViewbox;
  }
  const viewport = this._viewport, outerBox = this.getSize();
  let innerBox, matrix2, activeLayer, transform2, scale, x, y;
  if (!box) {
    activeLayer = this._rootElement ? this.getActiveLayer() : null;
    innerBox = activeLayer && activeLayer.getBBox() || {};
    transform2 = transform$1(viewport);
    matrix2 = transform2 ? transform2.matrix : createMatrix();
    scale = round(matrix2.a, 1e3);
    x = round(-matrix2.e || 0, 1e3);
    y = round(-matrix2.f || 0, 1e3);
    box = this._cachedViewbox = {
      x: x ? x / scale : 0,
      y: y ? y / scale : 0,
      width: outerBox.width / scale,
      height: outerBox.height / scale,
      scale,
      inner: {
        width: innerBox.width || 0,
        height: innerBox.height || 0,
        x: innerBox.x || 0,
        y: innerBox.y || 0
      },
      outer: outerBox
    };
    return box;
  } else {
    this._changeViewbox(function() {
      scale = Math.min(outerBox.width / box.width, outerBox.height / box.height);
      const matrix3 = this._svg.createSVGMatrix().scale(scale).translate(-box.x, -box.y);
      transform$1(viewport, matrix3);
    });
  }
  return box;
};
Canvas.prototype.scroll = function(delta) {
  const node2 = this._viewport;
  let matrix2 = node2.getCTM();
  if (delta) {
    this._changeViewbox(function() {
      delta = assign$1({ dx: 0, dy: 0 }, delta || {});
      matrix2 = this._svg.createSVGMatrix().translate(delta.dx, delta.dy).multiply(matrix2);
      setCTM(node2, matrix2);
    });
  }
  return { x: matrix2.e, y: matrix2.f };
};
Canvas.prototype.scrollToElement = function(element, padding) {
  let defaultPadding = 100;
  if (typeof element === "string") {
    element = this._elementRegistry.get(element);
  }
  const rootElement = this.findRoot(element);
  if (rootElement !== this.getRootElement()) {
    this.setRootElement(rootElement);
  }
  if (rootElement === element) {
    return;
  }
  if (!padding) {
    padding = {};
  }
  if (typeof padding === "number") {
    defaultPadding = padding;
  }
  padding = {
    top: padding.top || defaultPadding,
    right: padding.right || defaultPadding,
    bottom: padding.bottom || defaultPadding,
    left: padding.left || defaultPadding
  };
  const elementBounds = getBBox(element), elementTrbl = asTRBL(elementBounds), viewboxBounds = this.viewbox(), zoom = this.zoom();
  let dx, dy;
  viewboxBounds.y += padding.top / zoom;
  viewboxBounds.x += padding.left / zoom;
  viewboxBounds.width -= (padding.right + padding.left) / zoom;
  viewboxBounds.height -= (padding.bottom + padding.top) / zoom;
  const viewboxTrbl = asTRBL(viewboxBounds);
  const canFit = elementBounds.width < viewboxBounds.width && elementBounds.height < viewboxBounds.height;
  if (!canFit) {
    dx = elementBounds.x - viewboxBounds.x;
    dy = elementBounds.y - viewboxBounds.y;
  } else {
    const dRight = Math.max(0, elementTrbl.right - viewboxTrbl.right), dLeft = Math.min(0, elementTrbl.left - viewboxTrbl.left), dBottom = Math.max(0, elementTrbl.bottom - viewboxTrbl.bottom), dTop = Math.min(0, elementTrbl.top - viewboxTrbl.top);
    dx = dRight || dLeft;
    dy = dBottom || dTop;
  }
  this.scroll({ dx: -dx * zoom, dy: -dy * zoom });
};
Canvas.prototype.zoom = function(newScale, center) {
  if (!newScale) {
    return this.viewbox(newScale).scale;
  }
  if (newScale === "fit-viewport") {
    return this._fitViewport(center);
  }
  let outer, matrix2;
  this._changeViewbox(function() {
    if (typeof center !== "object") {
      outer = this.viewbox().outer;
      center = {
        x: outer.width / 2,
        y: outer.height / 2
      };
    }
    matrix2 = this._setZoom(newScale, center);
  });
  return round(matrix2.a, 1e3);
};
function setCTM(node2, m) {
  const mstr = "matrix(" + m.a + "," + m.b + "," + m.c + "," + m.d + "," + m.e + "," + m.f + ")";
  node2.setAttribute("transform", mstr);
}
Canvas.prototype._fitViewport = function(center) {
  const vbox = this.viewbox(), outer = vbox.outer, inner = vbox.inner;
  let newScale, newViewbox;
  if (inner.x >= 0 && inner.y >= 0 && inner.x + inner.width <= outer.width && inner.y + inner.height <= outer.height && !center) {
    newViewbox = {
      x: 0,
      y: 0,
      width: Math.max(inner.width + inner.x, outer.width),
      height: Math.max(inner.height + inner.y, outer.height)
    };
  } else {
    newScale = Math.min(1, outer.width / inner.width, outer.height / inner.height);
    newViewbox = {
      x: inner.x + (center ? inner.width / 2 - outer.width / newScale / 2 : 0),
      y: inner.y + (center ? inner.height / 2 - outer.height / newScale / 2 : 0),
      width: outer.width / newScale,
      height: outer.height / newScale
    };
  }
  this.viewbox(newViewbox);
  return this.viewbox(false).scale;
};
Canvas.prototype._setZoom = function(scale, center) {
  const svg = this._svg, viewport = this._viewport;
  const matrix2 = svg.createSVGMatrix();
  const point = svg.createSVGPoint();
  let centerPoint, originalPoint, currentMatrix, scaleMatrix, newMatrix;
  currentMatrix = viewport.getCTM();
  const currentScale = currentMatrix.a;
  if (center) {
    centerPoint = assign$1(point, center);
    originalPoint = centerPoint.matrixTransform(currentMatrix.inverse());
    scaleMatrix = matrix2.translate(originalPoint.x, originalPoint.y).scale(1 / currentScale * scale).translate(-originalPoint.x, -originalPoint.y);
    newMatrix = currentMatrix.multiply(scaleMatrix);
  } else {
    newMatrix = matrix2.scale(scale);
  }
  setCTM(this._viewport, newMatrix);
  return newMatrix;
};
Canvas.prototype.getSize = function() {
  return {
    width: this._container.clientWidth,
    height: this._container.clientHeight
  };
};
Canvas.prototype.getAbsoluteBBox = function(element) {
  const vbox = this.viewbox();
  let bbox;
  if (element.waypoints) {
    const gfx = this.getGraphics(element);
    bbox = gfx.getBBox();
  } else {
    bbox = element;
  }
  const x = bbox.x * vbox.scale - vbox.x * vbox.scale;
  const y = bbox.y * vbox.scale - vbox.y * vbox.scale;
  const width = bbox.width * vbox.scale;
  const height = bbox.height * vbox.scale;
  return {
    x,
    y,
    width,
    height
  };
};
Canvas.prototype.resized = function() {
  delete this._cachedViewbox;
  this._eventBus.fire("canvas.resized");
};
var ELEMENT_ID = "data-element-id";
function ElementRegistry(eventBus2) {
  this._elements = {};
  this._eventBus = eventBus2;
}
ElementRegistry.$inject = ["eventBus"];
ElementRegistry.prototype.add = function(element, gfx, secondaryGfx) {
  var id = element.id;
  this._validateId(id);
  attr$1(gfx, ELEMENT_ID, id);
  if (secondaryGfx) {
    attr$1(secondaryGfx, ELEMENT_ID, id);
  }
  this._elements[id] = { element, gfx, secondaryGfx };
};
ElementRegistry.prototype.remove = function(element) {
  var elements = this._elements, id = element.id || element, container = id && elements[id];
  if (container) {
    attr$1(container.gfx, ELEMENT_ID, "");
    if (container.secondaryGfx) {
      attr$1(container.secondaryGfx, ELEMENT_ID, "");
    }
    delete elements[id];
  }
};
ElementRegistry.prototype.updateId = function(element, newId) {
  this._validateId(newId);
  if (typeof element === "string") {
    element = this.get(element);
  }
  this._eventBus.fire("element.updateId", {
    element,
    newId
  });
  var gfx = this.getGraphics(element), secondaryGfx = this.getGraphics(element, true);
  this.remove(element);
  element.id = newId;
  this.add(element, gfx, secondaryGfx);
};
ElementRegistry.prototype.updateGraphics = function(filter3, gfx, secondary) {
  var id = filter3.id || filter3;
  var container = this._elements[id];
  if (secondary) {
    container.secondaryGfx = gfx;
  } else {
    container.gfx = gfx;
  }
  if (gfx) {
    attr$1(gfx, ELEMENT_ID, id);
  }
  return gfx;
};
ElementRegistry.prototype.get = function(filter3) {
  var id;
  if (typeof filter3 === "string") {
    id = filter3;
  } else {
    id = filter3 && attr$1(filter3, ELEMENT_ID);
  }
  var container = this._elements[id];
  return container && container.element;
};
ElementRegistry.prototype.filter = function(fn) {
  var filtered = [];
  this.forEach(function(element, gfx) {
    if (fn(element, gfx)) {
      filtered.push(element);
    }
  });
  return filtered;
};
ElementRegistry.prototype.find = function(fn) {
  var map2 = this._elements, keys = Object.keys(map2);
  for (var i = 0; i < keys.length; i++) {
    var id = keys[i], container = map2[id], element = container.element, gfx = container.gfx;
    if (fn(element, gfx)) {
      return element;
    }
  }
};
ElementRegistry.prototype.getAll = function() {
  return this.filter(function(e2) {
    return e2;
  });
};
ElementRegistry.prototype.forEach = function(fn) {
  var map2 = this._elements;
  Object.keys(map2).forEach(function(id) {
    var container = map2[id], element = container.element, gfx = container.gfx;
    return fn(element, gfx);
  });
};
ElementRegistry.prototype.getGraphics = function(filter3, secondary) {
  var id = filter3.id || filter3;
  var container = this._elements[id];
  return container && (secondary ? container.secondaryGfx : container.gfx);
};
ElementRegistry.prototype._validateId = function(id) {
  if (!id) {
    throw new Error("element must have an id");
  }
  if (this._elements[id]) {
    throw new Error("element with id " + id + " already added");
  }
};
var objectRefs = { exports: {} };
var collection = {};
function extend$1(collection2, refs2, property, target) {
  var inverseProperty = property.inverse;
  Object.defineProperty(collection2, "remove", {
    value: function(element) {
      var idx = this.indexOf(element);
      if (idx !== -1) {
        this.splice(idx, 1);
        refs2.unset(element, inverseProperty, target);
      }
      return element;
    }
  });
  Object.defineProperty(collection2, "contains", {
    value: function(element) {
      return this.indexOf(element) !== -1;
    }
  });
  Object.defineProperty(collection2, "add", {
    value: function(element, idx) {
      var currentIdx = this.indexOf(element);
      if (typeof idx === "undefined") {
        if (currentIdx !== -1) {
          return;
        }
        idx = this.length;
      }
      if (currentIdx !== -1) {
        this.splice(currentIdx, 1);
      }
      this.splice(idx, 0, element);
      if (currentIdx === -1) {
        refs2.set(element, inverseProperty, target);
      }
    }
  });
  Object.defineProperty(collection2, "__refs_collection", {
    value: true
  });
  return collection2;
}
function isExtended(collection2) {
  return collection2.__refs_collection === true;
}
collection.extend = extend$1;
collection.isExtended = isExtended;
var Collection = collection;
function hasOwnProperty$1(e2, property) {
  return Object.prototype.hasOwnProperty.call(e2, property.name || property);
}
function defineCollectionProperty(ref2, property, target) {
  var collection2 = Collection.extend(target[property.name] || [], ref2, property, target);
  Object.defineProperty(target, property.name, {
    enumerable: property.enumerable,
    value: collection2
  });
  if (collection2.length) {
    collection2.forEach(function(o) {
      ref2.set(o, property.inverse, target);
    });
  }
}
function defineProperty$1(ref2, property, target) {
  var inverseProperty = property.inverse;
  var _value = target[property.name];
  Object.defineProperty(target, property.name, {
    configurable: property.configurable,
    enumerable: property.enumerable,
    get: function() {
      return _value;
    },
    set: function(value2) {
      if (value2 === _value) {
        return;
      }
      var old = _value;
      _value = null;
      if (old) {
        ref2.unset(old, inverseProperty, target);
      }
      _value = value2;
      ref2.set(_value, inverseProperty, target);
    }
  });
}
function Refs$1(a, b) {
  if (!(this instanceof Refs$1)) {
    return new Refs$1(a, b);
  }
  a.inverse = b;
  b.inverse = a;
  this.props = {};
  this.props[a.name] = a;
  this.props[b.name] = b;
}
Refs$1.prototype.bind = function(target, property) {
  if (typeof property === "string") {
    if (!this.props[property]) {
      throw new Error("no property <" + property + "> in ref");
    }
    property = this.props[property];
  }
  if (property.collection) {
    defineCollectionProperty(this, property, target);
  } else {
    defineProperty$1(this, property, target);
  }
};
Refs$1.prototype.ensureRefsCollection = function(target, property) {
  var collection2 = target[property.name];
  if (!Collection.isExtended(collection2)) {
    defineCollectionProperty(this, property, target);
  }
  return collection2;
};
Refs$1.prototype.ensureBound = function(target, property) {
  if (!hasOwnProperty$1(target, property)) {
    this.bind(target, property);
  }
};
Refs$1.prototype.unset = function(target, property, value2) {
  if (target) {
    this.ensureBound(target, property);
    if (property.collection) {
      this.ensureRefsCollection(target, property).remove(value2);
    } else {
      target[property.name] = void 0;
    }
  }
};
Refs$1.prototype.set = function(target, property, value2) {
  if (target) {
    this.ensureBound(target, property);
    if (property.collection) {
      this.ensureRefsCollection(target, property).add(value2);
    } else {
      target[property.name] = value2;
    }
  }
};
var refs = Refs$1;
const require$$0 = /* @__PURE__ */ getDefaultExportFromCjs(refs);
objectRefs.exports = require$$0;
objectRefs.exports.Collection = collection;
var objectRefsExports = objectRefs.exports;
const Refs = /* @__PURE__ */ getDefaultExportFromCjs(objectRefsExports);
var parentRefs = new Refs({ name: "children", enumerable: true, collection: true }, { name: "parent" }), labelRefs = new Refs({ name: "labels", enumerable: true, collection: true }, { name: "labelTarget" }), attacherRefs = new Refs({ name: "attachers", collection: true }, { name: "host" }), outgoingRefs = new Refs({ name: "outgoing", collection: true }, { name: "source" }), incomingRefs = new Refs({ name: "incoming", collection: true }, { name: "target" });
function ElementImpl() {
  Object.defineProperty(this, "businessObject", {
    writable: true
  });
  Object.defineProperty(this, "label", {
    get: function() {
      return this.labels[0];
    },
    set: function(newLabel) {
      var label = this.label, labels = this.labels;
      if (!newLabel && label) {
        labels.remove(label);
      } else {
        labels.add(newLabel, 0);
      }
    }
  });
  parentRefs.bind(this, "parent");
  labelRefs.bind(this, "labels");
  outgoingRefs.bind(this, "outgoing");
  incomingRefs.bind(this, "incoming");
}
function ShapeImpl() {
  ElementImpl.call(this);
  parentRefs.bind(this, "children");
  attacherRefs.bind(this, "host");
  attacherRefs.bind(this, "attachers");
}
e(ShapeImpl, ElementImpl);
function RootImpl() {
  ElementImpl.call(this);
  parentRefs.bind(this, "children");
}
e(RootImpl, ShapeImpl);
function LabelImpl() {
  ShapeImpl.call(this);
  labelRefs.bind(this, "labelTarget");
}
e(LabelImpl, ShapeImpl);
function ConnectionImpl() {
  ElementImpl.call(this);
  outgoingRefs.bind(this, "source");
  incomingRefs.bind(this, "target");
}
e(ConnectionImpl, ElementImpl);
var types$6 = {
  connection: ConnectionImpl,
  shape: ShapeImpl,
  label: LabelImpl,
  root: RootImpl
};
function create(type, attrs) {
  var Type = types$6[type];
  if (!Type) {
    throw new Error("unknown type: <" + type + ">");
  }
  return assign$1(new Type(), attrs);
}
function ElementFactory() {
  this._uid = 12;
}
ElementFactory.prototype.createRoot = function(attrs) {
  return this.create("root", attrs);
};
ElementFactory.prototype.createLabel = function(attrs) {
  return this.create("label", attrs);
};
ElementFactory.prototype.createShape = function(attrs) {
  return this.create("shape", attrs);
};
ElementFactory.prototype.createConnection = function(attrs) {
  return this.create("connection", attrs);
};
ElementFactory.prototype.create = function(type, attrs) {
  attrs = assign$1({}, attrs || {});
  if (!attrs.id) {
    attrs.id = type + "_" + this._uid++;
  }
  return create(type, attrs);
};
var FN_REF = "__fn";
var DEFAULT_PRIORITY = 1e3;
var slice = Array.prototype.slice;
function EventBus() {
  this._listeners = {};
  this.on("diagram.destroy", 1, this._destroy, this);
}
EventBus.prototype.on = function(events, priority, callback, that) {
  events = isArray$2(events) ? events : [events];
  if (isFunction(priority)) {
    that = callback;
    callback = priority;
    priority = DEFAULT_PRIORITY;
  }
  if (!isNumber(priority)) {
    throw new Error("priority must be a number");
  }
  var actualCallback = callback;
  if (that) {
    actualCallback = bind$2(callback, that);
    actualCallback[FN_REF] = callback[FN_REF] || callback;
  }
  var self2 = this;
  events.forEach(function(e2) {
    self2._addListener(e2, {
      priority,
      callback: actualCallback,
      next: null
    });
  });
};
EventBus.prototype.once = function(events, priority, callback, that) {
  var self2 = this;
  if (isFunction(priority)) {
    that = callback;
    callback = priority;
    priority = DEFAULT_PRIORITY;
  }
  if (!isNumber(priority)) {
    throw new Error("priority must be a number");
  }
  function wrappedCallback() {
    wrappedCallback.__isTomb = true;
    var result2 = callback.apply(that, arguments);
    self2.off(events, wrappedCallback);
    return result2;
  }
  wrappedCallback[FN_REF] = callback;
  this.on(events, priority, wrappedCallback);
};
EventBus.prototype.off = function(events, callback) {
  events = isArray$2(events) ? events : [events];
  var self2 = this;
  events.forEach(function(event2) {
    self2._removeListener(event2, callback);
  });
};
EventBus.prototype.createEvent = function(data) {
  var event2 = new InternalEvent();
  event2.init(data);
  return event2;
};
EventBus.prototype.fire = function(type, data) {
  var event2, firstListener, returnValue, args;
  args = slice.call(arguments);
  if (typeof type === "object") {
    data = type;
    type = data.type;
  }
  if (!type) {
    throw new Error("no event type specified");
  }
  firstListener = this._listeners[type];
  if (!firstListener) {
    return;
  }
  if (data instanceof InternalEvent) {
    event2 = data;
  } else {
    event2 = this.createEvent(data);
  }
  args[0] = event2;
  var originalType = event2.type;
  if (type !== originalType) {
    event2.type = type;
  }
  try {
    returnValue = this._invokeListeners(event2, args, firstListener);
  } finally {
    if (type !== originalType) {
      event2.type = originalType;
    }
  }
  if (returnValue === void 0 && event2.defaultPrevented) {
    returnValue = false;
  }
  return returnValue;
};
EventBus.prototype.handleError = function(error2) {
  return this.fire("error", { error: error2 }) === false;
};
EventBus.prototype._destroy = function() {
  this._listeners = {};
};
EventBus.prototype._invokeListeners = function(event2, args, listener) {
  var returnValue;
  while (listener) {
    if (event2.cancelBubble) {
      break;
    }
    returnValue = this._invokeListener(event2, args, listener);
    listener = listener.next;
  }
  return returnValue;
};
EventBus.prototype._invokeListener = function(event2, args, listener) {
  var returnValue;
  if (listener.callback.__isTomb) {
    return returnValue;
  }
  try {
    returnValue = invokeFunction(listener.callback, args);
    if (returnValue !== void 0) {
      event2.returnValue = returnValue;
      event2.stopPropagation();
    }
    if (returnValue === false) {
      event2.preventDefault();
    }
  } catch (error2) {
    if (!this.handleError(error2)) {
      console.error("unhandled error in event listener", error2);
      throw error2;
    }
  }
  return returnValue;
};
EventBus.prototype._addListener = function(event2, newListener) {
  var listener = this._getListeners(event2), previousListener;
  if (!listener) {
    this._setListeners(event2, newListener);
    return;
  }
  while (listener) {
    if (listener.priority < newListener.priority) {
      newListener.next = listener;
      if (previousListener) {
        previousListener.next = newListener;
      } else {
        this._setListeners(event2, newListener);
      }
      return;
    }
    previousListener = listener;
    listener = listener.next;
  }
  previousListener.next = newListener;
};
EventBus.prototype._getListeners = function(name2) {
  return this._listeners[name2];
};
EventBus.prototype._setListeners = function(name2, listener) {
  this._listeners[name2] = listener;
};
EventBus.prototype._removeListener = function(event2, callback) {
  var listener = this._getListeners(event2), nextListener, previousListener, listenerCallback;
  if (!callback) {
    this._setListeners(event2, null);
    return;
  }
  while (listener) {
    nextListener = listener.next;
    listenerCallback = listener.callback;
    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {
      if (previousListener) {
        previousListener.next = nextListener;
      } else {
        this._setListeners(event2, nextListener);
      }
    }
    previousListener = listener;
    listener = nextListener;
  }
};
function InternalEvent() {
}
InternalEvent.prototype.stopPropagation = function() {
  this.cancelBubble = true;
};
InternalEvent.prototype.preventDefault = function() {
  this.defaultPrevented = true;
};
InternalEvent.prototype.init = function(data) {
  assign$1(this, data || {});
};
function invokeFunction(fn, args) {
  return fn.apply(null, args);
}
function getVisual(gfx) {
  return gfx.childNodes[0];
}
function getChildren(gfx) {
  return gfx.parentNode.childNodes[1];
}
function GraphicsFactory(eventBus2, elementRegistry) {
  this._eventBus = eventBus2;
  this._elementRegistry = elementRegistry;
}
GraphicsFactory.$inject = ["eventBus", "elementRegistry"];
GraphicsFactory.prototype._getChildrenContainer = function(element) {
  var gfx = this._elementRegistry.getGraphics(element);
  var childrenGfx;
  if (!element.parent) {
    childrenGfx = gfx;
  } else {
    childrenGfx = getChildren(gfx);
    if (!childrenGfx) {
      childrenGfx = create$1("g");
      classes$1(childrenGfx).add("djs-children");
      append(gfx.parentNode, childrenGfx);
    }
  }
  return childrenGfx;
};
GraphicsFactory.prototype._clear = function(gfx) {
  var visual = getVisual(gfx);
  clear(visual);
  return visual;
};
GraphicsFactory.prototype._createContainer = function(type, childrenGfx, parentIndex, isFrame) {
  var outerGfx = create$1("g");
  classes$1(outerGfx).add("djs-group");
  if (typeof parentIndex !== "undefined") {
    prependTo(outerGfx, childrenGfx, childrenGfx.childNodes[parentIndex]);
  } else {
    append(childrenGfx, outerGfx);
  }
  var gfx = create$1("g");
  classes$1(gfx).add("djs-element");
  classes$1(gfx).add("djs-" + type);
  if (isFrame) {
    classes$1(gfx).add("djs-frame");
  }
  append(outerGfx, gfx);
  var visual = create$1("g");
  classes$1(visual).add("djs-visual");
  append(gfx, visual);
  return gfx;
};
GraphicsFactory.prototype.create = function(type, element, parentIndex) {
  var childrenGfx = this._getChildrenContainer(element.parent);
  return this._createContainer(type, childrenGfx, parentIndex, isFrameElement(element));
};
GraphicsFactory.prototype.updateContainments = function(elements) {
  var self2 = this, elementRegistry = this._elementRegistry, parents;
  parents = reduce(elements, function(map2, e2) {
    if (e2.parent) {
      map2[e2.parent.id] = e2.parent;
    }
    return map2;
  }, {});
  forEach$1(parents, function(parent) {
    var children = parent.children;
    if (!children) {
      return;
    }
    var childrenGfx = self2._getChildrenContainer(parent);
    forEach$1(children.slice().reverse(), function(child) {
      var childGfx = elementRegistry.getGraphics(child);
      prependTo(childGfx.parentNode, childrenGfx);
    });
  });
};
GraphicsFactory.prototype.drawShape = function(visual, element, attrs = {}) {
  var eventBus2 = this._eventBus;
  return eventBus2.fire("render.shape", { gfx: visual, element, attrs });
};
GraphicsFactory.prototype.getShapePath = function(element) {
  var eventBus2 = this._eventBus;
  return eventBus2.fire("render.getShapePath", element);
};
GraphicsFactory.prototype.drawConnection = function(visual, element, attrs = {}) {
  var eventBus2 = this._eventBus;
  return eventBus2.fire("render.connection", { gfx: visual, element, attrs });
};
GraphicsFactory.prototype.getConnectionPath = function(connection) {
  var eventBus2 = this._eventBus;
  return eventBus2.fire("render.getConnectionPath", connection);
};
GraphicsFactory.prototype.update = function(type, element, gfx) {
  if (!element.parent) {
    return;
  }
  var visual = this._clear(gfx);
  if (type === "shape") {
    this.drawShape(visual, element);
    translate$1(gfx, element.x, element.y);
  } else if (type === "connection") {
    this.drawConnection(visual, element);
  } else {
    throw new Error("unknown type: " + type);
  }
  if (element.hidden) {
    attr$1(gfx, "display", "none");
  } else {
    attr$1(gfx, "display", "block");
  }
};
GraphicsFactory.prototype.remove = function(element) {
  var gfx = this._elementRegistry.getGraphics(element);
  remove$2(gfx.parentNode);
};
function prependTo(newNode, parentNode, siblingNode) {
  var node2 = siblingNode || parentNode.firstChild;
  if (newNode === node2) {
    return;
  }
  parentNode.insertBefore(newNode, node2);
}
const CoreModule = {
  __depends__: [DrawModule],
  __init__: ["canvas"],
  canvas: ["type", Canvas],
  elementRegistry: ["type", ElementRegistry],
  elementFactory: ["type", ElementFactory],
  eventBus: ["type", EventBus],
  graphicsFactory: ["type", GraphicsFactory]
};
function bootstrap(modules2) {
  var injector = new Injector(modules2);
  injector.init();
  return injector;
}
function createInjector(options) {
  options = options || {};
  var configModule = {
    "config": ["value", options]
  };
  var modules2 = [configModule, CoreModule].concat(options.modules || []);
  return bootstrap(modules2);
}
function Diagram(options, injector) {
  this._injector = injector = injector || createInjector(options);
  this.get = injector.get;
  this.invoke = injector.invoke;
  this.get("eventBus").fire("diagram.init");
}
Diagram.prototype.destroy = function() {
  this.get("eventBus").fire("diagram.destroy");
};
Diagram.prototype.clear = function() {
  this.get("eventBus").fire("diagram.clear");
};
function Base() {
}
Base.prototype.get = function(name2) {
  return this.$model.properties.get(this, name2);
};
Base.prototype.set = function(name2, value2) {
  this.$model.properties.set(this, name2, value2);
};
function Factory(model, properties) {
  this.model = model;
  this.properties = properties;
}
Factory.prototype.createType = function(descriptor) {
  var model = this.model;
  var props = this.properties, prototype2 = Object.create(Base.prototype);
  forEach$1(descriptor.properties, function(p) {
    if (!p.isMany && p.default !== void 0) {
      prototype2[p.name] = p.default;
    }
  });
  props.defineModel(prototype2, model);
  props.defineDescriptor(prototype2, descriptor);
  var name2 = descriptor.ns.name;
  function ModdleElement(attrs) {
    props.define(this, "$type", { value: name2, enumerable: true });
    props.define(this, "$attrs", { value: {} });
    props.define(this, "$parent", { writable: true });
    forEach$1(attrs, bind$2(function(val, key) {
      this.set(key, val);
    }, this));
  }
  ModdleElement.prototype = prototype2;
  ModdleElement.hasType = prototype2.$instanceOf = this.model.hasType;
  props.defineModel(ModdleElement, model);
  props.defineDescriptor(ModdleElement, descriptor);
  return ModdleElement;
};
var BUILTINS = {
  String: true,
  Boolean: true,
  Integer: true,
  Real: true,
  Element: true
};
var TYPE_CONVERTERS = {
  String: function(s) {
    return s;
  },
  Boolean: function(s) {
    return s === "true";
  },
  Integer: function(s) {
    return parseInt(s, 10);
  },
  Real: function(s) {
    return parseFloat(s);
  }
};
function coerceType(type, value2) {
  var converter = TYPE_CONVERTERS[type];
  if (converter) {
    return converter(value2);
  } else {
    return value2;
  }
}
function isBuiltIn(type) {
  return !!BUILTINS[type];
}
function isSimple(type) {
  return !!TYPE_CONVERTERS[type];
}
function parseName(name2, defaultPrefix) {
  var parts = name2.split(/:/), localName, prefix2;
  if (parts.length === 1) {
    localName = name2;
    prefix2 = defaultPrefix;
  } else if (parts.length === 2) {
    localName = parts[1];
    prefix2 = parts[0];
  } else {
    throw new Error("expected <prefix:localName> or <localName>, got " + name2);
  }
  name2 = (prefix2 ? prefix2 + ":" : "") + localName;
  return {
    name: name2,
    prefix: prefix2,
    localName
  };
}
function DescriptorBuilder(nameNs) {
  this.ns = nameNs;
  this.name = nameNs.name;
  this.allTypes = [];
  this.allTypesByName = {};
  this.properties = [];
  this.propertiesByName = {};
}
DescriptorBuilder.prototype.build = function() {
  return pick(this, [
    "ns",
    "name",
    "allTypes",
    "allTypesByName",
    "properties",
    "propertiesByName",
    "bodyProperty",
    "idProperty"
  ]);
};
DescriptorBuilder.prototype.addProperty = function(p, idx, validate) {
  if (typeof idx === "boolean") {
    validate = idx;
    idx = void 0;
  }
  this.addNamedProperty(p, validate !== false);
  var properties = this.properties;
  if (idx !== void 0) {
    properties.splice(idx, 0, p);
  } else {
    properties.push(p);
  }
};
DescriptorBuilder.prototype.replaceProperty = function(oldProperty, newProperty, replace) {
  var oldNameNs = oldProperty.ns;
  var props = this.properties, propertiesByName = this.propertiesByName, rename = oldProperty.name !== newProperty.name;
  if (oldProperty.isId) {
    if (!newProperty.isId) {
      throw new Error(
        "property <" + newProperty.ns.name + "> must be id property to refine <" + oldProperty.ns.name + ">"
      );
    }
    this.setIdProperty(newProperty, false);
  }
  if (oldProperty.isBody) {
    if (!newProperty.isBody) {
      throw new Error(
        "property <" + newProperty.ns.name + "> must be body property to refine <" + oldProperty.ns.name + ">"
      );
    }
    this.setBodyProperty(newProperty, false);
  }
  var idx = props.indexOf(oldProperty);
  if (idx === -1) {
    throw new Error("property <" + oldNameNs.name + "> not found in property list");
  }
  props.splice(idx, 1);
  this.addProperty(newProperty, replace ? void 0 : idx, rename);
  propertiesByName[oldNameNs.name] = propertiesByName[oldNameNs.localName] = newProperty;
};
DescriptorBuilder.prototype.redefineProperty = function(p, targetPropertyName, replace) {
  var nsPrefix = p.ns.prefix;
  var parts = targetPropertyName.split("#");
  var name2 = parseName(parts[0], nsPrefix);
  var attrName = parseName(parts[1], name2.prefix).name;
  var redefinedProperty = this.propertiesByName[attrName];
  if (!redefinedProperty) {
    throw new Error("refined property <" + attrName + "> not found");
  } else {
    this.replaceProperty(redefinedProperty, p, replace);
  }
  delete p.redefines;
};
DescriptorBuilder.prototype.addNamedProperty = function(p, validate) {
  var ns2 = p.ns, propsByName = this.propertiesByName;
  if (validate) {
    this.assertNotDefined(p, ns2.name);
    this.assertNotDefined(p, ns2.localName);
  }
  propsByName[ns2.name] = propsByName[ns2.localName] = p;
};
DescriptorBuilder.prototype.removeNamedProperty = function(p) {
  var ns2 = p.ns, propsByName = this.propertiesByName;
  delete propsByName[ns2.name];
  delete propsByName[ns2.localName];
};
DescriptorBuilder.prototype.setBodyProperty = function(p, validate) {
  if (validate && this.bodyProperty) {
    throw new Error(
      "body property defined multiple times (<" + this.bodyProperty.ns.name + ">, <" + p.ns.name + ">)"
    );
  }
  this.bodyProperty = p;
};
DescriptorBuilder.prototype.setIdProperty = function(p, validate) {
  if (validate && this.idProperty) {
    throw new Error(
      "id property defined multiple times (<" + this.idProperty.ns.name + ">, <" + p.ns.name + ">)"
    );
  }
  this.idProperty = p;
};
DescriptorBuilder.prototype.assertNotTrait = function(typeDescriptor) {
  const _extends2 = typeDescriptor.extends || [];
  if (_extends2.length) {
    throw new Error(
      `cannot create <${typeDescriptor.name}> extending <${typeDescriptor.extends}>`
    );
  }
};
DescriptorBuilder.prototype.assertNotDefined = function(p, name2) {
  var propertyName = p.name, definedProperty = this.propertiesByName[propertyName];
  if (definedProperty) {
    throw new Error(
      "property <" + propertyName + "> already defined; override of <" + definedProperty.definedBy.ns.name + "#" + definedProperty.ns.name + "> by <" + p.definedBy.ns.name + "#" + p.ns.name + "> not allowed without redefines"
    );
  }
};
DescriptorBuilder.prototype.hasProperty = function(name2) {
  return this.propertiesByName[name2];
};
DescriptorBuilder.prototype.addTrait = function(t, inherited) {
  if (inherited) {
    this.assertNotTrait(t);
  }
  var typesByName = this.allTypesByName, types2 = this.allTypes;
  var typeName = t.name;
  if (typeName in typesByName) {
    return;
  }
  forEach$1(t.properties, bind$2(function(p) {
    p = assign$1({}, p, {
      name: p.ns.localName,
      inherited
    });
    Object.defineProperty(p, "definedBy", {
      value: t
    });
    var replaces = p.replaces, redefines = p.redefines;
    if (replaces || redefines) {
      this.redefineProperty(p, replaces || redefines, replaces);
    } else {
      if (p.isBody) {
        this.setBodyProperty(p);
      }
      if (p.isId) {
        this.setIdProperty(p);
      }
      this.addProperty(p);
    }
  }, this));
  types2.push(t);
  typesByName[typeName] = t;
};
function Registry(packages2, properties) {
  this.packageMap = {};
  this.typeMap = {};
  this.packages = [];
  this.properties = properties;
  forEach$1(packages2, bind$2(this.registerPackage, this));
}
Registry.prototype.getPackage = function(uriOrPrefix) {
  return this.packageMap[uriOrPrefix];
};
Registry.prototype.getPackages = function() {
  return this.packages;
};
Registry.prototype.registerPackage = function(pkg) {
  pkg = assign$1({}, pkg);
  var pkgMap = this.packageMap;
  ensureAvailable(pkgMap, pkg, "prefix");
  ensureAvailable(pkgMap, pkg, "uri");
  forEach$1(pkg.types, bind$2(function(descriptor) {
    this.registerType(descriptor, pkg);
  }, this));
  pkgMap[pkg.uri] = pkgMap[pkg.prefix] = pkg;
  this.packages.push(pkg);
};
Registry.prototype.registerType = function(type, pkg) {
  type = assign$1({}, type, {
    superClass: (type.superClass || []).slice(),
    extends: (type.extends || []).slice(),
    properties: (type.properties || []).slice(),
    meta: assign$1(type.meta || {})
  });
  var ns2 = parseName(type.name, pkg.prefix), name2 = ns2.name, propertiesByName = {};
  forEach$1(type.properties, bind$2(function(p) {
    var propertyNs = parseName(p.name, ns2.prefix), propertyName = propertyNs.name;
    if (!isBuiltIn(p.type)) {
      p.type = parseName(p.type, propertyNs.prefix).name;
    }
    assign$1(p, {
      ns: propertyNs,
      name: propertyName
    });
    propertiesByName[propertyName] = p;
  }, this));
  assign$1(type, {
    ns: ns2,
    name: name2,
    propertiesByName
  });
  forEach$1(type.extends, bind$2(function(extendsName) {
    var extendsNameNs = parseName(extendsName, ns2.prefix);
    var extended = this.typeMap[extendsNameNs.name];
    extended.traits = extended.traits || [];
    extended.traits.push(name2);
  }, this));
  this.definePackage(type, pkg);
  this.typeMap[name2] = type;
};
Registry.prototype.mapTypes = function(nsName2, iterator, trait) {
  var type = isBuiltIn(nsName2.name) ? { name: nsName2.name } : this.typeMap[nsName2.name];
  var self2 = this;
  function traverse(cls, trait2) {
    var parentNs = parseName(cls, isBuiltIn(cls) ? "" : nsName2.prefix);
    self2.mapTypes(parentNs, iterator, trait2);
  }
  function traverseTrait(cls) {
    return traverse(cls, true);
  }
  function traverseSuper(cls) {
    return traverse(cls, false);
  }
  if (!type) {
    throw new Error("unknown type <" + nsName2.name + ">");
  }
  forEach$1(type.superClass, trait ? traverseTrait : traverseSuper);
  iterator(type, !trait);
  forEach$1(type.traits, traverseTrait);
};
Registry.prototype.getEffectiveDescriptor = function(name2) {
  var nsName2 = parseName(name2);
  var builder = new DescriptorBuilder(nsName2);
  this.mapTypes(nsName2, function(type, inherited) {
    builder.addTrait(type, inherited);
  });
  var descriptor = builder.build();
  this.definePackage(descriptor, descriptor.allTypes[descriptor.allTypes.length - 1].$pkg);
  return descriptor;
};
Registry.prototype.definePackage = function(target, pkg) {
  this.properties.define(target, "$pkg", { value: pkg });
};
function ensureAvailable(packageMap, pkg, identifierKey) {
  var value2 = pkg[identifierKey];
  if (value2 in packageMap) {
    throw new Error("package with " + identifierKey + " <" + value2 + "> already defined");
  }
}
function Properties(model) {
  this.model = model;
}
Properties.prototype.set = function(target, name2, value2) {
  if (!isString(name2) || !name2.length) {
    throw new TypeError("property name must be a non-empty string");
  }
  var property = this.getProperty(target, name2);
  var propertyName = property && property.name;
  if (isUndefined(value2)) {
    if (property) {
      delete target[propertyName];
    } else {
      delete target.$attrs[stripGlobal(name2)];
    }
  } else {
    if (property) {
      if (propertyName in target) {
        target[propertyName] = value2;
      } else {
        defineProperty(target, property, value2);
      }
    } else {
      target.$attrs[stripGlobal(name2)] = value2;
    }
  }
};
Properties.prototype.get = function(target, name2) {
  var property = this.getProperty(target, name2);
  if (!property) {
    return target.$attrs[stripGlobal(name2)];
  }
  var propertyName = property.name;
  if (!target[propertyName] && property.isMany) {
    defineProperty(target, property, []);
  }
  return target[propertyName];
};
Properties.prototype.define = function(target, name2, options) {
  if (!options.writable) {
    var value2 = options.value;
    options = assign$1({}, options, {
      get: function() {
        return value2;
      }
    });
    delete options.value;
  }
  Object.defineProperty(target, name2, options);
};
Properties.prototype.defineDescriptor = function(target, descriptor) {
  this.define(target, "$descriptor", { value: descriptor });
};
Properties.prototype.defineModel = function(target, model) {
  this.define(target, "$model", { value: model });
};
Properties.prototype.getProperty = function(target, name2) {
  var model = this.model;
  var property = model.getPropertyDescriptor(target, name2);
  if (property) {
    return property;
  }
  if (name2.includes(":")) {
    return null;
  }
  const strict = model.config.strict;
  if (typeof strict !== "undefined") {
    const error2 = new TypeError(`unknown property <${name2}> on <${target.$type}>`);
    if (strict) {
      throw error2;
    } else {
      typeof console !== "undefined" && console.warn(error2);
    }
  }
  return null;
};
function isUndefined(val) {
  return typeof val === "undefined";
}
function defineProperty(target, property, value2) {
  Object.defineProperty(target, property.name, {
    enumerable: !property.isReference,
    writable: true,
    value: value2,
    configurable: true
  });
}
function stripGlobal(name2) {
  return name2.replace(/^:/, "");
}
function Moddle(packages2, config2 = {}) {
  this.properties = new Properties(this);
  this.factory = new Factory(this, this.properties);
  this.registry = new Registry(packages2, this.properties);
  this.typeCache = {};
  this.config = config2;
}
Moddle.prototype.create = function(descriptor, attrs) {
  var Type = this.getType(descriptor);
  if (!Type) {
    throw new Error("unknown type <" + descriptor + ">");
  }
  return new Type(attrs);
};
Moddle.prototype.getType = function(descriptor) {
  var cache = this.typeCache;
  var name2 = isString(descriptor) ? descriptor : descriptor.ns.name;
  var type = cache[name2];
  if (!type) {
    descriptor = this.registry.getEffectiveDescriptor(name2);
    type = cache[name2] = this.factory.createType(descriptor);
  }
  return type;
};
Moddle.prototype.createAny = function(name2, nsUri, properties) {
  var nameNs = parseName(name2);
  var element = {
    $type: name2,
    $instanceOf: function(type) {
      return type === this.$type;
    },
    get: function(key) {
      return this[key];
    },
    set: function(key, value2) {
      set$1(this, [key], value2);
    }
  };
  var descriptor = {
    name: name2,
    isGeneric: true,
    ns: {
      prefix: nameNs.prefix,
      localName: nameNs.localName,
      uri: nsUri
    }
  };
  this.properties.defineDescriptor(element, descriptor);
  this.properties.defineModel(element, this);
  this.properties.define(element, "get", { enumerable: false, writable: true });
  this.properties.define(element, "set", { enumerable: false, writable: true });
  this.properties.define(element, "$parent", { enumerable: false, writable: true });
  this.properties.define(element, "$instanceOf", { enumerable: false, writable: true });
  forEach$1(properties, function(a, key) {
    if (isObject(a) && a.value !== void 0) {
      element[a.name] = a.value;
    } else {
      element[key] = a;
    }
  });
  return element;
};
Moddle.prototype.getPackage = function(uriOrPrefix) {
  return this.registry.getPackage(uriOrPrefix);
};
Moddle.prototype.getPackages = function() {
  return this.registry.getPackages();
};
Moddle.prototype.getElementDescriptor = function(element) {
  return element.$descriptor;
};
Moddle.prototype.hasType = function(element, type) {
  if (type === void 0) {
    type = element;
    element = this;
  }
  var descriptor = element.$model.getElementDescriptor(element);
  return type in descriptor.allTypesByName;
};
Moddle.prototype.getPropertyDescriptor = function(element, property) {
  return this.getElementDescriptor(element).propertiesByName[property];
};
Moddle.prototype.getTypeDescriptor = function(type) {
  return this.registry.typeMap[type];
};
var fromCharCode = String.fromCharCode;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var ENTITY_PATTERN = /&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig;
var ENTITY_MAPPING = {
  "amp": "&",
  "apos": "'",
  "gt": ">",
  "lt": "<",
  "quot": '"'
};
Object.keys(ENTITY_MAPPING).forEach(function(k) {
  ENTITY_MAPPING[k.toUpperCase()] = ENTITY_MAPPING[k];
});
function replaceEntities(_, d, x, z) {
  if (z) {
    if (hasOwnProperty.call(ENTITY_MAPPING, z)) {
      return ENTITY_MAPPING[z];
    } else {
      return "&" + z + ";";
    }
  }
  if (d) {
    return fromCharCode(d);
  }
  return fromCharCode(parseInt(x, 16));
}
function decodeEntities(s) {
  if (s.length > 3 && s.indexOf("&") !== -1) {
    return s.replace(ENTITY_PATTERN, replaceEntities);
  }
  return s;
}
var XSI_URI = "http://www.w3.org/2001/XMLSchema-instance";
var XSI_PREFIX = "xsi";
var XSI_TYPE$1 = "xsi:type";
var NON_WHITESPACE_OUTSIDE_ROOT_NODE = "non-whitespace outside of root node";
function error$1(msg) {
  return new Error(msg);
}
function missingNamespaceForPrefix(prefix2) {
  return "missing namespace for prefix <" + prefix2 + ">";
}
function getter(getFn) {
  return {
    "get": getFn,
    "enumerable": true
  };
}
function cloneNsMatrix(nsMatrix) {
  var clone2 = {}, key;
  for (key in nsMatrix) {
    clone2[key] = nsMatrix[key];
  }
  return clone2;
}
function uriPrefix(prefix2) {
  return prefix2 + "$uri";
}
function buildNsMatrix(nsUriToPrefix) {
  var nsMatrix = {}, uri2, prefix2;
  for (uri2 in nsUriToPrefix) {
    prefix2 = nsUriToPrefix[uri2];
    nsMatrix[prefix2] = prefix2;
    nsMatrix[uriPrefix(prefix2)] = uri2;
  }
  return nsMatrix;
}
function noopGetContext() {
  return { "line": 0, "column": 0 };
}
function throwFunc(err) {
  throw err;
}
function Parser(options) {
  if (!this) {
    return new Parser(options);
  }
  var proxy = options && options["proxy"];
  var onText, onOpenTag, onCloseTag, onCDATA, onError = throwFunc, onWarning, onComment, onQuestion, onAttention;
  var getContext = noopGetContext;
  var maybeNS = false;
  var isNamespace = false;
  var returnError = null;
  var parseStop = false;
  var nsUriToPrefix;
  function handleError(err) {
    if (!(err instanceof Error)) {
      err = error$1(err);
    }
    returnError = err;
    onError(err, getContext);
  }
  function handleWarning(err) {
    if (!onWarning) {
      return;
    }
    if (!(err instanceof Error)) {
      err = error$1(err);
    }
    onWarning(err, getContext);
  }
  this["on"] = function(name2, cb) {
    if (typeof cb !== "function") {
      throw error$1("required args <name, cb>");
    }
    switch (name2) {
      case "openTag":
        onOpenTag = cb;
        break;
      case "text":
        onText = cb;
        break;
      case "closeTag":
        onCloseTag = cb;
        break;
      case "error":
        onError = cb;
        break;
      case "warn":
        onWarning = cb;
        break;
      case "cdata":
        onCDATA = cb;
        break;
      case "attention":
        onAttention = cb;
        break;
      case "question":
        onQuestion = cb;
        break;
      case "comment":
        onComment = cb;
        break;
      default:
        throw error$1("unsupported event: " + name2);
    }
    return this;
  };
  this["ns"] = function(nsMap) {
    if (typeof nsMap === "undefined") {
      nsMap = {};
    }
    if (typeof nsMap !== "object") {
      throw error$1("required args <nsMap={}>");
    }
    var _nsUriToPrefix = {}, k;
    for (k in nsMap) {
      _nsUriToPrefix[k] = nsMap[k];
    }
    _nsUriToPrefix[XSI_URI] = XSI_PREFIX;
    isNamespace = true;
    nsUriToPrefix = _nsUriToPrefix;
    return this;
  };
  this["parse"] = function(xml2) {
    if (typeof xml2 !== "string") {
      throw error$1("required args <xml=string>");
    }
    returnError = null;
    parse2(xml2);
    getContext = noopGetContext;
    parseStop = false;
    return returnError;
  };
  this["stop"] = function() {
    parseStop = true;
  };
  function parse2(xml2) {
    var nsMatrixStack = isNamespace ? [] : null, nsMatrix = isNamespace ? buildNsMatrix(nsUriToPrefix) : null, _nsMatrix, nodeStack = [], anonymousNsCount = 0, tagStart = false, tagEnd = false, i = 0, j = 0, x, y, q, w, v, xmlns, elementName, _elementName, elementProxy;
    var attrsString = "", attrsStart = 0, cachedAttrs;
    function getAttrs() {
      if (cachedAttrs !== null) {
        return cachedAttrs;
      }
      var nsUri, nsUriPrefix, nsName2, defaultAlias = isNamespace && nsMatrix["xmlns"], attrList = isNamespace && maybeNS ? [] : null, i2 = attrsStart, s = attrsString, l = s.length, hasNewMatrix, newalias, value2, alias, name2, attrs = {}, seenAttrs = {}, skipAttr, w2, j2;
      parseAttr:
        for (; i2 < l; i2++) {
          skipAttr = false;
          w2 = s.charCodeAt(i2);
          if (w2 === 32 || w2 < 14 && w2 > 8) {
            continue;
          }
          if (w2 < 65 || w2 > 122 || w2 > 90 && w2 < 97) {
            if (w2 !== 95 && w2 !== 58) {
              handleWarning("illegal first char attribute name");
              skipAttr = true;
            }
          }
          for (j2 = i2 + 1; j2 < l; j2++) {
            w2 = s.charCodeAt(j2);
            if (w2 > 96 && w2 < 123 || w2 > 64 && w2 < 91 || w2 > 47 && w2 < 59 || w2 === 46 || // '.'
            w2 === 45 || // '-'
            w2 === 95) {
              continue;
            }
            if (w2 === 32 || w2 < 14 && w2 > 8) {
              handleWarning("missing attribute value");
              i2 = j2;
              continue parseAttr;
            }
            if (w2 === 61) {
              break;
            }
            handleWarning("illegal attribute name char");
            skipAttr = true;
          }
          name2 = s.substring(i2, j2);
          if (name2 === "xmlns:xmlns") {
            handleWarning("illegal declaration of xmlns");
            skipAttr = true;
          }
          w2 = s.charCodeAt(j2 + 1);
          if (w2 === 34) {
            j2 = s.indexOf('"', i2 = j2 + 2);
            if (j2 === -1) {
              j2 = s.indexOf("'", i2);
              if (j2 !== -1) {
                handleWarning("attribute value quote missmatch");
                skipAttr = true;
              }
            }
          } else if (w2 === 39) {
            j2 = s.indexOf("'", i2 = j2 + 2);
            if (j2 === -1) {
              j2 = s.indexOf('"', i2);
              if (j2 !== -1) {
                handleWarning("attribute value quote missmatch");
                skipAttr = true;
              }
            }
          } else {
            handleWarning("missing attribute value quotes");
            skipAttr = true;
            for (j2 = j2 + 1; j2 < l; j2++) {
              w2 = s.charCodeAt(j2 + 1);
              if (w2 === 32 || w2 < 14 && w2 > 8) {
                break;
              }
            }
          }
          if (j2 === -1) {
            handleWarning("missing closing quotes");
            j2 = l;
            skipAttr = true;
          }
          if (!skipAttr) {
            value2 = s.substring(i2, j2);
          }
          i2 = j2;
          for (; j2 + 1 < l; j2++) {
            w2 = s.charCodeAt(j2 + 1);
            if (w2 === 32 || w2 < 14 && w2 > 8) {
              break;
            }
            if (i2 === j2) {
              handleWarning("illegal character after attribute end");
              skipAttr = true;
            }
          }
          i2 = j2 + 1;
          if (skipAttr) {
            continue parseAttr;
          }
          if (name2 in seenAttrs) {
            handleWarning("attribute <" + name2 + "> already defined");
            continue;
          }
          seenAttrs[name2] = true;
          if (!isNamespace) {
            attrs[name2] = value2;
            continue;
          }
          if (maybeNS) {
            newalias = name2 === "xmlns" ? "xmlns" : name2.charCodeAt(0) === 120 && name2.substr(0, 6) === "xmlns:" ? name2.substr(6) : null;
            if (newalias !== null) {
              nsUri = decodeEntities(value2);
              nsUriPrefix = uriPrefix(newalias);
              alias = nsUriToPrefix[nsUri];
              if (!alias) {
                if (newalias === "xmlns" || nsUriPrefix in nsMatrix && nsMatrix[nsUriPrefix] !== nsUri) {
                  do {
                    alias = "ns" + anonymousNsCount++;
                  } while (typeof nsMatrix[alias] !== "undefined");
                } else {
                  alias = newalias;
                }
                nsUriToPrefix[nsUri] = alias;
              }
              if (nsMatrix[newalias] !== alias) {
                if (!hasNewMatrix) {
                  nsMatrix = cloneNsMatrix(nsMatrix);
                  hasNewMatrix = true;
                }
                nsMatrix[newalias] = alias;
                if (newalias === "xmlns") {
                  nsMatrix[uriPrefix(alias)] = nsUri;
                  defaultAlias = alias;
                }
                nsMatrix[nsUriPrefix] = nsUri;
              }
              attrs[name2] = value2;
              continue;
            }
            attrList.push(name2, value2);
            continue;
          }
          w2 = name2.indexOf(":");
          if (w2 === -1) {
            attrs[name2] = value2;
            continue;
          }
          if (!(nsName2 = nsMatrix[name2.substring(0, w2)])) {
            handleWarning(missingNamespaceForPrefix(name2.substring(0, w2)));
            continue;
          }
          name2 = defaultAlias === nsName2 ? name2.substr(w2 + 1) : nsName2 + name2.substr(w2);
          if (name2 === XSI_TYPE$1) {
            w2 = value2.indexOf(":");
            if (w2 !== -1) {
              nsName2 = value2.substring(0, w2);
              nsName2 = nsMatrix[nsName2] || nsName2;
              value2 = nsName2 + value2.substring(w2);
            } else {
              value2 = defaultAlias + ":" + value2;
            }
          }
          attrs[name2] = value2;
        }
      if (maybeNS) {
        for (i2 = 0, l = attrList.length; i2 < l; i2++) {
          name2 = attrList[i2++];
          value2 = attrList[i2];
          w2 = name2.indexOf(":");
          if (w2 !== -1) {
            if (!(nsName2 = nsMatrix[name2.substring(0, w2)])) {
              handleWarning(missingNamespaceForPrefix(name2.substring(0, w2)));
              continue;
            }
            name2 = defaultAlias === nsName2 ? name2.substr(w2 + 1) : nsName2 + name2.substr(w2);
            if (name2 === XSI_TYPE$1) {
              w2 = value2.indexOf(":");
              if (w2 !== -1) {
                nsName2 = value2.substring(0, w2);
                nsName2 = nsMatrix[nsName2] || nsName2;
                value2 = nsName2 + value2.substring(w2);
              } else {
                value2 = defaultAlias + ":" + value2;
              }
            }
          }
          attrs[name2] = value2;
        }
      }
      return cachedAttrs = attrs;
    }
    function getParseContext() {
      var splitsRe = /(\r\n|\r|\n)/g;
      var line = 0;
      var column = 0;
      var startOfLine = 0;
      var endOfLine = j;
      var match;
      var data;
      while (i >= startOfLine) {
        match = splitsRe.exec(xml2);
        if (!match) {
          break;
        }
        endOfLine = match[0].length + match.index;
        if (endOfLine > i) {
          break;
        }
        line += 1;
        startOfLine = endOfLine;
      }
      if (i == -1) {
        column = endOfLine;
        data = xml2.substring(j);
      } else if (j === 0) {
        data = xml2.substring(j, i);
      } else {
        column = i - startOfLine;
        data = j == -1 ? xml2.substring(i) : xml2.substring(i, j + 1);
      }
      return {
        "data": data,
        "line": line,
        "column": column
      };
    }
    getContext = getParseContext;
    if (proxy) {
      elementProxy = Object.create({}, {
        "name": getter(function() {
          return elementName;
        }),
        "originalName": getter(function() {
          return _elementName;
        }),
        "attrs": getter(getAttrs),
        "ns": getter(function() {
          return nsMatrix;
        })
      });
    }
    while (j !== -1) {
      if (xml2.charCodeAt(j) === 60) {
        i = j;
      } else {
        i = xml2.indexOf("<", j);
      }
      if (i === -1) {
        if (nodeStack.length) {
          return handleError("unexpected end of file");
        }
        if (j === 0) {
          return handleError("missing start tag");
        }
        if (j < xml2.length) {
          if (xml2.substring(j).trim()) {
            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);
          }
        }
        return;
      }
      if (j !== i) {
        if (nodeStack.length) {
          if (onText) {
            onText(xml2.substring(j, i), decodeEntities, getContext);
            if (parseStop) {
              return;
            }
          }
        } else {
          if (xml2.substring(j, i).trim()) {
            handleWarning(NON_WHITESPACE_OUTSIDE_ROOT_NODE);
            if (parseStop) {
              return;
            }
          }
        }
      }
      w = xml2.charCodeAt(i + 1);
      if (w === 33) {
        q = xml2.charCodeAt(i + 2);
        if (q === 91 && xml2.substr(i + 3, 6) === "CDATA[") {
          j = xml2.indexOf("]]>", i);
          if (j === -1) {
            return handleError("unclosed cdata");
          }
          if (onCDATA) {
            onCDATA(xml2.substring(i + 9, j), getContext);
            if (parseStop) {
              return;
            }
          }
          j += 3;
          continue;
        }
        if (q === 45 && xml2.charCodeAt(i + 3) === 45) {
          j = xml2.indexOf("-->", i);
          if (j === -1) {
            return handleError("unclosed comment");
          }
          if (onComment) {
            onComment(xml2.substring(i + 4, j), decodeEntities, getContext);
            if (parseStop) {
              return;
            }
          }
          j += 3;
          continue;
        }
      }
      if (w === 63) {
        j = xml2.indexOf("?>", i);
        if (j === -1) {
          return handleError("unclosed question");
        }
        if (onQuestion) {
          onQuestion(xml2.substring(i, j + 2), getContext);
          if (parseStop) {
            return;
          }
        }
        j += 2;
        continue;
      }
      for (x = i + 1; ; x++) {
        v = xml2.charCodeAt(x);
        if (isNaN(v)) {
          j = -1;
          return handleError("unclosed tag");
        }
        if (v === 34) {
          q = xml2.indexOf('"', x + 1);
          x = q !== -1 ? q : x;
        } else if (v === 39) {
          q = xml2.indexOf("'", x + 1);
          x = q !== -1 ? q : x;
        } else if (v === 62) {
          j = x;
          break;
        }
      }
      if (w === 33) {
        if (onAttention) {
          onAttention(xml2.substring(i, j + 1), decodeEntities, getContext);
          if (parseStop) {
            return;
          }
        }
        j += 1;
        continue;
      }
      cachedAttrs = {};
      if (w === 47) {
        tagStart = false;
        tagEnd = true;
        if (!nodeStack.length) {
          return handleError("missing open tag");
        }
        x = elementName = nodeStack.pop();
        q = i + 2 + x.length;
        if (xml2.substring(i + 2, q) !== x) {
          return handleError("closing tag mismatch");
        }
        for (; q < j; q++) {
          w = xml2.charCodeAt(q);
          if (w === 32 || w > 8 && w < 14) {
            continue;
          }
          return handleError("close tag");
        }
      } else {
        if (xml2.charCodeAt(j - 1) === 47) {
          x = elementName = xml2.substring(i + 1, j - 1);
          tagStart = true;
          tagEnd = true;
        } else {
          x = elementName = xml2.substring(i + 1, j);
          tagStart = true;
          tagEnd = false;
        }
        if (!(w > 96 && w < 123 || w > 64 && w < 91 || w === 95 || w === 58)) {
          return handleError("illegal first char nodeName");
        }
        for (q = 1, y = x.length; q < y; q++) {
          w = x.charCodeAt(q);
          if (w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95 || w == 46) {
            continue;
          }
          if (w === 32 || w < 14 && w > 8) {
            elementName = x.substring(0, q);
            cachedAttrs = null;
            break;
          }
          return handleError("invalid nodeName");
        }
        if (!tagEnd) {
          nodeStack.push(elementName);
        }
      }
      if (isNamespace) {
        _nsMatrix = nsMatrix;
        if (tagStart) {
          if (!tagEnd) {
            nsMatrixStack.push(_nsMatrix);
          }
          if (cachedAttrs === null) {
            if (maybeNS = x.indexOf("xmlns", q) !== -1) {
              attrsStart = q;
              attrsString = x;
              getAttrs();
              maybeNS = false;
            }
          }
        }
        _elementName = elementName;
        w = elementName.indexOf(":");
        if (w !== -1) {
          xmlns = nsMatrix[elementName.substring(0, w)];
          if (!xmlns) {
            return handleError("missing namespace on <" + _elementName + ">");
          }
          elementName = elementName.substr(w + 1);
        } else {
          xmlns = nsMatrix["xmlns"];
        }
        if (xmlns) {
          elementName = xmlns + ":" + elementName;
        }
      }
      if (tagStart) {
        attrsStart = q;
        attrsString = x;
        if (onOpenTag) {
          if (proxy) {
            onOpenTag(elementProxy, decodeEntities, tagEnd, getContext);
          } else {
            onOpenTag(elementName, getAttrs, decodeEntities, tagEnd, getContext);
          }
          if (parseStop) {
            return;
          }
        }
      }
      if (tagEnd) {
        if (onCloseTag) {
          onCloseTag(proxy ? elementProxy : elementName, decodeEntities, tagStart, getContext);
          if (parseStop) {
            return;
          }
        }
        if (isNamespace) {
          if (!tagStart) {
            nsMatrix = nsMatrixStack.pop();
          } else {
            nsMatrix = _nsMatrix;
          }
        }
      }
      j += 1;
    }
  }
}
function hasLowerCaseAlias(pkg) {
  return pkg.xml && pkg.xml.tagAlias === "lowerCase";
}
var DEFAULT_NS_MAP = {
  "xsi": "http://www.w3.org/2001/XMLSchema-instance",
  "xml": "http://www.w3.org/XML/1998/namespace"
};
var XSI_TYPE = "xsi:type";
function serializeFormat(element) {
  return element.xml && element.xml.serialize;
}
function serializeAsType(element) {
  return serializeFormat(element) === XSI_TYPE;
}
function serializeAsProperty(element) {
  return serializeFormat(element) === "property";
}
function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
function aliasToName(aliasNs, pkg) {
  if (!hasLowerCaseAlias(pkg)) {
    return aliasNs.name;
  }
  return aliasNs.prefix + ":" + capitalize(aliasNs.localName);
}
function prefixedToName(nameNs, pkg) {
  var name2 = nameNs.name, localName = nameNs.localName;
  var typePrefix = pkg.xml && pkg.xml.typePrefix;
  if (typePrefix && localName.indexOf(typePrefix) === 0) {
    return nameNs.prefix + ":" + localName.slice(typePrefix.length);
  } else {
    return name2;
  }
}
function normalizeXsiTypeName(name2, model) {
  var nameNs = parseName(name2);
  var pkg = model.getPackage(nameNs.prefix);
  return prefixedToName(nameNs, pkg);
}
function error(message2) {
  return new Error(message2);
}
function getModdleDescriptor(element) {
  return element.$descriptor;
}
function Context(options) {
  assign$1(this, options);
  this.elementsById = {};
  this.references = [];
  this.warnings = [];
  this.addReference = function(reference) {
    this.references.push(reference);
  };
  this.addElement = function(element) {
    if (!element) {
      throw error("expected element");
    }
    var elementsById = this.elementsById;
    var descriptor = getModdleDescriptor(element);
    var idProperty = descriptor.idProperty, id;
    if (idProperty) {
      id = element.get(idProperty.name);
      if (id) {
        if (!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(id)) {
          throw new Error("illegal ID <" + id + ">");
        }
        if (elementsById[id]) {
          throw error("duplicate ID <" + id + ">");
        }
        elementsById[id] = element;
      }
    }
  };
  this.addWarning = function(warning2) {
    this.warnings.push(warning2);
  };
}
function BaseHandler() {
}
BaseHandler.prototype.handleEnd = function() {
};
BaseHandler.prototype.handleText = function() {
};
BaseHandler.prototype.handleNode = function() {
};
function NoopHandler() {
}
NoopHandler.prototype = Object.create(BaseHandler.prototype);
NoopHandler.prototype.handleNode = function() {
  return this;
};
function BodyHandler() {
}
BodyHandler.prototype = Object.create(BaseHandler.prototype);
BodyHandler.prototype.handleText = function(text) {
  this.body = (this.body || "") + text;
};
function ReferenceHandler(property, context) {
  this.property = property;
  this.context = context;
}
ReferenceHandler.prototype = Object.create(BodyHandler.prototype);
ReferenceHandler.prototype.handleNode = function(node2) {
  if (this.element) {
    throw error("expected no sub nodes");
  } else {
    this.element = this.createReference(node2);
  }
  return this;
};
ReferenceHandler.prototype.handleEnd = function() {
  this.element.id = this.body;
};
ReferenceHandler.prototype.createReference = function(node2) {
  return {
    property: this.property.ns.name,
    id: ""
  };
};
function ValueHandler(propertyDesc, element) {
  this.element = element;
  this.propertyDesc = propertyDesc;
}
ValueHandler.prototype = Object.create(BodyHandler.prototype);
ValueHandler.prototype.handleEnd = function() {
  var value2 = this.body || "", element = this.element, propertyDesc = this.propertyDesc;
  value2 = coerceType(propertyDesc.type, value2);
  if (propertyDesc.isMany) {
    element.get(propertyDesc.name).push(value2);
  } else {
    element.set(propertyDesc.name, value2);
  }
};
function BaseElementHandler() {
}
BaseElementHandler.prototype = Object.create(BodyHandler.prototype);
BaseElementHandler.prototype.handleNode = function(node2) {
  var parser = this, element = this.element;
  if (!element) {
    element = this.element = this.createElement(node2);
    this.context.addElement(element);
  } else {
    parser = this.handleChild(node2);
  }
  return parser;
};
function ElementHandler(model, typeName, context) {
  this.model = model;
  this.type = model.getType(typeName);
  this.context = context;
}
ElementHandler.prototype = Object.create(BaseElementHandler.prototype);
ElementHandler.prototype.addReference = function(reference) {
  this.context.addReference(reference);
};
ElementHandler.prototype.handleText = function(text) {
  var element = this.element, descriptor = getModdleDescriptor(element), bodyProperty = descriptor.bodyProperty;
  if (!bodyProperty) {
    throw error("unexpected body text <" + text + ">");
  }
  BodyHandler.prototype.handleText.call(this, text);
};
ElementHandler.prototype.handleEnd = function() {
  var value2 = this.body, element = this.element, descriptor = getModdleDescriptor(element), bodyProperty = descriptor.bodyProperty;
  if (bodyProperty && value2 !== void 0) {
    value2 = coerceType(bodyProperty.type, value2);
    element.set(bodyProperty.name, value2);
  }
};
ElementHandler.prototype.createElement = function(node2) {
  var attributes = node2.attributes, Type = this.type, descriptor = getModdleDescriptor(Type), context = this.context, instance2 = new Type({}), model = this.model, propNameNs;
  forEach$1(attributes, function(value2, name2) {
    var prop = descriptor.propertiesByName[name2], values;
    if (prop && prop.isReference) {
      if (!prop.isMany) {
        context.addReference({
          element: instance2,
          property: prop.ns.name,
          id: value2
        });
      } else {
        values = value2.split(" ");
        forEach$1(values, function(v) {
          context.addReference({
            element: instance2,
            property: prop.ns.name,
            id: v
          });
        });
      }
    } else {
      if (prop) {
        value2 = coerceType(prop.type, value2);
      } else if (name2 !== "xmlns") {
        propNameNs = parseName(name2, descriptor.ns.prefix);
        if (model.getPackage(propNameNs.prefix)) {
          context.addWarning({
            message: "unknown attribute <" + name2 + ">",
            element: instance2,
            property: name2,
            value: value2
          });
        }
      }
      instance2.set(name2, value2);
    }
  });
  return instance2;
};
ElementHandler.prototype.getPropertyForNode = function(node2) {
  var name2 = node2.name;
  var nameNs = parseName(name2);
  var type = this.type, model = this.model, descriptor = getModdleDescriptor(type);
  var propertyName = nameNs.name, property = descriptor.propertiesByName[propertyName], elementTypeName, elementType;
  if (property && !property.isAttr) {
    if (serializeAsType(property)) {
      elementTypeName = node2.attributes[XSI_TYPE];
      if (elementTypeName) {
        elementTypeName = normalizeXsiTypeName(elementTypeName, model);
        elementType = model.getType(elementTypeName);
        return assign$1({}, property, {
          effectiveType: getModdleDescriptor(elementType).name
        });
      }
    }
    return property;
  }
  var pkg = model.getPackage(nameNs.prefix);
  if (pkg) {
    elementTypeName = aliasToName(nameNs, pkg);
    elementType = model.getType(elementTypeName);
    property = find$1(descriptor.properties, function(p) {
      return !p.isVirtual && !p.isReference && !p.isAttribute && elementType.hasType(p.type);
    });
    if (property) {
      return assign$1({}, property, {
        effectiveType: getModdleDescriptor(elementType).name
      });
    }
  } else {
    property = find$1(descriptor.properties, function(p) {
      return !p.isReference && !p.isAttribute && p.type === "Element";
    });
    if (property) {
      return property;
    }
  }
  throw error("unrecognized element <" + nameNs.name + ">");
};
ElementHandler.prototype.toString = function() {
  return "ElementDescriptor[" + getModdleDescriptor(this.type).name + "]";
};
ElementHandler.prototype.valueHandler = function(propertyDesc, element) {
  return new ValueHandler(propertyDesc, element);
};
ElementHandler.prototype.referenceHandler = function(propertyDesc) {
  return new ReferenceHandler(propertyDesc, this.context);
};
ElementHandler.prototype.handler = function(type) {
  if (type === "Element") {
    return new GenericElementHandler(this.model, type, this.context);
  } else {
    return new ElementHandler(this.model, type, this.context);
  }
};
ElementHandler.prototype.handleChild = function(node2) {
  var propertyDesc, type, element, childHandler;
  propertyDesc = this.getPropertyForNode(node2);
  element = this.element;
  type = propertyDesc.effectiveType || propertyDesc.type;
  if (isSimple(type)) {
    return this.valueHandler(propertyDesc, element);
  }
  if (propertyDesc.isReference) {
    childHandler = this.referenceHandler(propertyDesc).handleNode(node2);
  } else {
    childHandler = this.handler(type).handleNode(node2);
  }
  var newElement = childHandler.element;
  if (newElement !== void 0) {
    if (propertyDesc.isMany) {
      element.get(propertyDesc.name).push(newElement);
    } else {
      element.set(propertyDesc.name, newElement);
    }
    if (propertyDesc.isReference) {
      assign$1(newElement, {
        element
      });
      this.context.addReference(newElement);
    } else {
      newElement.$parent = element;
    }
  }
  return childHandler;
};
function RootElementHandler(model, typeName, context) {
  ElementHandler.call(this, model, typeName, context);
}
RootElementHandler.prototype = Object.create(ElementHandler.prototype);
RootElementHandler.prototype.createElement = function(node2) {
  var name2 = node2.name, nameNs = parseName(name2), model = this.model, type = this.type, pkg = model.getPackage(nameNs.prefix), typeName = pkg && aliasToName(nameNs, pkg) || name2;
  if (!type.hasType(typeName)) {
    throw error("unexpected element <" + node2.originalName + ">");
  }
  return ElementHandler.prototype.createElement.call(this, node2);
};
function GenericElementHandler(model, typeName, context) {
  this.model = model;
  this.context = context;
}
GenericElementHandler.prototype = Object.create(BaseElementHandler.prototype);
GenericElementHandler.prototype.createElement = function(node2) {
  var name2 = node2.name, ns2 = parseName(name2), prefix2 = ns2.prefix, uri2 = node2.ns[prefix2 + "$uri"], attributes = node2.attributes;
  return this.model.createAny(name2, uri2, attributes);
};
GenericElementHandler.prototype.handleChild = function(node2) {
  var handler = new GenericElementHandler(this.model, "Element", this.context).handleNode(node2), element = this.element;
  var newElement = handler.element, children;
  if (newElement !== void 0) {
    children = element.$children = element.$children || [];
    children.push(newElement);
    newElement.$parent = element;
  }
  return handler;
};
GenericElementHandler.prototype.handleEnd = function() {
  if (this.body) {
    this.element.$body = this.body;
  }
};
function Reader(options) {
  if (options instanceof Moddle) {
    options = {
      model: options
    };
  }
  assign$1(this, { lax: false }, options);
}
Reader.prototype.fromXML = function(xml2, options, done) {
  var rootHandler = options.rootHandler;
  if (options instanceof ElementHandler) {
    rootHandler = options;
    options = {};
  } else {
    if (typeof options === "string") {
      rootHandler = this.handler(options);
      options = {};
    } else if (typeof rootHandler === "string") {
      rootHandler = this.handler(rootHandler);
    }
  }
  var model = this.model, lax = this.lax;
  var context = new Context(assign$1({}, options, { rootHandler })), parser = new Parser({ proxy: true }), stack = createStack();
  rootHandler.context = context;
  stack.push(rootHandler);
  function handleError(err, getContext, lax2) {
    var ctx = getContext();
    var line = ctx.line, column = ctx.column, data = ctx.data;
    if (data.charAt(0) === "<" && data.indexOf(" ") !== -1) {
      data = data.slice(0, data.indexOf(" ")) + ">";
    }
    var message2 = "unparsable content " + (data ? data + " " : "") + "detected\n	line: " + line + "\n	column: " + column + "\n	nested error: " + err.message;
    if (lax2) {
      context.addWarning({
        message: message2,
        error: err
      });
      return true;
    } else {
      throw error(message2);
    }
  }
  function handleWarning(err, getContext) {
    return handleError(err, getContext, true);
  }
  function resolveReferences() {
    var elementsById = context.elementsById;
    var references = context.references;
    var i, r;
    for (i = 0; r = references[i]; i++) {
      var element = r.element;
      var reference = elementsById[r.id];
      var property = getModdleDescriptor(element).propertiesByName[r.property];
      if (!reference) {
        context.addWarning({
          message: "unresolved reference <" + r.id + ">",
          element: r.element,
          property: r.property,
          value: r.id
        });
      }
      if (property.isMany) {
        var collection2 = element.get(property.name), idx = collection2.indexOf(r);
        if (idx === -1) {
          idx = collection2.length;
        }
        if (!reference) {
          collection2.splice(idx, 1);
        } else {
          collection2[idx] = reference;
        }
      } else {
        element.set(property.name, reference);
      }
    }
  }
  function handleClose() {
    stack.pop().handleEnd();
  }
  var PREAMBLE_START_PATTERN = /^<\?xml /i;
  var ENCODING_PATTERN = / encoding="([^"]+)"/i;
  var UTF_8_PATTERN = /^utf-8$/i;
  function handleQuestion(question) {
    if (!PREAMBLE_START_PATTERN.test(question)) {
      return;
    }
    var match = ENCODING_PATTERN.exec(question);
    var encoding = match && match[1];
    if (!encoding || UTF_8_PATTERN.test(encoding)) {
      return;
    }
    context.addWarning({
      message: "unsupported document encoding <" + encoding + ">, falling back to UTF-8"
    });
  }
  function handleOpen(node2, getContext) {
    var handler = stack.peek();
    try {
      stack.push(handler.handleNode(node2));
    } catch (err) {
      if (handleError(err, getContext, lax)) {
        stack.push(new NoopHandler());
      }
    }
  }
  function handleCData(text, getContext) {
    try {
      stack.peek().handleText(text);
    } catch (err) {
      handleWarning(err, getContext);
    }
  }
  function handleText(text, getContext) {
    if (!text.trim()) {
      return;
    }
    handleCData(text, getContext);
  }
  var uriMap = model.getPackages().reduce(function(uriMap2, p) {
    uriMap2[p.uri] = p.prefix;
    return uriMap2;
  }, {
    "http://www.w3.org/XML/1998/namespace": "xml"
    // add default xml ns
  });
  parser.ns(uriMap).on("openTag", function(obj, decodeStr, selfClosing, getContext) {
    var attrs = obj.attrs || {};
    var decodedAttrs = Object.keys(attrs).reduce(function(d, key) {
      var value2 = decodeStr(attrs[key]);
      d[key] = value2;
      return d;
    }, {});
    var node2 = {
      name: obj.name,
      originalName: obj.originalName,
      attributes: decodedAttrs,
      ns: obj.ns
    };
    handleOpen(node2, getContext);
  }).on("question", handleQuestion).on("closeTag", handleClose).on("cdata", handleCData).on("text", function(text, decodeEntities2, getContext) {
    handleText(decodeEntities2(text), getContext);
  }).on("error", handleError).on("warn", handleWarning);
  return new Promise(function(resolve, reject) {
    var err;
    try {
      parser.parse(xml2);
      resolveReferences();
    } catch (e2) {
      err = e2;
    }
    var rootElement = rootHandler.element;
    if (!err && !rootElement) {
      err = error("failed to parse document as <" + rootHandler.type.$descriptor.name + ">");
    }
    var warnings = context.warnings;
    var references = context.references;
    var elementsById = context.elementsById;
    if (err) {
      err.warnings = warnings;
      return reject(err);
    } else {
      return resolve({
        rootElement,
        elementsById,
        references,
        warnings
      });
    }
  });
};
Reader.prototype.handler = function(name2) {
  return new RootElementHandler(this.model, name2);
};
function createStack() {
  var stack = [];
  Object.defineProperty(stack, "peek", {
    value: function() {
      return this[this.length - 1];
    }
  });
  return stack;
}
var XML_PREAMBLE = '<?xml version="1.0" encoding="UTF-8"?>\n';
var ESCAPE_ATTR_CHARS = /<|>|'|"|&|\n\r|\n/g;
var ESCAPE_CHARS = /<|>|&/g;
function Namespaces(parent) {
  var prefixMap = {};
  var uriMap = {};
  var used = {};
  var wellknown = [];
  var custom = [];
  this.byUri = function(uri2) {
    return uriMap[uri2] || parent && parent.byUri(uri2);
  };
  this.add = function(ns2, isWellknown) {
    uriMap[ns2.uri] = ns2;
    if (isWellknown) {
      wellknown.push(ns2);
    } else {
      custom.push(ns2);
    }
    this.mapPrefix(ns2.prefix, ns2.uri);
  };
  this.uriByPrefix = function(prefix2) {
    return prefixMap[prefix2 || "xmlns"];
  };
  this.mapPrefix = function(prefix2, uri2) {
    prefixMap[prefix2 || "xmlns"] = uri2;
  };
  this.getNSKey = function(ns2) {
    return ns2.prefix !== void 0 ? ns2.uri + "|" + ns2.prefix : ns2.uri;
  };
  this.logUsed = function(ns2) {
    var uri2 = ns2.uri;
    var nsKey = this.getNSKey(ns2);
    used[nsKey] = this.byUri(uri2);
    if (parent) {
      parent.logUsed(ns2);
    }
  };
  this.getUsed = function(ns2) {
    function isUsed(ns3) {
      var nsKey = self2.getNSKey(ns3);
      return used[nsKey];
    }
    var self2 = this;
    var allNs = [].concat(wellknown, custom);
    return allNs.filter(isUsed);
  };
}
function lower(string) {
  return string.charAt(0).toLowerCase() + string.slice(1);
}
function nameToAlias(name2, pkg) {
  if (hasLowerCaseAlias(pkg)) {
    return lower(name2);
  } else {
    return name2;
  }
}
function inherits(ctor, superCtor) {
  ctor.super_ = superCtor;
  ctor.prototype = Object.create(superCtor.prototype, {
    constructor: {
      value: ctor,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
}
function nsName(ns2) {
  if (isString(ns2)) {
    return ns2;
  } else {
    return (ns2.prefix ? ns2.prefix + ":" : "") + ns2.localName;
  }
}
function getNsAttrs(namespaces) {
  return namespaces.getUsed().filter(function(ns2) {
    return ns2.prefix !== "xml";
  }).map(function(ns2) {
    var name2 = "xmlns" + (ns2.prefix ? ":" + ns2.prefix : "");
    return { name: name2, value: ns2.uri };
  });
}
function getElementNs(ns2, descriptor) {
  if (descriptor.isGeneric) {
    return assign$1({ localName: descriptor.ns.localName }, ns2);
  } else {
    return assign$1({ localName: nameToAlias(descriptor.ns.localName, descriptor.$pkg) }, ns2);
  }
}
function getPropertyNs(ns2, descriptor) {
  return assign$1({ localName: descriptor.ns.localName }, ns2);
}
function getSerializableProperties(element) {
  var descriptor = element.$descriptor;
  return filter(descriptor.properties, function(p) {
    var name2 = p.name;
    if (p.isVirtual) {
      return false;
    }
    if (!has$1(element, name2)) {
      return false;
    }
    var value2 = element[name2];
    if (value2 === p.default) {
      return false;
    }
    if (value2 === null) {
      return false;
    }
    return p.isMany ? value2.length : true;
  });
}
var ESCAPE_ATTR_MAP = {
  "\n": "#10",
  "\n\r": "#10",
  '"': "#34",
  "'": "#39",
  "<": "#60",
  ">": "#62",
  "&": "#38"
};
var ESCAPE_MAP = {
  "<": "lt",
  ">": "gt",
  "&": "amp"
};
function escape(str, charPattern, replaceMap) {
  str = isString(str) ? str : "" + str;
  return str.replace(charPattern, function(s) {
    return "&" + replaceMap[s] + ";";
  });
}
function escapeAttr(str) {
  return escape(str, ESCAPE_ATTR_CHARS, ESCAPE_ATTR_MAP);
}
function escapeBody(str) {
  return escape(str, ESCAPE_CHARS, ESCAPE_MAP);
}
function filterAttributes(props) {
  return filter(props, function(p) {
    return p.isAttr;
  });
}
function filterContained(props) {
  return filter(props, function(p) {
    return !p.isAttr;
  });
}
function ReferenceSerializer(tagName) {
  this.tagName = tagName;
}
ReferenceSerializer.prototype.build = function(element) {
  this.element = element;
  return this;
};
ReferenceSerializer.prototype.serializeTo = function(writer) {
  writer.appendIndent().append("<" + this.tagName + ">" + this.element.id + "</" + this.tagName + ">").appendNewLine();
};
function BodySerializer() {
}
BodySerializer.prototype.serializeValue = BodySerializer.prototype.serializeTo = function(writer) {
  writer.append(
    this.escape ? escapeBody(this.value) : this.value
  );
};
BodySerializer.prototype.build = function(prop, value2) {
  this.value = value2;
  if (prop.type === "String" && value2.search(ESCAPE_CHARS) !== -1) {
    this.escape = true;
  }
  return this;
};
function ValueSerializer(tagName) {
  this.tagName = tagName;
}
inherits(ValueSerializer, BodySerializer);
ValueSerializer.prototype.serializeTo = function(writer) {
  writer.appendIndent().append("<" + this.tagName + ">");
  this.serializeValue(writer);
  writer.append("</" + this.tagName + ">").appendNewLine();
};
function ElementSerializer(parent, propertyDescriptor) {
  this.body = [];
  this.attrs = [];
  this.parent = parent;
  this.propertyDescriptor = propertyDescriptor;
}
ElementSerializer.prototype.build = function(element) {
  this.element = element;
  var elementDescriptor = element.$descriptor, propertyDescriptor = this.propertyDescriptor;
  var otherAttrs, properties;
  var isGeneric = elementDescriptor.isGeneric;
  if (isGeneric) {
    otherAttrs = this.parseGeneric(element);
  } else {
    otherAttrs = this.parseNsAttributes(element);
  }
  if (propertyDescriptor) {
    this.ns = this.nsPropertyTagName(propertyDescriptor);
  } else {
    this.ns = this.nsTagName(elementDescriptor);
  }
  this.tagName = this.addTagName(this.ns);
  if (!isGeneric) {
    properties = getSerializableProperties(element);
    this.parseAttributes(filterAttributes(properties));
    this.parseContainments(filterContained(properties));
  }
  this.parseGenericAttributes(element, otherAttrs);
  return this;
};
ElementSerializer.prototype.nsTagName = function(descriptor) {
  var effectiveNs = this.logNamespaceUsed(descriptor.ns);
  return getElementNs(effectiveNs, descriptor);
};
ElementSerializer.prototype.nsPropertyTagName = function(descriptor) {
  var effectiveNs = this.logNamespaceUsed(descriptor.ns);
  return getPropertyNs(effectiveNs, descriptor);
};
ElementSerializer.prototype.isLocalNs = function(ns2) {
  return ns2.uri === this.ns.uri;
};
ElementSerializer.prototype.nsAttributeName = function(element) {
  var ns2;
  if (isString(element)) {
    ns2 = parseName(element);
  } else {
    ns2 = element.ns;
  }
  if (element.inherited) {
    return { localName: ns2.localName };
  }
  var effectiveNs = this.logNamespaceUsed(ns2);
  this.getNamespaces().logUsed(effectiveNs);
  if (this.isLocalNs(effectiveNs)) {
    return { localName: ns2.localName };
  } else {
    return assign$1({ localName: ns2.localName }, effectiveNs);
  }
};
ElementSerializer.prototype.parseGeneric = function(element) {
  var self2 = this, body = this.body;
  var attributes = [];
  forEach$1(element, function(val, key) {
    var nonNsAttr;
    if (key === "$body") {
      body.push(new BodySerializer().build({ type: "String" }, val));
    } else if (key === "$children") {
      forEach$1(val, function(child) {
        body.push(new ElementSerializer(self2).build(child));
      });
    } else if (key.indexOf("$") !== 0) {
      nonNsAttr = self2.parseNsAttribute(element, key, val);
      if (nonNsAttr) {
        attributes.push({ name: key, value: val });
      }
    }
  });
  return attributes;
};
ElementSerializer.prototype.parseNsAttribute = function(element, name2, value2) {
  var model = element.$model;
  var nameNs = parseName(name2);
  var ns2;
  if (nameNs.prefix === "xmlns") {
    ns2 = { prefix: nameNs.localName, uri: value2 };
  }
  if (!nameNs.prefix && nameNs.localName === "xmlns") {
    ns2 = { uri: value2 };
  }
  if (!ns2) {
    return {
      name: name2,
      value: value2
    };
  }
  if (model && model.getPackage(value2)) {
    this.logNamespace(ns2, true, true);
  } else {
    var actualNs = this.logNamespaceUsed(ns2, true);
    this.getNamespaces().logUsed(actualNs);
  }
};
ElementSerializer.prototype.parseNsAttributes = function(element, attrs) {
  var self2 = this;
  var genericAttrs = element.$attrs;
  var attributes = [];
  forEach$1(genericAttrs, function(value2, name2) {
    var nonNsAttr = self2.parseNsAttribute(element, name2, value2);
    if (nonNsAttr) {
      attributes.push(nonNsAttr);
    }
  });
  return attributes;
};
ElementSerializer.prototype.parseGenericAttributes = function(element, attributes) {
  var self2 = this;
  forEach$1(attributes, function(attr2) {
    if (attr2.name === XSI_TYPE) {
      return;
    }
    try {
      self2.addAttribute(self2.nsAttributeName(attr2.name), attr2.value);
    } catch (e2) {
      console.warn(
        "missing namespace information for ",
        attr2.name,
        "=",
        attr2.value,
        "on",
        element,
        e2
      );
    }
  });
};
ElementSerializer.prototype.parseContainments = function(properties) {
  var self2 = this, body = this.body, element = this.element;
  forEach$1(properties, function(p) {
    var value2 = element.get(p.name), isReference = p.isReference, isMany = p.isMany;
    if (!isMany) {
      value2 = [value2];
    }
    if (p.isBody) {
      body.push(new BodySerializer().build(p, value2[0]));
    } else if (isSimple(p.type)) {
      forEach$1(value2, function(v) {
        body.push(new ValueSerializer(self2.addTagName(self2.nsPropertyTagName(p))).build(p, v));
      });
    } else if (isReference) {
      forEach$1(value2, function(v) {
        body.push(new ReferenceSerializer(self2.addTagName(self2.nsPropertyTagName(p))).build(v));
      });
    } else {
      var asType = serializeAsType(p), asProperty = serializeAsProperty(p);
      forEach$1(value2, function(v) {
        var serializer;
        if (asType) {
          serializer = new TypeSerializer(self2, p);
        } else if (asProperty) {
          serializer = new ElementSerializer(self2, p);
        } else {
          serializer = new ElementSerializer(self2);
        }
        body.push(serializer.build(v));
      });
    }
  });
};
ElementSerializer.prototype.getNamespaces = function(local) {
  var namespaces = this.namespaces, parent = this.parent, parentNamespaces;
  if (!namespaces) {
    parentNamespaces = parent && parent.getNamespaces();
    if (local || !parentNamespaces) {
      this.namespaces = namespaces = new Namespaces(parentNamespaces);
    } else {
      namespaces = parentNamespaces;
    }
  }
  return namespaces;
};
ElementSerializer.prototype.logNamespace = function(ns2, wellknown, local) {
  var namespaces = this.getNamespaces(local);
  var nsUri = ns2.uri, nsPrefix = ns2.prefix;
  var existing = namespaces.byUri(nsUri);
  if (!existing || local) {
    namespaces.add(ns2, wellknown);
  }
  namespaces.mapPrefix(nsPrefix, nsUri);
  return ns2;
};
ElementSerializer.prototype.logNamespaceUsed = function(ns2, local) {
  var element = this.element, model = element.$model, namespaces = this.getNamespaces(local);
  var prefix2 = ns2.prefix, uri2 = ns2.uri, newPrefix, idx, wellknownUri;
  if (!prefix2 && !uri2) {
    return { localName: ns2.localName };
  }
  wellknownUri = DEFAULT_NS_MAP[prefix2] || model && (model.getPackage(prefix2) || {}).uri;
  uri2 = uri2 || wellknownUri || namespaces.uriByPrefix(prefix2);
  if (!uri2) {
    throw new Error("no namespace uri given for prefix <" + prefix2 + ">");
  }
  ns2 = namespaces.byUri(uri2);
  if (!ns2) {
    newPrefix = prefix2;
    idx = 1;
    while (namespaces.uriByPrefix(newPrefix)) {
      newPrefix = prefix2 + "_" + idx++;
    }
    ns2 = this.logNamespace({ prefix: newPrefix, uri: uri2 }, wellknownUri === uri2);
  }
  if (prefix2) {
    namespaces.mapPrefix(prefix2, uri2);
  }
  return ns2;
};
ElementSerializer.prototype.parseAttributes = function(properties) {
  var self2 = this, element = this.element;
  forEach$1(properties, function(p) {
    var value2 = element.get(p.name);
    if (p.isReference) {
      if (!p.isMany) {
        value2 = value2.id;
      } else {
        var values = [];
        forEach$1(value2, function(v) {
          values.push(v.id);
        });
        value2 = values.join(" ");
      }
    }
    self2.addAttribute(self2.nsAttributeName(p), value2);
  });
};
ElementSerializer.prototype.addTagName = function(nsTagName) {
  var actualNs = this.logNamespaceUsed(nsTagName);
  this.getNamespaces().logUsed(actualNs);
  return nsName(nsTagName);
};
ElementSerializer.prototype.addAttribute = function(name2, value2) {
  var attrs = this.attrs;
  if (isString(value2)) {
    value2 = escapeAttr(value2);
  }
  var idx = findIndex(attrs, function(element) {
    return element.name.localName === name2.localName && element.name.uri === name2.uri && element.name.prefix === name2.prefix;
  });
  var attr2 = { name: name2, value: value2 };
  if (idx !== -1) {
    attrs.splice(idx, 1, attr2);
  } else {
    attrs.push(attr2);
  }
};
ElementSerializer.prototype.serializeAttributes = function(writer) {
  var attrs = this.attrs, namespaces = this.namespaces;
  if (namespaces) {
    attrs = getNsAttrs(namespaces).concat(attrs);
  }
  forEach$1(attrs, function(a) {
    writer.append(" ").append(nsName(a.name)).append('="').append(a.value).append('"');
  });
};
ElementSerializer.prototype.serializeTo = function(writer) {
  var firstBody = this.body[0], indent = firstBody && firstBody.constructor !== BodySerializer;
  writer.appendIndent().append("<" + this.tagName);
  this.serializeAttributes(writer);
  writer.append(firstBody ? ">" : " />");
  if (firstBody) {
    if (indent) {
      writer.appendNewLine().indent();
    }
    forEach$1(this.body, function(b) {
      b.serializeTo(writer);
    });
    if (indent) {
      writer.unindent().appendIndent();
    }
    writer.append("</" + this.tagName + ">");
  }
  writer.appendNewLine();
};
function TypeSerializer(parent, propertyDescriptor) {
  ElementSerializer.call(this, parent, propertyDescriptor);
}
inherits(TypeSerializer, ElementSerializer);
TypeSerializer.prototype.parseNsAttributes = function(element) {
  var attributes = ElementSerializer.prototype.parseNsAttributes.call(this, element);
  var descriptor = element.$descriptor;
  if (descriptor.name === this.propertyDescriptor.type) {
    return attributes;
  }
  var typeNs = this.typeNs = this.nsTagName(descriptor);
  this.getNamespaces().logUsed(this.typeNs);
  var pkg = element.$model.getPackage(typeNs.uri), typePrefix = pkg.xml && pkg.xml.typePrefix || "";
  this.addAttribute(
    this.nsAttributeName(XSI_TYPE),
    (typeNs.prefix ? typeNs.prefix + ":" : "") + typePrefix + descriptor.ns.localName
  );
  return attributes;
};
TypeSerializer.prototype.isLocalNs = function(ns2) {
  return ns2.uri === (this.typeNs || this.ns).uri;
};
function SavingWriter() {
  this.value = "";
  this.write = function(str) {
    this.value += str;
  };
}
function FormatingWriter(out, format2) {
  var indent = [""];
  this.append = function(str) {
    out.write(str);
    return this;
  };
  this.appendNewLine = function() {
    if (format2) {
      out.write("\n");
    }
    return this;
  };
  this.appendIndent = function() {
    if (format2) {
      out.write(indent.join("  "));
    }
    return this;
  };
  this.indent = function() {
    indent.push("");
    return this;
  };
  this.unindent = function() {
    indent.pop();
    return this;
  };
}
function Writer(options) {
  options = assign$1({ format: false, preamble: true }, options || {});
  function toXML(tree, writer) {
    var internalWriter = writer || new SavingWriter();
    var formatingWriter = new FormatingWriter(internalWriter, options.format);
    if (options.preamble) {
      formatingWriter.append(XML_PREAMBLE);
    }
    new ElementSerializer().build(tree).serializeTo(formatingWriter);
    if (!writer) {
      return internalWriter.value;
    }
  }
  return {
    toXML
  };
}
function BpmnModdle(packages2, options) {
  Moddle.call(this, packages2, options);
}
BpmnModdle.prototype = Object.create(Moddle.prototype);
BpmnModdle.prototype.fromXML = function(xmlStr, typeName, options) {
  if (!isString(typeName)) {
    options = typeName;
    typeName = "bpmn:Definitions";
  }
  var reader = new Reader(assign$1({ model: this, lax: true }, options));
  var rootHandler = reader.handler(typeName);
  return reader.fromXML(xmlStr, rootHandler);
};
BpmnModdle.prototype.toXML = function(element, options) {
  var writer = new Writer(options);
  return new Promise(function(resolve, reject) {
    try {
      var result2 = writer.toXML(element);
      return resolve({
        xml: result2
      });
    } catch (err) {
      return reject(err);
    }
  });
};
var name$5 = "BPMN20";
var uri$5 = "http://www.omg.org/spec/BPMN/20100524/MODEL";
var prefix$5 = "bpmn";
var associations$5 = [];
var types$5 = [
  {
    name: "Interface",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "operations",
        type: "Operation",
        isMany: true
      },
      {
        name: "implementationRef",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Operation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "inMessageRef",
        type: "Message",
        isReference: true
      },
      {
        name: "outMessageRef",
        type: "Message",
        isReference: true
      },
      {
        name: "errorRef",
        type: "Error",
        isMany: true,
        isReference: true
      },
      {
        name: "implementationRef",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "EndPoint",
    superClass: [
      "RootElement"
    ]
  },
  {
    name: "Auditing",
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "GlobalTask",
    superClass: [
      "CallableElement"
    ],
    properties: [
      {
        name: "resources",
        type: "ResourceRole",
        isMany: true
      }
    ]
  },
  {
    name: "Monitoring",
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "Performer",
    superClass: [
      "ResourceRole"
    ]
  },
  {
    name: "Process",
    superClass: [
      "FlowElementsContainer",
      "CallableElement"
    ],
    properties: [
      {
        name: "processType",
        type: "ProcessType",
        isAttr: true
      },
      {
        name: "isClosed",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "auditing",
        type: "Auditing"
      },
      {
        name: "monitoring",
        type: "Monitoring"
      },
      {
        name: "properties",
        type: "Property",
        isMany: true
      },
      {
        name: "laneSets",
        isMany: true,
        replaces: "FlowElementsContainer#laneSets",
        type: "LaneSet"
      },
      {
        name: "flowElements",
        isMany: true,
        replaces: "FlowElementsContainer#flowElements",
        type: "FlowElement"
      },
      {
        name: "artifacts",
        type: "Artifact",
        isMany: true
      },
      {
        name: "resources",
        type: "ResourceRole",
        isMany: true
      },
      {
        name: "correlationSubscriptions",
        type: "CorrelationSubscription",
        isMany: true
      },
      {
        name: "supports",
        type: "Process",
        isMany: true,
        isReference: true
      },
      {
        name: "definitionalCollaborationRef",
        type: "Collaboration",
        isAttr: true,
        isReference: true
      },
      {
        name: "isExecutable",
        isAttr: true,
        type: "Boolean"
      }
    ]
  },
  {
    name: "LaneSet",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "lanes",
        type: "Lane",
        isMany: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Lane",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "partitionElementRef",
        type: "BaseElement",
        isAttr: true,
        isReference: true
      },
      {
        name: "partitionElement",
        type: "BaseElement"
      },
      {
        name: "flowNodeRef",
        type: "FlowNode",
        isMany: true,
        isReference: true
      },
      {
        name: "childLaneSet",
        type: "LaneSet",
        xml: {
          serialize: "xsi:type"
        }
      }
    ]
  },
  {
    name: "GlobalManualTask",
    superClass: [
      "GlobalTask"
    ]
  },
  {
    name: "ManualTask",
    superClass: [
      "Task"
    ]
  },
  {
    name: "UserTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "renderings",
        type: "Rendering",
        isMany: true
      },
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Rendering",
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "HumanPerformer",
    superClass: [
      "Performer"
    ]
  },
  {
    name: "PotentialOwner",
    superClass: [
      "HumanPerformer"
    ]
  },
  {
    name: "GlobalUserTask",
    superClass: [
      "GlobalTask"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      },
      {
        name: "renderings",
        type: "Rendering",
        isMany: true
      }
    ]
  },
  {
    name: "Gateway",
    isAbstract: true,
    superClass: [
      "FlowNode"
    ],
    properties: [
      {
        name: "gatewayDirection",
        type: "GatewayDirection",
        "default": "Unspecified",
        isAttr: true
      }
    ]
  },
  {
    name: "EventBasedGateway",
    superClass: [
      "Gateway"
    ],
    properties: [
      {
        name: "instantiate",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "eventGatewayType",
        type: "EventBasedGatewayType",
        isAttr: true,
        "default": "Exclusive"
      }
    ]
  },
  {
    name: "ComplexGateway",
    superClass: [
      "Gateway"
    ],
    properties: [
      {
        name: "activationCondition",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "default",
        type: "SequenceFlow",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ExclusiveGateway",
    superClass: [
      "Gateway"
    ],
    properties: [
      {
        name: "default",
        type: "SequenceFlow",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "InclusiveGateway",
    superClass: [
      "Gateway"
    ],
    properties: [
      {
        name: "default",
        type: "SequenceFlow",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ParallelGateway",
    superClass: [
      "Gateway"
    ]
  },
  {
    name: "RootElement",
    isAbstract: true,
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "Relationship",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "type",
        isAttr: true,
        type: "String"
      },
      {
        name: "direction",
        type: "RelationshipDirection",
        isAttr: true
      },
      {
        name: "source",
        isMany: true,
        isReference: true,
        type: "Element"
      },
      {
        name: "target",
        isMany: true,
        isReference: true,
        type: "Element"
      }
    ]
  },
  {
    name: "BaseElement",
    isAbstract: true,
    properties: [
      {
        name: "id",
        isAttr: true,
        type: "String",
        isId: true
      },
      {
        name: "documentation",
        type: "Documentation",
        isMany: true
      },
      {
        name: "extensionDefinitions",
        type: "ExtensionDefinition",
        isMany: true,
        isReference: true
      },
      {
        name: "extensionElements",
        type: "ExtensionElements"
      }
    ]
  },
  {
    name: "Extension",
    properties: [
      {
        name: "mustUnderstand",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "definition",
        type: "ExtensionDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ExtensionDefinition",
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "extensionAttributeDefinitions",
        type: "ExtensionAttributeDefinition",
        isMany: true
      }
    ]
  },
  {
    name: "ExtensionAttributeDefinition",
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "type",
        isAttr: true,
        type: "String"
      },
      {
        name: "isReference",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "extensionDefinition",
        type: "ExtensionDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ExtensionElements",
    properties: [
      {
        name: "valueRef",
        isAttr: true,
        isReference: true,
        type: "Element"
      },
      {
        name: "values",
        type: "Element",
        isMany: true
      },
      {
        name: "extensionAttributeDefinition",
        type: "ExtensionAttributeDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Documentation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "text",
        type: "String",
        isBody: true
      },
      {
        name: "textFormat",
        "default": "text/plain",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Event",
    isAbstract: true,
    superClass: [
      "FlowNode",
      "InteractionNode"
    ],
    properties: [
      {
        name: "properties",
        type: "Property",
        isMany: true
      }
    ]
  },
  {
    name: "IntermediateCatchEvent",
    superClass: [
      "CatchEvent"
    ]
  },
  {
    name: "IntermediateThrowEvent",
    superClass: [
      "ThrowEvent"
    ]
  },
  {
    name: "EndEvent",
    superClass: [
      "ThrowEvent"
    ]
  },
  {
    name: "StartEvent",
    superClass: [
      "CatchEvent"
    ],
    properties: [
      {
        name: "isInterrupting",
        "default": true,
        isAttr: true,
        type: "Boolean"
      }
    ]
  },
  {
    name: "ThrowEvent",
    isAbstract: true,
    superClass: [
      "Event"
    ],
    properties: [
      {
        name: "dataInputs",
        type: "DataInput",
        isMany: true
      },
      {
        name: "dataInputAssociations",
        type: "DataInputAssociation",
        isMany: true
      },
      {
        name: "inputSet",
        type: "InputSet"
      },
      {
        name: "eventDefinitions",
        type: "EventDefinition",
        isMany: true
      },
      {
        name: "eventDefinitionRef",
        type: "EventDefinition",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "CatchEvent",
    isAbstract: true,
    superClass: [
      "Event"
    ],
    properties: [
      {
        name: "parallelMultiple",
        isAttr: true,
        type: "Boolean",
        "default": false
      },
      {
        name: "dataOutputs",
        type: "DataOutput",
        isMany: true
      },
      {
        name: "dataOutputAssociations",
        type: "DataOutputAssociation",
        isMany: true
      },
      {
        name: "outputSet",
        type: "OutputSet"
      },
      {
        name: "eventDefinitions",
        type: "EventDefinition",
        isMany: true
      },
      {
        name: "eventDefinitionRef",
        type: "EventDefinition",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "BoundaryEvent",
    superClass: [
      "CatchEvent"
    ],
    properties: [
      {
        name: "cancelActivity",
        "default": true,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "attachedToRef",
        type: "Activity",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "EventDefinition",
    isAbstract: true,
    superClass: [
      "RootElement"
    ]
  },
  {
    name: "CancelEventDefinition",
    superClass: [
      "EventDefinition"
    ]
  },
  {
    name: "ErrorEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "errorRef",
        type: "Error",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "TerminateEventDefinition",
    superClass: [
      "EventDefinition"
    ]
  },
  {
    name: "EscalationEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "escalationRef",
        type: "Escalation",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Escalation",
    properties: [
      {
        name: "structureRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "escalationCode",
        isAttr: true,
        type: "String"
      }
    ],
    superClass: [
      "RootElement"
    ]
  },
  {
    name: "CompensateEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "waitForCompletion",
        isAttr: true,
        type: "Boolean",
        "default": true
      },
      {
        name: "activityRef",
        type: "Activity",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "TimerEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "timeDate",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "timeCycle",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "timeDuration",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      }
    ]
  },
  {
    name: "LinkEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "target",
        type: "LinkEventDefinition",
        isReference: true
      },
      {
        name: "source",
        type: "LinkEventDefinition",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "MessageEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "messageRef",
        type: "Message",
        isAttr: true,
        isReference: true
      },
      {
        name: "operationRef",
        type: "Operation",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ConditionalEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "condition",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      }
    ]
  },
  {
    name: "SignalEventDefinition",
    superClass: [
      "EventDefinition"
    ],
    properties: [
      {
        name: "signalRef",
        type: "Signal",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Signal",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "structureRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ImplicitThrowEvent",
    superClass: [
      "ThrowEvent"
    ]
  },
  {
    name: "DataState",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ItemAwareElement",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "itemSubjectRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      },
      {
        name: "dataState",
        type: "DataState"
      }
    ]
  },
  {
    name: "DataAssociation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "sourceRef",
        type: "ItemAwareElement",
        isMany: true,
        isReference: true
      },
      {
        name: "targetRef",
        type: "ItemAwareElement",
        isReference: true
      },
      {
        name: "transformation",
        type: "FormalExpression",
        xml: {
          serialize: "property"
        }
      },
      {
        name: "assignment",
        type: "Assignment",
        isMany: true
      }
    ]
  },
  {
    name: "DataInput",
    superClass: [
      "ItemAwareElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "isCollection",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "inputSetRef",
        type: "InputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "inputSetWithOptional",
        type: "InputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "inputSetWithWhileExecuting",
        type: "InputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      }
    ]
  },
  {
    name: "DataOutput",
    superClass: [
      "ItemAwareElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "isCollection",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "outputSetRef",
        type: "OutputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "outputSetWithOptional",
        type: "OutputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "outputSetWithWhileExecuting",
        type: "OutputSet",
        isMany: true,
        isVirtual: true,
        isReference: true
      }
    ]
  },
  {
    name: "InputSet",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "dataInputRefs",
        type: "DataInput",
        isMany: true,
        isReference: true
      },
      {
        name: "optionalInputRefs",
        type: "DataInput",
        isMany: true,
        isReference: true
      },
      {
        name: "whileExecutingInputRefs",
        type: "DataInput",
        isMany: true,
        isReference: true
      },
      {
        name: "outputSetRefs",
        type: "OutputSet",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "OutputSet",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "dataOutputRefs",
        type: "DataOutput",
        isMany: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "inputSetRefs",
        type: "InputSet",
        isMany: true,
        isReference: true
      },
      {
        name: "optionalOutputRefs",
        type: "DataOutput",
        isMany: true,
        isReference: true
      },
      {
        name: "whileExecutingOutputRefs",
        type: "DataOutput",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "Property",
    superClass: [
      "ItemAwareElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "DataInputAssociation",
    superClass: [
      "DataAssociation"
    ]
  },
  {
    name: "DataOutputAssociation",
    superClass: [
      "DataAssociation"
    ]
  },
  {
    name: "InputOutputSpecification",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "dataInputs",
        type: "DataInput",
        isMany: true
      },
      {
        name: "dataOutputs",
        type: "DataOutput",
        isMany: true
      },
      {
        name: "inputSets",
        type: "InputSet",
        isMany: true
      },
      {
        name: "outputSets",
        type: "OutputSet",
        isMany: true
      }
    ]
  },
  {
    name: "DataObject",
    superClass: [
      "FlowElement",
      "ItemAwareElement"
    ],
    properties: [
      {
        name: "isCollection",
        "default": false,
        isAttr: true,
        type: "Boolean"
      }
    ]
  },
  {
    name: "InputOutputBinding",
    properties: [
      {
        name: "inputDataRef",
        type: "InputSet",
        isAttr: true,
        isReference: true
      },
      {
        name: "outputDataRef",
        type: "OutputSet",
        isAttr: true,
        isReference: true
      },
      {
        name: "operationRef",
        type: "Operation",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Assignment",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "from",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "to",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      }
    ]
  },
  {
    name: "DataStore",
    superClass: [
      "RootElement",
      "ItemAwareElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "capacity",
        isAttr: true,
        type: "Integer"
      },
      {
        name: "isUnlimited",
        "default": true,
        isAttr: true,
        type: "Boolean"
      }
    ]
  },
  {
    name: "DataStoreReference",
    superClass: [
      "ItemAwareElement",
      "FlowElement"
    ],
    properties: [
      {
        name: "dataStoreRef",
        type: "DataStore",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "DataObjectReference",
    superClass: [
      "ItemAwareElement",
      "FlowElement"
    ],
    properties: [
      {
        name: "dataObjectRef",
        type: "DataObject",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ConversationLink",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "sourceRef",
        type: "InteractionNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "targetRef",
        type: "InteractionNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ConversationAssociation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "innerConversationNodeRef",
        type: "ConversationNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "outerConversationNodeRef",
        type: "ConversationNode",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "CallConversation",
    superClass: [
      "ConversationNode"
    ],
    properties: [
      {
        name: "calledCollaborationRef",
        type: "Collaboration",
        isAttr: true,
        isReference: true
      },
      {
        name: "participantAssociations",
        type: "ParticipantAssociation",
        isMany: true
      }
    ]
  },
  {
    name: "Conversation",
    superClass: [
      "ConversationNode"
    ]
  },
  {
    name: "SubConversation",
    superClass: [
      "ConversationNode"
    ],
    properties: [
      {
        name: "conversationNodes",
        type: "ConversationNode",
        isMany: true
      }
    ]
  },
  {
    name: "ConversationNode",
    isAbstract: true,
    superClass: [
      "InteractionNode",
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "participantRef",
        type: "Participant",
        isMany: true,
        isReference: true
      },
      {
        name: "messageFlowRefs",
        type: "MessageFlow",
        isMany: true,
        isReference: true
      },
      {
        name: "correlationKeys",
        type: "CorrelationKey",
        isMany: true
      }
    ]
  },
  {
    name: "GlobalConversation",
    superClass: [
      "Collaboration"
    ]
  },
  {
    name: "PartnerEntity",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "participantRef",
        type: "Participant",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "PartnerRole",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "participantRef",
        type: "Participant",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "CorrelationProperty",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "correlationPropertyRetrievalExpression",
        type: "CorrelationPropertyRetrievalExpression",
        isMany: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "type",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Error",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "structureRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "errorCode",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "CorrelationKey",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "correlationPropertyRef",
        type: "CorrelationProperty",
        isMany: true,
        isReference: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Expression",
    superClass: [
      "BaseElement"
    ],
    isAbstract: false,
    properties: [
      {
        name: "body",
        isBody: true,
        type: "String"
      }
    ]
  },
  {
    name: "FormalExpression",
    superClass: [
      "Expression"
    ],
    properties: [
      {
        name: "language",
        isAttr: true,
        type: "String"
      },
      {
        name: "evaluatesToTypeRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Message",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "itemRef",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ItemDefinition",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "itemKind",
        type: "ItemKind",
        isAttr: true
      },
      {
        name: "structureRef",
        isAttr: true,
        type: "String"
      },
      {
        name: "isCollection",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "import",
        type: "Import",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "FlowElement",
    isAbstract: true,
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "auditing",
        type: "Auditing"
      },
      {
        name: "monitoring",
        type: "Monitoring"
      },
      {
        name: "categoryValueRef",
        type: "CategoryValue",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "SequenceFlow",
    superClass: [
      "FlowElement"
    ],
    properties: [
      {
        name: "isImmediate",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "conditionExpression",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "sourceRef",
        type: "FlowNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "targetRef",
        type: "FlowNode",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "FlowElementsContainer",
    isAbstract: true,
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "laneSets",
        type: "LaneSet",
        isMany: true
      },
      {
        name: "flowElements",
        type: "FlowElement",
        isMany: true
      }
    ]
  },
  {
    name: "CallableElement",
    isAbstract: true,
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "ioSpecification",
        type: "InputOutputSpecification",
        xml: {
          serialize: "property"
        }
      },
      {
        name: "supportedInterfaceRef",
        type: "Interface",
        isMany: true,
        isReference: true
      },
      {
        name: "ioBinding",
        type: "InputOutputBinding",
        isMany: true,
        xml: {
          serialize: "property"
        }
      }
    ]
  },
  {
    name: "FlowNode",
    isAbstract: true,
    superClass: [
      "FlowElement"
    ],
    properties: [
      {
        name: "incoming",
        type: "SequenceFlow",
        isMany: true,
        isReference: true
      },
      {
        name: "outgoing",
        type: "SequenceFlow",
        isMany: true,
        isReference: true
      },
      {
        name: "lanes",
        type: "Lane",
        isMany: true,
        isVirtual: true,
        isReference: true
      }
    ]
  },
  {
    name: "CorrelationPropertyRetrievalExpression",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "messagePath",
        type: "FormalExpression"
      },
      {
        name: "messageRef",
        type: "Message",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "CorrelationPropertyBinding",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "dataPath",
        type: "FormalExpression"
      },
      {
        name: "correlationPropertyRef",
        type: "CorrelationProperty",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Resource",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "resourceParameters",
        type: "ResourceParameter",
        isMany: true
      }
    ]
  },
  {
    name: "ResourceParameter",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "isRequired",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "type",
        type: "ItemDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "CorrelationSubscription",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "correlationKeyRef",
        type: "CorrelationKey",
        isAttr: true,
        isReference: true
      },
      {
        name: "correlationPropertyBinding",
        type: "CorrelationPropertyBinding",
        isMany: true
      }
    ]
  },
  {
    name: "MessageFlow",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "sourceRef",
        type: "InteractionNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "targetRef",
        type: "InteractionNode",
        isAttr: true,
        isReference: true
      },
      {
        name: "messageRef",
        type: "Message",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "MessageFlowAssociation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "innerMessageFlowRef",
        type: "MessageFlow",
        isAttr: true,
        isReference: true
      },
      {
        name: "outerMessageFlowRef",
        type: "MessageFlow",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "InteractionNode",
    isAbstract: true,
    properties: [
      {
        name: "incomingConversationLinks",
        type: "ConversationLink",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "outgoingConversationLinks",
        type: "ConversationLink",
        isMany: true,
        isVirtual: true,
        isReference: true
      }
    ]
  },
  {
    name: "Participant",
    superClass: [
      "InteractionNode",
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "interfaceRef",
        type: "Interface",
        isMany: true,
        isReference: true
      },
      {
        name: "participantMultiplicity",
        type: "ParticipantMultiplicity"
      },
      {
        name: "endPointRefs",
        type: "EndPoint",
        isMany: true,
        isReference: true
      },
      {
        name: "processRef",
        type: "Process",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ParticipantAssociation",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "innerParticipantRef",
        type: "Participant",
        isAttr: true,
        isReference: true
      },
      {
        name: "outerParticipantRef",
        type: "Participant",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ParticipantMultiplicity",
    properties: [
      {
        name: "minimum",
        "default": 0,
        isAttr: true,
        type: "Integer"
      },
      {
        name: "maximum",
        "default": 1,
        isAttr: true,
        type: "Integer"
      }
    ],
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "Collaboration",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "isClosed",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "participants",
        type: "Participant",
        isMany: true
      },
      {
        name: "messageFlows",
        type: "MessageFlow",
        isMany: true
      },
      {
        name: "artifacts",
        type: "Artifact",
        isMany: true
      },
      {
        name: "conversations",
        type: "ConversationNode",
        isMany: true
      },
      {
        name: "conversationAssociations",
        type: "ConversationAssociation"
      },
      {
        name: "participantAssociations",
        type: "ParticipantAssociation",
        isMany: true
      },
      {
        name: "messageFlowAssociations",
        type: "MessageFlowAssociation",
        isMany: true
      },
      {
        name: "correlationKeys",
        type: "CorrelationKey",
        isMany: true
      },
      {
        name: "choreographyRef",
        type: "Choreography",
        isMany: true,
        isReference: true
      },
      {
        name: "conversationLinks",
        type: "ConversationLink",
        isMany: true
      }
    ]
  },
  {
    name: "ChoreographyActivity",
    isAbstract: true,
    superClass: [
      "FlowNode"
    ],
    properties: [
      {
        name: "participantRef",
        type: "Participant",
        isMany: true,
        isReference: true
      },
      {
        name: "initiatingParticipantRef",
        type: "Participant",
        isAttr: true,
        isReference: true
      },
      {
        name: "correlationKeys",
        type: "CorrelationKey",
        isMany: true
      },
      {
        name: "loopType",
        type: "ChoreographyLoopType",
        "default": "None",
        isAttr: true
      }
    ]
  },
  {
    name: "CallChoreography",
    superClass: [
      "ChoreographyActivity"
    ],
    properties: [
      {
        name: "calledChoreographyRef",
        type: "Choreography",
        isAttr: true,
        isReference: true
      },
      {
        name: "participantAssociations",
        type: "ParticipantAssociation",
        isMany: true
      }
    ]
  },
  {
    name: "SubChoreography",
    superClass: [
      "ChoreographyActivity",
      "FlowElementsContainer"
    ],
    properties: [
      {
        name: "artifacts",
        type: "Artifact",
        isMany: true
      }
    ]
  },
  {
    name: "ChoreographyTask",
    superClass: [
      "ChoreographyActivity"
    ],
    properties: [
      {
        name: "messageFlowRef",
        type: "MessageFlow",
        isMany: true,
        isReference: true
      }
    ]
  },
  {
    name: "Choreography",
    superClass: [
      "Collaboration",
      "FlowElementsContainer"
    ]
  },
  {
    name: "GlobalChoreographyTask",
    superClass: [
      "Choreography"
    ],
    properties: [
      {
        name: "initiatingParticipantRef",
        type: "Participant",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "TextAnnotation",
    superClass: [
      "Artifact"
    ],
    properties: [
      {
        name: "text",
        type: "String"
      },
      {
        name: "textFormat",
        "default": "text/plain",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Group",
    superClass: [
      "Artifact"
    ],
    properties: [
      {
        name: "categoryValueRef",
        type: "CategoryValue",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Association",
    superClass: [
      "Artifact"
    ],
    properties: [
      {
        name: "associationDirection",
        type: "AssociationDirection",
        isAttr: true
      },
      {
        name: "sourceRef",
        type: "BaseElement",
        isAttr: true,
        isReference: true
      },
      {
        name: "targetRef",
        type: "BaseElement",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "Category",
    superClass: [
      "RootElement"
    ],
    properties: [
      {
        name: "categoryValue",
        type: "CategoryValue",
        isMany: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Artifact",
    isAbstract: true,
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "CategoryValue",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "categorizedFlowElements",
        type: "FlowElement",
        isMany: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "value",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Activity",
    isAbstract: true,
    superClass: [
      "FlowNode"
    ],
    properties: [
      {
        name: "isForCompensation",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "default",
        type: "SequenceFlow",
        isAttr: true,
        isReference: true
      },
      {
        name: "ioSpecification",
        type: "InputOutputSpecification",
        xml: {
          serialize: "property"
        }
      },
      {
        name: "boundaryEventRefs",
        type: "BoundaryEvent",
        isMany: true,
        isReference: true
      },
      {
        name: "properties",
        type: "Property",
        isMany: true
      },
      {
        name: "dataInputAssociations",
        type: "DataInputAssociation",
        isMany: true
      },
      {
        name: "dataOutputAssociations",
        type: "DataOutputAssociation",
        isMany: true
      },
      {
        name: "startQuantity",
        "default": 1,
        isAttr: true,
        type: "Integer"
      },
      {
        name: "resources",
        type: "ResourceRole",
        isMany: true
      },
      {
        name: "completionQuantity",
        "default": 1,
        isAttr: true,
        type: "Integer"
      },
      {
        name: "loopCharacteristics",
        type: "LoopCharacteristics"
      }
    ]
  },
  {
    name: "ServiceTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      },
      {
        name: "operationRef",
        type: "Operation",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "SubProcess",
    superClass: [
      "Activity",
      "FlowElementsContainer",
      "InteractionNode"
    ],
    properties: [
      {
        name: "triggeredByEvent",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "artifacts",
        type: "Artifact",
        isMany: true
      }
    ]
  },
  {
    name: "LoopCharacteristics",
    isAbstract: true,
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "MultiInstanceLoopCharacteristics",
    superClass: [
      "LoopCharacteristics"
    ],
    properties: [
      {
        name: "isSequential",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "behavior",
        type: "MultiInstanceBehavior",
        "default": "All",
        isAttr: true
      },
      {
        name: "loopCardinality",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "loopDataInputRef",
        type: "ItemAwareElement",
        isReference: true
      },
      {
        name: "loopDataOutputRef",
        type: "ItemAwareElement",
        isReference: true
      },
      {
        name: "inputDataItem",
        type: "DataInput",
        xml: {
          serialize: "property"
        }
      },
      {
        name: "outputDataItem",
        type: "DataOutput",
        xml: {
          serialize: "property"
        }
      },
      {
        name: "complexBehaviorDefinition",
        type: "ComplexBehaviorDefinition",
        isMany: true
      },
      {
        name: "completionCondition",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "oneBehaviorEventRef",
        type: "EventDefinition",
        isAttr: true,
        isReference: true
      },
      {
        name: "noneBehaviorEventRef",
        type: "EventDefinition",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "StandardLoopCharacteristics",
    superClass: [
      "LoopCharacteristics"
    ],
    properties: [
      {
        name: "testBefore",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "loopCondition",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "loopMaximum",
        type: "Integer",
        isAttr: true
      }
    ]
  },
  {
    name: "CallActivity",
    superClass: [
      "Activity",
      "InteractionNode"
    ],
    properties: [
      {
        name: "calledElement",
        type: "String",
        isAttr: true
      }
    ]
  },
  {
    name: "Task",
    superClass: [
      "Activity",
      "InteractionNode"
    ]
  },
  {
    name: "SendTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      },
      {
        name: "operationRef",
        type: "Operation",
        isAttr: true,
        isReference: true
      },
      {
        name: "messageRef",
        type: "Message",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ReceiveTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      },
      {
        name: "instantiate",
        "default": false,
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "operationRef",
        type: "Operation",
        isAttr: true,
        isReference: true
      },
      {
        name: "messageRef",
        type: "Message",
        isAttr: true,
        isReference: true
      }
    ]
  },
  {
    name: "ScriptTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "scriptFormat",
        isAttr: true,
        type: "String"
      },
      {
        name: "script",
        type: "String"
      }
    ]
  },
  {
    name: "BusinessRuleTask",
    superClass: [
      "Task"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "AdHocSubProcess",
    superClass: [
      "SubProcess"
    ],
    properties: [
      {
        name: "completionCondition",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "ordering",
        type: "AdHocOrdering",
        isAttr: true
      },
      {
        name: "cancelRemainingInstances",
        "default": true,
        isAttr: true,
        type: "Boolean"
      }
    ]
  },
  {
    name: "Transaction",
    superClass: [
      "SubProcess"
    ],
    properties: [
      {
        name: "protocol",
        isAttr: true,
        type: "String"
      },
      {
        name: "method",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "GlobalScriptTask",
    superClass: [
      "GlobalTask"
    ],
    properties: [
      {
        name: "scriptLanguage",
        isAttr: true,
        type: "String"
      },
      {
        name: "script",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "GlobalBusinessRuleTask",
    superClass: [
      "GlobalTask"
    ],
    properties: [
      {
        name: "implementation",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ComplexBehaviorDefinition",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "condition",
        type: "FormalExpression"
      },
      {
        name: "event",
        type: "ImplicitThrowEvent"
      }
    ]
  },
  {
    name: "ResourceRole",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "resourceRef",
        type: "Resource",
        isReference: true
      },
      {
        name: "resourceParameterBindings",
        type: "ResourceParameterBinding",
        isMany: true
      },
      {
        name: "resourceAssignmentExpression",
        type: "ResourceAssignmentExpression"
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ResourceParameterBinding",
    properties: [
      {
        name: "expression",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      },
      {
        name: "parameterRef",
        type: "ResourceParameter",
        isAttr: true,
        isReference: true
      }
    ],
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "ResourceAssignmentExpression",
    properties: [
      {
        name: "expression",
        type: "Expression",
        xml: {
          serialize: "xsi:type"
        }
      }
    ],
    superClass: [
      "BaseElement"
    ]
  },
  {
    name: "Import",
    properties: [
      {
        name: "importType",
        isAttr: true,
        type: "String"
      },
      {
        name: "location",
        isAttr: true,
        type: "String"
      },
      {
        name: "namespace",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "Definitions",
    superClass: [
      "BaseElement"
    ],
    properties: [
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "targetNamespace",
        isAttr: true,
        type: "String"
      },
      {
        name: "expressionLanguage",
        "default": "http://www.w3.org/1999/XPath",
        isAttr: true,
        type: "String"
      },
      {
        name: "typeLanguage",
        "default": "http://www.w3.org/2001/XMLSchema",
        isAttr: true,
        type: "String"
      },
      {
        name: "imports",
        type: "Import",
        isMany: true
      },
      {
        name: "extensions",
        type: "Extension",
        isMany: true
      },
      {
        name: "rootElements",
        type: "RootElement",
        isMany: true
      },
      {
        name: "diagrams",
        isMany: true,
        type: "bpmndi:BPMNDiagram"
      },
      {
        name: "exporter",
        isAttr: true,
        type: "String"
      },
      {
        name: "relationships",
        type: "Relationship",
        isMany: true
      },
      {
        name: "exporterVersion",
        isAttr: true,
        type: "String"
      }
    ]
  }
];
var enumerations$3 = [
  {
    name: "ProcessType",
    literalValues: [
      {
        name: "None"
      },
      {
        name: "Public"
      },
      {
        name: "Private"
      }
    ]
  },
  {
    name: "GatewayDirection",
    literalValues: [
      {
        name: "Unspecified"
      },
      {
        name: "Converging"
      },
      {
        name: "Diverging"
      },
      {
        name: "Mixed"
      }
    ]
  },
  {
    name: "EventBasedGatewayType",
    literalValues: [
      {
        name: "Parallel"
      },
      {
        name: "Exclusive"
      }
    ]
  },
  {
    name: "RelationshipDirection",
    literalValues: [
      {
        name: "None"
      },
      {
        name: "Forward"
      },
      {
        name: "Backward"
      },
      {
        name: "Both"
      }
    ]
  },
  {
    name: "ItemKind",
    literalValues: [
      {
        name: "Physical"
      },
      {
        name: "Information"
      }
    ]
  },
  {
    name: "ChoreographyLoopType",
    literalValues: [
      {
        name: "None"
      },
      {
        name: "Standard"
      },
      {
        name: "MultiInstanceSequential"
      },
      {
        name: "MultiInstanceParallel"
      }
    ]
  },
  {
    name: "AssociationDirection",
    literalValues: [
      {
        name: "None"
      },
      {
        name: "One"
      },
      {
        name: "Both"
      }
    ]
  },
  {
    name: "MultiInstanceBehavior",
    literalValues: [
      {
        name: "None"
      },
      {
        name: "One"
      },
      {
        name: "All"
      },
      {
        name: "Complex"
      }
    ]
  },
  {
    name: "AdHocOrdering",
    literalValues: [
      {
        name: "Parallel"
      },
      {
        name: "Sequential"
      }
    ]
  }
];
var xml$1 = {
  tagAlias: "lowerCase",
  typePrefix: "t"
};
var BpmnPackage = {
  name: name$5,
  uri: uri$5,
  prefix: prefix$5,
  associations: associations$5,
  types: types$5,
  enumerations: enumerations$3,
  xml: xml$1
};
var name$4 = "BPMNDI";
var uri$4 = "http://www.omg.org/spec/BPMN/20100524/DI";
var prefix$4 = "bpmndi";
var types$4 = [
  {
    name: "BPMNDiagram",
    properties: [
      {
        name: "plane",
        type: "BPMNPlane",
        redefines: "di:Diagram#rootElement"
      },
      {
        name: "labelStyle",
        type: "BPMNLabelStyle",
        isMany: true
      }
    ],
    superClass: [
      "di:Diagram"
    ]
  },
  {
    name: "BPMNPlane",
    properties: [
      {
        name: "bpmnElement",
        isAttr: true,
        isReference: true,
        type: "bpmn:BaseElement",
        redefines: "di:DiagramElement#modelElement"
      }
    ],
    superClass: [
      "di:Plane"
    ]
  },
  {
    name: "BPMNShape",
    properties: [
      {
        name: "bpmnElement",
        isAttr: true,
        isReference: true,
        type: "bpmn:BaseElement",
        redefines: "di:DiagramElement#modelElement"
      },
      {
        name: "isHorizontal",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "isExpanded",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "isMarkerVisible",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "label",
        type: "BPMNLabel"
      },
      {
        name: "isMessageVisible",
        isAttr: true,
        type: "Boolean"
      },
      {
        name: "participantBandKind",
        type: "ParticipantBandKind",
        isAttr: true
      },
      {
        name: "choreographyActivityShape",
        type: "BPMNShape",
        isAttr: true,
        isReference: true
      }
    ],
    superClass: [
      "di:LabeledShape"
    ]
  },
  {
    name: "BPMNEdge",
    properties: [
      {
        name: "label",
        type: "BPMNLabel"
      },
      {
        name: "bpmnElement",
        isAttr: true,
        isReference: true,
        type: "bpmn:BaseElement",
        redefines: "di:DiagramElement#modelElement"
      },
      {
        name: "sourceElement",
        isAttr: true,
        isReference: true,
        type: "di:DiagramElement",
        redefines: "di:Edge#source"
      },
      {
        name: "targetElement",
        isAttr: true,
        isReference: true,
        type: "di:DiagramElement",
        redefines: "di:Edge#target"
      },
      {
        name: "messageVisibleKind",
        type: "MessageVisibleKind",
        isAttr: true,
        "default": "initiating"
      }
    ],
    superClass: [
      "di:LabeledEdge"
    ]
  },
  {
    name: "BPMNLabel",
    properties: [
      {
        name: "labelStyle",
        type: "BPMNLabelStyle",
        isAttr: true,
        isReference: true,
        redefines: "di:DiagramElement#style"
      }
    ],
    superClass: [
      "di:Label"
    ]
  },
  {
    name: "BPMNLabelStyle",
    properties: [
      {
        name: "font",
        type: "dc:Font"
      }
    ],
    superClass: [
      "di:Style"
    ]
  }
];
var enumerations$2 = [
  {
    name: "ParticipantBandKind",
    literalValues: [
      {
        name: "top_initiating"
      },
      {
        name: "middle_initiating"
      },
      {
        name: "bottom_initiating"
      },
      {
        name: "top_non_initiating"
      },
      {
        name: "middle_non_initiating"
      },
      {
        name: "bottom_non_initiating"
      }
    ]
  },
  {
    name: "MessageVisibleKind",
    literalValues: [
      {
        name: "initiating"
      },
      {
        name: "non_initiating"
      }
    ]
  }
];
var associations$4 = [];
var BpmnDiPackage = {
  name: name$4,
  uri: uri$4,
  prefix: prefix$4,
  types: types$4,
  enumerations: enumerations$2,
  associations: associations$4
};
var name$3 = "DC";
var uri$3 = "http://www.omg.org/spec/DD/20100524/DC";
var prefix$3 = "dc";
var types$3 = [
  {
    name: "Boolean"
  },
  {
    name: "Integer"
  },
  {
    name: "Real"
  },
  {
    name: "String"
  },
  {
    name: "Font",
    properties: [
      {
        name: "name",
        type: "String",
        isAttr: true
      },
      {
        name: "size",
        type: "Real",
        isAttr: true
      },
      {
        name: "isBold",
        type: "Boolean",
        isAttr: true
      },
      {
        name: "isItalic",
        type: "Boolean",
        isAttr: true
      },
      {
        name: "isUnderline",
        type: "Boolean",
        isAttr: true
      },
      {
        name: "isStrikeThrough",
        type: "Boolean",
        isAttr: true
      }
    ]
  },
  {
    name: "Point",
    properties: [
      {
        name: "x",
        type: "Real",
        "default": "0",
        isAttr: true
      },
      {
        name: "y",
        type: "Real",
        "default": "0",
        isAttr: true
      }
    ]
  },
  {
    name: "Bounds",
    properties: [
      {
        name: "x",
        type: "Real",
        "default": "0",
        isAttr: true
      },
      {
        name: "y",
        type: "Real",
        "default": "0",
        isAttr: true
      },
      {
        name: "width",
        type: "Real",
        isAttr: true
      },
      {
        name: "height",
        type: "Real",
        isAttr: true
      }
    ]
  }
];
var associations$3 = [];
var DcPackage = {
  name: name$3,
  uri: uri$3,
  prefix: prefix$3,
  types: types$3,
  associations: associations$3
};
var name$2 = "DI";
var uri$2 = "http://www.omg.org/spec/DD/20100524/DI";
var prefix$2 = "di";
var types$2 = [
  {
    name: "DiagramElement",
    isAbstract: true,
    properties: [
      {
        name: "id",
        isAttr: true,
        isId: true,
        type: "String"
      },
      {
        name: "extension",
        type: "Extension"
      },
      {
        name: "owningDiagram",
        type: "Diagram",
        isReadOnly: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "owningElement",
        type: "DiagramElement",
        isReadOnly: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "modelElement",
        isReadOnly: true,
        isVirtual: true,
        isReference: true,
        type: "Element"
      },
      {
        name: "style",
        type: "Style",
        isReadOnly: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "ownedElement",
        type: "DiagramElement",
        isReadOnly: true,
        isMany: true,
        isVirtual: true
      }
    ]
  },
  {
    name: "Node",
    isAbstract: true,
    superClass: [
      "DiagramElement"
    ]
  },
  {
    name: "Edge",
    isAbstract: true,
    superClass: [
      "DiagramElement"
    ],
    properties: [
      {
        name: "source",
        type: "DiagramElement",
        isReadOnly: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "target",
        type: "DiagramElement",
        isReadOnly: true,
        isVirtual: true,
        isReference: true
      },
      {
        name: "waypoint",
        isUnique: false,
        isMany: true,
        type: "dc:Point",
        xml: {
          serialize: "xsi:type"
        }
      }
    ]
  },
  {
    name: "Diagram",
    isAbstract: true,
    properties: [
      {
        name: "id",
        isAttr: true,
        isId: true,
        type: "String"
      },
      {
        name: "rootElement",
        type: "DiagramElement",
        isReadOnly: true,
        isVirtual: true
      },
      {
        name: "name",
        isAttr: true,
        type: "String"
      },
      {
        name: "documentation",
        isAttr: true,
        type: "String"
      },
      {
        name: "resolution",
        isAttr: true,
        type: "Real"
      },
      {
        name: "ownedStyle",
        type: "Style",
        isReadOnly: true,
        isMany: true,
        isVirtual: true
      }
    ]
  },
  {
    name: "Shape",
    isAbstract: true,
    superClass: [
      "Node"
    ],
    properties: [
      {
        name: "bounds",
        type: "dc:Bounds"
      }
    ]
  },
  {
    name: "Plane",
    isAbstract: true,
    superClass: [
      "Node"
    ],
    properties: [
      {
        name: "planeElement",
        type: "DiagramElement",
        subsettedProperty: "DiagramElement-ownedElement",
        isMany: true
      }
    ]
  },
  {
    name: "LabeledEdge",
    isAbstract: true,
    superClass: [
      "Edge"
    ],
    properties: [
      {
        name: "ownedLabel",
        type: "Label",
        isReadOnly: true,
        subsettedProperty: "DiagramElement-ownedElement",
        isMany: true,
        isVirtual: true
      }
    ]
  },
  {
    name: "LabeledShape",
    isAbstract: true,
    superClass: [
      "Shape"
    ],
    properties: [
      {
        name: "ownedLabel",
        type: "Label",
        isReadOnly: true,
        subsettedProperty: "DiagramElement-ownedElement",
        isMany: true,
        isVirtual: true
      }
    ]
  },
  {
    name: "Label",
    isAbstract: true,
    superClass: [
      "Node"
    ],
    properties: [
      {
        name: "bounds",
        type: "dc:Bounds"
      }
    ]
  },
  {
    name: "Style",
    isAbstract: true,
    properties: [
      {
        name: "id",
        isAttr: true,
        isId: true,
        type: "String"
      }
    ]
  },
  {
    name: "Extension",
    properties: [
      {
        name: "values",
        isMany: true,
        type: "Element"
      }
    ]
  }
];
var associations$2 = [];
var xml = {
  tagAlias: "lowerCase"
};
var DiPackage = {
  name: name$2,
  uri: uri$2,
  prefix: prefix$2,
  types: types$2,
  associations: associations$2,
  xml
};
var name$1 = "bpmn.io colors for BPMN";
var uri$1 = "http://bpmn.io/schema/bpmn/biocolor/1.0";
var prefix$1 = "bioc";
var types$1 = [
  {
    name: "ColoredShape",
    "extends": [
      "bpmndi:BPMNShape"
    ],
    properties: [
      {
        name: "stroke",
        isAttr: true,
        type: "String"
      },
      {
        name: "fill",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ColoredEdge",
    "extends": [
      "bpmndi:BPMNEdge"
    ],
    properties: [
      {
        name: "stroke",
        isAttr: true,
        type: "String"
      },
      {
        name: "fill",
        isAttr: true,
        type: "String"
      }
    ]
  }
];
var enumerations$1 = [];
var associations$1 = [];
var BiocPackage = {
  name: name$1,
  uri: uri$1,
  prefix: prefix$1,
  types: types$1,
  enumerations: enumerations$1,
  associations: associations$1
};
var name = "BPMN in Color";
var uri = "http://www.omg.org/spec/BPMN/non-normative/color/1.0";
var prefix = "color";
var types = [
  {
    name: "ColoredLabel",
    "extends": [
      "bpmndi:BPMNLabel"
    ],
    properties: [
      {
        name: "color",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ColoredShape",
    "extends": [
      "bpmndi:BPMNShape"
    ],
    properties: [
      {
        name: "background-color",
        isAttr: true,
        type: "String"
      },
      {
        name: "border-color",
        isAttr: true,
        type: "String"
      }
    ]
  },
  {
    name: "ColoredEdge",
    "extends": [
      "bpmndi:BPMNEdge"
    ],
    properties: [
      {
        name: "border-color",
        isAttr: true,
        type: "String"
      }
    ]
  }
];
var enumerations = [];
var associations = [];
var BpmnInColorPackage = {
  name,
  uri,
  prefix,
  types,
  enumerations,
  associations
};
var packages = {
  bpmn: BpmnPackage,
  bpmndi: BpmnDiPackage,
  dc: DcPackage,
  di: DiPackage,
  bioc: BiocPackage,
  color: BpmnInColorPackage
};
function simple(additionalPackages, options) {
  var pks = assign$1({}, packages, additionalPackages);
  return new BpmnModdle(pks, options);
}
function wrapForCompatibility(api) {
  return function() {
    if (!window.Promise) {
      throw new Error("Promises is not supported in this environment. Please polyfill Promise.");
    }
    var argLen = arguments.length;
    if (argLen >= 1 && isFunction(arguments[argLen - 1])) {
      var callback = arguments[argLen - 1];
      console.warn(new Error(
        "Passing callbacks to " + api.name + " is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"
      ));
      var argsWithoutCallback = Array.prototype.slice.call(arguments, 0, -1);
      api.apply(this, argsWithoutCallback).then(function(result2) {
        var firstKey = Object.keys(result2)[0];
        return callback(null, result2[firstKey]);
      }, function(err) {
        return callback(err, err.warnings);
      });
    } else {
      return api.apply(this, arguments);
    }
  };
}
var DI_ERROR_MESSAGE = "Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";
function ensureCompatDiRef(businessObject) {
  if (!has$1(businessObject, "di")) {
    Object.defineProperty(businessObject, "di", {
      enumerable: false,
      get: function() {
        throw new Error(DI_ERROR_MESSAGE);
      }
    });
  }
}
function is(element, type) {
  return element.$instanceOf(type);
}
function findDisplayCandidate(definitions) {
  return find$1(definitions.rootElements, function(e2) {
    return is(e2, "bpmn:Process") || is(e2, "bpmn:Collaboration");
  });
}
function BpmnTreeWalker(handler, translate2) {
  var handledElements = {};
  var deferred = [];
  var diMap = {};
  function contextual(fn, ctx) {
    return function(e2) {
      fn(e2, ctx);
    };
  }
  function handled(element) {
    handledElements[element.id] = element;
  }
  function isHandled(element) {
    return handledElements[element.id];
  }
  function visit(element, ctx) {
    var gfx = element.gfx;
    if (gfx) {
      throw new Error(
        translate2("already rendered {element}", { element: elementToString(element) })
      );
    }
    return handler.element(element, diMap[element.id], ctx);
  }
  function visitRoot(element, diagram) {
    return handler.root(element, diMap[element.id], diagram);
  }
  function visitIfDi(element, ctx) {
    try {
      var gfx = diMap[element.id] && visit(element, ctx);
      handled(element);
      return gfx;
    } catch (e2) {
      logError(e2.message, { element, error: e2 });
      console.error(translate2("failed to import {element}", { element: elementToString(element) }));
      console.error(e2);
    }
  }
  function logError(message2, context) {
    handler.error(message2, context);
  }
  var registerDi = this.registerDi = function registerDi2(di) {
    var bpmnElement = di.bpmnElement;
    if (bpmnElement) {
      if (diMap[bpmnElement.id]) {
        logError(
          translate2("multiple DI elements defined for {element}", {
            element: elementToString(bpmnElement)
          }),
          { element: bpmnElement }
        );
      } else {
        diMap[bpmnElement.id] = di;
        ensureCompatDiRef(bpmnElement);
      }
    } else {
      logError(
        translate2("no bpmnElement referenced in {element}", {
          element: elementToString(di)
        }),
        { element: di }
      );
    }
  };
  function handleDiagram(diagram) {
    handlePlane(diagram.plane);
  }
  function handlePlane(plane) {
    registerDi(plane);
    forEach$1(plane.planeElement, handlePlaneElement);
  }
  function handlePlaneElement(planeElement) {
    registerDi(planeElement);
  }
  this.handleDefinitions = function handleDefinitions(definitions, diagram) {
    var diagrams = definitions.diagrams;
    if (diagram && diagrams.indexOf(diagram) === -1) {
      throw new Error(translate2("diagram not part of bpmn:Definitions"));
    }
    if (!diagram && diagrams && diagrams.length) {
      diagram = diagrams[0];
    }
    if (!diagram) {
      throw new Error(translate2("no diagram to display"));
    }
    diMap = {};
    handleDiagram(diagram);
    var plane = diagram.plane;
    if (!plane) {
      throw new Error(translate2(
        "no plane for {element}",
        { element: elementToString(diagram) }
      ));
    }
    var rootElement = plane.bpmnElement;
    if (!rootElement) {
      rootElement = findDisplayCandidate(definitions);
      if (!rootElement) {
        throw new Error(translate2("no process or collaboration to display"));
      } else {
        logError(
          translate2("correcting missing bpmnElement on {plane} to {rootElement}", {
            plane: elementToString(plane),
            rootElement: elementToString(rootElement)
          })
        );
        plane.bpmnElement = rootElement;
        registerDi(plane);
      }
    }
    var ctx = visitRoot(rootElement, plane);
    if (is(rootElement, "bpmn:Process") || is(rootElement, "bpmn:SubProcess")) {
      handleProcess(rootElement, ctx);
    } else if (is(rootElement, "bpmn:Collaboration")) {
      handleCollaboration(rootElement, ctx);
      handleUnhandledProcesses(definitions.rootElements, ctx);
    } else {
      throw new Error(
        translate2("unsupported bpmnElement for {plane}: {rootElement}", {
          plane: elementToString(plane),
          rootElement: elementToString(rootElement)
        })
      );
    }
    handleDeferred(deferred);
  };
  var handleDeferred = this.handleDeferred = function handleDeferred2() {
    var fn;
    while (deferred.length) {
      fn = deferred.shift();
      fn();
    }
  };
  function handleProcess(process2, context) {
    handleFlowElementsContainer(process2, context);
    handleIoSpecification(process2.ioSpecification, context);
    handleArtifacts(process2.artifacts, context);
    handled(process2);
  }
  function handleUnhandledProcesses(rootElements, ctx) {
    var processes = filter(rootElements, function(e2) {
      return !isHandled(e2) && is(e2, "bpmn:Process") && e2.laneSets;
    });
    processes.forEach(contextual(handleProcess, ctx));
  }
  function handleMessageFlow(messageFlow, context) {
    visitIfDi(messageFlow, context);
  }
  function handleMessageFlows(messageFlows, context) {
    forEach$1(messageFlows, contextual(handleMessageFlow, context));
  }
  function handleDataAssociation(association, context) {
    visitIfDi(association, context);
  }
  function handleDataInput(dataInput, context) {
    visitIfDi(dataInput, context);
  }
  function handleDataOutput(dataOutput, context) {
    visitIfDi(dataOutput, context);
  }
  function handleArtifact(artifact, context) {
    visitIfDi(artifact, context);
  }
  function handleArtifacts(artifacts, context) {
    forEach$1(artifacts, function(e2) {
      if (is(e2, "bpmn:Association")) {
        deferred.push(function() {
          handleArtifact(e2, context);
        });
      } else {
        handleArtifact(e2, context);
      }
    });
  }
  function handleIoSpecification(ioSpecification, context) {
    if (!ioSpecification) {
      return;
    }
    forEach$1(ioSpecification.dataInputs, contextual(handleDataInput, context));
    forEach$1(ioSpecification.dataOutputs, contextual(handleDataOutput, context));
  }
  var handleSubProcess = this.handleSubProcess = function handleSubProcess2(subProcess, context) {
    handleFlowElementsContainer(subProcess, context);
    handleArtifacts(subProcess.artifacts, context);
  };
  function handleFlowNode(flowNode, context) {
    var childCtx = visitIfDi(flowNode, context);
    if (is(flowNode, "bpmn:SubProcess")) {
      handleSubProcess(flowNode, childCtx || context);
    }
    if (is(flowNode, "bpmn:Activity")) {
      handleIoSpecification(flowNode.ioSpecification, context);
    }
    deferred.push(function() {
      forEach$1(flowNode.dataInputAssociations, contextual(handleDataAssociation, context));
      forEach$1(flowNode.dataOutputAssociations, contextual(handleDataAssociation, context));
    });
  }
  function handleSequenceFlow(sequenceFlow, context) {
    visitIfDi(sequenceFlow, context);
  }
  function handleDataElement(dataObject, context) {
    visitIfDi(dataObject, context);
  }
  function handleLane(lane, context) {
    deferred.push(function() {
      var newContext = visitIfDi(lane, context);
      if (lane.childLaneSet) {
        handleLaneSet(lane.childLaneSet, newContext || context);
      }
      wireFlowNodeRefs(lane);
    });
  }
  function handleLaneSet(laneSet, context) {
    forEach$1(laneSet.lanes, contextual(handleLane, context));
  }
  function handleLaneSets(laneSets, context) {
    forEach$1(laneSets, contextual(handleLaneSet, context));
  }
  function handleFlowElementsContainer(container, context) {
    handleFlowElements(container.flowElements, context);
    if (container.laneSets) {
      handleLaneSets(container.laneSets, context);
    }
  }
  function handleFlowElements(flowElements, context) {
    forEach$1(flowElements, function(e2) {
      if (is(e2, "bpmn:SequenceFlow")) {
        deferred.push(function() {
          handleSequenceFlow(e2, context);
        });
      } else if (is(e2, "bpmn:BoundaryEvent")) {
        deferred.unshift(function() {
          handleFlowNode(e2, context);
        });
      } else if (is(e2, "bpmn:FlowNode")) {
        handleFlowNode(e2, context);
      } else if (is(e2, "bpmn:DataObject"))
        ;
      else if (is(e2, "bpmn:DataStoreReference")) {
        handleDataElement(e2, context);
      } else if (is(e2, "bpmn:DataObjectReference")) {
        handleDataElement(e2, context);
      } else {
        logError(
          translate2("unrecognized flowElement {element} in context {context}", {
            element: elementToString(e2),
            context: context ? elementToString(context.businessObject) : "null"
          }),
          { element: e2, context }
        );
      }
    });
  }
  function handleParticipant(participant, context) {
    var newCtx = visitIfDi(participant, context);
    var process2 = participant.processRef;
    if (process2) {
      handleProcess(process2, newCtx || context);
    }
  }
  function handleCollaboration(collaboration, context) {
    forEach$1(collaboration.participants, contextual(handleParticipant, context));
    handleArtifacts(collaboration.artifacts, context);
    deferred.push(function() {
      handleMessageFlows(collaboration.messageFlows, context);
    });
  }
  function wireFlowNodeRefs(lane) {
    forEach$1(lane.flowNodeRef, function(flowNode) {
      var lanes = flowNode.get("lanes");
      if (lanes) {
        lanes.push(lane);
      }
    });
  }
}
function importBpmnDiagram(diagram, definitions, bpmnDiagram) {
  var importer, eventBus2, translate2, canvas;
  var error2, warnings = [];
  function render2(definitions2, bpmnDiagram2) {
    var visitor = {
      root: function(element, di) {
        return importer.add(element, di);
      },
      element: function(element, di, parentShape) {
        return importer.add(element, di, parentShape);
      },
      error: function(message2, context) {
        warnings.push({ message: message2, context });
      }
    };
    var walker = new BpmnTreeWalker(visitor, translate2);
    bpmnDiagram2 = bpmnDiagram2 || definitions2.diagrams && definitions2.diagrams[0];
    var diagramsToImport = getDiagramsToImport(definitions2, bpmnDiagram2);
    if (!diagramsToImport) {
      throw new Error(translate2("no diagram to display"));
    }
    forEach$1(diagramsToImport, function(diagram2) {
      walker.handleDefinitions(definitions2, diagram2);
    });
    var rootId = bpmnDiagram2.plane.bpmnElement.id;
    canvas.setRootElement(
      canvas.findRoot(rootId + "_plane") || canvas.findRoot(rootId)
    );
  }
  return new Promise(function(resolve, reject) {
    try {
      importer = diagram.get("bpmnImporter");
      eventBus2 = diagram.get("eventBus");
      translate2 = diagram.get("translate");
      canvas = diagram.get("canvas");
      eventBus2.fire("import.render.start", { definitions });
      render2(definitions, bpmnDiagram);
      eventBus2.fire("import.render.complete", {
        error: error2,
        warnings
      });
      return resolve({ warnings });
    } catch (e2) {
      e2.warnings = warnings;
      return reject(e2);
    }
  });
}
function getDiagramsToImport(definitions, bpmnDiagram) {
  if (!bpmnDiagram) {
    return;
  }
  var bpmnElement = bpmnDiagram.plane.bpmnElement, rootElement = bpmnElement;
  if (!is$1(bpmnElement, "bpmn:Process") && !is$1(bpmnElement, "bpmn:Collaboration")) {
    rootElement = findRootProcess(bpmnElement);
  }
  var collaboration;
  if (is$1(rootElement, "bpmn:Collaboration")) {
    collaboration = rootElement;
  } else {
    collaboration = find$1(definitions.rootElements, function(element) {
      if (!is$1(element, "bpmn:Collaboration")) {
        return;
      }
      return find$1(element.participants, function(participant) {
        return participant.processRef === rootElement;
      });
    });
  }
  var rootElements = [rootElement];
  if (collaboration) {
    rootElements = map$1(collaboration.participants, function(participant) {
      return participant.processRef;
    });
    rootElements.push(collaboration);
  }
  var allChildren = selfAndAllFlowElements(rootElements);
  var diagramsToImport = [bpmnDiagram];
  var handledElements = [bpmnElement];
  forEach$1(definitions.diagrams, function(diagram) {
    var businessObject = diagram.plane.bpmnElement;
    if (allChildren.indexOf(businessObject) !== -1 && handledElements.indexOf(businessObject) === -1) {
      diagramsToImport.push(diagram);
      handledElements.push(businessObject);
    }
  });
  return diagramsToImport;
}
function selfAndAllFlowElements(elements) {
  var result2 = [];
  forEach$1(elements, function(element) {
    if (!element) {
      return;
    }
    result2.push(element);
    result2 = result2.concat(selfAndAllFlowElements(element.flowElements));
  });
  return result2;
}
function findRootProcess(element) {
  var parent = element;
  while (parent) {
    if (is$1(parent, "bpmn:Process")) {
      return parent;
    }
    parent = parent.$parent;
  }
}
var BPMNIO_LOGO_SVG = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';
var BPMNIO_IMG = BPMNIO_LOGO_SVG;
var LOGO_STYLES = {
  verticalAlign: "middle"
};
var LINK_STYLES = {
  "color": "#404040"
};
var LIGHTBOX_STYLES = {
  "zIndex": "1001",
  "position": "fixed",
  "top": "0",
  "left": "0",
  "right": "0",
  "bottom": "0"
};
var BACKDROP_STYLES = {
  "width": "100%",
  "height": "100%",
  "background": "rgba(40,40,40,0.2)"
};
var NOTICE_STYLES = {
  "position": "absolute",
  "left": "50%",
  "top": "40%",
  "transform": "translate(-50%)",
  "width": "260px",
  "padding": "10px",
  "background": "white",
  "boxShadow": "0 1px 4px rgba(0,0,0,0.3)",
  "fontFamily": "Helvetica, Arial, sans-serif",
  "fontSize": "14px",
  "display": "flex",
  "lineHeight": "1.3"
};
var LIGHTBOX_MARKUP = '<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">' + BPMNIO_IMG + '</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';
var lightbox;
function createLightbox() {
  lightbox = domify$1(LIGHTBOX_MARKUP);
  assign(lightbox, LIGHTBOX_STYLES);
  assign(query("svg", lightbox), LOGO_STYLES);
  assign(query(".backdrop", lightbox), BACKDROP_STYLES);
  assign(query(".notice", lightbox), NOTICE_STYLES);
  assign(query(".link", lightbox), LINK_STYLES, {
    "margin": "15px 20px 15px 10px",
    "alignSelf": "center"
  });
}
function open$1() {
  if (!lightbox) {
    createLightbox();
    delegate.bind(lightbox, ".backdrop", "click", function(event2) {
      document.body.removeChild(lightbox);
    });
  }
  document.body.appendChild(lightbox);
}
function BaseViewer(options) {
  options = assign$1({}, DEFAULT_OPTIONS, options);
  this._moddle = this._createModdle(options);
  this._container = this._createContainer(options);
  addProjectLogo(this._container);
  this._init(this._container, this._moddle, options);
}
e(BaseViewer, Diagram);
BaseViewer.prototype.importXML = async function importXML(xml2, bpmnDiagram) {
  const self2 = this;
  function ParseCompleteEvent(data) {
    const event2 = self2.get("eventBus").createEvent(data);
    Object.defineProperty(event2, "context", {
      enumerable: true,
      get: function() {
        console.warn(new Error(
          "import.parse.complete <context> is deprecated and will be removed in future library versions"
        ));
        return {
          warnings: data.warnings,
          references: data.references,
          elementsById: data.elementsById
        };
      }
    });
    return event2;
  }
  let aggregatedWarnings = [];
  try {
    xml2 = this._emit("import.parse.start", { xml: xml2 }) || xml2;
    let parseResult;
    try {
      parseResult = await this._moddle.fromXML(xml2, "bpmn:Definitions");
    } catch (error2) {
      this._emit("import.parse.complete", {
        error: error2
      });
      throw error2;
    }
    let definitions = parseResult.rootElement;
    const references = parseResult.references;
    const parseWarnings = parseResult.warnings;
    const elementsById = parseResult.elementsById;
    aggregatedWarnings = aggregatedWarnings.concat(parseWarnings);
    definitions = this._emit("import.parse.complete", ParseCompleteEvent({
      error: null,
      definitions,
      elementsById,
      references,
      warnings: aggregatedWarnings
    })) || definitions;
    const importResult = await this.importDefinitions(definitions, bpmnDiagram);
    aggregatedWarnings = aggregatedWarnings.concat(importResult.warnings);
    this._emit("import.done", { error: null, warnings: aggregatedWarnings });
    return { warnings: aggregatedWarnings };
  } catch (err) {
    let error2 = err;
    aggregatedWarnings = aggregatedWarnings.concat(error2.warnings || []);
    addWarningsToError(error2, aggregatedWarnings);
    error2 = checkValidationError(error2);
    this._emit("import.done", { error: error2, warnings: error2.warnings });
    throw error2;
  }
};
BaseViewer.prototype.importXML = wrapForCompatibility(BaseViewer.prototype.importXML);
BaseViewer.prototype.importDefinitions = async function importDefinitions(definitions, bpmnDiagram) {
  this._setDefinitions(definitions);
  const result2 = await this.open(bpmnDiagram);
  return { warnings: result2.warnings };
};
BaseViewer.prototype.importDefinitions = wrapForCompatibility(BaseViewer.prototype.importDefinitions);
BaseViewer.prototype.open = async function open2(bpmnDiagramOrId) {
  const definitions = this._definitions;
  let bpmnDiagram = bpmnDiagramOrId;
  if (!definitions) {
    const error2 = new Error("no XML imported");
    addWarningsToError(error2, []);
    throw error2;
  }
  if (typeof bpmnDiagramOrId === "string") {
    bpmnDiagram = findBPMNDiagram(definitions, bpmnDiagramOrId);
    if (!bpmnDiagram) {
      const error2 = new Error("BPMNDiagram <" + bpmnDiagramOrId + "> not found");
      addWarningsToError(error2, []);
      throw error2;
    }
  }
  try {
    this.clear();
  } catch (error2) {
    addWarningsToError(error2, []);
    throw error2;
  }
  const { warnings } = await importBpmnDiagram(this, definitions, bpmnDiagram);
  return { warnings };
};
BaseViewer.prototype.open = wrapForCompatibility(BaseViewer.prototype.open);
BaseViewer.prototype.saveXML = async function saveXML(options) {
  options = options || {};
  let definitions = this._definitions, error2, xml2;
  try {
    if (!definitions) {
      throw new Error("no definitions loaded");
    }
    definitions = this._emit("saveXML.start", {
      definitions
    }) || definitions;
    const result3 = await this._moddle.toXML(definitions, options);
    xml2 = result3.xml;
    xml2 = this._emit("saveXML.serialized", {
      xml: xml2
    }) || xml2;
  } catch (err) {
    error2 = err;
  }
  const result2 = error2 ? { error: error2 } : { xml: xml2 };
  this._emit("saveXML.done", result2);
  if (error2) {
    throw error2;
  }
  return result2;
};
BaseViewer.prototype.saveXML = wrapForCompatibility(BaseViewer.prototype.saveXML);
BaseViewer.prototype.saveSVG = async function saveSVG() {
  this._emit("saveSVG.start");
  let svg, err;
  try {
    const canvas = this.get("canvas");
    const contentNode = canvas.getActiveLayer(), defsNode = query("defs", canvas._svg);
    const contents = innerSVG(contentNode), defs = defsNode ? "<defs>" + innerSVG(defsNode) + "</defs>" : "";
    const bbox = contentNode.getBBox();
    svg = '<?xml version="1.0" encoding="utf-8"?>\n<!-- created with bpmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="' + bbox.width + '" height="' + bbox.height + '" viewBox="' + bbox.x + " " + bbox.y + " " + bbox.width + " " + bbox.height + '" version="1.1">' + defs + contents + "</svg>";
  } catch (e2) {
    err = e2;
  }
  this._emit("saveSVG.done", {
    error: err,
    svg
  });
  if (err) {
    throw err;
  }
  return { svg };
};
BaseViewer.prototype.saveSVG = wrapForCompatibility(BaseViewer.prototype.saveSVG);
BaseViewer.prototype._setDefinitions = function(definitions) {
  this._definitions = definitions;
};
BaseViewer.prototype.getModules = function() {
  return this._modules;
};
BaseViewer.prototype.clear = function() {
  if (!this.getDefinitions()) {
    return;
  }
  Diagram.prototype.clear.call(this);
};
BaseViewer.prototype.destroy = function() {
  Diagram.prototype.destroy.call(this);
  remove$1(this._container);
};
BaseViewer.prototype.on = function(events, priority, callback, that) {
  return this.get("eventBus").on(events, priority, callback, that);
};
BaseViewer.prototype.off = function(events, callback) {
  this.get("eventBus").off(events, callback);
};
BaseViewer.prototype.attachTo = function(parentNode) {
  if (!parentNode) {
    throw new Error("parentNode required");
  }
  this.detach();
  if (parentNode.get && parentNode.constructor.prototype.jquery) {
    parentNode = parentNode.get(0);
  }
  if (typeof parentNode === "string") {
    parentNode = query(parentNode);
  }
  parentNode.appendChild(this._container);
  this._emit("attach", {});
  this.get("canvas").resized();
};
BaseViewer.prototype.getDefinitions = function() {
  return this._definitions;
};
BaseViewer.prototype.detach = function() {
  const container = this._container, parentNode = container.parentNode;
  if (!parentNode) {
    return;
  }
  this._emit("detach", {});
  parentNode.removeChild(container);
};
BaseViewer.prototype._init = function(container, moddle, options) {
  const baseModules = options.modules || this.getModules(options), additionalModules = options.additionalModules || [], staticModules = [
    {
      bpmnjs: ["value", this],
      moddle: ["value", moddle]
    }
  ];
  const diagramModules = [].concat(staticModules, baseModules, additionalModules);
  const diagramOptions = assign$1(omit(options, ["additionalModules"]), {
    canvas: assign$1({}, options.canvas, { container }),
    modules: diagramModules
  });
  Diagram.call(this, diagramOptions);
  if (options && options.container) {
    this.attachTo(options.container);
  }
};
BaseViewer.prototype._emit = function(type, event2) {
  return this.get("eventBus").fire(type, event2);
};
BaseViewer.prototype._createContainer = function(options) {
  const container = domify$1('<div class="bjs-container"></div>');
  assign(container, {
    width: ensureUnit(options.width),
    height: ensureUnit(options.height),
    position: options.position
  });
  return container;
};
BaseViewer.prototype._createModdle = function(options) {
  const moddleOptions = assign$1({}, this._moddleExtensions, options.moddleExtensions);
  return new simple(moddleOptions);
};
BaseViewer.prototype._modules = [];
function addWarningsToError(err, warningsAry) {
  err.warnings = warningsAry;
  return err;
}
function checkValidationError(err) {
  const pattern2 = /unparsable content <([^>]+)> detected([\s\S]*)$/;
  const match = pattern2.exec(err.message);
  if (match) {
    err.message = "unparsable content <" + match[1] + "> detected; this may indicate an invalid BPMN 2.0 diagram file" + match[2];
  }
  return err;
}
const DEFAULT_OPTIONS = {
  width: "100%",
  height: "100%",
  position: "relative"
};
function ensureUnit(val) {
  return val + (isNumber(val) ? "px" : "");
}
function findBPMNDiagram(definitions, diagramId) {
  if (!diagramId) {
    return null;
  }
  return find$1(definitions.diagrams, function(element) {
    return element.id === diagramId;
  }) || null;
}
function addProjectLogo(container) {
  const img = BPMNIO_IMG;
  const linkMarkup = '<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >' + img + "</a>";
  const linkElement = domify$1(linkMarkup);
  assign(query("svg", linkElement), LOGO_STYLES);
  assign(linkElement, LINK_STYLES, {
    position: "absolute",
    bottom: "15px",
    right: "15px",
    zIndex: "100"
  });
  container.appendChild(linkElement);
  event.bind(linkElement, "click", function(event2) {
    open$1();
    event2.preventDefault();
  });
}
function Viewer(options) {
  BaseViewer.call(this, options);
}
e(Viewer, BaseViewer);
Viewer.prototype._modules = [
  CoreModule$1,
  TranslateModule,
  SelectionModule,
  OverlaysModule,
  DrilldownModdule
];
Viewer.prototype._moddleExtensions = {};
const _sfc_main$4y = {
  name: "bpmn-editor-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: [],
      bpmnModeler: null
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  watch: {
    fieldModel(val) {
      if (val) {
        this.preview(val);
      } else {
        if (this.bpmnModeler && this.bpmnModeler.destroy) {
          this.bpmnModeler.destroy();
        }
      }
    }
  },
  methods: {
    preview(xml2) {
      if (this.bpmnModeler && this.bpmnModeler.destroy) {
        this.bpmnModeler.destroy();
      }
      this.bpmnModeler = new Viewer({ container: this.$refs.fieldEditor });
      const viewer = this.bpmnModeler;
      this.bpmnModeler.importXML(xml2, (err) => {
        if (err) {
          console.error(err);
        } else {
          const canvas = viewer.get("canvas");
          canvas.zoom("fit-viewport");
        }
      });
    }
  }
};
const _hoisted_1$17 = {
  ref: "fieldEditor",
  class: "t-w-full t-h-[30vh]"
};
function _sfc_render$4x(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", _hoisted_1$17, null, 512)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const bpmnEditorWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4y, [["render", _sfc_render$4x], ["__scopeId", "data-v-0534b070"]]);
const __vite_glob_0_0$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: bpmnEditorWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4x = {
  name: "static-content-wrapper",
  mixins: [i18n$1],
  components: {
    SvgIcon
  },
  props: {
    field: Object,
    designer: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designState: {
      type: Boolean,
      default: false
    },
    displayStyle: {
      type: String,
      default: "block"
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  computed: {
    selected() {
      return !!this.designer && this.field.id === this.designer.selectedId;
    },
    customClass() {
      return !!this.field.options.customClass ? this.field.options.customClass.join(" ") : "";
    }
  },
  methods: {
    selectField(field) {
      if (!!this.designer) {
        this.designer.setSelected(field);
        this.designer.emitEvent("field-selected", this.parentWidget);
      }
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    removeFieldWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    }
  }
};
const _hoisted_1$16 = {
  key: 0,
  class: "field-action"
};
const _hoisted_2$B = ["title"];
const _hoisted_3$r = ["title"];
const _hoisted_4$f = ["title"];
const _hoisted_5$9 = ["title"];
const _hoisted_6$8 = {
  key: 1,
  class: "drag-handler background-opacity"
};
const _hoisted_7$6 = ["title"];
const _hoisted_8$6 = { key: 0 };
function _sfc_render$4w(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["field-wrapper", { "design-time-bottom-margin": !!this.designer }]),
    style: normalizeStyle({ display: $props.displayStyle })
  }, [
    !$props.field.options.hidden || $props.designState === true ? (openBlock(), createElementBlock("div", {
      key: 0,
      class: normalizeClass(["static-content-item", [$options.selected ? "selected" : "", $options.customClass]]),
      style: normalizeStyle({ display: $props.displayStyle }),
      onClick: _cache[0] || (_cache[0] = withModifiers(($event) => $options.selectField($props.field), ["stop"]))
    }, [
      renderSlot(_ctx.$slots, "default", {}, void 0, true)
    ], 6)) : createCommentVNode("", true),
    !!this.designer ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
      $props.designer.selectedId === $props.field.id ? (openBlock(), createElementBlock("div", _hoisted_1$16, [
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.selectParentWidget"),
          onClick: _cache[1] || (_cache[1] = withModifiers(($event) => $options.selectParentWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-back" })
        ], 8, _hoisted_2$B),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 0,
          title: _ctx.i18nt("designer.hint.moveUpWidget"),
          onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.moveUpWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-up" })
        ], 8, _hoisted_3$r)) : createCommentVNode("", true),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 1,
          title: _ctx.i18nt("designer.hint.moveDownWidget"),
          onClick: _cache[3] || (_cache[3] = withModifiers(($event) => $options.moveDownWidget($props.field), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-down" })
        ], 8, _hoisted_4$f)) : createCommentVNode("", true),
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.remove"),
          onClick: _cache[4] || (_cache[4] = withModifiers((...args) => $options.removeFieldWidget && $options.removeFieldWidget(...args), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-delete" })
        ], 8, _hoisted_5$9)
      ])) : createCommentVNode("", true),
      $props.designer.selectedId === $props.field.id ? (openBlock(), createElementBlock("div", _hoisted_6$8, [
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.dragHandler")
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-drag-move" })
        ], 8, _hoisted_7$6),
        createElementVNode("i", null, toDisplayString(_ctx.i18n2t(`designer.widgetLabel.${$props.field.type}`, `extension.widgetLabel.${$props.field.type}`)), 1),
        $props.field.options.hidden === true ? (openBlock(), createElementBlock("i", _hoisted_8$6, [
          createVNode(_component_svg_icon, { "icon-class": "el-hide" })
        ])) : createCommentVNode("", true)
      ])) : createCommentVNode("", true)
    ], 64)) : createCommentVNode("", true)
  ], 6);
}
const StaticContentWrapper = /* @__PURE__ */ _export_sfc$1(_sfc_main$4x, [["render", _sfc_render$4w], ["__scopeId", "data-v-44f8840e"]]);
const __vite_glob_0_22$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: StaticContentWrapper
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4w = {
  name: "button-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper,
    SvgIcon
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$4v(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_button = resolveComponent("a-button");
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_static_content_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "display-style": $props.field.options.displayStyle,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        ref: "fieldEditor",
        type: $props.field.options.type,
        size: $props.field.options.size,
        class: normalizeClass([$props.field.options.label === "" ? "hide-text-span" : "", "tpf-button"]),
        shape: $props.field.options.shape,
        danger: $props.field.options.danger,
        ghost: $props.field.options.ghost,
        disabled: _ctx.handleDisabled(),
        loading: _ctx.loading,
        onClick: _ctx.handleButtonWidgetClick
      }, {
        default: withCtx(() => [
          $props.field.options.icon ? (openBlock(), createBlock(_component_svg_icon, {
            key: 0,
            "icon-class": $props.field.options.icon
          }, null, 8, ["icon-class"])) : createCommentVNode("", true),
          createTextVNode(" " + toDisplayString($props.field.options.label), 1)
        ]),
        _: 1
      }, 8, ["type", "size", "class", "shape", "danger", "ghost", "disabled", "loading", "onClick"])
    ]),
    _: 1
  }, 8, ["designer", "field", "design-state", "display-style", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const buttonWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4w, [["render", _sfc_render$4v], ["__scopeId", "data-v-74f07e57"]]);
const __vite_glob_0_1$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: buttonWidget
}, Symbol.toStringTag, { value: "Module" }));
const formateCascaderCode = (arr = [], codeList, fieldNames = { label: "label", value: "value", children: "children" }, emblem = "/") => {
  if (!codeList || codeList.length === 0)
    return;
  if (isArray$4(codeList[0])) {
    const res2 = codeList.map((item) => getTreeName(arr, item, fieldNames).join(emblem));
    return res2.join(",");
  } else {
    const res = getTreeName(arr, codeList, fieldNames);
    return res.join(emblem);
  }
};
const getTreeName = (list = [], val = [], fieldNames = { label: "label", value: "value", children: "children" }) => {
  const nameList = [];
  list.forEach((item) => {
    if (val.length === 0)
      return;
    if (item[fieldNames.value] === val[0]) {
      nameList.push(item[fieldNames.label]);
      if (isArray$4(item[fieldNames.children])) {
        const res = getTreeName(item[fieldNames.children], val.slice(1), fieldNames);
        nameList.push(...res);
      }
    }
  });
  return nameList;
};
const formateTreeToName = (arr = [], codeList, fieldNames = { label: "label", value: "value", children: "children" }, emblem = ",") => {
  if (!codeList || codeList.length === 0)
    return;
  const str = arr.reduce((t, v) => {
    const res = getListName(v, codeList, fieldNames);
    t = [...t, res];
    return t;
  }, []);
  return str.map((item) => item[fieldNames.label]).join(emblem);
};
const getListName = (val, list, fieldNames) => {
  let res;
  list.forEach((it1) => {
    if (it1[fieldNames.value] === val) {
      res = it1;
      return;
    }
    const childrenList = it1[fieldNames.children] || [];
    if (childrenList.length) {
      res = getListName(val, childrenList, fieldNames);
    }
  });
  return res;
};
const _sfc_main$4v = {
  name: "cascader-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    labelKey() {
      return this.field.options.labelKey || "label";
    },
    valueKey() {
      return this.field.options.valueKey || "value";
    },
    childrenKey() {
      return this.field.options.childrenKey || "children";
    },
    // showFullPath() {
    //   return this.field.options.showAllLevels === undefined || !!this.field.options.showAllLevels;
    // },
    contentForReadMode() {
      if (!this.fieldModel)
        return "";
      return formateCascaderCode(this.field.options.optionItems, this.fieldModel, {
        label: this.labelKey,
        value: this.valueKey,
        children: this.childrenKey
      });
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initOptionItems();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    /* 开启任意级节点可选后，点击radio隐藏下拉框 */
    hideDropDownOnClick() {
    }
  }
};
const _hoisted_1$15 = { class: "readonly-mode-field" };
function _sfc_render$4u(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_cascader = resolveComponent("a-cascader");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass(["full-width-input", { "readonly-mode-cascader": _ctx.isReadMode }])
      }, [
        createVNode(_component_a_cascader, {
          ref: "fieldEditor",
          size: $options.size,
          options: $props.field.options.optionItems,
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          disabled: _ctx.handleDisabled(),
          allowClear: $props.field.options.allowClear,
          placeholder: $props.field.options.placeholder || _ctx.i18nt("render.hint.selectPlaceholder"),
          fieldNames: { value: $options.valueKey, label: $options.labelKey, children: $options.childrenKey },
          expandTrigger: "hover",
          multiple: $props.field.options.multiple,
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["size", "options", "value", "disabled", "allowClear", "placeholder", "fieldNames", "multiple", "onFocus", "onBlur", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
          key: 0,
          placement: "topLeft",
          title: $options.contentForReadMode,
          overlayStyle: { zIndex: 1e3 }
        }, {
          default: withCtx(() => [
            createElementVNode("span", _hoisted_1$15, toDisplayString($options.contentForReadMode), 1)
          ]),
          _: 1
        }, 8, ["title"])) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const cascaderWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4v, [["render", _sfc_render$4u], ["__scopeId", "data-v-85d611ae"]]);
const __vite_glob_0_2$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cascaderWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4u = {
  name: "checkbox-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initOptionItems();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$14 = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$4t(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_checkbox = resolveComponent("a-checkbox");
  const _component_a_checkbox_group = resolveComponent("a-checkbox-group");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_checkbox_group, {
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        disabled: _ctx.handleDisabled(),
        onChange: _ctx.handleChangeEvent
      }, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList($props.field.options.optionItems, (item, index2) => {
            return openBlock(), createBlock(_component_a_checkbox, {
              key: index2,
              value: item[$props.field.options.valueKey],
              disabled: item.disabled,
              border: $props.field.options.border,
              style: {}
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(item[$props.field.options.labelKey]), 1)
              ]),
              _: 2
            }, 1032, ["value", "disabled", "border"]);
          }), 128))
        ]),
        _: 1
      }, 8, ["value", "disabled", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$14, toDisplayString(_ctx.optionLabel), 1)) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const checkboxWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4u, [["render", _sfc_render$4t], ["__scopeId", "data-v-313a939f"]]);
const __vite_glob_0_3$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: checkboxWidget
}, Symbol.toStringTag, { value: "Module" }));
var ace$2 = { exports: {} };
(function(module, exports) {
  (function() {
    var ACE_NAMESPACE = "ace";
    var global2 = /* @__PURE__ */ function() {
      return this;
    }();
    if (!global2 && typeof window != "undefined")
      global2 = window;
    var define = function(module2, deps, payload) {
      if (typeof module2 !== "string") {
        if (define.original)
          define.original.apply(this, arguments);
        else {
          console.error("dropping module because define wasn't a string.");
          console.trace();
        }
        return;
      }
      if (arguments.length == 2)
        payload = deps;
      if (!define.modules[module2]) {
        define.payloads[module2] = payload;
        define.modules[module2] = null;
      }
    };
    define.modules = {};
    define.payloads = {};
    var _require = function(parentId, module2, callback) {
      if (typeof module2 === "string") {
        var payload = lookup(parentId, module2);
        if (payload != void 0) {
          callback && callback();
          return payload;
        }
      } else if (Object.prototype.toString.call(module2) === "[object Array]") {
        var params = [];
        for (var i = 0, l = module2.length; i < l; ++i) {
          var dep = lookup(parentId, module2[i]);
          if (dep == void 0 && require2.original)
            return;
          params.push(dep);
        }
        return callback && callback.apply(null, params) || true;
      }
    };
    var require2 = function(module2, callback) {
      var packagedModule = _require("", module2, callback);
      if (packagedModule == void 0 && require2.original)
        return require2.original.apply(this, arguments);
      return packagedModule;
    };
    var normalizeModule = function(parentId, moduleName) {
      if (moduleName.indexOf("!") !== -1) {
        var chunks = moduleName.split("!");
        return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
      }
      if (moduleName.charAt(0) == ".") {
        var base = parentId.split("/").slice(0, -1).join("/");
        moduleName = base + "/" + moduleName;
        while (moduleName.indexOf(".") !== -1 && previous != moduleName) {
          var previous = moduleName;
          moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
        }
      }
      return moduleName;
    };
    var lookup = function(parentId, moduleName) {
      moduleName = normalizeModule(parentId, moduleName);
      var module2 = define.modules[moduleName];
      if (!module2) {
        module2 = define.payloads[moduleName];
        if (typeof module2 === "function") {
          var exports2 = {};
          var mod = {
            id: moduleName,
            uri: "",
            exports: exports2,
            packaged: true
          };
          var req = function(module3, callback) {
            return _require(moduleName, module3, callback);
          };
          var returnValue = module2(req, exports2, mod);
          exports2 = returnValue || mod.exports;
          define.modules[moduleName] = exports2;
          delete define.payloads[moduleName];
        }
        module2 = define.modules[moduleName] = exports2 || module2;
      }
      return module2;
    };
    function exportAce(ns2) {
      var root = global2;
      if (ns2) {
        if (!global2[ns2])
          global2[ns2] = {};
        root = global2[ns2];
      }
      if (!root.define || !root.define.packaged) {
        define.original = root.define;
        root.define = define;
        root.define.packaged = true;
      }
      if (!root.require || !root.require.packaged) {
        require2.original = root.require;
        root.require = require2;
        root.require.packaged = true;
      }
    }
    exportAce(ACE_NAMESPACE);
  })();
  ace.define("ace/lib/es6-shim", ["require", "exports", "module"], function(require2, exports2, module2) {
    function defineProp(obj, name2, val) {
      Object.defineProperty(obj, name2, {
        value: val,
        enumerable: false,
        writable: true,
        configurable: true
      });
    }
    if (!String.prototype.startsWith) {
      defineProp(String.prototype, "startsWith", function(searchString, position) {
        position = position || 0;
        return this.lastIndexOf(searchString, position) === position;
      });
    }
    if (!String.prototype.endsWith) {
      defineProp(String.prototype, "endsWith", function(searchString, position) {
        var subjectString = this;
        if (position === void 0 || position > subjectString.length) {
          position = subjectString.length;
        }
        position -= searchString.length;
        var lastIndex = subjectString.indexOf(searchString, position);
        return lastIndex !== -1 && lastIndex === position;
      });
    }
    if (!String.prototype.repeat) {
      defineProp(String.prototype, "repeat", function(count) {
        var result2 = "";
        var string = this;
        while (count > 0) {
          if (count & 1)
            result2 += string;
          if (count >>= 1)
            string += string;
        }
        return result2;
      });
    }
    if (!String.prototype.includes) {
      defineProp(String.prototype, "includes", function(str, position) {
        return this.indexOf(str, position) != -1;
      });
    }
    if (!Object.assign) {
      Object.assign = function(target) {
        if (target === void 0 || target === null) {
          throw new TypeError("Cannot convert undefined or null to object");
        }
        var output = Object(target);
        for (var index2 = 1; index2 < arguments.length; index2++) {
          var source = arguments[index2];
          if (source !== void 0 && source !== null) {
            Object.keys(source).forEach(function(key) {
              output[key] = source[key];
            });
          }
        }
        return output;
      };
    }
    if (!Object.values) {
      Object.values = function(o) {
        return Object.keys(o).map(function(k) {
          return o[k];
        });
      };
    }
    if (!Array.prototype.find) {
      defineProp(Array.prototype, "find", function(predicate) {
        var len = this.length;
        var thisArg = arguments[1];
        for (var k = 0; k < len; k++) {
          var kValue = this[k];
          if (predicate.call(thisArg, kValue, k, this)) {
            return kValue;
          }
        }
      });
    }
    if (!Array.prototype.findIndex) {
      defineProp(Array.prototype, "findIndex", function(predicate) {
        var len = this.length;
        var thisArg = arguments[1];
        for (var k = 0; k < len; k++) {
          var kValue = this[k];
          if (predicate.call(thisArg, kValue, k, this)) {
            return k;
          }
        }
      });
    }
    if (!Array.prototype.includes) {
      defineProp(Array.prototype, "includes", function(item, position) {
        return this.indexOf(item, position) != -1;
      });
    }
    if (!Array.prototype.fill) {
      defineProp(Array.prototype, "fill", function(value2) {
        var O = this;
        var len = O.length >>> 0;
        var start = arguments[1];
        var relativeStart = start >> 0;
        var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
        var end = arguments[2];
        var relativeEnd = end === void 0 ? len : end >> 0;
        var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
        while (k < final) {
          O[k] = value2;
          k++;
        }
        return O;
      });
    }
    if (!Array.of) {
      defineProp(Array, "of", function() {
        return Array.prototype.slice.call(arguments);
      });
    }
  });
  ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/es6-shim"], function(require2, exports2, module2) {
    require2("./es6-shim");
  });
  ace.define("ace/lib/deep_copy", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.deepCopy = function deepCopy(obj) {
      if (typeof obj !== "object" || !obj)
        return obj;
      var copy;
      if (Array.isArray(obj)) {
        copy = [];
        for (var key = 0; key < obj.length; key++) {
          copy[key] = deepCopy(obj[key]);
        }
        return copy;
      }
      if (Object.prototype.toString.call(obj) !== "[object Object]")
        return obj;
      copy = {};
      for (var key in obj)
        copy[key] = deepCopy(obj[key]);
      return copy;
    };
  });
  ace.define("ace/lib/lang", ["require", "exports", "module", "ace/lib/deep_copy"], function(require2, exports2, module2) {
    exports2.last = function(a) {
      return a[a.length - 1];
    };
    exports2.stringReverse = function(string) {
      return string.split("").reverse().join("");
    };
    exports2.stringRepeat = function(string, count) {
      var result2 = "";
      while (count > 0) {
        if (count & 1)
          result2 += string;
        if (count >>= 1)
          string += string;
      }
      return result2;
    };
    var trimBeginRegexp = /^\s\s*/;
    var trimEndRegexp = /\s\s*$/;
    exports2.stringTrimLeft = function(string) {
      return string.replace(trimBeginRegexp, "");
    };
    exports2.stringTrimRight = function(string) {
      return string.replace(trimEndRegexp, "");
    };
    exports2.copyObject = function(obj) {
      var copy = {};
      for (var key in obj) {
        copy[key] = obj[key];
      }
      return copy;
    };
    exports2.copyArray = function(array) {
      var copy = [];
      for (var i = 0, l = array.length; i < l; i++) {
        if (array[i] && typeof array[i] == "object")
          copy[i] = this.copyObject(array[i]);
        else
          copy[i] = array[i];
      }
      return copy;
    };
    exports2.deepCopy = require2("./deep_copy").deepCopy;
    exports2.arrayToMap = function(arr) {
      var map2 = {};
      for (var i = 0; i < arr.length; i++) {
        map2[arr[i]] = 1;
      }
      return map2;
    };
    exports2.createMap = function(props) {
      var map2 = /* @__PURE__ */ Object.create(null);
      for (var i in props) {
        map2[i] = props[i];
      }
      return map2;
    };
    exports2.arrayRemove = function(array, value2) {
      for (var i = 0; i <= array.length; i++) {
        if (value2 === array[i]) {
          array.splice(i, 1);
        }
      }
    };
    exports2.escapeRegExp = function(str) {
      return str.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
    };
    exports2.escapeHTML = function(str) {
      return ("" + str).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
    };
    exports2.getMatchOffsets = function(string, regExp) {
      var matches2 = [];
      string.replace(regExp, function(str) {
        matches2.push({
          offset: arguments[arguments.length - 2],
          length: str.length
        });
      });
      return matches2;
    };
    exports2.deferredCall = function(fcn) {
      var timer = null;
      var callback = function() {
        timer = null;
        fcn();
      };
      var deferred = function(timeout) {
        deferred.cancel();
        timer = setTimeout(callback, timeout || 0);
        return deferred;
      };
      deferred.schedule = deferred;
      deferred.call = function() {
        this.cancel();
        fcn();
        return deferred;
      };
      deferred.cancel = function() {
        clearTimeout(timer);
        timer = null;
        return deferred;
      };
      deferred.isPending = function() {
        return timer;
      };
      return deferred;
    };
    exports2.delayedCall = function(fcn, defaultTimeout) {
      var timer = null;
      var callback = function() {
        timer = null;
        fcn();
      };
      var _self = function(timeout) {
        if (timer == null)
          timer = setTimeout(callback, timeout || defaultTimeout);
      };
      _self.delay = function(timeout) {
        timer && clearTimeout(timer);
        timer = setTimeout(callback, timeout || defaultTimeout);
      };
      _self.schedule = _self;
      _self.call = function() {
        this.cancel();
        fcn();
      };
      _self.cancel = function() {
        timer && clearTimeout(timer);
        timer = null;
      };
      _self.isPending = function() {
        return timer;
      };
      return _self;
    };
    exports2.supportsLookbehind = function() {
      try {
        new RegExp("(?<=.)");
      } catch (e2) {
        return false;
      }
      return true;
    };
    exports2.skipEmptyMatch = function(line, last, supportsUnicodeFlag) {
      return supportsUnicodeFlag && line.codePointAt(last) > 65535 ? 2 : 1;
    };
  });
  ace.define("ace/lib/useragent", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.OS = {
      LINUX: "LINUX",
      MAC: "MAC",
      WINDOWS: "WINDOWS"
    };
    exports2.getOS = function() {
      if (exports2.isMac) {
        return exports2.OS.MAC;
      } else if (exports2.isLinux) {
        return exports2.OS.LINUX;
      } else {
        return exports2.OS.WINDOWS;
      }
    };
    var _navigator = typeof navigator == "object" ? navigator : {};
    var os = (/mac|win|linux/i.exec(_navigator.platform) || ["other"])[0].toLowerCase();
    var ua = _navigator.userAgent || "";
    var appName = _navigator.appName || "";
    exports2.isWin = os == "win";
    exports2.isMac = os == "mac";
    exports2.isLinux = os == "linux";
    exports2.isIE = appName == "Microsoft Internet Explorer" || appName.indexOf("MSAppHost") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]);
    exports2.isOldIE = exports2.isIE && exports2.isIE < 9;
    exports2.isGecko = exports2.isMozilla = ua.match(/ Gecko\/\d+/);
    exports2.isOpera = typeof opera == "object" && Object.prototype.toString.call(window["opera"]) == "[object Opera]";
    exports2.isWebKit = parseFloat(ua.split("WebKit/")[1]) || void 0;
    exports2.isChrome = parseFloat(ua.split(" Chrome/")[1]) || void 0;
    exports2.isSafari = parseFloat(ua.split(" Safari/")[1]) && !exports2.isChrome || void 0;
    exports2.isEdge = parseFloat(ua.split(" Edge/")[1]) || void 0;
    exports2.isAIR = ua.indexOf("AdobeAIR") >= 0;
    exports2.isAndroid = ua.indexOf("Android") >= 0;
    exports2.isChromeOS = ua.indexOf(" CrOS ") >= 0;
    exports2.isIOS = /iPad|iPhone|iPod/.test(ua) && !window["MSStream"];
    if (exports2.isIOS)
      exports2.isMac = true;
    exports2.isMobile = exports2.isIOS || exports2.isAndroid;
  });
  ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], function(require2, exports2, module2) {
    var useragent = require2("./useragent");
    var XHTML_NS = "http://www.w3.org/1999/xhtml";
    exports2.buildDom = function buildDom(arr, parent, refs2) {
      if (typeof arr == "string" && arr) {
        var txt = document.createTextNode(arr);
        if (parent)
          parent.appendChild(txt);
        return txt;
      }
      if (!Array.isArray(arr)) {
        if (arr && arr.appendChild && parent)
          parent.appendChild(arr);
        return arr;
      }
      if (typeof arr[0] != "string" || !arr[0]) {
        var els = [];
        for (var i = 0; i < arr.length; i++) {
          var ch = buildDom(arr[i], parent, refs2);
          ch && els.push(ch);
        }
        return els;
      }
      var el = document.createElement(arr[0]);
      var options = arr[1];
      var childIndex = 1;
      if (options && typeof options == "object" && !Array.isArray(options))
        childIndex = 2;
      for (var i = childIndex; i < arr.length; i++)
        buildDom(arr[i], el, refs2);
      if (childIndex == 2) {
        Object.keys(options).forEach(function(n) {
          var val = options[n];
          if (n === "class") {
            el.className = Array.isArray(val) ? val.join(" ") : val;
          } else if (typeof val == "function" || n == "value" || n[0] == "$") {
            el[n] = val;
          } else if (n === "ref") {
            if (refs2)
              refs2[val] = el;
          } else if (n === "style") {
            if (typeof val == "string")
              el.style.cssText = val;
          } else if (val != null) {
            el.setAttribute(n, val);
          }
        });
      }
      if (parent)
        parent.appendChild(el);
      return el;
    };
    exports2.getDocumentHead = function(doc) {
      if (!doc)
        doc = document;
      return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
    };
    exports2.createElement = function(tag, ns2) {
      return document.createElementNS ? document.createElementNS(ns2 || XHTML_NS, tag) : document.createElement(tag);
    };
    exports2.removeChildren = function(element) {
      element.innerHTML = "";
    };
    exports2.createTextNode = function(textContent, element) {
      var doc = element ? element.ownerDocument : document;
      return doc.createTextNode(textContent);
    };
    exports2.createFragment = function(element) {
      var doc = element ? element.ownerDocument : document;
      return doc.createDocumentFragment();
    };
    exports2.hasCssClass = function(el, name2) {
      var classes2 = (el.className + "").split(/\s+/g);
      return classes2.indexOf(name2) !== -1;
    };
    exports2.addCssClass = function(el, name2) {
      if (!exports2.hasCssClass(el, name2)) {
        el.className += " " + name2;
      }
    };
    exports2.removeCssClass = function(el, name2) {
      var classes2 = el.className.split(/\s+/g);
      while (true) {
        var index2 = classes2.indexOf(name2);
        if (index2 == -1) {
          break;
        }
        classes2.splice(index2, 1);
      }
      el.className = classes2.join(" ");
    };
    exports2.toggleCssClass = function(el, name2) {
      var classes2 = el.className.split(/\s+/g), add2 = true;
      while (true) {
        var index2 = classes2.indexOf(name2);
        if (index2 == -1) {
          break;
        }
        add2 = false;
        classes2.splice(index2, 1);
      }
      if (add2)
        classes2.push(name2);
      el.className = classes2.join(" ");
      return add2;
    };
    exports2.setCssClass = function(node2, className, include) {
      if (include) {
        exports2.addCssClass(node2, className);
      } else {
        exports2.removeCssClass(node2, className);
      }
    };
    exports2.hasCssString = function(id, doc) {
      var index2 = 0, sheets;
      doc = doc || document;
      if (sheets = doc.querySelectorAll("style")) {
        while (index2 < sheets.length) {
          if (sheets[index2++].id === id) {
            return true;
          }
        }
      }
    };
    exports2.removeElementById = function(id, doc) {
      doc = doc || document;
      if (doc.getElementById(id)) {
        doc.getElementById(id).remove();
      }
    };
    var strictCSP;
    var cssCache = [];
    exports2.useStrictCSP = function(value2) {
      strictCSP = value2;
      if (value2 == false)
        insertPendingStyles();
      else if (!cssCache)
        cssCache = [];
    };
    function insertPendingStyles() {
      var cache = cssCache;
      cssCache = null;
      cache && cache.forEach(function(item) {
        importCssString(item[0], item[1]);
      });
    }
    function importCssString(cssText, id, target) {
      if (typeof document == "undefined")
        return;
      if (cssCache) {
        if (target) {
          insertPendingStyles();
        } else if (target === false) {
          return cssCache.push([cssText, id]);
        }
      }
      if (strictCSP)
        return;
      var container = target;
      if (!target || !target.getRootNode) {
        container = document;
      } else {
        container = target.getRootNode();
        if (!container || container == target)
          container = document;
      }
      var doc = container.ownerDocument || container;
      if (id && exports2.hasCssString(id, container))
        return null;
      if (id)
        cssText += "\n/*# sourceURL=ace/css/" + id + " */";
      var style = exports2.createElement("style");
      style.appendChild(doc.createTextNode(cssText));
      if (id)
        style.id = id;
      if (container == doc)
        container = exports2.getDocumentHead(doc);
      container.insertBefore(style, container.firstChild);
    }
    exports2.importCssString = importCssString;
    exports2.importCssStylsheet = function(uri2, doc) {
      exports2.buildDom(["link", { rel: "stylesheet", href: uri2 }], exports2.getDocumentHead(doc));
    };
    exports2.scrollbarWidth = function(doc) {
      var inner = exports2.createElement("ace_inner");
      inner.style.width = "100%";
      inner.style.minWidth = "0px";
      inner.style.height = "200px";
      inner.style.display = "block";
      var outer = exports2.createElement("ace_outer");
      var style = outer.style;
      style.position = "absolute";
      style.left = "-10000px";
      style.overflow = "hidden";
      style.width = "200px";
      style.minWidth = "0px";
      style.height = "150px";
      style.display = "block";
      outer.appendChild(inner);
      var body = doc && doc.documentElement || document && document.documentElement;
      if (!body)
        return 0;
      body.appendChild(outer);
      var noScrollbar = inner.offsetWidth;
      style.overflow = "scroll";
      var withScrollbar = inner.offsetWidth;
      if (noScrollbar === withScrollbar) {
        withScrollbar = outer.clientWidth;
      }
      body.removeChild(outer);
      return noScrollbar - withScrollbar;
    };
    exports2.computedStyle = function(element, style) {
      return window.getComputedStyle(element, "") || {};
    };
    exports2.setStyle = function(styles, property, value2) {
      if (styles[property] !== value2) {
        styles[property] = value2;
      }
    };
    exports2.HAS_CSS_ANIMATION = false;
    exports2.HAS_CSS_TRANSFORMS = false;
    exports2.HI_DPI = useragent.isWin ? typeof window !== "undefined" && window.devicePixelRatio >= 1.5 : true;
    if (useragent.isChromeOS)
      exports2.HI_DPI = false;
    if (typeof document !== "undefined") {
      var div = document.createElement("div");
      if (exports2.HI_DPI && div.style.transform !== void 0)
        exports2.HAS_CSS_TRANSFORMS = true;
      if (!useragent.isEdge && typeof div.style.animationName !== "undefined")
        exports2.HAS_CSS_ANIMATION = true;
      div = null;
    }
    if (exports2.HAS_CSS_TRANSFORMS) {
      exports2.translate = function(element, tx, ty) {
        element.style.transform = "translate(" + Math.round(tx) + "px, " + Math.round(ty) + "px)";
      };
    } else {
      exports2.translate = function(element, tx, ty) {
        element.style.top = Math.round(ty) + "px";
        element.style.left = Math.round(tx) + "px";
      };
    }
  });
  ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
    /*
    * based on code from:
    *
    * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
    * Available via the MIT or new BSD license.
    * see: http://github.com/jrburke/requirejs for details
    */
    var dom = require2("./dom");
    exports2.get = function(url, callback) {
      var xhr = new XMLHttpRequest();
      xhr.open("GET", url, true);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          callback(xhr.responseText);
        }
      };
      xhr.send(null);
    };
    exports2.loadScript = function(path, callback) {
      var head = dom.getDocumentHead();
      var s = document.createElement("script");
      s.src = path;
      head.appendChild(s);
      s.onload = s.onreadystatechange = function(_, isAbort) {
        if (isAbort || !s.readyState || s.readyState == "loaded" || s.readyState == "complete") {
          s = s.onload = s.onreadystatechange = null;
          if (!isAbort)
            callback();
        }
      };
    };
    exports2.qualifyURL = function(url) {
      var a = document.createElement("a");
      a.href = url;
      return a.href;
    };
  });
  ace.define("ace/lib/oop", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.inherits = function(ctor, superCtor) {
      ctor.super_ = superCtor;
      ctor.prototype = Object.create(superCtor.prototype, {
        constructor: {
          value: ctor,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
    };
    exports2.mixin = function(obj, mixin) {
      for (var key in mixin) {
        obj[key] = mixin[key];
      }
      return obj;
    };
    exports2.implement = function(proto, mixin) {
      exports2.mixin(proto, mixin);
    };
  });
  ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(require2, exports2, module2) {
    var EventEmitter = {};
    var stopPropagation = function() {
      this.propagationStopped = true;
    };
    var preventDefault = function() {
      this.defaultPrevented = true;
    };
    EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e2) {
      this._eventRegistry || (this._eventRegistry = {});
      this._defaultHandlers || (this._defaultHandlers = {});
      var listeners = this._eventRegistry[eventName] || [];
      var defaultHandler = this._defaultHandlers[eventName];
      if (!listeners.length && !defaultHandler)
        return;
      if (typeof e2 != "object" || !e2)
        e2 = {};
      if (!e2.type)
        e2.type = eventName;
      if (!e2.stopPropagation)
        e2.stopPropagation = stopPropagation;
      if (!e2.preventDefault)
        e2.preventDefault = preventDefault;
      listeners = listeners.slice();
      for (var i = 0; i < listeners.length; i++) {
        listeners[i](e2, this);
        if (e2.propagationStopped)
          break;
      }
      if (defaultHandler && !e2.defaultPrevented)
        return defaultHandler(e2, this);
    };
    EventEmitter._signal = function(eventName, e2) {
      var listeners = (this._eventRegistry || {})[eventName];
      if (!listeners)
        return;
      listeners = listeners.slice();
      for (var i = 0; i < listeners.length; i++)
        listeners[i](e2, this);
    };
    EventEmitter.once = function(eventName, callback) {
      var _self = this;
      this.on(eventName, function newCallback() {
        _self.off(eventName, newCallback);
        callback.apply(null, arguments);
      });
      if (!callback) {
        return new Promise(function(resolve) {
          callback = resolve;
        });
      }
    };
    EventEmitter.setDefaultHandler = function(eventName, callback) {
      var handlers = this._defaultHandlers;
      if (!handlers)
        handlers = this._defaultHandlers = { _disabled_: {} };
      if (handlers[eventName]) {
        var old = handlers[eventName];
        var disabled = handlers._disabled_[eventName];
        if (!disabled)
          handlers._disabled_[eventName] = disabled = [];
        disabled.push(old);
        var i = disabled.indexOf(callback);
        if (i != -1)
          disabled.splice(i, 1);
      }
      handlers[eventName] = callback;
    };
    EventEmitter.removeDefaultHandler = function(eventName, callback) {
      var handlers = this._defaultHandlers;
      if (!handlers)
        return;
      var disabled = handlers._disabled_[eventName];
      if (handlers[eventName] == callback) {
        if (disabled)
          this.setDefaultHandler(eventName, disabled.pop());
      } else if (disabled) {
        var i = disabled.indexOf(callback);
        if (i != -1)
          disabled.splice(i, 1);
      }
    };
    EventEmitter.on = EventEmitter.addEventListener = function(eventName, callback, capturing) {
      this._eventRegistry = this._eventRegistry || {};
      var listeners = this._eventRegistry[eventName];
      if (!listeners)
        listeners = this._eventRegistry[eventName] = [];
      if (listeners.indexOf(callback) == -1)
        listeners[capturing ? "unshift" : "push"](callback);
      return callback;
    };
    EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(eventName, callback) {
      this._eventRegistry = this._eventRegistry || {};
      var listeners = this._eventRegistry[eventName];
      if (!listeners)
        return;
      var index2 = listeners.indexOf(callback);
      if (index2 !== -1)
        listeners.splice(index2, 1);
    };
    EventEmitter.removeAllListeners = function(eventName) {
      if (!eventName)
        this._eventRegistry = this._defaultHandlers = void 0;
      if (this._eventRegistry)
        this._eventRegistry[eventName] = void 0;
      if (this._defaultHandlers)
        this._defaultHandlers[eventName] = void 0;
    };
    exports2.EventEmitter = EventEmitter;
  });
  ace.define("ace/lib/report_error", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.reportError = function reportError(msg, data) {
      var e2 = new Error(msg);
      e2["data"] = data;
      if (typeof console == "object" && console.error)
        console.error(e2);
      setTimeout(function() {
        throw e2;
      });
    };
  });
  ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/lib/report_error"], function(require2, exports2, module2) {
    "no use strict";
    var oop = require2("./oop");
    var EventEmitter = require2("./event_emitter").EventEmitter;
    var reportError = require2("./report_error").reportError;
    var optionsProvider = {
      setOptions: function(optList) {
        Object.keys(optList).forEach(function(key) {
          this.setOption(key, optList[key]);
        }, this);
      },
      getOptions: function(optionNames) {
        var result2 = {};
        if (!optionNames) {
          var options = this.$options;
          optionNames = Object.keys(options).filter(function(key) {
            return !options[key].hidden;
          });
        } else if (!Array.isArray(optionNames)) {
          result2 = optionNames;
          optionNames = Object.keys(result2);
        }
        optionNames.forEach(function(key) {
          result2[key] = this.getOption(key);
        }, this);
        return result2;
      },
      setOption: function(name2, value2) {
        if (this["$" + name2] === value2)
          return;
        var opt = this.$options[name2];
        if (!opt) {
          return warn2('misspelled option "' + name2 + '"');
        }
        if (opt.forwardTo)
          return this[opt.forwardTo] && this[opt.forwardTo].setOption(name2, value2);
        if (!opt.handlesSet)
          this["$" + name2] = value2;
        if (opt && opt.set)
          opt.set.call(this, value2);
      },
      getOption: function(name2) {
        var opt = this.$options[name2];
        if (!opt) {
          return warn2('misspelled option "' + name2 + '"');
        }
        if (opt.forwardTo)
          return this[opt.forwardTo] && this[opt.forwardTo].getOption(name2);
        return opt && opt.get ? opt.get.call(this) : this["$" + name2];
      }
    };
    function warn2(message2) {
      if (typeof console != "undefined" && console.warn)
        console.warn.apply(console, arguments);
    }
    var messages;
    var AppConfig = (
      /** @class */
      function() {
        function AppConfig2() {
          this.$defaultOptions = {};
        }
        AppConfig2.prototype.defineOptions = function(obj, path, options) {
          if (!obj.$options)
            this.$defaultOptions[path] = obj.$options = {};
          Object.keys(options).forEach(function(key) {
            var opt = options[key];
            if (typeof opt == "string")
              opt = { forwardTo: opt };
            opt.name || (opt.name = key);
            obj.$options[opt.name] = opt;
            if ("initialValue" in opt)
              obj["$" + opt.name] = opt.initialValue;
          });
          oop.implement(obj, optionsProvider);
          return this;
        };
        AppConfig2.prototype.resetOptions = function(obj) {
          Object.keys(obj.$options).forEach(function(key) {
            var opt = obj.$options[key];
            if ("value" in opt)
              obj.setOption(key, opt.value);
          });
        };
        AppConfig2.prototype.setDefaultValue = function(path, name2, value2) {
          if (!path) {
            for (path in this.$defaultOptions)
              if (this.$defaultOptions[path][name2])
                break;
            if (!this.$defaultOptions[path][name2])
              return false;
          }
          var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});
          if (opts[name2]) {
            if (opts.forwardTo)
              this.setDefaultValue(opts.forwardTo, name2, value2);
            else
              opts[name2].value = value2;
          }
        };
        AppConfig2.prototype.setDefaultValues = function(path, optionHash) {
          Object.keys(optionHash).forEach(function(key) {
            this.setDefaultValue(path, key, optionHash[key]);
          }, this);
        };
        AppConfig2.prototype.setMessages = function(value2) {
          messages = value2;
        };
        AppConfig2.prototype.nls = function(string, params) {
          if (messages && !messages[string]) {
            warn2("No message found for '" + string + "' in the provided messages, falling back to default English message.");
          }
          var translated = messages && messages[string] || string;
          if (params) {
            translated = translated.replace(/\$(\$|[\d]+)/g, function(_, name2) {
              if (name2 == "$")
                return "$";
              return params[name2];
            });
          }
          return translated;
        };
        return AppConfig2;
      }()
    );
    AppConfig.prototype.warn = warn2;
    AppConfig.prototype.reportError = reportError;
    oop.implement(AppConfig.prototype, EventEmitter);
    exports2.AppConfig = AppConfig;
  });
  ace.define("ace/theme/textmate-css", ["require", "exports", "module"], function(require2, exports2, module2) {
    module2.exports = '.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n';
  });
  ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/theme/textmate-css", "ace/lib/dom"], function(require2, exports2, module2) {
    exports2.isDark = false;
    exports2.cssClass = "ace-tm";
    exports2.cssText = require2("./textmate-css");
    exports2.$id = "ace/theme/textmate";
    var dom = require2("../lib/dom");
    dom.importCssString(exports2.cssText, exports2.cssClass, false);
  });
  ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/net", "ace/lib/dom", "ace/lib/app_config", "ace/theme/textmate"], function(require2, exports2, module2) {
    "no use strict";
    var lang = require2("./lib/lang");
    var net = require2("./lib/net");
    var dom = require2("./lib/dom");
    var AppConfig = require2("./lib/app_config").AppConfig;
    module2.exports = exports2 = new AppConfig();
    var options = {
      packaged: false,
      workerPath: null,
      modePath: null,
      themePath: null,
      basePath: "",
      suffix: ".js",
      $moduleUrls: {},
      loadWorkerFromBlob: true,
      sharedPopups: false,
      useStrictCSP: null
    };
    exports2.get = function(key) {
      if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);
      return options[key];
    };
    exports2.set = function(key, value2) {
      if (options.hasOwnProperty(key))
        options[key] = value2;
      else if (this.setDefaultValue("", key, value2) == false)
        throw new Error("Unknown config key: " + key);
      if (key == "useStrictCSP")
        dom.useStrictCSP(value2);
    };
    exports2.all = function() {
      return lang.copyObject(options);
    };
    exports2.$modes = {};
    exports2.moduleUrl = function(name2, component) {
      if (options.$moduleUrls[name2])
        return options.$moduleUrls[name2];
      var parts = name2.split("/");
      component = component || parts[parts.length - 2] || "";
      var sep = component == "snippets" ? "/" : "-";
      var base = parts[parts.length - 1];
      if (component == "worker" && sep == "-") {
        var re = new RegExp("^" + component + "[\\-_]|[\\-_]" + component + "$", "g");
        base = base.replace(re, "");
      }
      if ((!base || base == component) && parts.length > 1)
        base = parts[parts.length - 2];
      var path = options[component + "Path"];
      if (path == null) {
        path = options.basePath;
      } else if (sep == "/") {
        component = sep = "";
      }
      if (path && path.slice(-1) != "/")
        path += "/";
      return path + component + sep + base + this.get("suffix");
    };
    exports2.setModuleUrl = function(name2, subst) {
      return options.$moduleUrls[name2] = subst;
    };
    var loader = function(moduleName, cb) {
      if (moduleName === "ace/theme/textmate" || moduleName === "./theme/textmate")
        return cb(null, require2("./theme/textmate"));
      if (customLoader)
        return customLoader(moduleName, cb);
      console.error("loader is not configured");
    };
    var customLoader;
    exports2.setLoader = function(cb) {
      customLoader = cb;
    };
    exports2.dynamicModules = /* @__PURE__ */ Object.create(null);
    exports2.$loading = {};
    exports2.$loaded = {};
    exports2.loadModule = function(moduleId, onLoad) {
      var loadedModule;
      if (Array.isArray(moduleId)) {
        var moduleType = moduleId[0];
        var moduleName = moduleId[1];
      } else if (typeof moduleId == "string") {
        var moduleName = moduleId;
      }
      var load = function(module3) {
        if (module3 && !exports2.$loading[moduleName])
          return onLoad && onLoad(module3);
        if (!exports2.$loading[moduleName])
          exports2.$loading[moduleName] = [];
        exports2.$loading[moduleName].push(onLoad);
        if (exports2.$loading[moduleName].length > 1)
          return;
        var afterLoad = function() {
          loader(moduleName, function(err, module4) {
            if (module4)
              exports2.$loaded[moduleName] = module4;
            exports2._emit("load.module", { name: moduleName, module: module4 });
            var listeners = exports2.$loading[moduleName];
            exports2.$loading[moduleName] = null;
            listeners.forEach(function(onLoad2) {
              onLoad2 && onLoad2(module4);
            });
          });
        };
        if (!exports2.get("packaged"))
          return afterLoad();
        net.loadScript(exports2.moduleUrl(moduleName, moduleType), afterLoad);
        reportErrorIfPathIsNotConfigured();
      };
      if (exports2.dynamicModules[moduleName]) {
        exports2.dynamicModules[moduleName]().then(function(module3) {
          if (module3.default) {
            load(module3.default);
          } else {
            load(module3);
          }
        });
      } else {
        try {
          loadedModule = this.$require(moduleName);
        } catch (e2) {
        }
        load(loadedModule || exports2.$loaded[moduleName]);
      }
    };
    exports2.$require = function(moduleName) {
      if (typeof module2["require"] == "function") {
        var req = "require";
        return module2[req](moduleName);
      }
    };
    exports2.setModuleLoader = function(moduleName, onLoad) {
      exports2.dynamicModules[moduleName] = onLoad;
    };
    var reportErrorIfPathIsNotConfigured = function() {
      if (!options.basePath && !options.workerPath && !options.modePath && !options.themePath && !Object.keys(options.$moduleUrls).length) {
        console.error("Unable to infer path to ace from script src,", "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes", "or with webpack use ace/webpack-resolver");
        reportErrorIfPathIsNotConfigured = function() {
        };
      }
    };
    exports2.version = "1.32.8";
  });
  ace.define("ace/loader_build", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/config"], function(require2, exports2, module2) {
    require2("./lib/fixoldbrowsers");
    var config2 = require2("./config");
    config2.setLoader(function(moduleName, cb) {
      require2([moduleName], function(module3) {
        cb(null, module3);
      });
    });
    var global2 = /* @__PURE__ */ function() {
      return this || typeof window != "undefined" && window;
    }();
    module2.exports = function(ace2) {
      config2.init = init;
      config2.$require = require2;
      ace2.require = require2;
    };
    init(true);
    function init(packaged) {
      if (!global2 || !global2.document)
        return;
      config2.set("packaged", packaged || require2.packaged || module2.packaged || global2.define && (void 0).packaged);
      var scriptOptions = {};
      var scriptUrl = "";
      var currentScript = document.currentScript || document._currentScript;
      var currentDocument = currentScript && currentScript.ownerDocument || document;
      if (currentScript && currentScript.src) {
        scriptUrl = currentScript.src.split(/[?#]/)[0].split("/").slice(0, -1).join("/") || "";
      }
      var scripts = currentDocument.getElementsByTagName("script");
      for (var i = 0; i < scripts.length; i++) {
        var script = scripts[i];
        var src = script.src || script.getAttribute("src");
        if (!src)
          continue;
        var attributes = script.attributes;
        for (var j = 0, l = attributes.length; j < l; j++) {
          var attr2 = attributes[j];
          if (attr2.name.indexOf("data-ace-") === 0) {
            scriptOptions[deHyphenate(attr2.name.replace(/^data-ace-/, ""))] = attr2.value;
          }
        }
        var m = src.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);
        if (m)
          scriptUrl = m[1];
      }
      if (scriptUrl) {
        scriptOptions.base = scriptOptions.base || scriptUrl;
        scriptOptions.packaged = true;
      }
      scriptOptions.basePath = scriptOptions.base;
      scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
      scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
      scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
      delete scriptOptions.base;
      for (var key in scriptOptions)
        if (typeof scriptOptions[key] !== "undefined")
          config2.set(key, scriptOptions[key]);
    }
    function deHyphenate(str) {
      return str.replace(/-(.)/g, function(m, m1) {
        return m1.toUpperCase();
      });
    }
  });
  ace.define("ace/range", ["require", "exports", "module"], function(require2, exports2, module2) {
    var Range = (
      /** @class */
      function() {
        function Range2(startRow, startColumn, endRow, endColumn) {
          this.start = {
            row: startRow,
            column: startColumn
          };
          this.end = {
            row: endRow,
            column: endColumn
          };
        }
        Range2.prototype.isEqual = function(range) {
          return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;
        };
        Range2.prototype.toString = function() {
          return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
        };
        Range2.prototype.contains = function(row, column) {
          return this.compare(row, column) == 0;
        };
        Range2.prototype.compareRange = function(range) {
          var cmp, end = range.end, start = range.start;
          cmp = this.compare(end.row, end.column);
          if (cmp == 1) {
            cmp = this.compare(start.row, start.column);
            if (cmp == 1) {
              return 2;
            } else if (cmp == 0) {
              return 1;
            } else {
              return 0;
            }
          } else if (cmp == -1) {
            return -2;
          } else {
            cmp = this.compare(start.row, start.column);
            if (cmp == -1) {
              return -1;
            } else if (cmp == 1) {
              return 42;
            } else {
              return 0;
            }
          }
        };
        Range2.prototype.comparePoint = function(p) {
          return this.compare(p.row, p.column);
        };
        Range2.prototype.containsRange = function(range) {
          return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
        };
        Range2.prototype.intersects = function(range) {
          var cmp = this.compareRange(range);
          return cmp == -1 || cmp == 0 || cmp == 1;
        };
        Range2.prototype.isEnd = function(row, column) {
          return this.end.row == row && this.end.column == column;
        };
        Range2.prototype.isStart = function(row, column) {
          return this.start.row == row && this.start.column == column;
        };
        Range2.prototype.setStart = function(row, column) {
          if (typeof row == "object") {
            this.start.column = row.column;
            this.start.row = row.row;
          } else {
            this.start.row = row;
            this.start.column = column;
          }
        };
        Range2.prototype.setEnd = function(row, column) {
          if (typeof row == "object") {
            this.end.column = row.column;
            this.end.row = row.row;
          } else {
            this.end.row = row;
            this.end.column = column;
          }
        };
        Range2.prototype.inside = function(row, column) {
          if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column) || this.isStart(row, column)) {
              return false;
            } else {
              return true;
            }
          }
          return false;
        };
        Range2.prototype.insideStart = function(row, column) {
          if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column)) {
              return false;
            } else {
              return true;
            }
          }
          return false;
        };
        Range2.prototype.insideEnd = function(row, column) {
          if (this.compare(row, column) == 0) {
            if (this.isStart(row, column)) {
              return false;
            } else {
              return true;
            }
          }
          return false;
        };
        Range2.prototype.compare = function(row, column) {
          if (!this.isMultiLine()) {
            if (row === this.start.row) {
              return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;
            }
          }
          if (row < this.start.row)
            return -1;
          if (row > this.end.row)
            return 1;
          if (this.start.row === row)
            return column >= this.start.column ? 0 : -1;
          if (this.end.row === row)
            return column <= this.end.column ? 0 : 1;
          return 0;
        };
        Range2.prototype.compareStart = function(row, column) {
          if (this.start.row == row && this.start.column == column) {
            return -1;
          } else {
            return this.compare(row, column);
          }
        };
        Range2.prototype.compareEnd = function(row, column) {
          if (this.end.row == row && this.end.column == column) {
            return 1;
          } else {
            return this.compare(row, column);
          }
        };
        Range2.prototype.compareInside = function(row, column) {
          if (this.end.row == row && this.end.column == column) {
            return 1;
          } else if (this.start.row == row && this.start.column == column) {
            return -1;
          } else {
            return this.compare(row, column);
          }
        };
        Range2.prototype.clipRows = function(firstRow, lastRow) {
          if (this.end.row > lastRow)
            var end = { row: lastRow + 1, column: 0 };
          else if (this.end.row < firstRow)
            var end = { row: firstRow, column: 0 };
          if (this.start.row > lastRow)
            var start = { row: lastRow + 1, column: 0 };
          else if (this.start.row < firstRow)
            var start = { row: firstRow, column: 0 };
          return Range2.fromPoints(start || this.start, end || this.end);
        };
        Range2.prototype.extend = function(row, column) {
          var cmp = this.compare(row, column);
          if (cmp == 0)
            return this;
          else if (cmp == -1)
            var start = { row, column };
          else
            var end = { row, column };
          return Range2.fromPoints(start || this.start, end || this.end);
        };
        Range2.prototype.isEmpty = function() {
          return this.start.row === this.end.row && this.start.column === this.end.column;
        };
        Range2.prototype.isMultiLine = function() {
          return this.start.row !== this.end.row;
        };
        Range2.prototype.clone = function() {
          return Range2.fromPoints(this.start, this.end);
        };
        Range2.prototype.collapseRows = function() {
          if (this.end.column == 0)
            return new Range2(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);
          else
            return new Range2(this.start.row, 0, this.end.row, 0);
        };
        Range2.prototype.toScreenRange = function(session) {
          var screenPosStart = session.documentToScreenPosition(this.start);
          var screenPosEnd = session.documentToScreenPosition(this.end);
          return new Range2(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);
        };
        Range2.prototype.moveBy = function(row, column) {
          this.start.row += row;
          this.start.column += column;
          this.end.row += row;
          this.end.column += column;
        };
        return Range2;
      }()
    );
    Range.fromPoints = function(start, end) {
      return new Range(start.row, start.column, end.row, end.column);
    };
    Range.comparePoints = function(p1, p2) {
      return p1.row - p2.row || p1.column - p2.column;
    };
    exports2.Range = Range;
  });
  ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], function(require2, exports2, module2) {
    /*! @license
    	==========================================================================
    	SproutCore -- JavaScript Application Framework
    	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.
    
    	Permission is hereby granted, free of charge, to any person obtaining a
    	copy of this software and associated documentation files (the "Software"),
    	to deal in the Software without restriction, including without limitation
    	the rights to use, copy, modify, merge, publish, distribute, sublicense,
    	and/or sell copies of the Software, and to permit persons to whom the
    	Software is furnished to do so, subject to the following conditions:
    
    	The above copyright notice and this permission notice shall be included in
    	all copies or substantial portions of the Software.
    
    	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
    	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    	DEALINGS IN THE SOFTWARE.
    
    	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.
    
    	For more information about SproutCore, visit http://www.sproutcore.com
    
    
    	==========================================================================
    	@license */
    var oop = require2("./oop");
    var Keys = function() {
      var ret = {
        MODIFIER_KEYS: {
          16: "Shift",
          17: "Ctrl",
          18: "Alt",
          224: "Meta",
          91: "MetaLeft",
          92: "MetaRight",
          93: "ContextMenu"
        },
        KEY_MODS: {
          "ctrl": 1,
          "alt": 2,
          "option": 2,
          "shift": 4,
          "super": 8,
          "meta": 8,
          "command": 8,
          "cmd": 8,
          "control": 1
        },
        FUNCTION_KEYS: {
          8: "Backspace",
          9: "Tab",
          13: "Return",
          19: "Pause",
          27: "Esc",
          32: "Space",
          33: "PageUp",
          34: "PageDown",
          35: "End",
          36: "Home",
          37: "Left",
          38: "Up",
          39: "Right",
          40: "Down",
          44: "Print",
          45: "Insert",
          46: "Delete",
          96: "Numpad0",
          97: "Numpad1",
          98: "Numpad2",
          99: "Numpad3",
          100: "Numpad4",
          101: "Numpad5",
          102: "Numpad6",
          103: "Numpad7",
          104: "Numpad8",
          105: "Numpad9",
          "-13": "NumpadEnter",
          112: "F1",
          113: "F2",
          114: "F3",
          115: "F4",
          116: "F5",
          117: "F6",
          118: "F7",
          119: "F8",
          120: "F9",
          121: "F10",
          122: "F11",
          123: "F12",
          144: "Numlock",
          145: "Scrolllock"
        },
        PRINTABLE_KEYS: {
          32: " ",
          48: "0",
          49: "1",
          50: "2",
          51: "3",
          52: "4",
          53: "5",
          54: "6",
          55: "7",
          56: "8",
          57: "9",
          59: ";",
          61: "=",
          65: "a",
          66: "b",
          67: "c",
          68: "d",
          69: "e",
          70: "f",
          71: "g",
          72: "h",
          73: "i",
          74: "j",
          75: "k",
          76: "l",
          77: "m",
          78: "n",
          79: "o",
          80: "p",
          81: "q",
          82: "r",
          83: "s",
          84: "t",
          85: "u",
          86: "v",
          87: "w",
          88: "x",
          89: "y",
          90: "z",
          107: "+",
          109: "-",
          110: ".",
          186: ";",
          187: "=",
          188: ",",
          189: "-",
          190: ".",
          191: "/",
          192: "`",
          219: "[",
          220: "\\",
          221: "]",
          222: "'",
          111: "/",
          106: "*"
        }
      };
      ret.PRINTABLE_KEYS[173] = "-";
      var name2, i;
      for (i in ret.FUNCTION_KEYS) {
        name2 = ret.FUNCTION_KEYS[i].toLowerCase();
        ret[name2] = parseInt(i, 10);
      }
      for (i in ret.PRINTABLE_KEYS) {
        name2 = ret.PRINTABLE_KEYS[i].toLowerCase();
        ret[name2] = parseInt(i, 10);
      }
      oop.mixin(ret, ret.MODIFIER_KEYS);
      oop.mixin(ret, ret.PRINTABLE_KEYS);
      oop.mixin(ret, ret.FUNCTION_KEYS);
      ret.enter = ret["return"];
      ret.escape = ret.esc;
      ret.del = ret["delete"];
      (function() {
        var mods = ["cmd", "ctrl", "alt", "shift"];
        for (var i2 = Math.pow(2, mods.length); i2--; ) {
          ret.KEY_MODS[i2] = mods.filter(function(x) {
            return i2 & ret.KEY_MODS[x];
          }).join("-") + "-";
        }
      })();
      ret.KEY_MODS[0] = "";
      ret.KEY_MODS[-1] = "input-";
      return ret;
    }();
    oop.mixin(exports2, Keys);
    exports2.default = exports2;
    exports2.keyCodeToString = function(keyCode) {
      var keyString = Keys[keyCode];
      if (typeof keyString != "string")
        keyString = String.fromCharCode(keyCode);
      return keyString.toLowerCase();
    };
  });
  ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require2, exports2, module2) {
    var keys = require2("./keys");
    var useragent = require2("./useragent");
    var pressedKeys = null;
    var ts = 0;
    var activeListenerOptions;
    function detectListenerOptionsSupport() {
      activeListenerOptions = false;
      try {
        document.createComment("").addEventListener("test", function() {
        }, {
          get passive() {
            activeListenerOptions = { passive: false };
            return true;
          }
        });
      } catch (e2) {
      }
    }
    function getListenerOptions() {
      if (activeListenerOptions == void 0)
        detectListenerOptionsSupport();
      return activeListenerOptions;
    }
    function EventListener(elem, type, callback) {
      this.elem = elem;
      this.type = type;
      this.callback = callback;
    }
    EventListener.prototype.destroy = function() {
      removeListener(this.elem, this.type, this.callback);
      this.elem = this.type = this.callback = void 0;
    };
    var addListener = exports2.addListener = function(elem, type, callback, destroyer) {
      elem.addEventListener(type, callback, getListenerOptions());
      if (destroyer)
        destroyer.$toDestroy.push(new EventListener(elem, type, callback));
    };
    var removeListener = exports2.removeListener = function(elem, type, callback) {
      elem.removeEventListener(type, callback, getListenerOptions());
    };
    exports2.stopEvent = function(e2) {
      exports2.stopPropagation(e2);
      exports2.preventDefault(e2);
      return false;
    };
    exports2.stopPropagation = function(e2) {
      if (e2.stopPropagation)
        e2.stopPropagation();
    };
    exports2.preventDefault = function(e2) {
      if (e2.preventDefault)
        e2.preventDefault();
    };
    exports2.getButton = function(e2) {
      if (e2.type == "dblclick")
        return 0;
      if (e2.type == "contextmenu" || useragent.isMac && (e2.ctrlKey && !e2.altKey && !e2.shiftKey))
        return 2;
      return e2.button;
    };
    exports2.capture = function(el, eventHandler, releaseCaptureHandler) {
      var ownerDocument = el && el.ownerDocument || document;
      function onMouseUp(e2) {
        eventHandler && eventHandler(e2);
        releaseCaptureHandler && releaseCaptureHandler(e2);
        removeListener(ownerDocument, "mousemove", eventHandler);
        removeListener(ownerDocument, "mouseup", onMouseUp);
        removeListener(ownerDocument, "dragstart", onMouseUp);
      }
      addListener(ownerDocument, "mousemove", eventHandler);
      addListener(ownerDocument, "mouseup", onMouseUp);
      addListener(ownerDocument, "dragstart", onMouseUp);
      return onMouseUp;
    };
    exports2.addMouseWheelListener = function(el, callback, destroyer) {
      addListener(el, "wheel", function(e2) {
        var factor = 0.15;
        var deltaX = e2.deltaX || 0;
        var deltaY = e2.deltaY || 0;
        switch (e2.deltaMode) {
          case e2.DOM_DELTA_PIXEL:
            e2.wheelX = deltaX * factor;
            e2.wheelY = deltaY * factor;
            break;
          case e2.DOM_DELTA_LINE:
            var linePixels = 15;
            e2.wheelX = deltaX * linePixels;
            e2.wheelY = deltaY * linePixels;
            break;
          case e2.DOM_DELTA_PAGE:
            var pagePixels = 150;
            e2.wheelX = deltaX * pagePixels;
            e2.wheelY = deltaY * pagePixels;
            break;
        }
        callback(e2);
      }, destroyer);
    };
    exports2.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {
      var clicks = 0;
      var startX, startY, timer;
      var eventNames = {
        2: "dblclick",
        3: "tripleclick",
        4: "quadclick"
      };
      function onMousedown(e2) {
        if (exports2.getButton(e2) !== 0) {
          clicks = 0;
        } else if (e2.detail > 1) {
          clicks++;
          if (clicks > 4)
            clicks = 1;
        } else {
          clicks = 1;
        }
        if (useragent.isIE) {
          var isNewClick = Math.abs(e2.clientX - startX) > 5 || Math.abs(e2.clientY - startY) > 5;
          if (!timer || isNewClick)
            clicks = 1;
          if (timer)
            clearTimeout(timer);
          timer = setTimeout(function() {
            timer = null;
          }, timeouts[clicks - 1] || 600);
          if (clicks == 1) {
            startX = e2.clientX;
            startY = e2.clientY;
          }
        }
        e2._clicks = clicks;
        eventHandler[callbackName]("mousedown", e2);
        if (clicks > 4)
          clicks = 0;
        else if (clicks > 1)
          return eventHandler[callbackName](eventNames[clicks], e2);
      }
      if (!Array.isArray(elements))
        elements = [elements];
      elements.forEach(function(el) {
        addListener(el, "mousedown", onMousedown, destroyer);
      });
    };
    function getModifierHash(e2) {
      return 0 | (e2.ctrlKey ? 1 : 0) | (e2.altKey ? 2 : 0) | (e2.shiftKey ? 4 : 0) | (e2.metaKey ? 8 : 0);
    }
    exports2.getModifierString = function(e2) {
      return keys.KEY_MODS[getModifierHash(e2)];
    };
    function normalizeCommandKeys(callback, e2, keyCode) {
      var hashId = getModifierHash(e2);
      if (!useragent.isMac && pressedKeys) {
        if (e2.getModifierState && (e2.getModifierState("OS") || e2.getModifierState("Win")))
          hashId |= 8;
        if (pressedKeys.altGr) {
          if ((3 & hashId) != 3)
            pressedKeys.altGr = 0;
          else
            return;
        }
        if (keyCode === 18 || keyCode === 17) {
          var location2 = e2.location;
          if (keyCode === 17 && location2 === 1) {
            if (pressedKeys[keyCode] == 1)
              ts = e2.timeStamp;
          } else if (keyCode === 18 && hashId === 3 && location2 === 2) {
            var dt = e2.timeStamp - ts;
            if (dt < 50)
              pressedKeys.altGr = true;
          }
        }
      }
      if (keyCode in keys.MODIFIER_KEYS) {
        keyCode = -1;
      }
      if (!hashId && keyCode === 13) {
        if (e2.location === 3) {
          callback(e2, hashId, -keyCode);
          if (e2.defaultPrevented)
            return;
        }
      }
      if (useragent.isChromeOS && hashId & 8) {
        callback(e2, hashId, keyCode);
        if (e2.defaultPrevented)
          return;
        else
          hashId &= ~8;
      }
      if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
        return false;
      }
      return callback(e2, hashId, keyCode);
    }
    exports2.addCommandKeyListener = function(el, callback, destroyer) {
      var lastDefaultPrevented = null;
      addListener(el, "keydown", function(e2) {
        pressedKeys[e2.keyCode] = (pressedKeys[e2.keyCode] || 0) + 1;
        var result2 = normalizeCommandKeys(callback, e2, e2.keyCode);
        lastDefaultPrevented = e2.defaultPrevented;
        return result2;
      }, destroyer);
      addListener(el, "keypress", function(e2) {
        if (lastDefaultPrevented && (e2.ctrlKey || e2.altKey || e2.shiftKey || e2.metaKey)) {
          exports2.stopEvent(e2);
          lastDefaultPrevented = null;
        }
      }, destroyer);
      addListener(el, "keyup", function(e2) {
        pressedKeys[e2.keyCode] = null;
      }, destroyer);
      if (!pressedKeys) {
        resetPressedKeys();
        addListener(window, "focus", resetPressedKeys);
      }
    };
    function resetPressedKeys() {
      pressedKeys = /* @__PURE__ */ Object.create(null);
    }
    if (typeof window == "object" && window.postMessage && !useragent.isOldIE) {
      var postMessageId = 1;
      exports2.nextTick = function(callback, win) {
        win = win || window;
        var messageName = "zero-timeout-message-" + postMessageId++;
        var listener = function(e2) {
          if (e2.data == messageName) {
            exports2.stopPropagation(e2);
            removeListener(win, "message", listener);
            callback();
          }
        };
        addListener(win, "message", listener);
        win.postMessage(messageName, "*");
      };
    }
    exports2.$idleBlocked = false;
    exports2.onIdle = function(cb, timeout) {
      return setTimeout(function handler() {
        if (!exports2.$idleBlocked) {
          cb();
        } else {
          setTimeout(handler, 100);
        }
      }, timeout);
    };
    exports2.$idleBlockId = null;
    exports2.blockIdle = function(delay) {
      if (exports2.$idleBlockId)
        clearTimeout(exports2.$idleBlockId);
      exports2.$idleBlocked = true;
      exports2.$idleBlockId = setTimeout(function() {
        exports2.$idleBlocked = false;
      }, delay || 100);
    };
    exports2.nextFrame = typeof window == "object" && (window.requestAnimationFrame || window["mozRequestAnimationFrame"] || window["webkitRequestAnimationFrame"] || window["msRequestAnimationFrame"] || window["oRequestAnimationFrame"]);
    if (exports2.nextFrame)
      exports2.nextFrame = exports2.nextFrame.bind(window);
    else
      exports2.nextFrame = function(callback) {
        setTimeout(callback, 17);
      };
  });
  ace.define("ace/clipboard", ["require", "exports", "module"], function(require2, exports2, module2) {
    var $cancelT;
    module2.exports = {
      lineMode: false,
      pasteCancelled: function() {
        if ($cancelT && $cancelT > Date.now() - 50)
          return true;
        return $cancelT = false;
      },
      cancel: function() {
        $cancelT = Date.now();
      }
    };
  });
  ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/config", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/clipboard", "ace/lib/keys"], function(require2, exports2, module2) {
    var event2 = require2("../lib/event");
    var nls = require2("../config").nls;
    var useragent = require2("../lib/useragent");
    var dom = require2("../lib/dom");
    var lang = require2("../lib/lang");
    var clipboard2 = require2("../clipboard");
    var BROKEN_SETDATA = useragent.isChrome < 18;
    var USE_IE_MIME_TYPE = useragent.isIE;
    var HAS_FOCUS_ARGS = useragent.isChrome > 63;
    var MAX_LINE_LENGTH = 400;
    var KEYS = require2("../lib/keys");
    var MODS = KEYS.KEY_MODS;
    var isIOS = useragent.isIOS;
    var valueResetRegex = isIOS ? /\s/ : /\n/;
    var isMobile = useragent.isMobile;
    var TextInput;
    TextInput = function(parentNode, host) {
      var text = dom.createElement("textarea");
      text.className = "ace_text-input";
      text.setAttribute("wrap", "off");
      text.setAttribute("autocorrect", "off");
      text.setAttribute("autocapitalize", "off");
      text.setAttribute("spellcheck", "false");
      text.style.opacity = "0";
      parentNode.insertBefore(text, parentNode.firstChild);
      var copied = false;
      var pasted = false;
      var inComposition = false;
      var sendingText = false;
      var tempStyle = "";
      if (!isMobile)
        text.style.fontSize = "1px";
      var commandMode = false;
      var ignoreFocusEvents = false;
      var lastValue = "";
      var lastSelectionStart = 0;
      var lastSelectionEnd = 0;
      var lastRestoreEnd = 0;
      var rowStart = Number.MAX_SAFE_INTEGER;
      var rowEnd = Number.MIN_SAFE_INTEGER;
      var numberOfExtraLines = 0;
      try {
        var isFocused = document.activeElement === text;
      } catch (e2) {
      }
      this.setNumberOfExtraLines = function(number2) {
        rowStart = Number.MAX_SAFE_INTEGER;
        rowEnd = Number.MIN_SAFE_INTEGER;
        if (number2 < 0) {
          numberOfExtraLines = 0;
          return;
        }
        numberOfExtraLines = number2;
      };
      this.setAriaOptions = function(options) {
        if (options.activeDescendant) {
          text.setAttribute("aria-haspopup", "true");
          text.setAttribute("aria-autocomplete", options.inline ? "both" : "list");
          text.setAttribute("aria-activedescendant", options.activeDescendant);
        } else {
          text.setAttribute("aria-haspopup", "false");
          text.setAttribute("aria-autocomplete", "both");
          text.removeAttribute("aria-activedescendant");
        }
        if (options.role) {
          text.setAttribute("role", options.role);
        }
        if (options.setLabel) {
          text.setAttribute("aria-roledescription", nls("editor"));
          if (host.session) {
            var row = host.session.selection.cursor.row;
            text.setAttribute("aria-label", nls("Cursor at row $0", [row + 1]));
          }
        }
      };
      this.setAriaOptions({ role: "textbox" });
      event2.addListener(text, "blur", function(e2) {
        if (ignoreFocusEvents)
          return;
        host.onBlur(e2);
        isFocused = false;
      }, host);
      event2.addListener(text, "focus", function(e2) {
        if (ignoreFocusEvents)
          return;
        isFocused = true;
        if (useragent.isEdge) {
          try {
            if (!document.hasFocus())
              return;
          } catch (e3) {
          }
        }
        host.onFocus(e2);
        if (useragent.isEdge)
          setTimeout(resetSelection);
        else
          resetSelection();
      }, host);
      this.$focusScroll = false;
      this.focus = function() {
        this.setAriaOptions({
          setLabel: host.renderer.enableKeyboardAccessibility
        });
        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == "browser")
          return text.focus({ preventScroll: true });
        var top2 = text.style.top;
        text.style.position = "fixed";
        text.style.top = "0px";
        try {
          var isTransformed = text.getBoundingClientRect().top != 0;
        } catch (e2) {
          return;
        }
        var ancestors = [];
        if (isTransformed) {
          var t = text.parentElement;
          while (t && t.nodeType == 1) {
            ancestors.push(t);
            t.setAttribute("ace_nocontext", "true");
            if (!t.parentElement && t.getRootNode)
              t = t.getRootNode()["host"];
            else
              t = t.parentElement;
          }
        }
        text.focus({ preventScroll: true });
        if (isTransformed) {
          ancestors.forEach(function(p) {
            p.removeAttribute("ace_nocontext");
          });
        }
        setTimeout(function() {
          text.style.position = "";
          if (text.style.top == "0px")
            text.style.top = top2;
        }, 0);
      };
      this.blur = function() {
        text.blur();
      };
      this.isFocused = function() {
        return isFocused;
      };
      host.on("beforeEndOperation", function() {
        var curOp = host.curOp;
        var commandName = curOp && curOp.command && curOp.command.name;
        if (commandName == "insertstring")
          return;
        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);
        if (inComposition && isUserAction) {
          lastValue = text.value = "";
          onCompositionEnd();
        }
        resetSelection();
      });
      var positionToSelection = function(row, column) {
        var selection = column;
        for (var i = 1; i <= row - rowStart && i < 2 * numberOfExtraLines + 1; i++) {
          selection += host.session.getLine(row - i).length + 1;
        }
        return selection;
      };
      var resetSelection = isIOS ? function(value2) {
        if (!isFocused || copied && !value2 || sendingText)
          return;
        if (!value2)
          value2 = "";
        var newValue = "\n ab" + value2 + "cde fg\n";
        if (newValue != text.value)
          text.value = lastValue = newValue;
        var selectionStart = 4;
        var selectionEnd = 4 + (value2.length || (host.selection.isEmpty() ? 0 : 1));
        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {
          text.setSelectionRange(selectionStart, selectionEnd);
        }
        lastSelectionStart = selectionStart;
        lastSelectionEnd = selectionEnd;
      } : function() {
        if (inComposition || sendingText)
          return;
        if (!isFocused && !afterContextMenu)
          return;
        inComposition = true;
        var selectionStart = 0;
        var selectionEnd = 0;
        var line = "";
        if (host.session) {
          var selection = host.selection;
          var range = selection.getRange();
          var row = selection.cursor.row;
          if (row === rowEnd + 1) {
            rowStart = rowEnd + 1;
            rowEnd = rowStart + 2 * numberOfExtraLines;
          } else if (row === rowStart - 1) {
            rowEnd = rowStart - 1;
            rowStart = rowEnd - 2 * numberOfExtraLines;
          } else if (row < rowStart - 1 || row > rowEnd + 1) {
            rowStart = row > numberOfExtraLines ? row - numberOfExtraLines : 0;
            rowEnd = row > numberOfExtraLines ? row + numberOfExtraLines : 2 * numberOfExtraLines;
          }
          var lines = [];
          for (var i = rowStart; i <= rowEnd; i++) {
            lines.push(host.session.getLine(i));
          }
          line = lines.join("\n");
          selectionStart = positionToSelection(range.start.row, range.start.column);
          selectionEnd = positionToSelection(range.end.row, range.end.column);
          if (range.start.row < rowStart) {
            var prevLine = host.session.getLine(rowStart - 1);
            selectionStart = range.start.row < rowStart - 1 ? 0 : selectionStart;
            selectionEnd += prevLine.length + 1;
            line = prevLine + "\n" + line;
          } else if (range.end.row > rowEnd) {
            var nextLine = host.session.getLine(rowEnd + 1);
            selectionEnd = range.end.row > rowEnd + 1 ? nextLine.length : range.end.column;
            selectionEnd += line.length + 1;
            line = line + "\n" + nextLine;
          } else if (isMobile && row > 0) {
            line = "\n" + line;
            selectionEnd += 1;
            selectionStart += 1;
          }
          if (line.length > MAX_LINE_LENGTH) {
            if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {
              line = line.slice(0, MAX_LINE_LENGTH);
            } else {
              line = "\n";
              if (selectionStart == selectionEnd) {
                selectionStart = selectionEnd = 0;
              } else {
                selectionStart = 0;
                selectionEnd = 1;
              }
            }
          }
          var newValue = line + "\n\n";
          if (newValue != lastValue) {
            text.value = lastValue = newValue;
            lastSelectionStart = lastSelectionEnd = newValue.length;
          }
        }
        if (afterContextMenu) {
          lastSelectionStart = text.selectionStart;
          lastSelectionEnd = text.selectionEnd;
        }
        if (lastSelectionEnd != selectionEnd || lastSelectionStart != selectionStart || text.selectionEnd != lastSelectionEnd) {
          try {
            text.setSelectionRange(selectionStart, selectionEnd);
            lastSelectionStart = selectionStart;
            lastSelectionEnd = selectionEnd;
          } catch (e2) {
          }
        }
        inComposition = false;
      };
      this.resetSelection = resetSelection;
      if (isFocused)
        host.onFocus();
      var isAllSelected = function(text2) {
        return text2.selectionStart === 0 && text2.selectionEnd >= lastValue.length && text2.value === lastValue && lastValue && text2.selectionEnd !== lastSelectionEnd;
      };
      var onSelect = function(e2) {
        if (inComposition)
          return;
        if (copied) {
          copied = false;
        } else if (isAllSelected(text)) {
          host.selectAll();
          resetSelection();
        } else if (isMobile && text.selectionStart != lastSelectionStart) {
          resetSelection();
        }
      };
      var inputHandler = null;
      this.setInputHandler = function(cb) {
        inputHandler = cb;
      };
      this.getInputHandler = function() {
        return inputHandler;
      };
      var afterContextMenu = false;
      var sendText = function(value2, fromInput) {
        if (afterContextMenu)
          afterContextMenu = false;
        if (pasted) {
          resetSelection();
          if (value2)
            host.onPaste(value2);
          pasted = false;
          return "";
        } else {
          var selectionStart = text.selectionStart;
          var selectionEnd = text.selectionEnd;
          var extendLeft = lastSelectionStart;
          var extendRight = lastValue.length - lastSelectionEnd;
          var inserted = value2;
          var restoreStart = value2.length - selectionStart;
          var restoreEnd = value2.length - selectionEnd;
          var i = 0;
          while (extendLeft > 0 && lastValue[i] == value2[i]) {
            i++;
            extendLeft--;
          }
          inserted = inserted.slice(i);
          i = 1;
          while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value2[value2.length - i]) {
            i++;
            extendRight--;
          }
          restoreStart -= i - 1;
          restoreEnd -= i - 1;
          var endIndex = inserted.length - i + 1;
          if (endIndex < 0) {
            extendLeft = -endIndex;
            endIndex = 0;
          }
          inserted = inserted.slice(0, endIndex);
          if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)
            return "";
          sendingText = true;
          var shouldReset = false;
          if (useragent.isAndroid && inserted == ". ") {
            inserted = "  ";
            shouldReset = true;
          }
          if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {
            host.onTextInput(inserted);
          } else {
            host.onTextInput(inserted, {
              extendLeft,
              extendRight,
              restoreStart,
              restoreEnd
            });
          }
          sendingText = false;
          lastValue = value2;
          lastSelectionStart = selectionStart;
          lastSelectionEnd = selectionEnd;
          lastRestoreEnd = restoreEnd;
          return shouldReset ? "\n" : inserted;
        }
      };
      var onInput = function(e2) {
        if (inComposition)
          return onCompositionUpdate();
        if (e2 && e2.inputType) {
          if (e2.inputType == "historyUndo")
            return host.execCommand("undo");
          if (e2.inputType == "historyRedo")
            return host.execCommand("redo");
        }
        var data = text.value;
        var inserted = sendText(data, true);
        if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted) || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {
          resetSelection();
        }
      };
      var handleClipboardData = function(e2, data, forceIEMime) {
        var clipboardData = e2.clipboardData || window["clipboardData"];
        if (!clipboardData || BROKEN_SETDATA)
          return;
        var mime = USE_IE_MIME_TYPE || forceIEMime ? "Text" : "text/plain";
        try {
          if (data) {
            return clipboardData.setData(mime, data) !== false;
          } else {
            return clipboardData.getData(mime);
          }
        } catch (e3) {
          if (!forceIEMime)
            return handleClipboardData(e3, data, true);
        }
      };
      var doCopy = function(e2, isCut) {
        var data = host.getCopyText();
        if (!data)
          return event2.preventDefault(e2);
        if (handleClipboardData(e2, data)) {
          if (isIOS) {
            resetSelection(data);
            copied = data;
            setTimeout(function() {
              copied = false;
            }, 10);
          }
          isCut ? host.onCut() : host.onCopy();
          event2.preventDefault(e2);
        } else {
          copied = true;
          text.value = data;
          text.select();
          setTimeout(function() {
            copied = false;
            resetSelection();
            isCut ? host.onCut() : host.onCopy();
          });
        }
      };
      var onCut = function(e2) {
        doCopy(e2, true);
      };
      var onCopy = function(e2) {
        doCopy(e2, false);
      };
      var onPaste = function(e2) {
        var data = handleClipboardData(e2);
        if (clipboard2.pasteCancelled())
          return;
        if (typeof data == "string") {
          if (data)
            host.onPaste(data, e2);
          if (useragent.isIE)
            setTimeout(resetSelection);
          event2.preventDefault(e2);
        } else {
          text.value = "";
          pasted = true;
        }
      };
      event2.addCommandKeyListener(text, function(e2, hashId, keyCode) {
        if (inComposition)
          return;
        return host.onCommandKey(e2, hashId, keyCode);
      }, host);
      event2.addListener(text, "select", onSelect, host);
      event2.addListener(text, "input", onInput, host);
      event2.addListener(text, "cut", onCut, host);
      event2.addListener(text, "copy", onCopy, host);
      event2.addListener(text, "paste", onPaste, host);
      if (!("oncut" in text) || !("oncopy" in text) || !("onpaste" in text)) {
        event2.addListener(parentNode, "keydown", function(e2) {
          if (useragent.isMac && !e2.metaKey || !e2.ctrlKey)
            return;
          switch (e2.keyCode) {
            case 67:
              onCopy(e2);
              break;
            case 86:
              onPaste(e2);
              break;
            case 88:
              onCut(e2);
              break;
          }
        }, host);
      }
      var onCompositionStart = function(e2) {
        if (inComposition || !host.onCompositionStart || host.$readOnly)
          return;
        inComposition = {};
        if (commandMode)
          return;
        if (e2.data)
          inComposition.useTextareaForIME = false;
        setTimeout(onCompositionUpdate, 0);
        host._signal("compositionStart");
        host.on("mousedown", cancelComposition);
        var range = host.getSelectionRange();
        range.end.row = range.start.row;
        range.end.column = range.start.column;
        inComposition.markerRange = range;
        inComposition.selectionStart = lastSelectionStart;
        host.onCompositionStart(inComposition);
        if (inComposition.useTextareaForIME) {
          lastValue = text.value = "";
          lastSelectionStart = 0;
          lastSelectionEnd = 0;
        } else {
          if (text.msGetInputContext)
            inComposition.context = text.msGetInputContext();
          if (text.getInputContext)
            inComposition.context = text.getInputContext();
        }
      };
      var onCompositionUpdate = function() {
        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
          return;
        if (commandMode)
          return cancelComposition();
        if (inComposition.useTextareaForIME) {
          host.onCompositionUpdate(text.value);
        } else {
          var data = text.value;
          sendText(data);
          if (inComposition.markerRange) {
            if (inComposition.context) {
              inComposition.markerRange.start.column = inComposition.selectionStart = inComposition.context.compositionStartOffset;
            }
            inComposition.markerRange.end.column = inComposition.markerRange.start.column + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;
          }
        }
      };
      var onCompositionEnd = function(e2) {
        if (!host.onCompositionEnd || host.$readOnly)
          return;
        inComposition = false;
        host.onCompositionEnd();
        host.off("mousedown", cancelComposition);
        if (e2)
          onInput();
      };
      function cancelComposition() {
        ignoreFocusEvents = true;
        text.blur();
        text.focus();
        ignoreFocusEvents = false;
      }
      var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);
      function onKeyup(e2) {
        if (e2.keyCode == 27 && text.value.length < text.selectionStart) {
          if (!inComposition)
            lastValue = text.value;
          lastSelectionStart = lastSelectionEnd = -1;
          resetSelection();
        }
        syncComposition();
      }
      event2.addListener(text, "compositionstart", onCompositionStart, host);
      event2.addListener(text, "compositionupdate", onCompositionUpdate, host);
      event2.addListener(text, "keyup", onKeyup, host);
      event2.addListener(text, "keydown", syncComposition, host);
      event2.addListener(text, "compositionend", onCompositionEnd, host);
      this.getElement = function() {
        return text;
      };
      this.setCommandMode = function(value2) {
        commandMode = value2;
        text.readOnly = false;
      };
      this.setReadOnly = function(readOnly) {
        if (!commandMode)
          text.readOnly = readOnly;
      };
      this.setCopyWithEmptySelection = function(value2) {
      };
      this.onContextMenu = function(e2) {
        afterContextMenu = true;
        resetSelection();
        host._emit("nativecontextmenu", { target: host, domEvent: e2 });
        this.moveToMouse(e2, true);
      };
      this.moveToMouse = function(e2, bringToFront) {
        if (!tempStyle)
          tempStyle = text.style.cssText;
        text.style.cssText = (bringToFront ? "z-index:100000;" : "") + (useragent.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + "px;";
        var rect = host.container.getBoundingClientRect();
        var style = dom.computedStyle(host.container);
        var top2 = rect.top + (parseInt(style.borderTopWidth) || 0);
        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
        var maxTop = rect.bottom - top2 - text.clientHeight - 2;
        var move2 = function(e3) {
          dom.translate(text, e3.clientX - left - 2, Math.min(e3.clientY - top2 - 2, maxTop));
        };
        move2(e2);
        if (e2.type != "mousedown")
          return;
        host.renderer.$isMousePressed = true;
        clearTimeout(closeTimeout);
        if (useragent.isWin)
          event2.capture(host.container, move2, onContextMenuClose);
      };
      this.onContextMenuClose = onContextMenuClose;
      var closeTimeout;
      function onContextMenuClose() {
        clearTimeout(closeTimeout);
        closeTimeout = setTimeout(function() {
          if (tempStyle) {
            text.style.cssText = tempStyle;
            tempStyle = "";
          }
          host.renderer.$isMousePressed = false;
          if (host.renderer.$keepTextAreaAtCursor)
            host.renderer.$moveTextAreaToCursor();
        }, 0);
      }
      var onContextMenu = function(e2) {
        host.textInput.onContextMenu(e2);
        onContextMenuClose();
      };
      event2.addListener(text, "mouseup", onContextMenu, host);
      event2.addListener(text, "mousedown", function(e2) {
        e2.preventDefault();
        onContextMenuClose();
      }, host);
      event2.addListener(host.renderer.scroller, "contextmenu", onContextMenu, host);
      event2.addListener(text, "contextmenu", onContextMenu, host);
      if (isIOS)
        addIosSelectionHandler(parentNode, host, text);
      function addIosSelectionHandler(parentNode2, host2, text2) {
        var typingResetTimeout = null;
        var typing = false;
        text2.addEventListener("keydown", function(e2) {
          if (typingResetTimeout)
            clearTimeout(typingResetTimeout);
          typing = true;
        }, true);
        text2.addEventListener("keyup", function(e2) {
          typingResetTimeout = setTimeout(function() {
            typing = false;
          }, 100);
        }, true);
        var detectArrowKeys = function(e2) {
          if (document.activeElement !== text2)
            return;
          if (typing || inComposition || host2.$mouseHandler.isMousePressed)
            return;
          if (copied) {
            return;
          }
          var selectionStart = text2.selectionStart;
          var selectionEnd = text2.selectionEnd;
          var key = null;
          var modifier = 0;
          if (selectionStart == 0) {
            key = KEYS.up;
          } else if (selectionStart == 1) {
            key = KEYS.home;
          } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == "\n") {
            key = KEYS.end;
          } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == " ") {
            key = KEYS.left;
            modifier = MODS.option;
          } else if (selectionStart < lastSelectionStart || selectionStart == lastSelectionStart && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
            key = KEYS.left;
          } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split("\n").length > 2) {
            key = KEYS.down;
          } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == " ") {
            key = KEYS.right;
            modifier = MODS.option;
          } else if (selectionEnd > lastSelectionEnd || selectionEnd == lastSelectionEnd && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
            key = KEYS.right;
          }
          if (selectionStart !== selectionEnd)
            modifier |= MODS.shift;
          if (key) {
            var result2 = host2.onCommandKey({}, modifier, key);
            if (!result2 && host2.commands) {
              key = KEYS.keyCodeToString(key);
              var command = host2.commands.findKeyCommand(modifier, key);
              if (command)
                host2.execCommand(command);
            }
            lastSelectionStart = selectionStart;
            lastSelectionEnd = selectionEnd;
            resetSelection("");
          }
        };
        document.addEventListener("selectionchange", detectArrowKeys);
        host2.on("destroy", function() {
          document.removeEventListener("selectionchange", detectArrowKeys);
        });
      }
      this.destroy = function() {
        if (text.parentElement)
          text.parentElement.removeChild(text);
      };
    };
    exports2.TextInput = TextInput;
    exports2.$setUserAgentForTests = function(_isMobile, _isIOS) {
      isMobile = _isMobile;
      isIOS = _isIOS;
    };
  });
  ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], function(require2, exports2, module2) {
    var useragent = require2("../lib/useragent");
    var DRAG_OFFSET = 0;
    var SCROLL_COOLDOWN_T = 550;
    var DefaultHandlers = (
      /** @class */
      function() {
        function DefaultHandlers2(mouseHandler) {
          mouseHandler.$clickSelection = null;
          var editor = mouseHandler.editor;
          editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
          editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
          editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
          editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
          editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));
          var exports3 = [
            "select",
            "startSelect",
            "selectEnd",
            "selectAllEnd",
            "selectByWordsEnd",
            "selectByLinesEnd",
            "dragWait",
            "dragWaitEnd",
            "focusWait"
          ];
          exports3.forEach(function(x) {
            mouseHandler[x] = this[x];
          }, this);
          mouseHandler["selectByLines"] = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
          mouseHandler["selectByWords"] = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
        }
        DefaultHandlers2.prototype.onMouseDown = function(ev) {
          var inSelection = ev.inSelection();
          var pos = ev.getDocumentPosition();
          this.mousedownEvent = ev;
          var editor = this.editor;
          var button2 = ev.getButton();
          if (button2 !== 0) {
            var selectionRange = editor.getSelectionRange();
            var selectionEmpty = selectionRange.isEmpty();
            if (selectionEmpty || button2 == 1)
              editor.selection.moveToPosition(pos);
            if (button2 == 2) {
              editor.textInput.onContextMenu(ev.domEvent);
              if (!useragent.isMozilla)
                ev.preventDefault();
            }
            return;
          }
          this.mousedownEvent.time = Date.now();
          if (inSelection && !editor.isFocused()) {
            editor.focus();
            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {
              this.setState("focusWait");
              this.captureMouse(ev);
              return;
            }
          }
          this.captureMouse(ev);
          this.startSelect(pos, ev.domEvent._clicks > 1);
          return ev.preventDefault();
        };
        DefaultHandlers2.prototype.startSelect = function(pos, waitForClickSelection) {
          pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
          var editor = this.editor;
          if (!this.mousedownEvent)
            return;
          if (this.mousedownEvent.getShiftKey())
            editor.selection.selectToPosition(pos);
          else if (!waitForClickSelection)
            editor.selection.moveToPosition(pos);
          if (!waitForClickSelection)
            this.select();
          editor.setStyle("ace_selecting");
          this.setState("select");
        };
        DefaultHandlers2.prototype.select = function() {
          var anchor, editor = this.editor;
          var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
          if (this.$clickSelection) {
            var cmp = this.$clickSelection.comparePoint(cursor);
            if (cmp == -1) {
              anchor = this.$clickSelection.end;
            } else if (cmp == 1) {
              anchor = this.$clickSelection.start;
            } else {
              var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
              cursor = orientedRange.cursor;
              anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
          }
          editor.selection.selectToPosition(cursor);
          editor.renderer.scrollCursorIntoView();
        };
        DefaultHandlers2.prototype.extendSelectionBy = function(unitName) {
          var anchor, editor = this.editor;
          var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
          var range = editor.selection[unitName](cursor.row, cursor.column);
          if (this.$clickSelection) {
            var cmpStart = this.$clickSelection.comparePoint(range.start);
            var cmpEnd = this.$clickSelection.comparePoint(range.end);
            if (cmpStart == -1 && cmpEnd <= 0) {
              anchor = this.$clickSelection.end;
              if (range.end.row != cursor.row || range.end.column != cursor.column)
                cursor = range.start;
            } else if (cmpEnd == 1 && cmpStart >= 0) {
              anchor = this.$clickSelection.start;
              if (range.start.row != cursor.row || range.start.column != cursor.column)
                cursor = range.end;
            } else if (cmpStart == -1 && cmpEnd == 1) {
              cursor = range.end;
              anchor = range.start;
            } else {
              var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
              cursor = orientedRange.cursor;
              anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
          }
          editor.selection.selectToPosition(cursor);
          editor.renderer.scrollCursorIntoView();
        };
        DefaultHandlers2.prototype.selectByLinesEnd = function() {
          this.$clickSelection = null;
          this.editor.unsetStyle("ace_selecting");
        };
        DefaultHandlers2.prototype.focusWait = function() {
          var distance2 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
          var time2 = Date.now();
          if (distance2 > DRAG_OFFSET || time2 - this.mousedownEvent.time > this.$focusTimeout)
            this.startSelect(this.mousedownEvent.getDocumentPosition());
        };
        DefaultHandlers2.prototype.onDoubleClick = function(ev) {
          var pos = ev.getDocumentPosition();
          var editor = this.editor;
          var session = editor.session;
          var range = session.getBracketRange(pos);
          if (range) {
            if (range.isEmpty()) {
              range.start.column--;
              range.end.column++;
            }
            this.setState("select");
          } else {
            range = editor.selection.getWordRange(pos.row, pos.column);
            this.setState("selectByWords");
          }
          this.$clickSelection = range;
          this.select();
        };
        DefaultHandlers2.prototype.onTripleClick = function(ev) {
          var pos = ev.getDocumentPosition();
          var editor = this.editor;
          this.setState("selectByLines");
          var range = editor.getSelectionRange();
          if (range.isMultiLine() && range.contains(pos.row, pos.column)) {
            this.$clickSelection = editor.selection.getLineRange(range.start.row);
            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;
          } else {
            this.$clickSelection = editor.selection.getLineRange(pos.row);
          }
          this.select();
        };
        DefaultHandlers2.prototype.onQuadClick = function(ev) {
          var editor = this.editor;
          editor.selectAll();
          this.$clickSelection = editor.getSelectionRange();
          this.setState("selectAll");
        };
        DefaultHandlers2.prototype.onMouseWheel = function(ev) {
          if (ev.getAccelKey())
            return;
          if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {
            ev.wheelX = ev.wheelY;
            ev.wheelY = 0;
          }
          var editor = this.editor;
          if (!this.$lastScroll)
            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };
          var prevScroll = this.$lastScroll;
          var t = ev.domEvent.timeStamp;
          var dt = t - prevScroll.t;
          var vx = dt ? ev.wheelX / dt : prevScroll.vx;
          var vy = dt ? ev.wheelY / dt : prevScroll.vy;
          if (dt < SCROLL_COOLDOWN_T) {
            vx = (vx + prevScroll.vx) / 2;
            vy = (vy + prevScroll.vy) / 2;
          }
          var direction = Math.abs(vx / vy);
          var canScroll = false;
          if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))
            canScroll = true;
          if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))
            canScroll = true;
          if (canScroll) {
            prevScroll.allowed = t;
          } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {
            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);
            if (isSlower) {
              canScroll = true;
              prevScroll.allowed = t;
            } else {
              prevScroll.allowed = 0;
            }
          }
          prevScroll.t = t;
          prevScroll.vx = vx;
          prevScroll.vy = vy;
          if (canScroll) {
            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
            return ev.stop();
          }
        };
        return DefaultHandlers2;
      }()
    );
    DefaultHandlers.prototype.selectEnd = DefaultHandlers.prototype.selectByLinesEnd;
    DefaultHandlers.prototype.selectAllEnd = DefaultHandlers.prototype.selectByLinesEnd;
    DefaultHandlers.prototype.selectByWordsEnd = DefaultHandlers.prototype.selectByLinesEnd;
    exports2.DefaultHandlers = DefaultHandlers;
    function calcDistance(ax, ay, bx, by) {
      return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
    }
    function calcRangeOrientation(range, cursor) {
      if (range.start.row == range.end.row)
        var cmp = 2 * cursor.column - range.start.column - range.end.column;
      else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
        var cmp = cursor.column - 4;
      else
        var cmp = 2 * cursor.row - range.start.row - range.end.row;
      if (cmp < 0)
        return { cursor: range.start, anchor: range.end };
      else
        return { cursor: range.end, anchor: range.start };
    }
  });
  ace.define("ace/lib/scroll", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.preventParentScroll = function preventParentScroll(event2) {
      event2.stopPropagation();
      var target = event2.currentTarget;
      var contentOverflows = target.scrollHeight > target.clientHeight;
      if (!contentOverflows) {
        event2.preventDefault();
      }
    };
  });
  ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/lib/scroll"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __values = this && this.__values || function(o) {
      var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
      if (m)
        return m.call(o);
      if (o && typeof o.length === "number")
        return {
          next: function() {
            if (o && i >= o.length)
              o = void 0;
            return { value: o && o[i++], done: !o };
          }
        };
      throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    var dom = require2("./lib/dom");
    require2("./lib/event");
    var Range = require2("./range").Range;
    var preventParentScroll = require2("./lib/scroll").preventParentScroll;
    var CLASSNAME = "ace_tooltip";
    var Tooltip = (
      /** @class */
      function() {
        function Tooltip2(parentNode) {
          this.isOpen = false;
          this.$element = null;
          this.$parentNode = parentNode;
        }
        Tooltip2.prototype.$init = function() {
          this.$element = dom.createElement("div");
          this.$element.className = CLASSNAME;
          this.$element.style.display = "none";
          this.$parentNode.appendChild(this.$element);
          return this.$element;
        };
        Tooltip2.prototype.getElement = function() {
          return this.$element || this.$init();
        };
        Tooltip2.prototype.setText = function(text) {
          this.getElement().textContent = text;
        };
        Tooltip2.prototype.setHtml = function(html) {
          this.getElement().innerHTML = html;
        };
        Tooltip2.prototype.setPosition = function(x, y) {
          this.getElement().style.left = x + "px";
          this.getElement().style.top = y + "px";
        };
        Tooltip2.prototype.setClassName = function(className) {
          dom.addCssClass(this.getElement(), className);
        };
        Tooltip2.prototype.setTheme = function(theme) {
          this.$element.className = CLASSNAME + " " + (theme.isDark ? "ace_dark " : "") + (theme.cssClass || "");
        };
        Tooltip2.prototype.show = function(text, x, y) {
          if (text != null)
            this.setText(text);
          if (x != null && y != null)
            this.setPosition(x, y);
          if (!this.isOpen) {
            this.getElement().style.display = "block";
            this.isOpen = true;
          }
        };
        Tooltip2.prototype.hide = function(e2) {
          if (this.isOpen) {
            this.getElement().style.display = "none";
            this.getElement().className = CLASSNAME;
            this.isOpen = false;
          }
        };
        Tooltip2.prototype.getHeight = function() {
          return this.getElement().offsetHeight;
        };
        Tooltip2.prototype.getWidth = function() {
          return this.getElement().offsetWidth;
        };
        Tooltip2.prototype.destroy = function() {
          this.isOpen = false;
          if (this.$element && this.$element.parentNode) {
            this.$element.parentNode.removeChild(this.$element);
          }
        };
        return Tooltip2;
      }()
    );
    var PopupManager = (
      /** @class */
      function() {
        function PopupManager2() {
          this.popups = [];
        }
        PopupManager2.prototype.addPopup = function(popup) {
          this.popups.push(popup);
          this.updatePopups();
        };
        PopupManager2.prototype.removePopup = function(popup) {
          var index2 = this.popups.indexOf(popup);
          if (index2 !== -1) {
            this.popups.splice(index2, 1);
            this.updatePopups();
          }
        };
        PopupManager2.prototype.updatePopups = function() {
          var e_1, _a, e_2, _b;
          this.popups.sort(function(a, b) {
            return b.priority - a.priority;
          });
          var visiblepopups = [];
          try {
            for (var _c = __values(this.popups), _d = _c.next(); !_d.done; _d = _c.next()) {
              var popup = _d.value;
              var shouldDisplay = true;
              try {
                for (var visiblepopups_1 = (e_2 = void 0, __values(visiblepopups)), visiblepopups_1_1 = visiblepopups_1.next(); !visiblepopups_1_1.done; visiblepopups_1_1 = visiblepopups_1.next()) {
                  var visiblePopup = visiblepopups_1_1.value;
                  if (this.doPopupsOverlap(visiblePopup, popup)) {
                    shouldDisplay = false;
                    break;
                  }
                }
              } catch (e_2_1) {
                e_2 = { error: e_2_1 };
              } finally {
                try {
                  if (visiblepopups_1_1 && !visiblepopups_1_1.done && (_b = visiblepopups_1.return))
                    _b.call(visiblepopups_1);
                } finally {
                  if (e_2)
                    throw e_2.error;
                }
              }
              if (shouldDisplay) {
                visiblepopups.push(popup);
              } else {
                popup.hide();
              }
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (_d && !_d.done && (_a = _c.return))
                _a.call(_c);
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
        };
        PopupManager2.prototype.doPopupsOverlap = function(popupA, popupB) {
          var rectA = popupA.getElement().getBoundingClientRect();
          var rectB = popupB.getElement().getBoundingClientRect();
          return rectA.left < rectB.right && rectA.right > rectB.left && rectA.top < rectB.bottom && rectA.bottom > rectB.top;
        };
        return PopupManager2;
      }()
    );
    var popupManager = new PopupManager();
    exports2.popupManager = popupManager;
    exports2.Tooltip = Tooltip;
    var HoverTooltip = (
      /** @class */
      function(_super) {
        __extends(HoverTooltip2, _super);
        function HoverTooltip2(parentNode) {
          if (parentNode === void 0) {
            parentNode = document.body;
          }
          var _this = _super.call(this, parentNode) || this;
          _this.timeout = void 0;
          _this.lastT = 0;
          _this.idleTime = 350;
          _this.lastEvent = void 0;
          _this.onMouseOut = _this.onMouseOut.bind(_this);
          _this.onMouseMove = _this.onMouseMove.bind(_this);
          _this.waitForHover = _this.waitForHover.bind(_this);
          _this.hide = _this.hide.bind(_this);
          var el = _this.getElement();
          el.style.whiteSpace = "pre-wrap";
          el.style.pointerEvents = "auto";
          el.addEventListener("mouseout", _this.onMouseOut);
          el.tabIndex = -1;
          el.addEventListener("blur", (function() {
            if (!el.contains(document.activeElement))
              this.hide();
          }).bind(_this));
          el.addEventListener("wheel", preventParentScroll);
          return _this;
        }
        HoverTooltip2.prototype.addToEditor = function(editor) {
          editor.on("mousemove", this.onMouseMove);
          editor.on("mousedown", this.hide);
          editor.renderer.getMouseEventTarget().addEventListener("mouseout", this.onMouseOut, true);
        };
        HoverTooltip2.prototype.removeFromEditor = function(editor) {
          editor.off("mousemove", this.onMouseMove);
          editor.off("mousedown", this.hide);
          editor.renderer.getMouseEventTarget().removeEventListener("mouseout", this.onMouseOut, true);
          if (this.timeout) {
            clearTimeout(this.timeout);
            this.timeout = null;
          }
        };
        HoverTooltip2.prototype.onMouseMove = function(e2, editor) {
          this.lastEvent = e2;
          this.lastT = Date.now();
          var isMousePressed = editor.$mouseHandler.isMousePressed;
          if (this.isOpen) {
            var pos = this.lastEvent && this.lastEvent.getDocumentPosition();
            if (!this.range || !this.range.contains(pos.row, pos.column) || isMousePressed || this.isOutsideOfText(this.lastEvent)) {
              this.hide();
            }
          }
          if (this.timeout || isMousePressed)
            return;
          this.lastEvent = e2;
          this.timeout = setTimeout(this.waitForHover, this.idleTime);
        };
        HoverTooltip2.prototype.waitForHover = function() {
          if (this.timeout)
            clearTimeout(this.timeout);
          var dt = Date.now() - this.lastT;
          if (this.idleTime - dt > 10) {
            this.timeout = setTimeout(this.waitForHover, this.idleTime - dt);
            return;
          }
          this.timeout = null;
          if (this.lastEvent && !this.isOutsideOfText(this.lastEvent)) {
            this.$gatherData(this.lastEvent, this.lastEvent.editor);
          }
        };
        HoverTooltip2.prototype.isOutsideOfText = function(e2) {
          var editor = e2.editor;
          var docPos = e2.getDocumentPosition();
          var line = editor.session.getLine(docPos.row);
          if (docPos.column == line.length) {
            var screenPos = editor.renderer.pixelToScreenCoordinates(e2.clientX, e2.clientY);
            var clippedPos = editor.session.documentToScreenPosition(docPos.row, docPos.column);
            if (clippedPos.column != screenPos.column || clippedPos.row != screenPos.row) {
              return true;
            }
          }
          return false;
        };
        HoverTooltip2.prototype.setDataProvider = function(value2) {
          this.$gatherData = value2;
        };
        HoverTooltip2.prototype.showForRange = function(editor, range, domNode, startingEvent) {
          var MARGIN = 10;
          if (startingEvent && startingEvent != this.lastEvent)
            return;
          if (this.isOpen && document.activeElement == this.getElement())
            return;
          var renderer = editor.renderer;
          if (!this.isOpen) {
            popupManager.addPopup(this);
            this.$registerCloseEvents();
            this.setTheme(renderer.theme);
          }
          this.isOpen = true;
          this.addMarker(range, editor.session);
          this.range = Range.fromPoints(range.start, range.end);
          var position = renderer.textToScreenCoordinates(range.start.row, range.start.column);
          var rect = renderer.scroller.getBoundingClientRect();
          if (position.pageX < rect.left)
            position.pageX = rect.left;
          var element = this.getElement();
          element.innerHTML = "";
          element.appendChild(domNode);
          element.style.maxHeight = "";
          element.style.display = "block";
          var labelHeight = element.clientHeight;
          var labelWidth = element.clientWidth;
          var spaceBelow = window.innerHeight - position.pageY - renderer.lineHeight;
          var isAbove = true;
          if (position.pageY - labelHeight < 0 && position.pageY < spaceBelow) {
            isAbove = false;
          }
          element.style.maxHeight = (isAbove ? position.pageY : spaceBelow) - MARGIN + "px";
          element.style.top = isAbove ? "" : position.pageY + renderer.lineHeight + "px";
          element.style.bottom = isAbove ? window.innerHeight - position.pageY + "px" : "";
          element.style.left = Math.min(position.pageX, window.innerWidth - labelWidth - MARGIN) + "px";
        };
        HoverTooltip2.prototype.addMarker = function(range, session) {
          if (this.marker) {
            this.$markerSession.removeMarker(this.marker);
          }
          this.$markerSession = session;
          this.marker = session && session.addMarker(range, "ace_highlight-marker", "text");
        };
        HoverTooltip2.prototype.hide = function(e2) {
          if (!e2 && document.activeElement == this.getElement())
            return;
          if (e2 && e2.target && (e2.type != "keydown" || e2.ctrlKey || e2.metaKey) && this.$element.contains(e2.target))
            return;
          this.lastEvent = null;
          if (this.timeout)
            clearTimeout(this.timeout);
          this.timeout = null;
          this.addMarker(null);
          if (this.isOpen) {
            this.$removeCloseEvents();
            this.getElement().style.display = "none";
            this.isOpen = false;
            popupManager.removePopup(this);
          }
        };
        HoverTooltip2.prototype.$registerCloseEvents = function() {
          window.addEventListener("keydown", this.hide, true);
          window.addEventListener("wheel", this.hide, true);
          window.addEventListener("mousedown", this.hide, true);
        };
        HoverTooltip2.prototype.$removeCloseEvents = function() {
          window.removeEventListener("keydown", this.hide, true);
          window.removeEventListener("wheel", this.hide, true);
          window.removeEventListener("mousedown", this.hide, true);
        };
        HoverTooltip2.prototype.onMouseOut = function(e2) {
          if (this.timeout) {
            clearTimeout(this.timeout);
            this.timeout = null;
          }
          this.lastEvent = null;
          if (!this.isOpen)
            return;
          if (!e2.relatedTarget || this.getElement().contains(e2.relatedTarget))
            return;
          if (e2 && e2.currentTarget.contains(e2.relatedTarget))
            return;
          if (!e2.relatedTarget.classList.contains("ace_content"))
            this.hide();
        };
        return HoverTooltip2;
      }(Tooltip)
    );
    exports2.HoverTooltip = HoverTooltip;
  });
  ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/tooltip", "ace/config"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __values = this && this.__values || function(o) {
      var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
      if (m)
        return m.call(o);
      if (o && typeof o.length === "number")
        return {
          next: function() {
            if (o && i >= o.length)
              o = void 0;
            return { value: o && o[i++], done: !o };
          }
        };
      throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    var dom = require2("../lib/dom");
    var event2 = require2("../lib/event");
    var Tooltip = require2("../tooltip").Tooltip;
    var nls = require2("../config").nls;
    function GutterHandler(mouseHandler) {
      var editor = mouseHandler.editor;
      var gutter = editor.renderer.$gutterLayer;
      var tooltip = new GutterTooltip(editor);
      mouseHandler.editor.setDefaultHandler("guttermousedown", function(e2) {
        if (!editor.isFocused() || e2.getButton() != 0)
          return;
        var gutterRegion = gutter.getRegion(e2);
        if (gutterRegion == "foldWidgets")
          return;
        var row = e2.getDocumentPosition().row;
        var selection = editor.session.selection;
        if (e2.getShiftKey())
          selection.selectTo(row, 0);
        else {
          if (e2.domEvent.detail == 2) {
            editor.selectAll();
            return e2.preventDefault();
          }
          mouseHandler.$clickSelection = editor.selection.getLineRange(row);
        }
        mouseHandler.setState("selectByLines");
        mouseHandler.captureMouse(e2);
        return e2.preventDefault();
      });
      var tooltipTimeout, mouseEvent;
      function showTooltip() {
        var row = mouseEvent.getDocumentPosition().row;
        var maxRow = editor.session.getLength();
        if (row == maxRow) {
          var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
          var pos = mouseEvent.$pos;
          if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
            return hideTooltip();
        }
        tooltip.showTooltip(row);
        if (!tooltip.isOpen)
          return;
        editor.on("mousewheel", hideTooltip);
        if (mouseHandler.$tooltipFollowsMouse) {
          moveTooltip(mouseEvent);
        } else {
          var gutterRow = mouseEvent.getGutterRow();
          var gutterCell = gutter.$lines.get(gutterRow);
          if (gutterCell) {
            var gutterElement = gutterCell.element.querySelector(".ace_gutter_annotation");
            var rect = gutterElement.getBoundingClientRect();
            var style = tooltip.getElement().style;
            style.left = rect.right + "px";
            style.top = rect.bottom + "px";
          } else {
            moveTooltip(mouseEvent);
          }
        }
      }
      function hideTooltip() {
        if (tooltipTimeout)
          tooltipTimeout = clearTimeout(tooltipTimeout);
        if (tooltip.isOpen) {
          tooltip.hideTooltip();
          editor.off("mousewheel", hideTooltip);
        }
      }
      function moveTooltip(e2) {
        tooltip.setPosition(e2.x, e2.y);
      }
      mouseHandler.editor.setDefaultHandler("guttermousemove", function(e2) {
        var target = e2.domEvent.target || e2.domEvent.srcElement;
        if (dom.hasCssClass(target, "ace_fold-widget"))
          return hideTooltip();
        if (tooltip.isOpen && mouseHandler.$tooltipFollowsMouse)
          moveTooltip(e2);
        mouseEvent = e2;
        if (tooltipTimeout)
          return;
        tooltipTimeout = setTimeout(function() {
          tooltipTimeout = null;
          if (mouseEvent && !mouseHandler.isMousePressed)
            showTooltip();
          else
            hideTooltip();
        }, 50);
      });
      event2.addListener(editor.renderer.$gutter, "mouseout", function(e2) {
        mouseEvent = null;
        if (!tooltip.isOpen || tooltipTimeout)
          return;
        tooltipTimeout = setTimeout(function() {
          tooltipTimeout = null;
          hideTooltip();
        }, 50);
      }, editor);
      editor.on("changeSession", hideTooltip);
      editor.on("input", hideTooltip);
    }
    exports2.GutterHandler = GutterHandler;
    var GutterTooltip = (
      /** @class */
      function(_super) {
        __extends(GutterTooltip2, _super);
        function GutterTooltip2(editor) {
          var _this = _super.call(this, editor.container) || this;
          _this.editor = editor;
          return _this;
        }
        GutterTooltip2.prototype.setPosition = function(x, y) {
          var windowWidth = window.innerWidth || document.documentElement.clientWidth;
          var windowHeight = window.innerHeight || document.documentElement.clientHeight;
          var width = this.getWidth();
          var height = this.getHeight();
          x += 15;
          y += 15;
          if (x + width > windowWidth) {
            x -= x + width - windowWidth;
          }
          if (y + height > windowHeight) {
            y -= 20 + height;
          }
          Tooltip.prototype.setPosition.call(this, x, y);
        };
        Object.defineProperty(GutterTooltip2, "annotationLabels", {
          get: function() {
            return {
              error: { singular: nls("error"), plural: nls("errors") },
              warning: { singular: nls("warning"), plural: nls("warnings") },
              info: { singular: nls("information message"), plural: nls("information messages") }
            };
          },
          enumerable: false,
          configurable: true
        });
        GutterTooltip2.prototype.showTooltip = function(row) {
          var gutter = this.editor.renderer.$gutterLayer;
          var annotationsInRow = gutter.$annotations[row];
          var annotation;
          if (annotationsInRow)
            annotation = { text: Array.from(annotationsInRow.text), type: Array.from(annotationsInRow.type) };
          else
            annotation = { text: [], type: [] };
          var fold = gutter.session.getFoldLine(row);
          if (fold && gutter.$showFoldedAnnotations) {
            var annotationsInFold = { error: [], warning: [], info: [] };
            var mostSevereAnnotationInFoldType;
            for (var i = row + 1; i <= fold.end.row; i++) {
              if (!gutter.$annotations[i])
                continue;
              for (var j = 0; j < gutter.$annotations[i].text.length; j++) {
                var annotationType = gutter.$annotations[i].type[j];
                annotationsInFold[annotationType].push(gutter.$annotations[i].text[j]);
                if (annotationType === "error") {
                  mostSevereAnnotationInFoldType = "error_fold";
                  continue;
                }
                if (annotationType === "warning") {
                  mostSevereAnnotationInFoldType = "warning_fold";
                  continue;
                }
              }
            }
            if (mostSevereAnnotationInFoldType === "error_fold" || mostSevereAnnotationInFoldType === "warning_fold") {
              var summaryFoldedAnnotations = "".concat(GutterTooltip2.annotationsToSummaryString(annotationsInFold), " in folded code.");
              annotation.text.push(summaryFoldedAnnotations);
              annotation.type.push(mostSevereAnnotationInFoldType);
            }
          }
          if (annotation.text.length === 0)
            return this.hide();
          var annotationMessages = { error: [], warning: [], info: [] };
          var iconClassName = gutter.$useSvgGutterIcons ? "ace_icon_svg" : "ace_icon";
          for (var i = 0; i < annotation.text.length; i++) {
            var line = "<span class='ace_".concat(annotation.type[i], " ").concat(iconClassName, "' aria-label='").concat(GutterTooltip2.annotationLabels[annotation.type[i].replace("_fold", "")].singular, "' role=img> </span> ").concat(annotation.text[i]);
            annotationMessages[annotation.type[i].replace("_fold", "")].push(line);
          }
          var tooltipContent = [].concat(annotationMessages.error, annotationMessages.warning, annotationMessages.info).join("<br>");
          this.setHtml(tooltipContent);
          this.$element.setAttribute("aria-live", "polite");
          if (!this.isOpen) {
            this.setTheme(this.editor.renderer.theme);
            this.setClassName("ace_gutter-tooltip");
          }
          this.show();
          this.editor._signal("showGutterTooltip", this);
        };
        GutterTooltip2.prototype.hideTooltip = function() {
          this.$element.removeAttribute("aria-live");
          this.hide();
          this.editor._signal("hideGutterTooltip", this);
        };
        GutterTooltip2.annotationsToSummaryString = function(annotations) {
          var e_1, _a;
          var summary = [];
          var annotationTypes = ["error", "warning", "info"];
          try {
            for (var annotationTypes_1 = __values(annotationTypes), annotationTypes_1_1 = annotationTypes_1.next(); !annotationTypes_1_1.done; annotationTypes_1_1 = annotationTypes_1.next()) {
              var annotationType = annotationTypes_1_1.value;
              if (!annotations[annotationType].length)
                continue;
              var label = annotations[annotationType].length === 1 ? GutterTooltip2.annotationLabels[annotationType].singular : GutterTooltip2.annotationLabels[annotationType].plural;
              summary.push("".concat(annotations[annotationType].length, " ").concat(label));
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (annotationTypes_1_1 && !annotationTypes_1_1.done && (_a = annotationTypes_1.return))
                _a.call(annotationTypes_1);
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
          return summary.join(", ");
        };
        return GutterTooltip2;
      }(Tooltip)
    );
    exports2.GutterTooltip = GutterTooltip;
  });
  ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
    var event2 = require2("../lib/event");
    var useragent = require2("../lib/useragent");
    var MouseEvent2 = (
      /** @class */
      function() {
        function MouseEvent3(domEvent, editor) {
          this.speed;
          this.wheelX;
          this.wheelY;
          this.domEvent = domEvent;
          this.editor = editor;
          this.x = this.clientX = domEvent.clientX;
          this.y = this.clientY = domEvent.clientY;
          this.$pos = null;
          this.$inSelection = null;
          this.propagationStopped = false;
          this.defaultPrevented = false;
        }
        MouseEvent3.prototype.stopPropagation = function() {
          event2.stopPropagation(this.domEvent);
          this.propagationStopped = true;
        };
        MouseEvent3.prototype.preventDefault = function() {
          event2.preventDefault(this.domEvent);
          this.defaultPrevented = true;
        };
        MouseEvent3.prototype.stop = function() {
          this.stopPropagation();
          this.preventDefault();
        };
        MouseEvent3.prototype.getDocumentPosition = function() {
          if (this.$pos)
            return this.$pos;
          this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
          return this.$pos;
        };
        MouseEvent3.prototype.getGutterRow = function() {
          var documentRow = this.getDocumentPosition().row;
          var screenRow = this.editor.session.documentToScreenRow(documentRow, 0);
          var screenTopRow = this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row, 0);
          return screenRow - screenTopRow;
        };
        MouseEvent3.prototype.inSelection = function() {
          if (this.$inSelection !== null)
            return this.$inSelection;
          var editor = this.editor;
          var selectionRange = editor.getSelectionRange();
          if (selectionRange.isEmpty())
            this.$inSelection = false;
          else {
            var pos = this.getDocumentPosition();
            this.$inSelection = selectionRange.contains(pos.row, pos.column);
          }
          return this.$inSelection;
        };
        MouseEvent3.prototype.getButton = function() {
          return event2.getButton(this.domEvent);
        };
        MouseEvent3.prototype.getShiftKey = function() {
          return this.domEvent.shiftKey;
        };
        MouseEvent3.prototype.getAccelKey = function() {
          return useragent.isMac ? this.domEvent.metaKey : this.domEvent.ctrlKey;
        };
        return MouseEvent3;
      }()
    );
    exports2.MouseEvent = MouseEvent2;
  });
  ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var event2 = require2("../lib/event");
    var useragent = require2("../lib/useragent");
    var AUTOSCROLL_DELAY = 200;
    var SCROLL_CURSOR_DELAY = 200;
    var SCROLL_CURSOR_HYSTERESIS = 5;
    function DragdropHandler(mouseHandler) {
      var editor = mouseHandler.editor;
      var dragImage = dom.createElement("div");
      dragImage.style.cssText = "top:-100px;position:absolute;z-index:2147483647;opacity:0.5";
      dragImage.textContent = " ";
      var exports3 = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];
      exports3.forEach(function(x2) {
        mouseHandler[x2] = this[x2];
      }, this);
      editor.on("mousedown", this.onMouseDown.bind(mouseHandler));
      var mouseTarget = editor.container;
      var dragSelectionMarker, x, y;
      var timerId, range;
      var dragCursor, counter = 0;
      var dragOperation;
      var isInternal;
      var autoScrollStartTime;
      var cursorMovedTime;
      var cursorPointOnCaretMoved;
      this.onDragStart = function(e2) {
        if (this.cancelDrag || !mouseTarget.draggable) {
          var self2 = this;
          setTimeout(function() {
            self2.startSelect();
            self2.captureMouse(e2);
          }, 0);
          return e2.preventDefault();
        }
        range = editor.getSelectionRange();
        var dataTransfer = e2.dataTransfer;
        dataTransfer.effectAllowed = editor.getReadOnly() ? "copy" : "copyMove";
        editor.container.appendChild(dragImage);
        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);
        setTimeout(function() {
          editor.container.removeChild(dragImage);
        });
        dataTransfer.clearData();
        dataTransfer.setData("Text", editor.session.getTextRange());
        isInternal = true;
        this.setState("drag");
      };
      this.onDragEnd = function(e2) {
        mouseTarget.draggable = false;
        isInternal = false;
        this.setState(null);
        if (!editor.getReadOnly()) {
          var dropEffect = e2.dataTransfer.dropEffect;
          if (!dragOperation && dropEffect == "move")
            editor.session.remove(editor.getSelectionRange());
          editor.$resetCursorStyle();
        }
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
      };
      this.onDragEnter = function(e2) {
        if (editor.getReadOnly() || !canAccept(e2.dataTransfer))
          return;
        x = e2.clientX;
        y = e2.clientY;
        if (!dragSelectionMarker)
          addDragMarker();
        counter++;
        e2.dataTransfer.dropEffect = dragOperation = getDropEffect(e2);
        return event2.preventDefault(e2);
      };
      this.onDragOver = function(e2) {
        if (editor.getReadOnly() || !canAccept(e2.dataTransfer))
          return;
        x = e2.clientX;
        y = e2.clientY;
        if (!dragSelectionMarker) {
          addDragMarker();
          counter++;
        }
        if (onMouseMoveTimer !== null)
          onMouseMoveTimer = null;
        e2.dataTransfer.dropEffect = dragOperation = getDropEffect(e2);
        return event2.preventDefault(e2);
      };
      this.onDragLeave = function(e2) {
        counter--;
        if (counter <= 0 && dragSelectionMarker) {
          clearDragMarker();
          dragOperation = null;
          return event2.preventDefault(e2);
        }
      };
      this.onDrop = function(e2) {
        if (!dragCursor)
          return;
        var dataTransfer = e2.dataTransfer;
        if (isInternal) {
          switch (dragOperation) {
            case "move":
              if (range.contains(dragCursor.row, dragCursor.column)) {
                range = {
                  start: dragCursor,
                  end: dragCursor
                };
              } else {
                range = editor.moveText(range, dragCursor);
              }
              break;
            case "copy":
              range = editor.moveText(range, dragCursor, true);
              break;
          }
        } else {
          var dropData = dataTransfer.getData("Text");
          range = {
            start: dragCursor,
            end: editor.session.insert(dragCursor, dropData)
          };
          editor.focus();
          dragOperation = null;
        }
        clearDragMarker();
        return event2.preventDefault(e2);
      };
      event2.addListener(mouseTarget, "dragstart", this.onDragStart.bind(mouseHandler), editor);
      event2.addListener(mouseTarget, "dragend", this.onDragEnd.bind(mouseHandler), editor);
      event2.addListener(mouseTarget, "dragenter", this.onDragEnter.bind(mouseHandler), editor);
      event2.addListener(mouseTarget, "dragover", this.onDragOver.bind(mouseHandler), editor);
      event2.addListener(mouseTarget, "dragleave", this.onDragLeave.bind(mouseHandler), editor);
      event2.addListener(mouseTarget, "drop", this.onDrop.bind(mouseHandler), editor);
      function scrollCursorIntoView(cursor, prevCursor) {
        var now = Date.now();
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        var hMovement = !prevCursor || cursor.column != prevCursor.column;
        if (!cursorMovedTime || vMovement || hMovement) {
          editor.moveCursorToPosition(cursor);
          cursorMovedTime = now;
          cursorPointOnCaretMoved = { x, y };
        } else {
          var distance2 = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);
          if (distance2 > SCROLL_CURSOR_HYSTERESIS) {
            cursorMovedTime = null;
          } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {
            editor.renderer.scrollCursorIntoView();
            cursorMovedTime = null;
          }
        }
      }
      function autoScroll2(cursor, prevCursor) {
        var now = Date.now();
        var lineHeight = editor.renderer.layerConfig.lineHeight;
        var characterWidth = editor.renderer.layerConfig.characterWidth;
        var editorRect = editor.renderer.scroller.getBoundingClientRect();
        var offsets = {
          x: {
            left: x - editorRect.left,
            right: editorRect.right - x
          },
          y: {
            top: y - editorRect.top,
            bottom: editorRect.bottom - y
          }
        };
        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);
        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);
        var scrollCursor = { row: cursor.row, column: cursor.column };
        if (nearestXOffset / characterWidth <= 2) {
          scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : 2;
        }
        if (nearestYOffset / lineHeight <= 1) {
          scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : 1;
        }
        var vScroll = cursor.row != scrollCursor.row;
        var hScroll = cursor.column != scrollCursor.column;
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        if (vScroll || hScroll && !vMovement) {
          if (!autoScrollStartTime)
            autoScrollStartTime = now;
          else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)
            editor.renderer.scrollCursorIntoView(scrollCursor);
        } else {
          autoScrollStartTime = null;
        }
      }
      function onDragInterval() {
        var prevCursor = dragCursor;
        dragCursor = editor.renderer.screenToTextCoordinates(x, y);
        scrollCursorIntoView(dragCursor, prevCursor);
        autoScroll2(dragCursor, prevCursor);
      }
      function addDragMarker() {
        range = editor.selection.toOrientedRange();
        dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
        editor.clearSelection();
        if (editor.isFocused())
          editor.renderer.$cursorLayer.setBlinking(false);
        clearInterval(timerId);
        onDragInterval();
        timerId = setInterval(onDragInterval, 20);
        counter = 0;
        event2.addListener(document, "mousemove", onMouseMove);
      }
      function clearDragMarker() {
        clearInterval(timerId);
        editor.session.removeMarker(dragSelectionMarker);
        dragSelectionMarker = null;
        editor.selection.fromOrientedRange(range);
        if (editor.isFocused() && !isInternal)
          editor.$resetCursorStyle();
        range = null;
        dragCursor = null;
        counter = 0;
        autoScrollStartTime = null;
        cursorMovedTime = null;
        event2.removeListener(document, "mousemove", onMouseMove);
      }
      var onMouseMoveTimer = null;
      function onMouseMove() {
        if (onMouseMoveTimer == null) {
          onMouseMoveTimer = setTimeout(function() {
            if (onMouseMoveTimer != null && dragSelectionMarker)
              clearDragMarker();
          }, 20);
        }
      }
      function canAccept(dataTransfer) {
        var types2 = dataTransfer.types;
        return !types2 || Array.prototype.some.call(types2, function(type) {
          return type == "text/plain" || type == "Text";
        });
      }
      function getDropEffect(e2) {
        var copyAllowed = ["copy", "copymove", "all", "uninitialized"];
        var moveAllowed = ["move", "copymove", "linkmove", "all", "uninitialized"];
        var copyModifierState = useragent.isMac ? e2.altKey : e2.ctrlKey;
        var effectAllowed = "uninitialized";
        try {
          effectAllowed = e2.dataTransfer.effectAllowed.toLowerCase();
        } catch (e3) {
        }
        var dropEffect = "none";
        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)
          dropEffect = "copy";
        else if (moveAllowed.indexOf(effectAllowed) >= 0)
          dropEffect = "move";
        else if (copyAllowed.indexOf(effectAllowed) >= 0)
          dropEffect = "copy";
        return dropEffect;
      }
    }
    (function() {
      this.dragWait = function() {
        var interval = Date.now() - this.mousedownEvent.time;
        if (interval > this.editor.getDragDelay())
          this.startDrag();
      };
      this.dragWaitEnd = function() {
        var target = this.editor.container;
        target.draggable = false;
        this.startSelect(this.mousedownEvent.getDocumentPosition());
        this.selectEnd();
      };
      this.dragReadyEnd = function(e2) {
        this.editor.$resetCursorStyle();
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
        this.dragWaitEnd();
      };
      this.startDrag = function() {
        this.cancelDrag = false;
        var editor = this.editor;
        var target = editor.container;
        target.draggable = true;
        editor.renderer.$cursorLayer.setBlinking(false);
        editor.setStyle("ace_dragging");
        var cursorStyle = useragent.isWin ? "default" : "move";
        editor.renderer.setCursorStyle(cursorStyle);
        this.setState("dragReady");
      };
      this.onMouseDrag = function(e2) {
        var target = this.editor.container;
        if (useragent.isIE && this.state == "dragReady") {
          var distance2 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
          if (distance2 > 3)
            target.dragDrop();
        }
        if (this.state === "dragWait") {
          var distance2 = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
          if (distance2 > 0) {
            target.draggable = false;
            this.startSelect(this.mousedownEvent.getDocumentPosition());
          }
        }
      };
      this.onMouseDown = function(e2) {
        if (!this.$dragEnabled)
          return;
        this.mousedownEvent = e2;
        var editor = this.editor;
        var inSelection = e2.inSelection();
        var button2 = e2.getButton();
        var clickCount = e2.domEvent.detail || 1;
        if (clickCount === 1 && button2 === 0 && inSelection) {
          if (e2.editor.inMultiSelectMode && (e2.getAccelKey() || e2.getShiftKey()))
            return;
          this.mousedownEvent.time = Date.now();
          var eventTarget = e2.domEvent.target || e2.domEvent.srcElement;
          if ("unselectable" in eventTarget)
            eventTarget.unselectable = "on";
          if (editor.getDragDelay()) {
            if (useragent.isWebKit) {
              this.cancelDrag = true;
              var mouseTarget = editor.container;
              mouseTarget.draggable = true;
            }
            this.setState("dragWait");
          } else {
            this.startDrag();
          }
          this.captureMouse(e2, this.onMouseDrag.bind(this));
          e2.defaultPrevented = true;
        }
      };
    }).call(DragdropHandler.prototype);
    function calcDistance(ax, ay, bx, by) {
      return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
    }
    exports2.DragdropHandler = DragdropHandler;
  });
  ace.define("ace/mouse/touch_handler", ["require", "exports", "module", "ace/mouse/mouse_event", "ace/lib/event", "ace/lib/dom"], function(require2, exports2, module2) {
    var MouseEvent2 = require2("./mouse_event").MouseEvent;
    var event2 = require2("../lib/event");
    var dom = require2("../lib/dom");
    exports2.addTouchListeners = function(el, editor) {
      var mode = "scroll";
      var startX;
      var startY;
      var touchStartT;
      var lastT;
      var longTouchTimer;
      var animationTimer;
      var animationSteps = 0;
      var pos;
      var clickCount = 0;
      var vX = 0;
      var vY = 0;
      var pressed;
      var contextMenu;
      function createContextMenu() {
        var clipboard2 = window.navigator && window.navigator.clipboard;
        var isOpen = false;
        var updateMenu = function() {
          var selected = editor.getCopyText();
          var hasUndo = editor.session.getUndoManager().hasUndo();
          contextMenu.replaceChild(dom.buildDom(isOpen ? [
            "span",
            !selected && ["span", { class: "ace_mobile-button", action: "selectall" }, "Select All"],
            selected && ["span", { class: "ace_mobile-button", action: "copy" }, "Copy"],
            selected && ["span", { class: "ace_mobile-button", action: "cut" }, "Cut"],
            clipboard2 && ["span", { class: "ace_mobile-button", action: "paste" }, "Paste"],
            hasUndo && ["span", { class: "ace_mobile-button", action: "undo" }, "Undo"],
            ["span", { class: "ace_mobile-button", action: "find" }, "Find"],
            ["span", { class: "ace_mobile-button", action: "openCommandPalette" }, "Palette"]
          ] : ["span"]), contextMenu.firstChild);
        };
        var handleClick = function(e2) {
          var action = e2.target.getAttribute("action");
          if (action == "more" || !isOpen) {
            isOpen = !isOpen;
            return updateMenu();
          }
          if (action == "paste") {
            clipboard2.readText().then(function(text) {
              editor.execCommand(action, text);
            });
          } else if (action) {
            if (action == "cut" || action == "copy") {
              if (clipboard2)
                clipboard2.writeText(editor.getCopyText());
              else
                document.execCommand("copy");
            }
            editor.execCommand(action);
          }
          contextMenu.firstChild.style.display = "none";
          isOpen = false;
          if (action != "openCommandPalette")
            editor.focus();
        };
        contextMenu = dom.buildDom([
          "div",
          {
            class: "ace_mobile-menu",
            ontouchstart: function(e2) {
              mode = "menu";
              e2.stopPropagation();
              e2.preventDefault();
              editor.textInput.focus();
            },
            ontouchend: function(e2) {
              e2.stopPropagation();
              e2.preventDefault();
              handleClick(e2);
            },
            onclick: handleClick
          },
          ["span"],
          ["span", { class: "ace_mobile-button", action: "more" }, "..."]
        ], editor.container);
      }
      function showContextMenu() {
        if (!contextMenu)
          createContextMenu();
        var cursor = editor.selection.cursor;
        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);
        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;
        var scrollLeft = editor.renderer.scrollLeft;
        var rect = editor.container.getBoundingClientRect();
        contextMenu.style.top = pagePos.pageY - rect.top - 3 + "px";
        if (pagePos.pageX - rect.left < rect.width - 70) {
          contextMenu.style.left = "";
          contextMenu.style.right = "10px";
        } else {
          contextMenu.style.right = "";
          contextMenu.style.left = leftOffset + scrollLeft - rect.left + "px";
        }
        contextMenu.style.display = "";
        contextMenu.firstChild.style.display = "none";
        editor.on("input", hideContextMenu);
      }
      function hideContextMenu(e2) {
        if (contextMenu)
          contextMenu.style.display = "none";
        editor.off("input", hideContextMenu);
      }
      function handleLongTap() {
        longTouchTimer = null;
        clearTimeout(longTouchTimer);
        var range = editor.selection.getRange();
        var inSelection = range.contains(pos.row, pos.column);
        if (range.isEmpty() || !inSelection) {
          editor.selection.moveToPosition(pos);
          editor.selection.selectWord();
        }
        mode = "wait";
        showContextMenu();
      }
      function switchToSelectionMode() {
        longTouchTimer = null;
        clearTimeout(longTouchTimer);
        editor.selection.moveToPosition(pos);
        var range = clickCount >= 2 ? editor.selection.getLineRange(pos.row) : editor.session.getBracketRange(pos);
        if (range && !range.isEmpty()) {
          editor.selection.setRange(range);
        } else {
          editor.selection.selectWord();
        }
        mode = "wait";
      }
      event2.addListener(el, "contextmenu", function(e2) {
        if (!pressed)
          return;
        var textarea2 = editor.textInput.getElement();
        textarea2.focus();
      }, editor);
      event2.addListener(el, "touchstart", function(e2) {
        var touches = e2.touches;
        if (longTouchTimer || touches.length > 1) {
          clearTimeout(longTouchTimer);
          longTouchTimer = null;
          touchStartT = -1;
          mode = "zoom";
          return;
        }
        pressed = editor.$mouseHandler.isMousePressed = true;
        var h2 = editor.renderer.layerConfig.lineHeight;
        var w = editor.renderer.layerConfig.lineHeight;
        var t = e2.timeStamp;
        lastT = t;
        var touchObj = touches[0];
        var x = touchObj.clientX;
        var y = touchObj.clientY;
        if (Math.abs(startX - x) + Math.abs(startY - y) > h2)
          touchStartT = -1;
        startX = e2.clientX = x;
        startY = e2.clientY = y;
        vX = vY = 0;
        var ev = new MouseEvent2(e2, editor);
        pos = ev.getDocumentPosition();
        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {
          clickCount++;
          e2.preventDefault();
          e2.button = 0;
          switchToSelectionMode();
        } else {
          clickCount = 0;
          var cursor = editor.selection.cursor;
          var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;
          var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);
          var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);
          var rect = editor.renderer.scroller.getBoundingClientRect();
          var offsetTop = editor.renderer.layerConfig.offset;
          var offsetLeft = editor.renderer.scrollLeft;
          var weightedDistance = function(x2, y2) {
            x2 = x2 / w;
            y2 = y2 / h2 - 0.75;
            return x2 * x2 + y2 * y2;
          };
          if (e2.clientX < rect.left) {
            mode = "zoom";
            return;
          }
          var diff1 = weightedDistance(e2.clientX - rect.left - cursorPos.left + offsetLeft, e2.clientY - rect.top - cursorPos.top + offsetTop);
          var diff2 = weightedDistance(e2.clientX - rect.left - anchorPos.left + offsetLeft, e2.clientY - rect.top - anchorPos.top + offsetTop);
          if (diff1 < 3.5 && diff2 < 3.5)
            mode = diff1 > diff2 ? "cursor" : "anchor";
          if (diff2 < 3.5)
            mode = "anchor";
          else if (diff1 < 3.5)
            mode = "cursor";
          else
            mode = "scroll";
          longTouchTimer = setTimeout(handleLongTap, 450);
        }
        touchStartT = t;
      }, editor);
      event2.addListener(el, "touchend", function(e2) {
        pressed = editor.$mouseHandler.isMousePressed = false;
        if (animationTimer)
          clearInterval(animationTimer);
        if (mode == "zoom") {
          mode = "";
          animationSteps = 0;
        } else if (longTouchTimer) {
          editor.selection.moveToPosition(pos);
          animationSteps = 0;
          showContextMenu();
        } else if (mode == "scroll") {
          animate();
          hideContextMenu();
        } else {
          showContextMenu();
        }
        clearTimeout(longTouchTimer);
        longTouchTimer = null;
      }, editor);
      event2.addListener(el, "touchmove", function(e2) {
        if (longTouchTimer) {
          clearTimeout(longTouchTimer);
          longTouchTimer = null;
        }
        var touches = e2.touches;
        if (touches.length > 1 || mode == "zoom")
          return;
        var touchObj = touches[0];
        var wheelX = startX - touchObj.clientX;
        var wheelY = startY - touchObj.clientY;
        if (mode == "wait") {
          if (wheelX * wheelX + wheelY * wheelY > 4)
            mode = "cursor";
          else
            return e2.preventDefault();
        }
        startX = touchObj.clientX;
        startY = touchObj.clientY;
        e2.clientX = touchObj.clientX;
        e2.clientY = touchObj.clientY;
        var t = e2.timeStamp;
        var dt = t - lastT;
        lastT = t;
        if (mode == "scroll") {
          var mouseEvent = new MouseEvent2(e2, editor);
          mouseEvent.speed = 1;
          mouseEvent.wheelX = wheelX;
          mouseEvent.wheelY = wheelY;
          if (10 * Math.abs(wheelX) < Math.abs(wheelY))
            wheelX = 0;
          if (10 * Math.abs(wheelY) < Math.abs(wheelX))
            wheelY = 0;
          if (dt != 0) {
            vX = wheelX / dt;
            vY = wheelY / dt;
          }
          editor._emit("mousewheel", mouseEvent);
          if (!mouseEvent.propagationStopped) {
            vX = vY = 0;
          }
        } else {
          var ev = new MouseEvent2(e2, editor);
          var pos2 = ev.getDocumentPosition();
          if (mode == "cursor")
            editor.selection.moveCursorToPosition(pos2);
          else if (mode == "anchor")
            editor.selection.setSelectionAnchor(pos2.row, pos2.column);
          editor.renderer.scrollCursorIntoView(pos2);
          e2.preventDefault();
        }
      }, editor);
      function animate() {
        animationSteps += 60;
        animationTimer = setInterval(function() {
          if (animationSteps-- <= 0) {
            clearInterval(animationTimer);
            animationTimer = null;
          }
          if (Math.abs(vX) < 0.01)
            vX = 0;
          if (Math.abs(vY) < 0.01)
            vY = 0;
          if (animationSteps < 20)
            vX = 0.9 * vX;
          if (animationSteps < 20)
            vY = 0.9 * vY;
          var oldScrollTop = editor.session.getScrollTop();
          editor.renderer.scrollBy(10 * vX, 10 * vY);
          if (oldScrollTop == editor.session.getScrollTop())
            animationSteps = 0;
        }, 10);
      }
    };
  });
  ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/mouse/touch_handler", "ace/config"], function(require2, exports2, module2) {
    var event2 = require2("../lib/event");
    var useragent = require2("../lib/useragent");
    var DefaultHandlers = require2("./default_handlers").DefaultHandlers;
    var DefaultGutterHandler = require2("./default_gutter_handler").GutterHandler;
    var MouseEvent2 = require2("./mouse_event").MouseEvent;
    var DragdropHandler = require2("./dragdrop_handler").DragdropHandler;
    var addTouchListeners = require2("./touch_handler").addTouchListeners;
    var config2 = require2("../config");
    var MouseHandler = (
      /** @class */
      function() {
        function MouseHandler2(editor) {
          this.$dragDelay;
          this.$dragEnabled;
          this.$mouseMoved;
          this.mouseEvent;
          this.$focusTimeout;
          var _self = this;
          this.editor = editor;
          new DefaultHandlers(this);
          new DefaultGutterHandler(this);
          new DragdropHandler(this);
          var focusEditor = function(e2) {
            var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());
            if (windowBlurred)
              window.focus();
            editor.focus();
            setTimeout(function() {
              if (!editor.isFocused())
                editor.focus();
            });
          };
          var mouseTarget = editor.renderer.getMouseEventTarget();
          event2.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"), editor);
          event2.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"), editor);
          event2.addMultiMouseDownListener([
            mouseTarget,
            editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,
            editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,
            editor.textInput && editor.textInput.getElement()
          ].filter(Boolean), [400, 300, 250], this, "onMouseEvent", editor);
          event2.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"), editor);
          addTouchListeners(editor.container, editor);
          var gutterEl = editor.renderer.$gutter;
          event2.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"), editor);
          event2.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"), editor);
          event2.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"), editor);
          event2.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"), editor);
          event2.addListener(mouseTarget, "mousedown", focusEditor, editor);
          event2.addListener(gutterEl, "mousedown", focusEditor, editor);
          if (useragent.isIE && editor.renderer.scrollBarV) {
            event2.addListener(editor.renderer.scrollBarV.element, "mousedown", focusEditor, editor);
            event2.addListener(editor.renderer.scrollBarH.element, "mousedown", focusEditor, editor);
          }
          editor.on(
            "mousemove",
            function(e2) {
              if (_self.state || _self.$dragDelay || !_self.$dragEnabled)
                return;
              var character = editor.renderer.screenToTextCoordinates(e2.x, e2.y);
              var range = editor.session.selection.getRange();
              var renderer = editor.renderer;
              if (!range.isEmpty() && range.insideStart(character.row, character.column)) {
                renderer.setCursorStyle("default");
              } else {
                renderer.setCursorStyle("");
              }
            },
            //@ts-expect-error TODO: seems mistyping - should be boolean
            editor
          );
        }
        MouseHandler2.prototype.onMouseEvent = function(name2, e2) {
          if (!this.editor.session)
            return;
          this.editor._emit(name2, new MouseEvent2(e2, this.editor));
        };
        MouseHandler2.prototype.onMouseMove = function(name2, e2) {
          var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
          if (!listeners || !listeners.length)
            return;
          this.editor._emit(name2, new MouseEvent2(e2, this.editor));
        };
        MouseHandler2.prototype.onMouseWheel = function(name2, e2) {
          var mouseEvent = new MouseEvent2(e2, this.editor);
          mouseEvent.speed = this.$scrollSpeed * 2;
          mouseEvent.wheelX = e2.wheelX;
          mouseEvent.wheelY = e2.wheelY;
          this.editor._emit(name2, mouseEvent);
        };
        MouseHandler2.prototype.setState = function(state) {
          this.state = state;
        };
        MouseHandler2.prototype.captureMouse = function(ev, mouseMoveHandler) {
          this.x = ev.x;
          this.y = ev.y;
          this.isMousePressed = true;
          var editor = this.editor;
          var renderer = this.editor.renderer;
          renderer.$isMousePressed = true;
          var self2 = this;
          var onMouseMove = function(e2) {
            if (!e2)
              return;
            if (useragent.isWebKit && !e2.which && self2.releaseMouse)
              return self2.releaseMouse();
            self2.x = e2.clientX;
            self2.y = e2.clientY;
            mouseMoveHandler && mouseMoveHandler(e2);
            self2.mouseEvent = new MouseEvent2(e2, self2.editor);
            self2.$mouseMoved = true;
          };
          var onCaptureEnd = function(e2) {
            editor.off("beforeEndOperation", onOperationEnd);
            clearInterval(timerId);
            if (editor.session)
              onCaptureInterval();
            self2[self2.state + "End"] && self2[self2.state + "End"](e2);
            self2.state = "";
            self2.isMousePressed = renderer.$isMousePressed = false;
            if (renderer.$keepTextAreaAtCursor)
              renderer.$moveTextAreaToCursor();
            self2.$onCaptureMouseMove = self2.releaseMouse = null;
            e2 && self2.onMouseEvent("mouseup", e2);
            editor.endOperation();
          };
          var onCaptureInterval = function() {
            self2[self2.state] && self2[self2.state]();
            self2.$mouseMoved = false;
          };
          if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
            return setTimeout(function() {
              onCaptureEnd(ev);
            });
          }
          var onOperationEnd = function(e2) {
            if (!self2.releaseMouse)
              return;
            if (editor.curOp.command.name && editor.curOp.selectionChanged) {
              self2[self2.state + "End"] && self2[self2.state + "End"]();
              self2.state = "";
              self2.releaseMouse();
            }
          };
          editor.on("beforeEndOperation", onOperationEnd);
          editor.startOperation({ command: { name: "mouse" } });
          self2.$onCaptureMouseMove = onMouseMove;
          self2.releaseMouse = event2.capture(this.editor.container, onMouseMove, onCaptureEnd);
          var timerId = setInterval(onCaptureInterval, 20);
        };
        MouseHandler2.prototype.cancelContextMenu = function() {
          var stop = (function(e2) {
            if (e2 && e2.domEvent && e2.domEvent.type != "contextmenu")
              return;
            this.editor.off("nativecontextmenu", stop);
            if (e2 && e2.domEvent)
              event2.stopEvent(e2.domEvent);
          }).bind(this);
          setTimeout(stop, 10);
          this.editor.on("nativecontextmenu", stop);
        };
        MouseHandler2.prototype.destroy = function() {
          if (this.releaseMouse)
            this.releaseMouse();
        };
        return MouseHandler2;
      }()
    );
    MouseHandler.prototype.releaseMouse = null;
    config2.defineOptions(MouseHandler.prototype, "mouseHandler", {
      scrollSpeed: { initialValue: 2 },
      dragDelay: { initialValue: useragent.isMac ? 150 : 0 },
      dragEnabled: { initialValue: true },
      focusTimeout: { initialValue: 0 },
      tooltipFollowsMouse: { initialValue: true }
    });
    exports2.MouseHandler = MouseHandler;
  });
  ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var FoldHandler = (
      /** @class */
      /* @__PURE__ */ function() {
        function FoldHandler2(editor) {
          editor.on("click", function(e2) {
            var position = e2.getDocumentPosition();
            var session = editor.session;
            var fold = session.getFoldAt(position.row, position.column, 1);
            if (fold) {
              if (e2.getAccelKey())
                session.removeFold(fold);
              else
                session.expandFold(fold);
              e2.stop();
            }
            var target = e2.domEvent && e2.domEvent.target;
            if (target && dom.hasCssClass(target, "ace_inline_button")) {
              if (dom.hasCssClass(target, "ace_toggle_wrap")) {
                session.setOption("wrap", !session.getUseWrapMode());
                editor.renderer.scrollCursorIntoView();
              }
            }
          });
          editor.on("gutterclick", function(e2) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e2);
            if (gutterRegion == "foldWidgets") {
              var row = e2.getDocumentPosition().row;
              var session = editor.session;
              if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e2);
              if (!editor.isFocused())
                editor.focus();
              e2.stop();
            }
          });
          editor.on("gutterdblclick", function(e2) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e2);
            if (gutterRegion == "foldWidgets") {
              var row = e2.getDocumentPosition().row;
              var session = editor.session;
              var data = session.getParentFoldRangeData(row, true);
              var range = data.range || data.firstRange;
              if (range) {
                row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);
                if (fold) {
                  session.removeFold(fold);
                } else {
                  session.addFold("...", range);
                  editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });
                }
              }
              e2.stop();
            }
          });
        }
        return FoldHandler2;
      }()
    );
    exports2.FoldHandler = FoldHandler;
  });
  ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(require2, exports2, module2) {
    var keyUtil = require2("../lib/keys");
    var event2 = require2("../lib/event");
    var KeyBinding = (
      /** @class */
      function() {
        function KeyBinding2(editor) {
          this.$editor = editor;
          this.$data = { editor };
          this.$handlers = [];
          this.setDefaultHandler(editor.commands);
        }
        KeyBinding2.prototype.setDefaultHandler = function(kb) {
          this.removeKeyboardHandler(this.$defaultHandler);
          this.$defaultHandler = kb;
          this.addKeyboardHandler(kb, 0);
        };
        KeyBinding2.prototype.setKeyboardHandler = function(kb) {
          var h2 = this.$handlers;
          if (h2[h2.length - 1] == kb)
            return;
          while (h2[h2.length - 1] && h2[h2.length - 1] != this.$defaultHandler)
            this.removeKeyboardHandler(h2[h2.length - 1]);
          this.addKeyboardHandler(kb, 1);
        };
        KeyBinding2.prototype.addKeyboardHandler = function(kb, pos) {
          if (!kb)
            return;
          if (typeof kb == "function" && !kb.handleKeyboard)
            kb.handleKeyboard = kb;
          var i = this.$handlers.indexOf(kb);
          if (i != -1)
            this.$handlers.splice(i, 1);
          if (pos == void 0)
            this.$handlers.push(kb);
          else
            this.$handlers.splice(pos, 0, kb);
          if (i == -1 && kb.attach)
            kb.attach(this.$editor);
        };
        KeyBinding2.prototype.removeKeyboardHandler = function(kb) {
          var i = this.$handlers.indexOf(kb);
          if (i == -1)
            return false;
          this.$handlers.splice(i, 1);
          kb.detach && kb.detach(this.$editor);
          return true;
        };
        KeyBinding2.prototype.getKeyboardHandler = function() {
          return this.$handlers[this.$handlers.length - 1];
        };
        KeyBinding2.prototype.getStatusText = function() {
          var data = this.$data;
          var editor = data.editor;
          return this.$handlers.map(function(h2) {
            return h2.getStatusText && h2.getStatusText(editor, data) || "";
          }).filter(Boolean).join(" ");
        };
        KeyBinding2.prototype.$callKeyboardHandlers = function(hashId, keyString, keyCode, e2) {
          var toExecute;
          var success = false;
          var commands = this.$editor.commands;
          for (var i = this.$handlers.length; i--; ) {
            toExecute = this.$handlers[i].handleKeyboard(
              this.$data,
              hashId,
              keyString,
              keyCode,
              e2
            );
            if (!toExecute || !toExecute.command)
              continue;
            if (toExecute.command == "null") {
              success = true;
            } else {
              success = commands.exec(toExecute.command, this.$editor, toExecute.args, e2);
            }
            if (success && e2 && hashId != -1 && toExecute["passEvent"] != true && toExecute.command["passEvent"] != true) {
              event2.stopEvent(e2);
            }
            if (success)
              break;
          }
          if (!success && hashId == -1) {
            toExecute = { command: "insertstring" };
            success = commands.exec("insertstring", this.$editor, keyString);
          }
          if (success && this.$editor._signal)
            this.$editor._signal("keyboardActivity", toExecute);
          return success;
        };
        KeyBinding2.prototype.onCommandKey = function(e2, hashId, keyCode) {
          var keyString = keyUtil.keyCodeToString(keyCode);
          return this.$callKeyboardHandlers(hashId, keyString, keyCode, e2);
        };
        KeyBinding2.prototype.onTextInput = function(text) {
          return this.$callKeyboardHandlers(-1, text);
        };
        return KeyBinding2;
      }()
    );
    exports2.KeyBinding = KeyBinding;
  });
  ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(require2, exports2, module2) {
    var dir = 0, hiLevel = 0;
    var lastArabic = false, hasUBAT_B = false, hasUBAT_S = false;
    var impTab_LTR = [
      [0, 3, 0, 1, 0, 0, 0],
      [0, 3, 0, 1, 2, 2, 0],
      [0, 3, 0, 17, 2, 0, 1],
      [0, 3, 5, 5, 4, 1, 0],
      [0, 3, 21, 21, 4, 0, 1],
      [0, 3, 5, 5, 4, 2, 0]
    ];
    var impTab_RTL = [
      [2, 0, 1, 1, 0, 1, 0],
      [2, 0, 1, 1, 0, 2, 0],
      [2, 0, 2, 1, 3, 2, 0],
      [2, 0, 2, 33, 3, 1, 1]
    ];
    var LTR = 0, RTL = 1;
    var L = 0;
    var R = 1;
    var EN = 2;
    var AN = 3;
    var ON = 4;
    var B = 5;
    var S = 6;
    var AL = 7;
    var WS = 8;
    var CS = 9;
    var ES = 10;
    var ET = 11;
    var NSM = 12;
    var LRE = 13;
    var RLE = 14;
    var PDF = 15;
    var LRO = 16;
    var RLO = 17;
    var BN = 18;
    var UnicodeTBL00 = [
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      S,
      B,
      S,
      WS,
      B,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      B,
      B,
      B,
      S,
      WS,
      ON,
      ON,
      ET,
      ET,
      ET,
      ON,
      ON,
      ON,
      ON,
      ON,
      ES,
      CS,
      ES,
      CS,
      CS,
      EN,
      EN,
      EN,
      EN,
      EN,
      EN,
      EN,
      EN,
      EN,
      EN,
      CS,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      L,
      ON,
      ON,
      ON,
      ON,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      B,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      BN,
      CS,
      ON,
      ET,
      ET,
      ET,
      ET,
      ON,
      ON,
      ON,
      ON,
      L,
      ON,
      ON,
      BN,
      ON,
      ON,
      ET,
      ET,
      EN,
      EN,
      ON,
      L,
      ON,
      ON,
      ON,
      EN,
      L,
      ON,
      ON,
      ON,
      ON,
      ON
    ];
    var UnicodeTBL20 = [
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      WS,
      BN,
      BN,
      BN,
      L,
      R,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      WS,
      B,
      LRE,
      RLE,
      PDF,
      LRO,
      RLO,
      CS,
      ET,
      ET,
      ET,
      ET,
      ET,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      CS,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      ON,
      WS
    ];
    function _computeLevels(chars, levels, len, charTypes) {
      var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes2 = [];
      if (!charTypes) {
        for (i = 0, charTypes = []; i < len; i++) {
          charTypes[i] = _getCharacterType(chars[i]);
        }
      }
      hiLevel = dir;
      lastArabic = false;
      hasUBAT_B = false;
      hasUBAT_S = false;
      for (ix = 0; ix < len; ix++) {
        prevState = newState;
        classes2[ix] = newClass = _getCharClass(chars, charTypes, classes2, ix);
        newState = impTab[prevState][newClass];
        action = newState & 240;
        newState &= 15;
        levels[ix] = newLevel = impTab[newState][5];
        if (action > 0) {
          if (action == 16) {
            for (i = condPos; i < ix; i++) {
              levels[i] = 1;
            }
            condPos = -1;
          } else {
            condPos = -1;
          }
        }
        cond = impTab[newState][6];
        if (cond) {
          if (condPos == -1) {
            condPos = ix;
          }
        } else {
          if (condPos > -1) {
            for (i = condPos; i < ix; i++) {
              levels[i] = newLevel;
            }
            condPos = -1;
          }
        }
        if (charTypes[ix] == B) {
          levels[ix] = 0;
        }
        hiLevel |= newLevel;
      }
      if (hasUBAT_S) {
        for (i = 0; i < len; i++) {
          if (charTypes[i] == S) {
            levels[i] = dir;
            for (var j = i - 1; j >= 0; j--) {
              if (charTypes[j] == WS) {
                levels[j] = dir;
              } else {
                break;
              }
            }
          }
        }
      }
    }
    function _invertLevel(lev, levels, _array) {
      if (hiLevel < lev) {
        return;
      }
      if (lev == 1 && dir == RTL && !hasUBAT_B) {
        _array.reverse();
        return;
      }
      var len = _array.length, start = 0, end, lo, hi, tmp;
      while (start < len) {
        if (levels[start] >= lev) {
          end = start + 1;
          while (end < len && levels[end] >= lev) {
            end++;
          }
          for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {
            tmp = _array[lo];
            _array[lo] = _array[hi];
            _array[hi] = tmp;
          }
          start = end;
        }
        start++;
      }
    }
    function _getCharClass(chars, types2, classes2, ix) {
      var cType = types2[ix], wType, nType, len, i;
      switch (cType) {
        case L:
        case R:
          lastArabic = false;
        case ON:
        case AN:
          return cType;
        case EN:
          return lastArabic ? AN : EN;
        case AL:
          lastArabic = true;
          return R;
        case WS:
          return ON;
        case CS:
          if (ix < 1 || ix + 1 >= types2.length || (wType = classes2[ix - 1]) != EN && wType != AN || (nType = types2[ix + 1]) != EN && nType != AN) {
            return ON;
          }
          if (lastArabic) {
            nType = AN;
          }
          return nType == wType ? nType : ON;
        case ES:
          wType = ix > 0 ? classes2[ix - 1] : B;
          if (wType == EN && ix + 1 < types2.length && types2[ix + 1] == EN) {
            return EN;
          }
          return ON;
        case ET:
          if (ix > 0 && classes2[ix - 1] == EN) {
            return EN;
          }
          if (lastArabic) {
            return ON;
          }
          i = ix + 1;
          len = types2.length;
          while (i < len && types2[i] == ET) {
            i++;
          }
          if (i < len && types2[i] == EN) {
            return EN;
          }
          return ON;
        case NSM:
          len = types2.length;
          i = ix + 1;
          while (i < len && types2[i] == NSM) {
            i++;
          }
          if (i < len) {
            var c = chars[ix], rtlCandidate = c >= 1425 && c <= 2303 || c == 64286;
            wType = types2[i];
            if (rtlCandidate && (wType == R || wType == AL)) {
              return R;
            }
          }
          if (ix < 1 || (wType = types2[ix - 1]) == B) {
            return ON;
          }
          return classes2[ix - 1];
        case B:
          lastArabic = false;
          hasUBAT_B = true;
          return dir;
        case S:
          hasUBAT_S = true;
          return ON;
        case LRE:
        case RLE:
        case LRO:
        case RLO:
        case PDF:
          lastArabic = false;
        case BN:
          return ON;
      }
    }
    function _getCharacterType(ch) {
      var uc = ch.charCodeAt(0), hi = uc >> 8;
      if (hi == 0) {
        return uc > 191 ? L : UnicodeTBL00[uc];
      } else if (hi == 5) {
        return /[\u0591-\u05f4]/.test(ch) ? R : L;
      } else if (hi == 6) {
        if (/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))
          return NSM;
        else if (/[\u0660-\u0669\u066b-\u066c]/.test(ch))
          return AN;
        else if (uc == 1642)
          return ET;
        else if (/[\u06f0-\u06f9]/.test(ch))
          return EN;
        else
          return AL;
      } else if (hi == 32 && uc <= 8287) {
        return UnicodeTBL20[uc & 255];
      } else if (hi == 254) {
        return uc >= 65136 ? AL : ON;
      }
      return ON;
    }
    exports2.L = L;
    exports2.R = R;
    exports2.EN = EN;
    exports2.ON_R = 3;
    exports2.AN = 4;
    exports2.R_H = 5;
    exports2.B = 6;
    exports2.RLE = 7;
    exports2.DOT = "·";
    exports2.doBidiReorder = function(text, textCharTypes, isRtl) {
      if (text.length < 2)
        return {};
      var chars = text.split(""), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];
      dir = isRtl ? RTL : LTR;
      _computeLevels(chars, levels, chars.length, textCharTypes);
      for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)
        ;
      _invertLevel(2, levels, logicalFromVisual);
      _invertLevel(1, levels, logicalFromVisual);
      for (var i = 0; i < logicalFromVisual.length - 1; i++) {
        if (textCharTypes[i] === AN) {
          levels[i] = exports2.AN;
        } else if (levels[i] === R && (textCharTypes[i] > AL && textCharTypes[i] < LRE || textCharTypes[i] === ON || textCharTypes[i] === BN)) {
          levels[i] = exports2.ON_R;
        } else if (i > 0 && chars[i - 1] === "ل" && /\u0622|\u0623|\u0625|\u0627/.test(chars[i])) {
          levels[i - 1] = levels[i] = exports2.R_H;
          i++;
        }
      }
      if (chars[chars.length - 1] === exports2.DOT)
        levels[chars.length - 1] = exports2.B;
      if (chars[0] === "‫")
        levels[0] = exports2.RLE;
      for (var i = 0; i < logicalFromVisual.length; i++) {
        bidiLevels[i] = levels[logicalFromVisual[i]];
      }
      return { "logicalFromVisual": logicalFromVisual, "bidiLevels": bidiLevels };
    };
    exports2.hasBidiCharacters = function(text, textCharTypes) {
      var ret = false;
      for (var i = 0; i < text.length; i++) {
        textCharTypes[i] = _getCharacterType(text.charAt(i));
        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))
          ret = true;
      }
      return ret;
    };
    exports2.getVisualFromLogicalIdx = function(logIdx, rowMap) {
      for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {
        if (rowMap.logicalFromVisual[i] == logIdx)
          return i;
      }
      return 0;
    };
  });
  ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], function(require2, exports2, module2) {
    var bidiUtil = require2("./lib/bidiutil");
    var lang = require2("./lib/lang");
    var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;
    var BidiHandler = (
      /** @class */
      function() {
        function BidiHandler2(session) {
          this.session = session;
          this.bidiMap = {};
          this.currentRow = null;
          this.bidiUtil = bidiUtil;
          this.charWidths = [];
          this.EOL = "¬";
          this.showInvisibles = true;
          this.isRtlDir = false;
          this.$isRtl = false;
          this.line = "";
          this.wrapIndent = 0;
          this.EOF = "¶";
          this.RLE = "‫";
          this.contentWidth = 0;
          this.fontMetrics = null;
          this.rtlLineOffset = 0;
          this.wrapOffset = 0;
          this.isMoveLeftOperation = false;
          this.seenBidi = bidiRE.test(session.getValue());
        }
        BidiHandler2.prototype.isBidiRow = function(screenRow, docRow, splitIndex) {
          if (!this.seenBidi)
            return false;
          if (screenRow !== this.currentRow) {
            this.currentRow = screenRow;
            this.updateRowLine(docRow, splitIndex);
            this.updateBidiMap();
          }
          return this.bidiMap.bidiLevels;
        };
        BidiHandler2.prototype.onChange = function(delta) {
          if (!this.seenBidi) {
            if (delta.action == "insert" && bidiRE.test(delta.lines.join("\n"))) {
              this.seenBidi = true;
              this.currentRow = null;
            }
          } else {
            this.currentRow = null;
          }
        };
        BidiHandler2.prototype.getDocumentRow = function() {
          var docRow = 0;
          var rowCache = this.session.$screenRowCache;
          if (rowCache.length) {
            var index2 = this.session.$getRowCacheIndex(rowCache, this.currentRow);
            if (index2 >= 0)
              docRow = this.session.$docRowCache[index2];
          }
          return docRow;
        };
        BidiHandler2.prototype.getSplitIndex = function() {
          var splitIndex = 0;
          var rowCache = this.session.$screenRowCache;
          if (rowCache.length) {
            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);
            while (this.currentRow - splitIndex > 0) {
              currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);
              if (currentIndex !== prevIndex)
                break;
              prevIndex = currentIndex;
              splitIndex++;
            }
          } else {
            splitIndex = this.currentRow;
          }
          return splitIndex;
        };
        BidiHandler2.prototype.updateRowLine = function(docRow, splitIndex) {
          if (docRow === void 0)
            docRow = this.getDocumentRow();
          var isLastRow = docRow === this.session.getLength() - 1, endOfLine = isLastRow ? this.EOF : this.EOL;
          this.wrapIndent = 0;
          this.line = this.session.getLine(docRow);
          this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;
          if (this.session.$useWrapMode) {
            var splits = this.session.$wrapData[docRow];
            if (splits) {
              if (splitIndex === void 0)
                splitIndex = this.getSplitIndex();
              if (splitIndex > 0 && splits.length) {
                this.wrapIndent = splits.indent;
                this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];
                this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splitIndex]) : this.line.substring(splits[splits.length - 1]);
              } else {
                this.line = this.line.substring(0, splits[splitIndex]);
              }
              if (splitIndex == splits.length) {
                this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
              }
            }
          } else {
            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
          }
          var session = this.session, shift = 0, size;
          this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(ch, i) {
            if (ch === "	" || session.isFullWidth(ch.charCodeAt(0))) {
              size = ch === "	" ? session.getScreenTabSize(i + shift) : 2;
              shift += size - 1;
              return lang.stringRepeat(bidiUtil.DOT, size);
            }
            return ch;
          });
          if (this.isRtlDir) {
            this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == bidiUtil.DOT ? this.line.substr(0, this.line.length - 1) : this.line;
            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;
          }
        };
        BidiHandler2.prototype.updateBidiMap = function() {
          var textCharTypes = [];
          if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {
            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);
          } else {
            this.bidiMap = {};
          }
        };
        BidiHandler2.prototype.markAsDirty = function() {
          this.currentRow = null;
        };
        BidiHandler2.prototype.updateCharacterWidths = function(fontMetrics) {
          if (this.characterWidth === fontMetrics.$characterSize.width)
            return;
          this.fontMetrics = fontMetrics;
          var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;
          var bidiCharWidth = fontMetrics.$measureCharWidth("ה");
          this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;
          this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;
          this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;
          this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;
          this.currentRow = null;
        };
        BidiHandler2.prototype.setShowInvisibles = function(showInvisibles) {
          this.showInvisibles = showInvisibles;
          this.currentRow = null;
        };
        BidiHandler2.prototype.setEolChar = function(eolChar) {
          this.EOL = eolChar;
        };
        BidiHandler2.prototype.setContentWidth = function(width) {
          this.contentWidth = width;
        };
        BidiHandler2.prototype.isRtlLine = function(row) {
          if (this.$isRtl)
            return true;
          if (row != void 0)
            return this.session.getLine(row).charAt(0) == this.RLE;
          else
            return this.isRtlDir;
        };
        BidiHandler2.prototype.setRtlDirection = function(editor, isRtlDir) {
          var cursor = editor.getCursorPosition();
          for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {
            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)
              editor.session.doc.removeInLine(row, 0, 1);
            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)
              editor.session.doc.insert({ column: 0, row }, editor.session.$bidiHandler.RLE);
          }
        };
        BidiHandler2.prototype.getPosLeft = function(col) {
          col -= this.wrapIndent;
          var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;
          var logicalIdx = col > leftBoundary ? this.session.getOverwrite() ? col : col - 1 : leftBoundary;
          var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;
          if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)
            visualIdx++;
          for (var i = 0; i < visualIdx; i++) {
            left += this.charWidths[levels[i]];
          }
          if (!this.session.getOverwrite() && col > leftBoundary && levels[visualIdx] % 2 === 0)
            left += this.charWidths[levels[visualIdx]];
          if (this.wrapIndent)
            left += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
          if (this.isRtlDir)
            left += this.rtlLineOffset;
          return left;
        };
        BidiHandler2.prototype.getSelections = function(startCol, endCol) {
          var map2 = this.bidiMap, levels = map2.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;
          if (this.wrapIndent)
            offset += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
          for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {
            logIdx = map2.logicalFromVisual[visIdx];
            level = levels[visIdx];
            isSelected = logIdx >= selColMin && logIdx < selColMax;
            if (isSelected && !isSelectedPrev) {
              selectionStart = offset;
            } else if (!isSelected && isSelectedPrev) {
              selections.push({ left: selectionStart, width: offset - selectionStart });
            }
            offset += this.charWidths[level];
            isSelectedPrev = isSelected;
          }
          if (isSelected && visIdx === levels.length) {
            selections.push({ left: selectionStart, width: offset - selectionStart });
          }
          if (this.isRtlDir) {
            for (var i = 0; i < selections.length; i++) {
              selections[i].left += this.rtlLineOffset;
            }
          }
          return selections;
        };
        BidiHandler2.prototype.offsetToCol = function(posX) {
          if (this.isRtlDir)
            posX -= this.rtlLineOffset;
          var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];
          if (this.wrapIndent)
            posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
          while (posX > offset + charWidth / 2) {
            offset += charWidth;
            if (visualIdx === levels.length - 1) {
              charWidth = 0;
              break;
            }
            charWidth = this.charWidths[levels[++visualIdx]];
          }
          if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {
            if (posX < offset)
              visualIdx--;
            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
          } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {
            logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);
          } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {
            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];
          } else {
            if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0)
              visualIdx--;
            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
          }
          if (logicalIdx === 0 && this.isRtlDir)
            logicalIdx++;
          return logicalIdx + this.wrapIndent;
        };
        return BidiHandler2;
      }()
    );
    exports2.BidiHandler = BidiHandler;
  });
  ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var lang = require2("./lib/lang");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var Range = require2("./range").Range;
    var Selection2 = (
      /** @class */
      function() {
        function Selection3(session) {
          this.session = session;
          this.doc = session.getDocument();
          this.clearSelection();
          this.cursor = this.lead = this.doc.createAnchor(0, 0);
          this.anchor = this.doc.createAnchor(0, 0);
          this.$silent = false;
          var self2 = this;
          this.cursor.on("change", function(e2) {
            self2.$cursorChanged = true;
            if (!self2.$silent)
              self2._emit("changeCursor");
            if (!self2.$isEmpty && !self2.$silent)
              self2._emit("changeSelection");
            if (!self2.$keepDesiredColumnOnChange && e2.old.column != e2.value.column)
              self2.$desiredColumn = null;
          });
          this.anchor.on("change", function() {
            self2.$anchorChanged = true;
            if (!self2.$isEmpty && !self2.$silent)
              self2._emit("changeSelection");
          });
        }
        Selection3.prototype.isEmpty = function() {
          return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
        };
        Selection3.prototype.isMultiLine = function() {
          return !this.$isEmpty && this.anchor.row != this.cursor.row;
        };
        Selection3.prototype.getCursor = function() {
          return this.lead.getPosition();
        };
        Selection3.prototype.setAnchor = function(row, column) {
          this.$isEmpty = false;
          this.anchor.setPosition(row, column);
        };
        Selection3.prototype.getAnchor = function() {
          if (this.$isEmpty)
            return this.getSelectionLead();
          return this.anchor.getPosition();
        };
        Selection3.prototype.getSelectionLead = function() {
          return this.lead.getPosition();
        };
        Selection3.prototype.isBackwards = function() {
          var anchor = this.anchor;
          var lead = this.lead;
          return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;
        };
        Selection3.prototype.getRange = function() {
          var anchor = this.anchor;
          var lead = this.lead;
          if (this.$isEmpty)
            return Range.fromPoints(lead, lead);
          return this.isBackwards() ? Range.fromPoints(lead, anchor) : Range.fromPoints(anchor, lead);
        };
        Selection3.prototype.clearSelection = function() {
          if (!this.$isEmpty) {
            this.$isEmpty = true;
            this._emit("changeSelection");
          }
        };
        Selection3.prototype.selectAll = function() {
          this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);
        };
        Selection3.prototype.setRange = function(range, reverse) {
          var start = reverse ? range.end : range.start;
          var end = reverse ? range.start : range.end;
          this.$setSelection(start.row, start.column, end.row, end.column);
        };
        Selection3.prototype.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {
          if (this.$silent)
            return;
          var wasEmpty = this.$isEmpty;
          var wasMultiselect = this.inMultiSelectMode;
          this.$silent = true;
          this.$cursorChanged = this.$anchorChanged = false;
          this.anchor.setPosition(anchorRow, anchorColumn);
          this.cursor.setPosition(cursorRow, cursorColumn);
          this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);
          this.$silent = false;
          if (this.$cursorChanged)
            this._emit("changeCursor");
          if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)
            this._emit("changeSelection");
        };
        Selection3.prototype.$moveSelection = function(mover) {
          var lead = this.lead;
          if (this.$isEmpty)
            this.setSelectionAnchor(lead.row, lead.column);
          mover.call(this);
        };
        Selection3.prototype.selectTo = function(row, column) {
          this.$moveSelection(function() {
            this.moveCursorTo(row, column);
          });
        };
        Selection3.prototype.selectToPosition = function(pos) {
          this.$moveSelection(function() {
            this.moveCursorToPosition(pos);
          });
        };
        Selection3.prototype.moveTo = function(row, column) {
          this.clearSelection();
          this.moveCursorTo(row, column);
        };
        Selection3.prototype.moveToPosition = function(pos) {
          this.clearSelection();
          this.moveCursorToPosition(pos);
        };
        Selection3.prototype.selectUp = function() {
          this.$moveSelection(this.moveCursorUp);
        };
        Selection3.prototype.selectDown = function() {
          this.$moveSelection(this.moveCursorDown);
        };
        Selection3.prototype.selectRight = function() {
          this.$moveSelection(this.moveCursorRight);
        };
        Selection3.prototype.selectLeft = function() {
          this.$moveSelection(this.moveCursorLeft);
        };
        Selection3.prototype.selectLineStart = function() {
          this.$moveSelection(this.moveCursorLineStart);
        };
        Selection3.prototype.selectLineEnd = function() {
          this.$moveSelection(this.moveCursorLineEnd);
        };
        Selection3.prototype.selectFileEnd = function() {
          this.$moveSelection(this.moveCursorFileEnd);
        };
        Selection3.prototype.selectFileStart = function() {
          this.$moveSelection(this.moveCursorFileStart);
        };
        Selection3.prototype.selectWordRight = function() {
          this.$moveSelection(this.moveCursorWordRight);
        };
        Selection3.prototype.selectWordLeft = function() {
          this.$moveSelection(this.moveCursorWordLeft);
        };
        Selection3.prototype.getWordRange = function(row, column) {
          if (typeof column == "undefined") {
            var cursor = row || this.lead;
            row = cursor.row;
            column = cursor.column;
          }
          return this.session.getWordRange(row, column);
        };
        Selection3.prototype.selectWord = function() {
          this.setSelectionRange(this.getWordRange());
        };
        Selection3.prototype.selectAWord = function() {
          var cursor = this.getCursor();
          var range = this.session.getAWordRange(cursor.row, cursor.column);
          this.setSelectionRange(range);
        };
        Selection3.prototype.getLineRange = function(row, excludeLastChar) {
          var rowStart = typeof row == "number" ? row : this.lead.row;
          var rowEnd;
          var foldLine = this.session.getFoldLine(rowStart);
          if (foldLine) {
            rowStart = foldLine.start.row;
            rowEnd = foldLine.end.row;
          } else {
            rowEnd = rowStart;
          }
          if (excludeLastChar === true)
            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
          else
            return new Range(rowStart, 0, rowEnd + 1, 0);
        };
        Selection3.prototype.selectLine = function() {
          this.setSelectionRange(this.getLineRange());
        };
        Selection3.prototype.moveCursorUp = function() {
          this.moveCursorBy(-1, 0);
        };
        Selection3.prototype.moveCursorDown = function() {
          this.moveCursorBy(1, 0);
        };
        Selection3.prototype.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {
          var start = cursor.column;
          var end = cursor.column + tabSize;
          if (direction < 0) {
            start = cursor.column - tabSize;
            end = cursor.column;
          }
          return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(" ").length - 1 == tabSize;
        };
        Selection3.prototype.moveCursorLeft = function() {
          var cursor = this.lead.getPosition(), fold;
          if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
          } else if (cursor.column === 0) {
            if (cursor.row > 0) {
              this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
            }
          } else {
            var tabSize = this.session.getTabSize();
            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {
              this.moveCursorBy(0, -tabSize);
            } else {
              this.moveCursorBy(0, -1);
            }
          }
        };
        Selection3.prototype.moveCursorRight = function() {
          var cursor = this.lead.getPosition(), fold;
          if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
            this.moveCursorTo(fold.end.row, fold.end.column);
          } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
            if (this.lead.row < this.doc.getLength() - 1) {
              this.moveCursorTo(this.lead.row + 1, 0);
            }
          } else {
            var tabSize = this.session.getTabSize();
            var cursor = this.lead;
            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {
              this.moveCursorBy(0, tabSize);
            } else {
              this.moveCursorBy(0, 1);
            }
          }
        };
        Selection3.prototype.moveCursorLineStart = function() {
          var row = this.lead.row;
          var column = this.lead.column;
          var screenRow = this.session.documentToScreenRow(row, column);
          var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
          var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);
          var leadingSpace = beforeCursor.match(/^\s*/);
          if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
            firstColumnPosition.column += leadingSpace[0].length;
          this.moveCursorToPosition(firstColumnPosition);
        };
        Selection3.prototype.moveCursorLineEnd = function() {
          var lead = this.lead;
          var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
          if (this.lead.column == lineEnd.column) {
            var line = this.session.getLine(lineEnd.row);
            if (lineEnd.column == line.length) {
              var textEnd = line.search(/\s+$/);
              if (textEnd > 0)
                lineEnd.column = textEnd;
            }
          }
          this.moveCursorTo(lineEnd.row, lineEnd.column);
        };
        Selection3.prototype.moveCursorFileEnd = function() {
          var row = this.doc.getLength() - 1;
          var column = this.doc.getLine(row).length;
          this.moveCursorTo(row, column);
        };
        Selection3.prototype.moveCursorFileStart = function() {
          this.moveCursorTo(0, 0);
        };
        Selection3.prototype.moveCursorLongWordRight = function() {
          var row = this.lead.row;
          var column = this.lead.column;
          var line = this.doc.getLine(row);
          var rightOfCursor = line.substring(column);
          this.session.nonTokenRe.lastIndex = 0;
          this.session.tokenRe.lastIndex = 0;
          var fold = this.session.getFoldAt(row, column, 1);
          if (fold) {
            this.moveCursorTo(fold.end.row, fold.end.column);
            return;
          }
          if (this.session.nonTokenRe.exec(rightOfCursor)) {
            column += this.session.nonTokenRe.lastIndex;
            this.session.nonTokenRe.lastIndex = 0;
            rightOfCursor = line.substring(column);
          }
          if (column >= line.length) {
            this.moveCursorTo(row, line.length);
            this.moveCursorRight();
            if (row < this.doc.getLength() - 1)
              this.moveCursorWordRight();
            return;
          }
          if (this.session.tokenRe.exec(rightOfCursor)) {
            column += this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
          }
          this.moveCursorTo(row, column);
        };
        Selection3.prototype.moveCursorLongWordLeft = function() {
          var row = this.lead.row;
          var column = this.lead.column;
          var fold;
          if (fold = this.session.getFoldAt(row, column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
            return;
          }
          var str = this.session.getFoldStringAt(row, column, -1);
          if (str == null) {
            str = this.doc.getLine(row).substring(0, column);
          }
          var leftOfCursor = lang.stringReverse(str);
          this.session.nonTokenRe.lastIndex = 0;
          this.session.tokenRe.lastIndex = 0;
          if (this.session.nonTokenRe.exec(leftOfCursor)) {
            column -= this.session.nonTokenRe.lastIndex;
            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
            this.session.nonTokenRe.lastIndex = 0;
          }
          if (column <= 0) {
            this.moveCursorTo(row, 0);
            this.moveCursorLeft();
            if (row > 0)
              this.moveCursorWordLeft();
            return;
          }
          if (this.session.tokenRe.exec(leftOfCursor)) {
            column -= this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
          }
          this.moveCursorTo(row, column);
        };
        Selection3.prototype.$shortWordEndIndex = function(rightOfCursor) {
          var index2 = 0, ch;
          var whitespaceRe = /\s/;
          var tokenRe = this.session.tokenRe;
          tokenRe.lastIndex = 0;
          if (this.session.tokenRe.exec(rightOfCursor)) {
            index2 = this.session.tokenRe.lastIndex;
          } else {
            while ((ch = rightOfCursor[index2]) && whitespaceRe.test(ch))
              index2++;
            if (index2 < 1) {
              tokenRe.lastIndex = 0;
              while ((ch = rightOfCursor[index2]) && !tokenRe.test(ch)) {
                tokenRe.lastIndex = 0;
                index2++;
                if (whitespaceRe.test(ch)) {
                  if (index2 > 2) {
                    index2--;
                    break;
                  } else {
                    while ((ch = rightOfCursor[index2]) && whitespaceRe.test(ch))
                      index2++;
                    if (index2 > 2)
                      break;
                  }
                }
              }
            }
          }
          tokenRe.lastIndex = 0;
          return index2;
        };
        Selection3.prototype.moveCursorShortWordRight = function() {
          var row = this.lead.row;
          var column = this.lead.column;
          var line = this.doc.getLine(row);
          var rightOfCursor = line.substring(column);
          var fold = this.session.getFoldAt(row, column, 1);
          if (fold)
            return this.moveCursorTo(fold.end.row, fold.end.column);
          if (column == line.length) {
            var l = this.doc.getLength();
            do {
              row++;
              rightOfCursor = this.doc.getLine(row);
            } while (row < l && /^\s*$/.test(rightOfCursor));
            if (!/^\s+/.test(rightOfCursor))
              rightOfCursor = "";
            column = 0;
          }
          var index2 = this.$shortWordEndIndex(rightOfCursor);
          this.moveCursorTo(row, column + index2);
        };
        Selection3.prototype.moveCursorShortWordLeft = function() {
          var row = this.lead.row;
          var column = this.lead.column;
          var fold;
          if (fold = this.session.getFoldAt(row, column, -1))
            return this.moveCursorTo(fold.start.row, fold.start.column);
          var line = this.session.getLine(row).substring(0, column);
          if (column === 0) {
            do {
              row--;
              line = this.doc.getLine(row);
            } while (row > 0 && /^\s*$/.test(line));
            column = line.length;
            if (!/\s+$/.test(line))
              line = "";
          }
          var leftOfCursor = lang.stringReverse(line);
          var index2 = this.$shortWordEndIndex(leftOfCursor);
          return this.moveCursorTo(row, column - index2);
        };
        Selection3.prototype.moveCursorWordRight = function() {
          if (this.session.$selectLongWords)
            this.moveCursorLongWordRight();
          else
            this.moveCursorShortWordRight();
        };
        Selection3.prototype.moveCursorWordLeft = function() {
          if (this.session.$selectLongWords)
            this.moveCursorLongWordLeft();
          else
            this.moveCursorShortWordLeft();
        };
        Selection3.prototype.moveCursorBy = function(rows, chars) {
          var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
          var offsetX;
          if (chars === 0) {
            if (rows !== 0) {
              if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {
                offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);
                screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);
              } else {
                offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];
              }
            }
            if (this.$desiredColumn)
              screenPos.column = this.$desiredColumn;
            else
              this.$desiredColumn = screenPos.column;
          }
          if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {
            var widget = this.session.lineWidgets[this.lead.row];
            if (rows < 0)
              rows -= widget.rowsAbove || 0;
            else if (rows > 0)
              rows += widget.rowCount - (widget.rowsAbove || 0);
          }
          var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);
          if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column)
            ;
          this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
        };
        Selection3.prototype.moveCursorToPosition = function(position) {
          this.moveCursorTo(position.row, position.column);
        };
        Selection3.prototype.moveCursorTo = function(row, column, keepDesiredColumn) {
          var fold = this.session.getFoldAt(row, column, 1);
          if (fold) {
            row = fold.start.row;
            column = fold.start.column;
          }
          this.$keepDesiredColumnOnChange = true;
          var line = this.session.getLine(row);
          if (/[\uDC00-\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {
            if (this.lead.row == row && this.lead.column == column + 1)
              column = column - 1;
            else
              column = column + 1;
          }
          this.lead.setPosition(row, column);
          this.$keepDesiredColumnOnChange = false;
          if (!keepDesiredColumn)
            this.$desiredColumn = null;
        };
        Selection3.prototype.moveCursorToScreen = function(row, column, keepDesiredColumn) {
          var pos = this.session.screenToDocumentPosition(row, column);
          this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
        };
        Selection3.prototype.detach = function() {
          this.lead.detach();
          this.anchor.detach();
        };
        Selection3.prototype.fromOrientedRange = function(range) {
          this.setSelectionRange(range, range.cursor == range.start);
          this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
        };
        Selection3.prototype.toOrientedRange = function(range) {
          var r = this.getRange();
          if (range) {
            range.start.column = r.start.column;
            range.start.row = r.start.row;
            range.end.column = r.end.column;
            range.end.row = r.end.row;
          } else {
            range = r;
          }
          range.cursor = this.isBackwards() ? range.start : range.end;
          range.desiredColumn = this.$desiredColumn;
          return range;
        };
        Selection3.prototype.getRangeOfMovements = function(func) {
          var start = this.getCursor();
          try {
            func(this);
            var end = this.getCursor();
            return Range.fromPoints(start, end);
          } catch (e2) {
            return Range.fromPoints(start, start);
          } finally {
            this.moveCursorToPosition(start);
          }
        };
        Selection3.prototype.toJSON = function() {
          if (this.rangeCount) {
            var data = this.ranges.map(function(r) {
              var r1 = r.clone();
              r1.isBackwards = r.cursor == r.start;
              return r1;
            });
          } else {
            var data = this.getRange();
            data.isBackwards = this.isBackwards();
          }
          return data;
        };
        Selection3.prototype.fromJSON = function(data) {
          if (data.start == void 0) {
            if (this.rangeList && data.length > 1) {
              this.toSingleRange(data[0]);
              for (var i = data.length; i--; ) {
                var r = Range.fromPoints(data[i].start, data[i].end);
                if (data[i].isBackwards)
                  r.cursor = r.start;
                this.addRange(r, true);
              }
              return;
            } else {
              data = data[0];
            }
          }
          if (this.rangeList)
            this.toSingleRange(data);
          this.setSelectionRange(data, data.isBackwards);
        };
        Selection3.prototype.isEqual = function(data) {
          if ((data.length || this.rangeCount) && data.length != this.rangeCount)
            return false;
          if (!data.length || !this.ranges)
            return this.getRange().isEqual(data);
          for (var i = this.ranges.length; i--; ) {
            if (!this.ranges[i].isEqual(data[i]))
              return false;
          }
          return true;
        };
        return Selection3;
      }()
    );
    Selection2.prototype.setSelectionAnchor = Selection2.prototype.setAnchor;
    Selection2.prototype.getSelectionAnchor = Selection2.prototype.getAnchor;
    Selection2.prototype.setSelectionRange = Selection2.prototype.setRange;
    oop.implement(Selection2.prototype, EventEmitter);
    exports2.Selection = Selection2;
  });
  ace.define("ace/tokenizer", ["require", "exports", "module", "ace/lib/report_error"], function(require2, exports2, module2) {
    var reportError = require2("./lib/report_error").reportError;
    var MAX_TOKEN_COUNT = 2e3;
    var Tokenizer = (
      /** @class */
      function() {
        function Tokenizer2(rules) {
          this.splitRegex;
          this.states = rules;
          this.regExps = {};
          this.matchMappings = {};
          for (var key in this.states) {
            var state = this.states[key];
            var ruleRegExps = [];
            var matchTotal = 0;
            var mapping = this.matchMappings[key] = { defaultToken: "text" };
            var flag = "g";
            var splitterRurles = [];
            for (var i = 0; i < state.length; i++) {
              var rule2 = state[i];
              if (rule2.defaultToken)
                mapping.defaultToken = rule2.defaultToken;
              if (rule2.caseInsensitive && flag.indexOf("i") === -1)
                flag += "i";
              if (rule2.unicode && flag.indexOf("u") === -1)
                flag += "u";
              if (rule2.regex == null)
                continue;
              if (rule2.regex instanceof RegExp)
                rule2.regex = rule2.regex.toString().slice(1, -1);
              var adjustedregex = rule2.regex;
              var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
              if (Array.isArray(rule2.token)) {
                if (rule2.token.length == 1 || matchcount == 1) {
                  rule2.token = rule2.token[0];
                } else if (matchcount - 1 != rule2.token.length) {
                  this.reportError("number of classes and regexp groups doesn't match", {
                    rule: rule2,
                    groupCount: matchcount - 1
                  });
                  rule2.token = rule2.token[0];
                } else {
                  rule2.tokenArray = rule2.token;
                  rule2.token = null;
                  rule2.onMatch = this.$arrayTokens;
                }
              } else if (typeof rule2.token == "function" && !rule2.onMatch) {
                if (matchcount > 1)
                  rule2.onMatch = this.$applyToken;
                else
                  rule2.onMatch = rule2.token;
              }
              if (matchcount > 1) {
                if (/\\\d/.test(rule2.regex)) {
                  adjustedregex = rule2.regex.replace(/\\([0-9]+)/g, function(match, digit) {
                    return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                  });
                } else {
                  matchcount = 1;
                  adjustedregex = this.removeCapturingGroups(rule2.regex);
                }
                if (!rule2.splitRegex && typeof rule2.token != "string")
                  splitterRurles.push(rule2);
              }
              mapping[matchTotal] = i;
              matchTotal += matchcount;
              ruleRegExps.push(adjustedregex);
              if (!rule2.onMatch)
                rule2.onMatch = null;
            }
            if (!ruleRegExps.length) {
              mapping[0] = 0;
              ruleRegExps.push("$");
            }
            splitterRurles.forEach(function(rule3) {
              rule3.splitRegex = this.createSplitterRegexp(rule3.regex, flag);
            }, this);
            this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
          }
        }
        Tokenizer2.prototype.$setMaxTokenCount = function(m) {
          MAX_TOKEN_COUNT = m | 0;
        };
        Tokenizer2.prototype.$applyToken = function(str) {
          var values = this.splitRegex.exec(str).slice(1);
          var types2 = this.token.apply(this, values);
          if (typeof types2 === "string")
            return [{ type: types2, value: str }];
          var tokens = [];
          for (var i = 0, l = types2.length; i < l; i++) {
            if (values[i])
              tokens[tokens.length] = {
                type: types2[i],
                value: values[i]
              };
          }
          return tokens;
        };
        Tokenizer2.prototype.$arrayTokens = function(str) {
          if (!str)
            return [];
          var values = this.splitRegex.exec(str);
          if (!values)
            return "text";
          var tokens = [];
          var types2 = this.tokenArray;
          for (var i = 0, l = types2.length; i < l; i++) {
            if (values[i + 1])
              tokens[tokens.length] = {
                type: types2[i],
                value: values[i + 1]
              };
          }
          return tokens;
        };
        Tokenizer2.prototype.removeCapturingGroups = function(src) {
          var r = src.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g, function(x, y) {
            return y ? "(?:" : x;
          });
          return r;
        };
        Tokenizer2.prototype.createSplitterRegexp = function(src, flag) {
          if (src.indexOf("(?=") != -1) {
            var stack = 0;
            var inChClass = false;
            var lastCapture = {};
            src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(m, esc, parenOpen, parenClose, square, index2) {
              if (inChClass) {
                inChClass = square != "]";
              } else if (square) {
                inChClass = true;
              } else if (parenClose) {
                if (stack == lastCapture.stack) {
                  lastCapture.end = index2 + 1;
                  lastCapture.stack = -1;
                }
                stack--;
              } else if (parenOpen) {
                stack++;
                if (parenOpen.length != 1) {
                  lastCapture.stack = stack;
                  lastCapture.start = index2;
                }
              }
              return m;
            });
            if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
              src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
          }
          if (src.charAt(0) != "^")
            src = "^" + src;
          if (src.charAt(src.length - 1) != "$")
            src += "$";
          return new RegExp(src, (flag || "").replace("g", ""));
        };
        Tokenizer2.prototype.getLineTokens = function(line, startState) {
          if (startState && typeof startState != "string") {
            var stack = startState.slice(0);
            startState = stack[0];
            if (startState === "#tmp") {
              stack.shift();
              startState = stack.shift();
            }
          } else
            var stack = [];
          var currentState = (
            /**@type{string}*/
            startState || "start"
          );
          var state = this.states[currentState];
          if (!state) {
            currentState = "start";
            state = this.states[currentState];
          }
          var mapping = this.matchMappings[currentState];
          var re = this.regExps[currentState];
          re.lastIndex = 0;
          var match, tokens = [];
          var lastIndex = 0;
          var matchAttempts = 0;
          var token = { type: null, value: "" };
          while (match = re.exec(line)) {
            var type = mapping.defaultToken;
            var rule2 = null;
            var value2 = match[0];
            var index2 = re.lastIndex;
            if (index2 - value2.length > lastIndex) {
              var skipped = line.substring(lastIndex, index2 - value2.length);
              if (token.type == type) {
                token.value += skipped;
              } else {
                if (token.type)
                  tokens.push(token);
                token = { type, value: skipped };
              }
            }
            for (var i = 0; i < match.length - 2; i++) {
              if (match[i + 1] === void 0)
                continue;
              rule2 = state[mapping[i]];
              if (rule2.onMatch)
                type = rule2.onMatch(value2, currentState, stack, line);
              else
                type = rule2.token;
              if (rule2.next) {
                if (typeof rule2.next == "string") {
                  currentState = rule2.next;
                } else {
                  currentState = rule2.next(currentState, stack);
                }
                state = this.states[currentState];
                if (!state) {
                  this.reportError("state doesn't exist", currentState);
                  currentState = "start";
                  state = this.states[currentState];
                }
                mapping = this.matchMappings[currentState];
                lastIndex = index2;
                re = this.regExps[currentState];
                re.lastIndex = index2;
              }
              if (rule2.consumeLineEnd)
                lastIndex = index2;
              break;
            }
            if (value2) {
              if (typeof type === "string") {
                if ((!rule2 || rule2.merge !== false) && token.type === type) {
                  token.value += value2;
                } else {
                  if (token.type)
                    tokens.push(token);
                  token = { type, value: value2 };
                }
              } else if (type) {
                if (token.type)
                  tokens.push(token);
                token = { type: null, value: "" };
                for (var i = 0; i < type.length; i++)
                  tokens.push(type[i]);
              }
            }
            if (lastIndex == line.length)
              break;
            lastIndex = index2;
            if (matchAttempts++ > MAX_TOKEN_COUNT) {
              if (matchAttempts > 2 * line.length) {
                this.reportError("infinite loop with in ace tokenizer", {
                  startState,
                  line
                });
              }
              while (lastIndex < line.length) {
                if (token.type)
                  tokens.push(token);
                token = {
                  value: line.substring(lastIndex, lastIndex += 500),
                  type: "overflow"
                };
              }
              currentState = "start";
              stack = [];
              break;
            }
          }
          if (token.type)
            tokens.push(token);
          if (stack.length > 1) {
            if (stack[0] !== currentState)
              stack.unshift("#tmp", currentState);
          }
          return {
            tokens,
            state: stack.length ? stack : currentState
          };
        };
        return Tokenizer2;
      }()
    );
    Tokenizer.prototype.reportError = reportError;
    exports2.Tokenizer = Tokenizer;
  });
  ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/deep_copy"], function(require2, exports2, module2) {
    var deepCopy = require2("../lib/deep_copy").deepCopy;
    var TextHighlightRules;
    TextHighlightRules = function() {
      this.$rules = {
        "start": [{
          token: "empty_line",
          regex: "^$"
        }, {
          defaultToken: "text"
        }]
      };
    };
    (function() {
      this.addRules = function(rules, prefix2) {
        if (!prefix2) {
          for (var key in rules)
            this.$rules[key] = rules[key];
          return;
        }
        for (var key in rules) {
          var state = rules[key];
          for (var i = 0; i < state.length; i++) {
            var rule2 = state[i];
            if (rule2.next || rule2.onMatch) {
              if (typeof rule2.next == "string") {
                if (rule2.next.indexOf(prefix2) !== 0)
                  rule2.next = prefix2 + rule2.next;
              }
              if (rule2.nextState && rule2.nextState.indexOf(prefix2) !== 0)
                rule2.nextState = prefix2 + rule2.nextState;
            }
          }
          this.$rules[prefix2 + key] = state;
        }
      };
      this.getRules = function() {
        return this.$rules;
      };
      this.embedRules = function(HighlightRules, prefix2, escapeRules, states, append3) {
        var embedRules = typeof HighlightRules == "function" ? new HighlightRules().getRules() : HighlightRules;
        if (states) {
          for (var i = 0; i < states.length; i++)
            states[i] = prefix2 + states[i];
        } else {
          states = [];
          for (var key in embedRules)
            states.push(prefix2 + key);
        }
        this.addRules(embedRules, prefix2);
        if (escapeRules) {
          var addRules = Array.prototype[append3 ? "push" : "unshift"];
          for (var i = 0; i < states.length; i++)
            addRules.apply(this.$rules[states[i]], deepCopy(escapeRules));
        }
        if (!this.$embeds)
          this.$embeds = [];
        this.$embeds.push(prefix2);
      };
      this.getEmbeds = function() {
        return this.$embeds;
      };
      var pushState = function(currentState, stack) {
        if (currentState != "start" || stack.length)
          stack.unshift(this.nextState, currentState);
        return this.nextState;
      };
      var popState = function(currentState, stack) {
        stack.shift();
        return stack.shift() || "start";
      };
      this.normalizeRules = function() {
        var id = 0;
        var rules = this.$rules;
        function processState(key) {
          var state = rules[key];
          state["processed"] = true;
          for (var i = 0; i < state.length; i++) {
            var rule2 = state[i];
            var toInsert = null;
            if (Array.isArray(rule2)) {
              toInsert = rule2;
              rule2 = {};
            }
            if (!rule2.regex && rule2.start) {
              rule2.regex = rule2.start;
              if (!rule2.next)
                rule2.next = [];
              rule2.next.push({
                defaultToken: rule2.token
              }, {
                token: rule2.token + ".end",
                regex: rule2.end || rule2.start,
                next: "pop"
              });
              rule2.token = rule2.token + ".start";
              rule2.push = true;
            }
            var next = rule2.next || rule2.push;
            if (next && Array.isArray(next)) {
              var stateName = rule2.stateName;
              if (!stateName) {
                stateName = rule2.token;
                if (typeof stateName != "string")
                  stateName = stateName[0] || "";
                if (rules[stateName])
                  stateName += id++;
              }
              rules[stateName] = next;
              rule2.next = stateName;
              processState(stateName);
            } else if (next == "pop") {
              rule2.next = popState;
            }
            if (rule2.push) {
              rule2.nextState = rule2.next || rule2.push;
              rule2.next = pushState;
              delete rule2.push;
            }
            if (rule2.rules) {
              for (var r in rule2.rules) {
                if (rules[r]) {
                  if (rules[r].push)
                    rules[r].push.apply(rules[r], rule2.rules[r]);
                } else {
                  rules[r] = rule2.rules[r];
                }
              }
            }
            var includeName = typeof rule2 == "string" ? rule2 : rule2.include;
            if (includeName) {
              if (includeName === "$self")
                includeName = "start";
              if (Array.isArray(includeName))
                toInsert = includeName.map(function(x) {
                  return rules[x];
                });
              else
                toInsert = rules[includeName];
            }
            if (toInsert) {
              var args = [i, 1].concat(toInsert);
              if (rule2.noEscape)
                args = args.filter(function(x) {
                  return !x.next;
                });
              state.splice.apply(state, args);
              i--;
            }
            if (rule2.keywordMap) {
              rule2.token = this.createKeywordMapper(rule2.keywordMap, rule2.defaultToken || "text", rule2.caseInsensitive);
              delete rule2.defaultToken;
            }
          }
        }
        Object.keys(rules).forEach(processState, this);
      };
      this.createKeywordMapper = function(map2, defaultToken, ignoreCase, splitChar) {
        var keywords = /* @__PURE__ */ Object.create(null);
        this.$keywordList = [];
        Object.keys(map2).forEach(function(className) {
          var a = map2[className];
          var list = a.split(splitChar || "|");
          for (var i = list.length; i--; ) {
            var word = list[i];
            this.$keywordList.push(word);
            if (ignoreCase)
              word = word.toLowerCase();
            keywords[word] = className;
          }
        }, this);
        map2 = null;
        return ignoreCase ? function(value2) {
          return keywords[value2.toLowerCase()] || defaultToken;
        } : function(value2) {
          return keywords[value2] || defaultToken;
        };
      };
      this.getKeywords = function() {
        return this.$keywords;
      };
    }).call(TextHighlightRules.prototype);
    exports2.TextHighlightRules = TextHighlightRules;
  });
  ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(require2, exports2, module2) {
    var Behaviour;
    Behaviour = function() {
      this.$behaviours = {};
    };
    (function() {
      this.add = function(name2, action, callback) {
        switch (void 0) {
          case this.$behaviours:
            this.$behaviours = {};
          case this.$behaviours[name2]:
            this.$behaviours[name2] = {};
        }
        this.$behaviours[name2][action] = callback;
      };
      this.addBehaviours = function(behaviours) {
        for (var key in behaviours) {
          for (var action in behaviours[key]) {
            this.add(key, action, behaviours[key][action]);
          }
        }
      };
      this.remove = function(name2) {
        if (this.$behaviours && this.$behaviours[name2]) {
          delete this.$behaviours[name2];
        }
      };
      this.inherit = function(mode, filter3) {
        if (typeof mode === "function") {
          var behaviours = new mode().getBehaviours(filter3);
        } else {
          var behaviours = mode.getBehaviours(filter3);
        }
        this.addBehaviours(behaviours);
      };
      this.getBehaviours = function(filter3) {
        if (!filter3) {
          return this.$behaviours;
        } else {
          var ret = {};
          for (var i = 0; i < filter3.length; i++) {
            if (this.$behaviours[filter3[i]]) {
              ret[filter3[i]] = this.$behaviours[filter3[i]];
            }
          }
          return ret;
        }
      };
    }).call(Behaviour.prototype);
    exports2.Behaviour = Behaviour;
  });
  ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
    var Range = require2("./range").Range;
    var TokenIterator = (
      /** @class */
      function() {
        function TokenIterator2(session, initialRow, initialColumn) {
          this.$session = session;
          this.$row = initialRow;
          this.$rowTokens = session.getTokens(initialRow);
          var token = session.getTokenAt(initialRow, initialColumn);
          this.$tokenIndex = token ? token.index : -1;
        }
        TokenIterator2.prototype.stepBackward = function() {
          this.$tokenIndex -= 1;
          while (this.$tokenIndex < 0) {
            this.$row -= 1;
            if (this.$row < 0) {
              this.$row = 0;
              return null;
            }
            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = this.$rowTokens.length - 1;
          }
          return this.$rowTokens[this.$tokenIndex];
        };
        TokenIterator2.prototype.stepForward = function() {
          this.$tokenIndex += 1;
          var rowCount;
          while (this.$tokenIndex >= this.$rowTokens.length) {
            this.$row += 1;
            if (!rowCount)
              rowCount = this.$session.getLength();
            if (this.$row >= rowCount) {
              this.$row = rowCount - 1;
              return null;
            }
            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = 0;
          }
          return this.$rowTokens[this.$tokenIndex];
        };
        TokenIterator2.prototype.getCurrentToken = function() {
          return this.$rowTokens[this.$tokenIndex];
        };
        TokenIterator2.prototype.getCurrentTokenRow = function() {
          return this.$row;
        };
        TokenIterator2.prototype.getCurrentTokenColumn = function() {
          var rowTokens = this.$rowTokens;
          var tokenIndex = this.$tokenIndex;
          var column = rowTokens[tokenIndex].start;
          if (column !== void 0)
            return column;
          column = 0;
          while (tokenIndex > 0) {
            tokenIndex -= 1;
            column += rowTokens[tokenIndex].value.length;
          }
          return column;
        };
        TokenIterator2.prototype.getCurrentTokenPosition = function() {
          return { row: this.$row, column: this.getCurrentTokenColumn() };
        };
        TokenIterator2.prototype.getCurrentTokenRange = function() {
          var token = this.$rowTokens[this.$tokenIndex];
          var column = this.getCurrentTokenColumn();
          return new Range(this.$row, column, this.$row, column + token.value.length);
        };
        return TokenIterator2;
      }()
    );
    exports2.TokenIterator = TokenIterator;
  });
  ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(require2, exports2, module2) {
    var oop = require2("../../lib/oop");
    var Behaviour = require2("../behaviour").Behaviour;
    var TokenIterator = require2("../../token_iterator").TokenIterator;
    var lang = require2("../../lib/lang");
    var SAFE_INSERT_IN_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator"];
    var SAFE_INSERT_BEFORE_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator", "comment"];
    var context;
    var contextCache = {};
    var defaultQuotes = { '"': '"', "'": "'" };
    var initContext = function(editor) {
      var id = -1;
      if (editor.multiSelect) {
        id = editor.selection.index;
        if (contextCache.rangeCount != editor.multiSelect.rangeCount)
          contextCache = { rangeCount: editor.multiSelect.rangeCount };
      }
      if (contextCache[id])
        return context = contextCache[id];
      context = contextCache[id] = {
        autoInsertedBrackets: 0,
        autoInsertedRow: -1,
        autoInsertedLineEnd: "",
        maybeInsertedBrackets: 0,
        maybeInsertedRow: -1,
        maybeInsertedLineStart: "",
        maybeInsertedLineEnd: ""
      };
    };
    var getWrapped = function(selection, selected, opening, closing) {
      var rowDiff = selection.end.row - selection.start.row;
      return {
        text: opening + selected + closing,
        selection: [
          0,
          selection.start.column + 1,
          rowDiff,
          selection.end.column + (rowDiff ? 0 : 1)
        ]
      };
    };
    var CstyleBehaviour;
    CstyleBehaviour = function(options) {
      options = options || {};
      this.add("braces", "insertion", function(state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == "{") {
          initContext(editor);
          var selection = editor.getSelectionRange();
          var selected = session.doc.getTextRange(selection);
          if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
            return getWrapped(selection, selected, "{", "}");
          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
            if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options.braces) {
              CstyleBehaviour.recordAutoInsert(editor, session, "}");
              return {
                text: "{}",
                selection: [1, 1]
              };
            } else {
              CstyleBehaviour.recordMaybeInsert(editor, session, "{");
              return {
                text: "{",
                selection: [1, 1]
              };
            }
          }
        } else if (text == "}") {
          initContext(editor);
          var rightChar = line.substring(cursor.column, cursor.column + 1);
          if (rightChar == "}") {
            var matching = session.$findOpeningBracket("}", { column: cursor.column + 1, row: cursor.row });
            if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
              CstyleBehaviour.popAutoInsertedClosing();
              return {
                text: "",
                selection: [1, 1]
              };
            }
          }
        } else if (text == "\n" || text == "\r\n") {
          initContext(editor);
          var closing = "";
          if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
            closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
            CstyleBehaviour.clearMaybeInsertedClosing();
          }
          var rightChar = line.substring(cursor.column, cursor.column + 1);
          if (rightChar === "}") {
            var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, "}");
            if (!openBracePos)
              return null;
            var next_indent = this.$getIndent(session.getLine(openBracePos.row));
          } else if (closing) {
            var next_indent = this.$getIndent(line);
          } else {
            CstyleBehaviour.clearMaybeInsertedClosing();
            return;
          }
          var indent = next_indent + session.getTabString();
          return {
            text: "\n" + indent + "\n" + next_indent + closing,
            selection: [1, indent.length, 1, indent.length]
          };
        } else {
          CstyleBehaviour.clearMaybeInsertedClosing();
        }
      });
      this.add("braces", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == "{") {
          initContext(editor);
          var line = session.doc.getLine(range.start.row);
          var rightChar = line.substring(range.end.column, range.end.column + 1);
          if (rightChar == "}") {
            range.end.column++;
            return range;
          } else {
            context.maybeInsertedBrackets--;
          }
        }
      });
      this.add("parens", "insertion", function(state, action, editor, session, text) {
        if (text == "(") {
          initContext(editor);
          var selection = editor.getSelectionRange();
          var selected = session.doc.getTextRange(selection);
          if (selected !== "" && editor.getWrapBehavioursEnabled()) {
            return getWrapped(selection, selected, "(", ")");
          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
            CstyleBehaviour.recordAutoInsert(editor, session, ")");
            return {
              text: "()",
              selection: [1, 1]
            };
          }
        } else if (text == ")") {
          initContext(editor);
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          var rightChar = line.substring(cursor.column, cursor.column + 1);
          if (rightChar == ")") {
            var matching = session.$findOpeningBracket(")", { column: cursor.column + 1, row: cursor.row });
            if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
              CstyleBehaviour.popAutoInsertedClosing();
              return {
                text: "",
                selection: [1, 1]
              };
            }
          }
        }
      });
      this.add("parens", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == "(") {
          initContext(editor);
          var line = session.doc.getLine(range.start.row);
          var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
          if (rightChar == ")") {
            range.end.column++;
            return range;
          }
        }
      });
      this.add("brackets", "insertion", function(state, action, editor, session, text) {
        if (text == "[") {
          initContext(editor);
          var selection = editor.getSelectionRange();
          var selected = session.doc.getTextRange(selection);
          if (selected !== "" && editor.getWrapBehavioursEnabled()) {
            return getWrapped(selection, selected, "[", "]");
          } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
            CstyleBehaviour.recordAutoInsert(editor, session, "]");
            return {
              text: "[]",
              selection: [1, 1]
            };
          }
        } else if (text == "]") {
          initContext(editor);
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          var rightChar = line.substring(cursor.column, cursor.column + 1);
          if (rightChar == "]") {
            var matching = session.$findOpeningBracket("]", { column: cursor.column + 1, row: cursor.row });
            if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
              CstyleBehaviour.popAutoInsertedClosing();
              return {
                text: "",
                selection: [1, 1]
              };
            }
          }
        }
      });
      this.add("brackets", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == "[") {
          initContext(editor);
          var line = session.doc.getLine(range.start.row);
          var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
          if (rightChar == "]") {
            range.end.column++;
            return range;
          }
        }
      });
      this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
        var quotes = session.$mode.$quotes || defaultQuotes;
        if (text.length == 1 && quotes[text]) {
          if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)
            return;
          initContext(editor);
          var quote = text;
          var selection = editor.getSelectionRange();
          var selected = session.doc.getTextRange(selection);
          if (selected !== "" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {
            return getWrapped(selection, selected, quote, quote);
          } else if (!selected) {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var leftChar = line.substring(cursor.column - 1, cursor.column);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            var token = session.getTokenAt(cursor.row, cursor.column);
            var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
            if (leftChar == "\\" && token && /escape/.test(token.type))
              return null;
            var stringBefore = token && /string|escape/.test(token.type);
            var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
            var pair;
            if (rightChar == quote) {
              pair = stringBefore !== stringAfter;
              if (pair && /string\.end/.test(rightToken.type))
                pair = false;
            } else {
              if (stringBefore && !stringAfter)
                return null;
              if (stringBefore && stringAfter)
                return null;
              var wordRe = session.$mode.tokenRe;
              wordRe.lastIndex = 0;
              var isWordBefore = wordRe.test(leftChar);
              wordRe.lastIndex = 0;
              var isWordAfter = wordRe.test(rightChar);
              var pairQuotesAfter = session.$mode.$pairQuotesAfter;
              var shouldPairQuotes = pairQuotesAfter && pairQuotesAfter[quote] && pairQuotesAfter[quote].test(leftChar);
              if (!shouldPairQuotes && isWordBefore || isWordAfter)
                return null;
              if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                return null;
              var charBefore = line[cursor.column - 2];
              if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))
                return null;
              pair = true;
            }
            return {
              text: pair ? quote + quote : "",
              selection: [1, 1]
            };
          }
        }
      });
      this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var quotes = session.$mode.$quotes || defaultQuotes;
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {
          initContext(editor);
          var line = session.doc.getLine(range.start.row);
          var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
          if (rightChar == selected) {
            range.end.column++;
            return range;
          }
        }
      });
      if (options.closeDocComment !== false) {
        this.add("doc comment end", "insertion", function(state, action, editor, session, text) {
          if (state === "doc-start" && (text === "\n" || text === "\r\n") && editor.selection.isEmpty()) {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var nextLine = session.doc.getLine(cursor.row + 1);
            var indent = this.$getIndent(line);
            if (/\s*\*/.test(nextLine)) {
              if (/^\s*\*/.test(line)) {
                return {
                  text: text + indent + "* ",
                  selection: [1, 3 + indent.length, 1, 3 + indent.length]
                };
              } else {
                return {
                  text: text + indent + " * ",
                  selection: [1, 3 + indent.length, 1, 3 + indent.length]
                };
              }
            }
            if (/\/\*\*/.test(line.substring(0, cursor.column))) {
              return {
                text: text + indent + " * " + text + " " + indent + "*/",
                selection: [1, 4 + indent.length, 1, 4 + indent.length]
              };
            }
          }
        });
      }
    };
    CstyleBehaviour.isSaneInsertion = function(editor, session) {
      var cursor = editor.getCursorPosition();
      var iterator = new TokenIterator(session, cursor.row, cursor.column);
      if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
        if (/[)}\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))
          return true;
        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
        if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
          return false;
      }
      iterator.stepForward();
      return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
    };
    CstyleBehaviour["$matchTokenType"] = function(token, types2) {
      return types2.indexOf(token.type || token) > -1;
    };
    CstyleBehaviour["recordAutoInsert"] = function(editor, session, bracket) {
      var cursor = editor.getCursorPosition();
      var line = session.doc.getLine(cursor.row);
      if (!this["isAutoInsertedClosing"](cursor, line, context.autoInsertedLineEnd[0]))
        context.autoInsertedBrackets = 0;
      context.autoInsertedRow = cursor.row;
      context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
      context.autoInsertedBrackets++;
    };
    CstyleBehaviour["recordMaybeInsert"] = function(editor, session, bracket) {
      var cursor = editor.getCursorPosition();
      var line = session.doc.getLine(cursor.row);
      if (!this["isMaybeInsertedClosing"](cursor, line))
        context.maybeInsertedBrackets = 0;
      context.maybeInsertedRow = cursor.row;
      context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
      context.maybeInsertedLineEnd = line.substr(cursor.column);
      context.maybeInsertedBrackets++;
    };
    CstyleBehaviour["isAutoInsertedClosing"] = function(cursor, line, bracket) {
      return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;
    };
    CstyleBehaviour["isMaybeInsertedClosing"] = function(cursor, line) {
      return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;
    };
    CstyleBehaviour["popAutoInsertedClosing"] = function() {
      context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
      context.autoInsertedBrackets--;
    };
    CstyleBehaviour["clearMaybeInsertedClosing"] = function() {
      if (context) {
        context.maybeInsertedBrackets = 0;
        context.maybeInsertedRow = -1;
      }
    };
    oop.inherits(CstyleBehaviour, Behaviour);
    exports2.CstyleBehaviour = CstyleBehaviour;
  });
  ace.define("ace/unicode", ["require", "exports", "module"], function(require2, exports2, module2) {
    var wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];
    var code = 0;
    var str = [];
    for (var i = 0; i < wordChars.length; i += 2) {
      str.push(code += wordChars[i]);
      if (wordChars[i + 1])
        str.push(45, code += wordChars[i + 1]);
    }
    exports2.wordChars = String.fromCharCode.apply(null, str);
  });
  ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(require2, exports2, module2) {
    var config2 = require2("../config");
    var Tokenizer = require2("../tokenizer").Tokenizer;
    var TextHighlightRules = require2("./text_highlight_rules").TextHighlightRules;
    var CstyleBehaviour = require2("./behaviour/cstyle").CstyleBehaviour;
    var unicode = require2("../unicode");
    var lang = require2("../lib/lang");
    var TokenIterator = require2("../token_iterator").TokenIterator;
    var Range = require2("../range").Range;
    var Mode;
    Mode = function() {
      this.HighlightRules = TextHighlightRules;
    };
    (function() {
      this.$defaultBehaviour = new CstyleBehaviour();
      this.tokenRe = new RegExp("^[" + unicode.wordChars + "\\$_]+", "g");
      this.nonTokenRe = new RegExp("^(?:[^" + unicode.wordChars + "\\$_]|\\s])+", "g");
      this.getTokenizer = function() {
        if (!this.$tokenizer) {
          this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);
          this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());
        }
        return this.$tokenizer;
      };
      this.lineCommentStart = "";
      this.blockComment = "";
      this.toggleCommentLines = function(state, session, startRow, endRow) {
        var doc = session.doc;
        var ignoreBlankLines = true;
        var shouldRemove = true;
        var minIndent = Infinity;
        var tabSize = session.getTabSize();
        var insertAtTabStop = false;
        if (!this.lineCommentStart) {
          if (!this.blockComment)
            return false;
          var lineCommentStart = this.blockComment.start;
          var lineCommentEnd = this.blockComment.end;
          var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
          var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");
          var comment = function(line, i) {
            if (testRemove(line, i))
              return;
            if (!ignoreBlankLines || /\S/.test(line)) {
              doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);
              doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);
            }
          };
          var uncomment = function(line, i) {
            var m;
            if (m = line.match(regexpEnd))
              doc.removeInLine(i, line.length - m[0].length, line.length);
            if (m = line.match(regexpStart))
              doc.removeInLine(i, m[1].length, m[0].length);
          };
          var testRemove = function(line, row) {
            if (regexpStart.test(line))
              return true;
            var tokens = session.getTokens(row);
            for (var i = 0; i < tokens.length; i++) {
              if (tokens[i].type === "comment")
                return true;
            }
          };
        } else {
          if (Array.isArray(this.lineCommentStart)) {
            var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
            var lineCommentStart = this.lineCommentStart[0];
          } else {
            var regexpStart = lang.escapeRegExp(this.lineCommentStart);
            var lineCommentStart = this.lineCommentStart;
          }
          regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
          insertAtTabStop = session.getUseSoftTabs();
          var uncomment = function(line, i) {
            var m = line.match(regexpStart);
            if (!m)
              return;
            var start = m[1].length, end = m[0].length;
            if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == " ")
              end--;
            doc.removeInLine(i, start, end);
          };
          var commentWithSpace = lineCommentStart + " ";
          var comment = function(line, i) {
            if (!ignoreBlankLines || /\S/.test(line)) {
              if (shouldInsertSpace(line, minIndent, minIndent))
                doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);
              else
                doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);
            }
          };
          var testRemove = function(line, i) {
            return regexpStart.test(line);
          };
          var shouldInsertSpace = function(line, before, after) {
            var spaces = 0;
            while (before-- && line.charAt(before) == " ")
              spaces++;
            if (spaces % tabSize != 0)
              return false;
            var spaces = 0;
            while (line.charAt(after++) == " ")
              spaces++;
            if (tabSize > 2)
              return spaces % tabSize != tabSize - 1;
            else
              return spaces % tabSize == 0;
          };
        }
        function iter(fun) {
          for (var i = startRow; i <= endRow; i++)
            fun(doc.getLine(i), i);
        }
        var minEmptyLength = Infinity;
        iter(function(line, i) {
          var indent = line.search(/\S/);
          if (indent !== -1) {
            if (indent < minIndent)
              minIndent = indent;
            if (shouldRemove && !testRemove(line, i))
              shouldRemove = false;
          } else if (minEmptyLength > line.length) {
            minEmptyLength = line.length;
          }
        });
        if (minIndent == Infinity) {
          minIndent = minEmptyLength;
          ignoreBlankLines = false;
          shouldRemove = false;
        }
        if (insertAtTabStop && minIndent % tabSize != 0)
          minIndent = Math.floor(minIndent / tabSize) * tabSize;
        iter(shouldRemove ? uncomment : comment);
      };
      this.toggleBlockComment = function(state, session, range, cursor) {
        var comment = this.blockComment;
        if (!comment)
          return;
        if (!comment.start && comment[0])
          comment = comment[0];
        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        var token = iterator.getCurrentToken();
        session.selection;
        var initialRange = session.selection.toOrientedRange();
        var startRow, colDiff;
        if (token && /comment/.test(token.type)) {
          var startRange, endRange;
          while (token && /comment/.test(token.type)) {
            var i = token.value.indexOf(comment.start);
            if (i != -1) {
              var row = iterator.getCurrentTokenRow();
              var column = iterator.getCurrentTokenColumn() + i;
              startRange = new Range(row, column, row, column + comment.start.length);
              break;
            }
            token = iterator.stepBackward();
          }
          var iterator = new TokenIterator(session, cursor.row, cursor.column);
          var token = iterator.getCurrentToken();
          while (token && /comment/.test(token.type)) {
            var i = token.value.indexOf(comment.end);
            if (i != -1) {
              var row = iterator.getCurrentTokenRow();
              var column = iterator.getCurrentTokenColumn() + i;
              endRange = new Range(row, column, row, column + comment.end.length);
              break;
            }
            token = iterator.stepForward();
          }
          if (endRange)
            session.remove(endRange);
          if (startRange) {
            session.remove(startRange);
            startRow = startRange.start.row;
            colDiff = -comment.start.length;
          }
        } else {
          colDiff = comment.start.length;
          startRow = range.start.row;
          session.insert(range.end, comment.end);
          session.insert(range.start, comment.start);
        }
        if (initialRange.start.row == startRow)
          initialRange.start.column += colDiff;
        if (initialRange.end.row == startRow)
          initialRange.end.column += colDiff;
        session.selection.fromOrientedRange(initialRange);
      };
      this.getNextLineIndent = function(state, line, tab2) {
        return this.$getIndent(line);
      };
      this.checkOutdent = function(state, line, input2) {
        return false;
      };
      this.autoOutdent = function(state, doc, row) {
      };
      this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
      };
      this.createWorker = function(session) {
        return null;
      };
      this.createModeDelegates = function(mapping) {
        this.$embeds = [];
        this.$modes = {};
        for (var i in mapping) {
          if (mapping[i]) {
            var Mode2 = mapping[i];
            var id = Mode2.prototype.$id;
            var mode = config2.$modes[id];
            if (!mode)
              config2.$modes[id] = mode = new Mode2();
            if (!config2.$modes[i])
              config2.$modes[i] = mode;
            this.$embeds.push(i);
            this.$modes[i] = mode;
          }
        }
        var delegations = [
          "toggleBlockComment",
          "toggleCommentLines",
          "getNextLineIndent",
          "checkOutdent",
          "autoOutdent",
          "transformAction",
          "getCompletions"
        ];
        var _loop_1 = function(i2) {
          (function(scope) {
            var functionName = delegations[i2];
            var defaultHandler = scope[functionName];
            scope[delegations[i2]] = function() {
              return this.$delegator(functionName, arguments, defaultHandler);
            };
          })(this_1);
        };
        var this_1 = this;
        for (var i = 0; i < delegations.length; i++) {
          _loop_1(i);
        }
      };
      this.$delegator = function(method, args, defaultHandler) {
        var state = args[0] || "start";
        if (typeof state != "string") {
          if (Array.isArray(state[2])) {
            var language = state[2][state[2].length - 1];
            var mode = this.$modes[language];
            if (mode)
              return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));
          }
          state = state[0] || "start";
        }
        for (var i = 0; i < this.$embeds.length; i++) {
          if (!this.$modes[this.$embeds[i]])
            continue;
          var split = state.split(this.$embeds[i]);
          if (!split[0] && split[1]) {
            args[0] = split[1];
            var mode = this.$modes[this.$embeds[i]];
            return mode[method].apply(mode, args);
          }
        }
        var ret = defaultHandler.apply(this, args);
        return defaultHandler ? ret : void 0;
      };
      this.transformAction = function(state, action, editor, session, param) {
        if (this.$behaviour) {
          var behaviours = this.$behaviour.getBehaviours();
          for (var key in behaviours) {
            if (behaviours[key][action]) {
              var ret = behaviours[key][action].apply(this, arguments);
              if (ret) {
                return ret;
              }
            }
          }
        }
      };
      this.getKeywords = function(append3) {
        if (!this.completionKeywords) {
          var rules = this.$tokenizer["rules"];
          var completionKeywords = [];
          for (var rule2 in rules) {
            var ruleItr = rules[rule2];
            for (var r = 0, l = ruleItr.length; r < l; r++) {
              if (typeof ruleItr[r].token === "string") {
                if (/keyword|support|storage/.test(ruleItr[r].token))
                  completionKeywords.push(ruleItr[r].regex);
              } else if (typeof ruleItr[r].token === "object") {
                for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {
                  if (/keyword|support|storage/.test(ruleItr[r].token[a])) {
                    var rule2 = ruleItr[r].regex.match(/\(.+?\)/g)[a];
                    completionKeywords.push(rule2.substr(1, rule2.length - 2));
                  }
                }
              }
            }
          }
          this.completionKeywords = completionKeywords;
        }
        if (!append3)
          return this.$keywordList;
        return completionKeywords.concat(this.$keywordList || []);
      };
      this.$createKeywordList = function() {
        if (!this.$highlightRules)
          this.getTokenizer();
        return this.$keywordList = this.$highlightRules.$keywordList || [];
      };
      this.getCompletions = function(state, session, pos, prefix2) {
        var keywords = this.$keywordList || this.$createKeywordList();
        return keywords.map(function(word) {
          return {
            name: word,
            value: word,
            score: 0,
            meta: "keyword"
          };
        });
      };
      this.$id = "ace/mode/text";
    }).call(Mode.prototype);
    exports2.Mode = Mode;
  });
  ace.define("ace/apply_delta", ["require", "exports", "module"], function(require2, exports2, module2) {
    exports2.applyDelta = function(docLines, delta, doNotValidate) {
      var row = delta.start.row;
      var startColumn = delta.start.column;
      var line = docLines[row] || "";
      switch (delta.action) {
        case "insert":
          var lines = delta.lines;
          if (lines.length === 1) {
            docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);
          } else {
            var args = [row, 1].concat(delta.lines);
            docLines.splice.apply(docLines, args);
            docLines[row] = line.substring(0, startColumn) + docLines[row];
            docLines[row + delta.lines.length - 1] += line.substring(startColumn);
          }
          break;
        case "remove":
          var endColumn = delta.end.column;
          var endRow = delta.end.row;
          if (row === endRow) {
            docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);
          } else {
            docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));
          }
          break;
      }
    };
  });
  ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var Anchor = (
      /** @class */
      function() {
        function Anchor2(doc, row, column) {
          this.$onChange = this.onChange.bind(this);
          this.attach(doc);
          if (typeof row != "number")
            this.setPosition(row.row, row.column);
          else
            this.setPosition(row, column);
        }
        Anchor2.prototype.getPosition = function() {
          return this.$clipPositionToDocument(this.row, this.column);
        };
        Anchor2.prototype.getDocument = function() {
          return this.document;
        };
        Anchor2.prototype.onChange = function(delta) {
          if (delta.start.row == delta.end.row && delta.start.row != this.row)
            return;
          if (delta.start.row > this.row)
            return;
          var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);
          this.setPosition(point.row, point.column, true);
        };
        Anchor2.prototype.setPosition = function(row, column, noClip) {
          var pos;
          if (noClip) {
            pos = {
              row,
              column
            };
          } else {
            pos = this.$clipPositionToDocument(row, column);
          }
          if (this.row == pos.row && this.column == pos.column)
            return;
          var old = {
            row: this.row,
            column: this.column
          };
          this.row = pos.row;
          this.column = pos.column;
          this._signal("change", {
            old,
            value: pos
          });
        };
        Anchor2.prototype.detach = function() {
          this.document.off("change", this.$onChange);
        };
        Anchor2.prototype.attach = function(doc) {
          this.document = doc || this.document;
          this.document.on("change", this.$onChange);
        };
        Anchor2.prototype.$clipPositionToDocument = function(row, column) {
          var pos = {};
          if (row >= this.document.getLength()) {
            pos.row = Math.max(0, this.document.getLength() - 1);
            pos.column = this.document.getLine(pos.row).length;
          } else if (row < 0) {
            pos.row = 0;
            pos.column = 0;
          } else {
            pos.row = row;
            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
          }
          if (column < 0)
            pos.column = 0;
          return pos;
        };
        return Anchor2;
      }()
    );
    Anchor.prototype.$insertRight = false;
    oop.implement(Anchor.prototype, EventEmitter);
    function $pointsInOrder(point1, point2, equalPointsInOrder) {
      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;
      return point1.row < point2.row || point1.row == point2.row && bColIsAfter;
    }
    function $getTransformedPoint(delta, point, moveIfEqual) {
      var deltaIsInsert = delta.action == "insert";
      var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);
      var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);
      var deltaStart = delta.start;
      var deltaEnd = deltaIsInsert ? deltaStart : delta.end;
      if ($pointsInOrder(point, deltaStart, moveIfEqual)) {
        return {
          row: point.row,
          column: point.column
        };
      }
      if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {
        return {
          row: point.row + deltaRowShift,
          column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)
        };
      }
      return {
        row: deltaStart.row,
        column: deltaStart.column
      };
    }
    exports2.Anchor = Anchor;
  });
  ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var applyDelta = require2("./apply_delta").applyDelta;
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var Range = require2("./range").Range;
    var Anchor = require2("./anchor").Anchor;
    var Document = (
      /** @class */
      function() {
        function Document2(textOrLines) {
          this.$lines = [""];
          if (textOrLines.length === 0) {
            this.$lines = [""];
          } else if (Array.isArray(textOrLines)) {
            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);
          } else {
            this.insert({ row: 0, column: 0 }, textOrLines);
          }
        }
        Document2.prototype.setValue = function(text) {
          var len = this.getLength() - 1;
          this.remove(new Range(0, 0, len, this.getLine(len).length));
          this.insert({ row: 0, column: 0 }, text || "");
        };
        Document2.prototype.getValue = function() {
          return this.getAllLines().join(this.getNewLineCharacter());
        };
        Document2.prototype.createAnchor = function(row, column) {
          return new Anchor(this, row, column);
        };
        Document2.prototype.$detectNewLine = function(text) {
          var match = text.match(/^.*?(\r\n|\r|\n)/m);
          this.$autoNewLine = match ? match[1] : "\n";
          this._signal("changeNewLineMode");
        };
        Document2.prototype.getNewLineCharacter = function() {
          switch (this.$newLineMode) {
            case "windows":
              return "\r\n";
            case "unix":
              return "\n";
            default:
              return this.$autoNewLine || "\n";
          }
        };
        Document2.prototype.setNewLineMode = function(newLineMode) {
          if (this.$newLineMode === newLineMode)
            return;
          this.$newLineMode = newLineMode;
          this._signal("changeNewLineMode");
        };
        Document2.prototype.getNewLineMode = function() {
          return this.$newLineMode;
        };
        Document2.prototype.isNewLine = function(text) {
          return text == "\r\n" || text == "\r" || text == "\n";
        };
        Document2.prototype.getLine = function(row) {
          return this.$lines[row] || "";
        };
        Document2.prototype.getLines = function(firstRow, lastRow) {
          return this.$lines.slice(firstRow, lastRow + 1);
        };
        Document2.prototype.getAllLines = function() {
          return this.getLines(0, this.getLength());
        };
        Document2.prototype.getLength = function() {
          return this.$lines.length;
        };
        Document2.prototype.getTextRange = function(range) {
          return this.getLinesForRange(range).join(this.getNewLineCharacter());
        };
        Document2.prototype.getLinesForRange = function(range) {
          var lines;
          if (range.start.row === range.end.row) {
            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];
          } else {
            lines = this.getLines(range.start.row, range.end.row);
            lines[0] = (lines[0] || "").substring(range.start.column);
            var l = lines.length - 1;
            if (range.end.row - range.start.row == l)
              lines[l] = lines[l].substring(0, range.end.column);
          }
          return lines;
        };
        Document2.prototype.insertLines = function(row, lines) {
          console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");
          return this.insertFullLines(row, lines);
        };
        Document2.prototype.removeLines = function(firstRow, lastRow) {
          console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");
          return this.removeFullLines(firstRow, lastRow);
        };
        Document2.prototype.insertNewLine = function(position) {
          console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");
          return this.insertMergedLines(position, ["", ""]);
        };
        Document2.prototype.insert = function(position, text) {
          if (this.getLength() <= 1)
            this.$detectNewLine(text);
          return this.insertMergedLines(position, this.$split(text));
        };
        Document2.prototype.insertInLine = function(position, text) {
          var start = this.clippedPos(position.row, position.column);
          var end = this.pos(position.row, position.column + text.length);
          this.applyDelta({
            start,
            end,
            action: "insert",
            lines: [text]
          }, true);
          return this.clonePos(end);
        };
        Document2.prototype.clippedPos = function(row, column) {
          var length = this.getLength();
          if (row === void 0) {
            row = length;
          } else if (row < 0) {
            row = 0;
          } else if (row >= length) {
            row = length - 1;
            column = void 0;
          }
          var line = this.getLine(row);
          if (column == void 0)
            column = line.length;
          column = Math.min(Math.max(column, 0), line.length);
          return { row, column };
        };
        Document2.prototype.clonePos = function(pos) {
          return { row: pos.row, column: pos.column };
        };
        Document2.prototype.pos = function(row, column) {
          return { row, column };
        };
        Document2.prototype.$clipPosition = function(position) {
          var length = this.getLength();
          if (position.row >= length) {
            position.row = Math.max(0, length - 1);
            position.column = this.getLine(length - 1).length;
          } else {
            position.row = Math.max(0, position.row);
            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);
          }
          return position;
        };
        Document2.prototype.insertFullLines = function(row, lines) {
          row = Math.min(Math.max(row, 0), this.getLength());
          var column = 0;
          if (row < this.getLength()) {
            lines = lines.concat([""]);
            column = 0;
          } else {
            lines = [""].concat(lines);
            row--;
            column = this.$lines[row].length;
          }
          this.insertMergedLines({ row, column }, lines);
        };
        Document2.prototype.insertMergedLines = function(position, lines) {
          var start = this.clippedPos(position.row, position.column);
          var end = {
            row: start.row + lines.length - 1,
            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length
          };
          this.applyDelta({
            start,
            end,
            action: "insert",
            lines
          });
          return this.clonePos(end);
        };
        Document2.prototype.remove = function(range) {
          var start = this.clippedPos(range.start.row, range.start.column);
          var end = this.clippedPos(range.end.row, range.end.column);
          this.applyDelta({
            start,
            end,
            action: "remove",
            lines: this.getLinesForRange({ start, end })
          });
          return this.clonePos(start);
        };
        Document2.prototype.removeInLine = function(row, startColumn, endColumn) {
          var start = this.clippedPos(row, startColumn);
          var end = this.clippedPos(row, endColumn);
          this.applyDelta({
            start,
            end,
            action: "remove",
            lines: this.getLinesForRange({ start, end })
          }, true);
          return this.clonePos(start);
        };
        Document2.prototype.removeFullLines = function(firstRow, lastRow) {
          firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);
          lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);
          var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;
          var deleteLastNewLine = lastRow < this.getLength() - 1;
          var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;
          var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;
          var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;
          var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;
          var range = new Range(startRow, startCol, endRow, endCol);
          var deletedLines = this.$lines.slice(firstRow, lastRow + 1);
          this.applyDelta({
            start: range.start,
            end: range.end,
            action: "remove",
            lines: this.getLinesForRange(range)
          });
          return deletedLines;
        };
        Document2.prototype.removeNewLine = function(row) {
          if (row < this.getLength() - 1 && row >= 0) {
            this.applyDelta({
              start: this.pos(row, this.getLine(row).length),
              end: this.pos(row + 1, 0),
              action: "remove",
              lines: ["", ""]
            });
          }
        };
        Document2.prototype.replace = function(range, text) {
          if (!(range instanceof Range))
            range = Range.fromPoints(range.start, range.end);
          if (text.length === 0 && range.isEmpty())
            return range.start;
          if (text == this.getTextRange(range))
            return range.end;
          this.remove(range);
          var end;
          if (text) {
            end = this.insert(range.start, text);
          } else {
            end = range.start;
          }
          return end;
        };
        Document2.prototype.applyDeltas = function(deltas) {
          for (var i = 0; i < deltas.length; i++) {
            this.applyDelta(deltas[i]);
          }
        };
        Document2.prototype.revertDeltas = function(deltas) {
          for (var i = deltas.length - 1; i >= 0; i--) {
            this.revertDelta(deltas[i]);
          }
        };
        Document2.prototype.applyDelta = function(delta, doNotValidate) {
          var isInsert = delta.action == "insert";
          if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {
            return;
          }
          if (isInsert && delta.lines.length > 2e4) {
            this.$splitAndapplyLargeDelta(delta, 2e4);
          } else {
            applyDelta(this.$lines, delta, doNotValidate);
            this._signal("change", delta);
          }
        };
        Document2.prototype.$safeApplyDelta = function(delta) {
          var docLength = this.$lines.length;
          if (delta.action == "remove" && delta.start.row < docLength && delta.end.row < docLength || delta.action == "insert" && delta.start.row <= docLength) {
            this.applyDelta(delta);
          }
        };
        Document2.prototype.$splitAndapplyLargeDelta = function(delta, MAX) {
          var lines = delta.lines;
          var l = lines.length - MAX + 1;
          var row = delta.start.row;
          var column = delta.start.column;
          for (var from = 0, to = 0; from < l; from = to) {
            to += MAX - 1;
            var chunk = lines.slice(from, to);
            chunk.push("");
            this.applyDelta({
              start: this.pos(row + from, column),
              end: this.pos(row + to, column = 0),
              action: delta.action,
              lines: chunk
            }, true);
          }
          delta.lines = lines.slice(from);
          delta.start.row = row + from;
          delta.start.column = column;
          this.applyDelta(delta, true);
        };
        Document2.prototype.revertDelta = function(delta) {
          this.$safeApplyDelta({
            start: this.clonePos(delta.start),
            end: this.clonePos(delta.end),
            action: delta.action == "insert" ? "remove" : "insert",
            lines: delta.lines.slice()
          });
        };
        Document2.prototype.indexToPosition = function(index2, startRow) {
          var lines = this.$lines || this.getAllLines();
          var newlineLength = this.getNewLineCharacter().length;
          for (var i = startRow || 0, l = lines.length; i < l; i++) {
            index2 -= lines[i].length + newlineLength;
            if (index2 < 0)
              return { row: i, column: index2 + lines[i].length + newlineLength };
          }
          return { row: l - 1, column: index2 + lines[l - 1].length + newlineLength };
        };
        Document2.prototype.positionToIndex = function(pos, startRow) {
          var lines = this.$lines || this.getAllLines();
          var newlineLength = this.getNewLineCharacter().length;
          var index2 = 0;
          var row = Math.min(pos.row, lines.length);
          for (var i = startRow || 0; i < row; ++i)
            index2 += lines[i].length + newlineLength;
          return index2 + pos.column;
        };
        Document2.prototype.$split = function(text) {
          return text.split(/\r\n|\r|\n/);
        };
        return Document2;
      }()
    );
    Document.prototype.$autoNewLine = "";
    Document.prototype.$newLineMode = "auto";
    oop.implement(Document.prototype, EventEmitter);
    exports2.Document = Document;
  });
  ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var BackgroundTokenizer = (
      /** @class */
      function() {
        function BackgroundTokenizer2(tokenizer, session) {
          this.running = false;
          this.lines = [];
          this.states = [];
          this.currentLine = 0;
          this.tokenizer = tokenizer;
          var self2 = this;
          this.$worker = function() {
            if (!self2.running) {
              return;
            }
            var workerStart = /* @__PURE__ */ new Date();
            var currentLine = self2.currentLine;
            var endLine = -1;
            var doc = self2.doc;
            var startLine = currentLine;
            while (self2.lines[currentLine])
              currentLine++;
            var len = doc.getLength();
            var processedLines = 0;
            self2.running = false;
            while (currentLine < len) {
              self2.$tokenizeRow(currentLine);
              endLine = currentLine;
              do {
                currentLine++;
              } while (self2.lines[currentLine]);
              processedLines++;
              if (processedLines % 5 === 0 && /* @__PURE__ */ new Date() - workerStart > 20) {
                self2.running = setTimeout(self2.$worker, 20);
                break;
              }
            }
            self2.currentLine = currentLine;
            if (endLine == -1)
              endLine = currentLine;
            if (startLine <= endLine)
              self2.fireUpdateEvent(startLine, endLine);
          };
        }
        BackgroundTokenizer2.prototype.setTokenizer = function(tokenizer) {
          this.tokenizer = tokenizer;
          this.lines = [];
          this.states = [];
          this.start(0);
        };
        BackgroundTokenizer2.prototype.setDocument = function(doc) {
          this.doc = doc;
          this.lines = [];
          this.states = [];
          this.stop();
        };
        BackgroundTokenizer2.prototype.fireUpdateEvent = function(firstRow, lastRow) {
          var data = {
            first: firstRow,
            last: lastRow
          };
          this._signal("update", { data });
        };
        BackgroundTokenizer2.prototype.start = function(startRow) {
          this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
          this.lines.splice(this.currentLine, this.lines.length);
          this.states.splice(this.currentLine, this.states.length);
          this.stop();
          this.running = setTimeout(this.$worker, 700);
        };
        BackgroundTokenizer2.prototype.scheduleStart = function() {
          if (!this.running)
            this.running = setTimeout(this.$worker, 700);
        };
        BackgroundTokenizer2.prototype.$updateOnChange = function(delta) {
          var startRow = delta.start.row;
          var len = delta.end.row - startRow;
          if (len === 0) {
            this.lines[startRow] = null;
          } else if (delta.action == "remove") {
            this.lines.splice(startRow, len + 1, null);
            this.states.splice(startRow, len + 1, null);
          } else {
            var args = Array(len + 1);
            args.unshift(startRow, 1);
            this.lines.splice.apply(this.lines, args);
            this.states.splice.apply(this.states, args);
          }
          this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());
          this.stop();
        };
        BackgroundTokenizer2.prototype.stop = function() {
          if (this.running)
            clearTimeout(this.running);
          this.running = false;
        };
        BackgroundTokenizer2.prototype.getTokens = function(row) {
          return this.lines[row] || this.$tokenizeRow(row);
        };
        BackgroundTokenizer2.prototype.getState = function(row) {
          if (this.currentLine == row)
            this.$tokenizeRow(row);
          return this.states[row] || "start";
        };
        BackgroundTokenizer2.prototype.$tokenizeRow = function(row) {
          var line = this.doc.getLine(row);
          var state = this.states[row - 1];
          var data = this.tokenizer.getLineTokens(line, state, row);
          if (this.states[row] + "" !== data.state + "") {
            this.states[row] = data.state;
            this.lines[row + 1] = null;
            if (this.currentLine > row + 1)
              this.currentLine = row + 1;
          } else if (this.currentLine == row) {
            this.currentLine = row + 1;
          }
          return this.lines[row] = data.tokens;
        };
        BackgroundTokenizer2.prototype.cleanup = function() {
          this.running = false;
          this.lines = [];
          this.states = [];
          this.currentLine = 0;
          this.removeAllListeners();
        };
        return BackgroundTokenizer2;
      }()
    );
    oop.implement(BackgroundTokenizer.prototype, EventEmitter);
    exports2.BackgroundTokenizer = BackgroundTokenizer;
  });
  ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/range"], function(require2, exports2, module2) {
    var lang = require2("./lib/lang");
    var Range = require2("./range").Range;
    var SearchHighlight = (
      /** @class */
      function() {
        function SearchHighlight2(regExp, clazz, type) {
          if (type === void 0) {
            type = "text";
          }
          this.setRegexp(regExp);
          this.clazz = clazz;
          this.type = type;
        }
        SearchHighlight2.prototype.setRegexp = function(regExp) {
          if (this.regExp + "" == regExp + "")
            return;
          this.regExp = regExp;
          this.cache = [];
        };
        SearchHighlight2.prototype.update = function(html, markerLayer, session, config2) {
          if (!this.regExp)
            return;
          var start = config2.firstRow, end = config2.lastRow;
          var renderedMarkerRanges = {};
          for (var i = start; i <= end; i++) {
            var ranges = this.cache[i];
            if (ranges == null) {
              ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);
              if (ranges.length > this.MAX_RANGES)
                ranges = ranges.slice(0, this.MAX_RANGES);
              ranges = ranges.map(function(match) {
                return new Range(i, match.offset, i, match.offset + match.length);
              });
              this.cache[i] = ranges.length ? ranges : "";
            }
            for (var j = ranges.length; j--; ) {
              var rangeToAddMarkerTo = ranges[j].toScreenRange(session);
              var rangeAsString = rangeToAddMarkerTo.toString();
              if (renderedMarkerRanges[rangeAsString])
                continue;
              renderedMarkerRanges[rangeAsString] = true;
              markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config2);
            }
          }
        };
        return SearchHighlight2;
      }()
    );
    SearchHighlight.prototype.MAX_RANGES = 500;
    exports2.SearchHighlight = SearchHighlight;
  });
  ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
    var UndoManager = (
      /** @class */
      function() {
        function UndoManager2() {
          this.$keepRedoStack;
          this.$maxRev = 0;
          this.$fromUndo = false;
          this.$undoDepth = Infinity;
          this.reset();
        }
        UndoManager2.prototype.addSession = function(session) {
          this.$session = session;
        };
        UndoManager2.prototype.add = function(delta, allowMerge, session) {
          if (this.$fromUndo)
            return;
          if (delta == this.$lastDelta)
            return;
          if (!this.$keepRedoStack)
            this.$redoStack.length = 0;
          if (allowMerge === false || !this.lastDeltas) {
            this.lastDeltas = [];
            var undoStackLength = this.$undoStack.length;
            if (undoStackLength > this.$undoDepth - 1) {
              this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);
            }
            this.$undoStack.push(this.lastDeltas);
            delta.id = this.$rev = ++this.$maxRev;
          }
          if (delta.action == "remove" || delta.action == "insert")
            this.$lastDelta = delta;
          this.lastDeltas.push(delta);
        };
        UndoManager2.prototype.addSelection = function(selection, rev) {
          this.selections.push({
            value: selection,
            rev: rev || this.$rev
          });
        };
        UndoManager2.prototype.startNewGroup = function() {
          this.lastDeltas = null;
          return this.$rev;
        };
        UndoManager2.prototype.markIgnored = function(from, to) {
          if (to == null)
            to = this.$rev + 1;
          var stack = this.$undoStack;
          for (var i = stack.length; i--; ) {
            var delta = stack[i][0];
            if (delta.id <= from)
              break;
            if (delta.id < to)
              delta.ignore = true;
          }
          this.lastDeltas = null;
        };
        UndoManager2.prototype.getSelection = function(rev, after) {
          var stack = this.selections;
          for (var i = stack.length; i--; ) {
            var selection = stack[i];
            if (selection.rev < rev) {
              if (after)
                selection = stack[i + 1];
              return selection;
            }
          }
        };
        UndoManager2.prototype.getRevision = function() {
          return this.$rev;
        };
        UndoManager2.prototype.getDeltas = function(from, to) {
          if (to == null)
            to = this.$rev + 1;
          var stack = this.$undoStack;
          var end = null, start = 0;
          for (var i = stack.length; i--; ) {
            var delta = stack[i][0];
            if (delta.id < to && !end)
              end = i + 1;
            if (delta.id <= from) {
              start = i + 1;
              break;
            }
          }
          return stack.slice(start, end);
        };
        UndoManager2.prototype.getChangedRanges = function(from, to) {
          if (to == null)
            to = this.$rev + 1;
        };
        UndoManager2.prototype.getChangedLines = function(from, to) {
          if (to == null)
            to = this.$rev + 1;
        };
        UndoManager2.prototype.undo = function(session, dontSelect) {
          this.lastDeltas = null;
          var stack = this.$undoStack;
          if (!rearrangeUndoStack(stack, stack.length))
            return;
          if (!session)
            session = this.$session;
          if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)
            this.$redoStack = [];
          this.$fromUndo = true;
          var deltaSet = stack.pop();
          var undoSelectionRange = null;
          if (deltaSet) {
            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);
            this.$redoStack.push(deltaSet);
            this.$syncRev();
          }
          this.$fromUndo = false;
          return undoSelectionRange;
        };
        UndoManager2.prototype.redo = function(session, dontSelect) {
          this.lastDeltas = null;
          if (!session)
            session = this.$session;
          this.$fromUndo = true;
          if (this.$redoStackBaseRev != this.$rev) {
            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);
            rebaseRedoStack(this.$redoStack, diff);
            this.$redoStackBaseRev = this.$rev;
            this.$redoStack.forEach(function(x) {
              x[0].id = ++this.$maxRev;
            }, this);
          }
          var deltaSet = this.$redoStack.pop();
          var redoSelectionRange = null;
          if (deltaSet) {
            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);
            this.$undoStack.push(deltaSet);
            this.$syncRev();
          }
          this.$fromUndo = false;
          return redoSelectionRange;
        };
        UndoManager2.prototype.$syncRev = function() {
          var stack = this.$undoStack;
          var nextDelta = stack[stack.length - 1];
          var id = nextDelta && nextDelta[0].id || 0;
          this.$redoStackBaseRev = id;
          this.$rev = id;
        };
        UndoManager2.prototype.reset = function() {
          this.lastDeltas = null;
          this.$lastDelta = null;
          this.$undoStack = [];
          this.$redoStack = [];
          this.$rev = 0;
          this.mark = 0;
          this.$redoStackBaseRev = this.$rev;
          this.selections = [];
        };
        UndoManager2.prototype.canUndo = function() {
          return this.$undoStack.length > 0;
        };
        UndoManager2.prototype.canRedo = function() {
          return this.$redoStack.length > 0;
        };
        UndoManager2.prototype.bookmark = function(rev) {
          if (rev == void 0)
            rev = this.$rev;
          this.mark = rev;
        };
        UndoManager2.prototype.isAtBookmark = function() {
          return this.$rev === this.mark;
        };
        UndoManager2.prototype.toJSON = function() {
          return {
            $redoStack: this.$redoStack,
            $undoStack: this.$undoStack
          };
        };
        UndoManager2.prototype.fromJSON = function(json) {
          this.reset();
          this.$undoStack = json.$undoStack;
          this.$redoStack = json.$redoStack;
        };
        UndoManager2.prototype.$prettyPrint = function(delta) {
          if (delta)
            return stringifyDelta(delta);
          return stringifyDelta(this.$undoStack) + "\n---\n" + stringifyDelta(this.$redoStack);
        };
        return UndoManager2;
      }()
    );
    UndoManager.prototype.hasUndo = UndoManager.prototype.canUndo;
    UndoManager.prototype.hasRedo = UndoManager.prototype.canRedo;
    UndoManager.prototype.isClean = UndoManager.prototype.isAtBookmark;
    UndoManager.prototype.markClean = UndoManager.prototype.bookmark;
    function rearrangeUndoStack(stack, pos) {
      for (var i = pos; i--; ) {
        var deltaSet = stack[i];
        if (deltaSet && !deltaSet[0].ignore) {
          while (i < pos - 1) {
            var swapped = swapGroups(stack[i], stack[i + 1]);
            stack[i] = swapped[0];
            stack[i + 1] = swapped[1];
            i++;
          }
          return true;
        }
      }
    }
    var Range = require2("./range").Range;
    var cmp = Range.comparePoints;
    Range.comparePoints;
    function clonePos(pos) {
      return { row: pos.row, column: pos.column };
    }
    function cloneDelta(d) {
      return {
        start: clonePos(d.start),
        end: clonePos(d.end),
        action: d.action,
        lines: d.lines.slice()
      };
    }
    function stringifyDelta(d) {
      d = d || this;
      if (Array.isArray(d)) {
        return d.map(stringifyDelta).join("\n");
      }
      var type = "";
      if (d.action) {
        type = d.action == "insert" ? "+" : "-";
        type += "[" + d.lines + "]";
      } else if (d.value) {
        if (Array.isArray(d.value)) {
          type = d.value.map(stringifyRange).join("\n");
        } else {
          type = stringifyRange(d.value);
        }
      }
      if (d.start) {
        type += stringifyRange(d);
      }
      if (d.id || d.rev) {
        type += "	(" + (d.id || d.rev) + ")";
      }
      return type;
    }
    function stringifyRange(r) {
      return r.start.row + ":" + r.start.column + "=>" + r.end.row + ":" + r.end.column;
    }
    function swap(d1, d2) {
      var i1 = d1.action == "insert";
      var i2 = d2.action == "insert";
      if (i1 && i2) {
        if (cmp(d2.start, d1.end) >= 0) {
          shift(d2, d1, -1);
        } else if (cmp(d2.start, d1.start) <= 0) {
          shift(d1, d2, 1);
        } else {
          return null;
        }
      } else if (i1 && !i2) {
        if (cmp(d2.start, d1.end) >= 0) {
          shift(d2, d1, -1);
        } else if (cmp(d2.end, d1.start) <= 0) {
          shift(d1, d2, -1);
        } else {
          return null;
        }
      } else if (!i1 && i2) {
        if (cmp(d2.start, d1.start) >= 0) {
          shift(d2, d1, 1);
        } else if (cmp(d2.start, d1.start) <= 0) {
          shift(d1, d2, 1);
        } else {
          return null;
        }
      } else if (!i1 && !i2) {
        if (cmp(d2.start, d1.start) >= 0) {
          shift(d2, d1, 1);
        } else if (cmp(d2.end, d1.start) <= 0) {
          shift(d1, d2, -1);
        } else {
          return null;
        }
      }
      return [d2, d1];
    }
    function swapGroups(ds1, ds2) {
      for (var i = ds1.length; i--; ) {
        for (var j = 0; j < ds2.length; j++) {
          if (!swap(ds1[i], ds2[j])) {
            while (i < ds1.length) {
              while (j--) {
                swap(ds2[j], ds1[i]);
              }
              j = ds2.length;
              i++;
            }
            return [ds1, ds2];
          }
        }
      }
      ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;
      return [ds2, ds1];
    }
    function xform(d1, c1) {
      var i1 = d1.action == "insert";
      var i2 = c1.action == "insert";
      if (i1 && i2) {
        if (cmp(d1.start, c1.start) < 0) {
          shift(c1, d1, 1);
        } else {
          shift(d1, c1, 1);
        }
      } else if (i1 && !i2) {
        if (cmp(d1.start, c1.end) >= 0) {
          shift(d1, c1, -1);
        } else if (cmp(d1.start, c1.start) <= 0) {
          shift(c1, d1, 1);
        } else {
          shift(d1, Range.fromPoints(c1.start, d1.start), -1);
          shift(c1, d1, 1);
        }
      } else if (!i1 && i2) {
        if (cmp(c1.start, d1.end) >= 0) {
          shift(c1, d1, -1);
        } else if (cmp(c1.start, d1.start) <= 0) {
          shift(d1, c1, 1);
        } else {
          shift(c1, Range.fromPoints(d1.start, c1.start), -1);
          shift(d1, c1, 1);
        }
      } else if (!i1 && !i2) {
        if (cmp(c1.start, d1.end) >= 0) {
          shift(c1, d1, -1);
        } else if (cmp(c1.end, d1.start) <= 0) {
          shift(d1, c1, -1);
        } else {
          var before, after;
          if (cmp(d1.start, c1.start) < 0) {
            before = d1;
            d1 = splitDelta(d1, c1.start);
          }
          if (cmp(d1.end, c1.end) > 0) {
            after = splitDelta(d1, c1.end);
          }
          shiftPos(c1.end, d1.start, d1.end, -1);
          if (after && !before) {
            d1.lines = after.lines;
            d1.start = after.start;
            d1.end = after.end;
            after = d1;
          }
          return [c1, before, after].filter(Boolean);
        }
      }
      return [c1, d1];
    }
    function shift(d1, d2, dir) {
      shiftPos(d1.start, d2.start, d2.end, dir);
      shiftPos(d1.end, d2.start, d2.end, dir);
    }
    function shiftPos(pos, start, end, dir) {
      if (pos.row == (dir == 1 ? start : end).row) {
        pos.column += dir * (end.column - start.column);
      }
      pos.row += dir * (end.row - start.row);
    }
    function splitDelta(c, pos) {
      var lines = c.lines;
      var end = c.end;
      c.end = clonePos(pos);
      var rowsBefore = c.end.row - c.start.row;
      var otherLines = lines.splice(rowsBefore, lines.length);
      var col = rowsBefore ? pos.column : pos.column - c.start.column;
      lines.push(otherLines[0].substring(0, col));
      otherLines[0] = otherLines[0].substr(col);
      var rest = {
        start: clonePos(pos),
        end,
        lines: otherLines,
        action: c.action
      };
      return rest;
    }
    function moveDeltasByOne(redoStack, d) {
      d = cloneDelta(d);
      for (var j = redoStack.length; j--; ) {
        var deltaSet = redoStack[j];
        for (var i = 0; i < deltaSet.length; i++) {
          var x = deltaSet[i];
          var xformed = xform(x, d);
          d = xformed[0];
          if (xformed.length != 2) {
            if (xformed[2]) {
              deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);
              i++;
            } else if (!xformed[1]) {
              deltaSet.splice(i, 1);
              i--;
            }
          }
        }
        if (!deltaSet.length) {
          redoStack.splice(j, 1);
        }
      }
      return redoStack;
    }
    function rebaseRedoStack(redoStack, deltaSets) {
      for (var i = 0; i < deltaSets.length; i++) {
        var deltas = deltaSets[i];
        for (var j = 0; j < deltas.length; j++) {
          moveDeltasByOne(redoStack, deltas[j]);
        }
      }
    }
    exports2.UndoManager = UndoManager;
  });
  ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
    var Range = require2("../range").Range;
    var FoldLine = (
      /** @class */
      function() {
        function FoldLine2(foldData, folds) {
          this.foldData = foldData;
          if (Array.isArray(folds)) {
            this.folds = folds;
          } else {
            folds = this.folds = [folds];
          }
          var last = folds[folds.length - 1];
          this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);
          this.start = this.range.start;
          this.end = this.range.end;
          this.folds.forEach(function(fold) {
            fold.setFoldLine(this);
          }, this);
        }
        FoldLine2.prototype.shiftRow = function(shift) {
          this.start.row += shift;
          this.end.row += shift;
          this.folds.forEach(function(fold) {
            fold.start.row += shift;
            fold.end.row += shift;
          });
        };
        FoldLine2.prototype.addFold = function(fold) {
          if (fold.sameRow) {
            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
              throw new Error("Can't add a fold to this FoldLine as it has no connection");
            }
            this.folds.push(fold);
            this.folds.sort(function(a, b) {
              return -a.range.compareEnd(b.start.row, b.start.column);
            });
            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
              this.end.row = fold.end.row;
              this.end.column = fold.end.column;
            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
              this.start.row = fold.start.row;
              this.start.column = fold.start.column;
            }
          } else if (fold.start.row == this.end.row) {
            this.folds.push(fold);
            this.end.row = fold.end.row;
            this.end.column = fold.end.column;
          } else if (fold.end.row == this.start.row) {
            this.folds.unshift(fold);
            this.start.row = fold.start.row;
            this.start.column = fold.start.column;
          } else {
            throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
          }
          fold.foldLine = this;
        };
        FoldLine2.prototype.containsRow = function(row) {
          return row >= this.start.row && row <= this.end.row;
        };
        FoldLine2.prototype.walk = function(callback, endRow, endColumn) {
          var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;
          if (endRow == null) {
            endRow = this.end.row;
            endColumn = this.end.column;
          }
          for (var i = 0; i < folds.length; i++) {
            fold = folds[i];
            cmp = fold.range.compareStart(endRow, endColumn);
            if (cmp == -1) {
              callback(null, endRow, endColumn, lastEnd, isNewRow);
              return;
            }
            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
            if (stop || cmp === 0) {
              return;
            }
            isNewRow = !fold.sameRow;
            lastEnd = fold.end.column;
          }
          callback(null, endRow, endColumn, lastEnd, isNewRow);
        };
        FoldLine2.prototype.getNextFoldTo = function(row, column) {
          var fold, cmp;
          for (var i = 0; i < this.folds.length; i++) {
            fold = this.folds[i];
            cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
              return {
                fold,
                kind: "after"
              };
            } else if (cmp === 0) {
              return {
                fold,
                kind: "inside"
              };
            }
          }
          return null;
        };
        FoldLine2.prototype.addRemoveChars = function(row, column, len) {
          var ret = this.getNextFoldTo(row, column), fold, folds;
          if (ret) {
            fold = ret.fold;
            if (ret.kind == "inside" && fold.start.column != column && fold.start.row != row) {
              window.console && window.console.log(row, column, fold);
            } else if (fold.start.row == row) {
              folds = this.folds;
              var i = folds.indexOf(fold);
              if (i === 0) {
                this.start.column += len;
              }
              for (i; i < folds.length; i++) {
                fold = folds[i];
                fold.start.column += len;
                if (!fold.sameRow) {
                  return;
                }
                fold.end.column += len;
              }
              this.end.column += len;
            }
          }
        };
        FoldLine2.prototype.split = function(row, column) {
          var pos = this.getNextFoldTo(row, column);
          if (!pos || pos.kind == "inside")
            return null;
          var fold = pos.fold;
          var folds = this.folds;
          var foldData = this.foldData;
          var i = folds.indexOf(fold);
          var foldBefore = folds[i - 1];
          this.end.row = foldBefore.end.row;
          this.end.column = foldBefore.end.column;
          folds = folds.splice(i, folds.length - i);
          var newFoldLine = new FoldLine2(foldData, folds);
          foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
          return newFoldLine;
        };
        FoldLine2.prototype.merge = function(foldLineNext) {
          var folds = foldLineNext.folds;
          for (var i = 0; i < folds.length; i++) {
            this.addFold(folds[i]);
          }
          var foldData = this.foldData;
          foldData.splice(foldData.indexOf(foldLineNext), 1);
        };
        FoldLine2.prototype.toString = function() {
          var ret = [this.range.toString() + ": ["];
          this.folds.forEach(function(fold) {
            ret.push("  " + fold.toString());
          });
          ret.push("]");
          return ret.join("\n");
        };
        FoldLine2.prototype.idxToPosition = function(idx) {
          var lastFoldEndColumn = 0;
          for (var i = 0; i < this.folds.length; i++) {
            var fold = this.folds[i];
            idx -= fold.start.column - lastFoldEndColumn;
            if (idx < 0) {
              return {
                row: fold.start.row,
                column: fold.start.column + idx
              };
            }
            idx -= fold.placeholder.length;
            if (idx < 0) {
              return fold.start;
            }
            lastFoldEndColumn = fold.end.column;
          }
          return {
            row: this.end.row,
            column: this.end.column + idx
          };
        };
        return FoldLine2;
      }()
    );
    exports2.FoldLine = FoldLine;
  });
  ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
    var Range = require2("./range").Range;
    var comparePoints = Range.comparePoints;
    var RangeList = (
      /** @class */
      function() {
        function RangeList2() {
          this.ranges = [];
          this.$bias = 1;
        }
        RangeList2.prototype.pointIndex = function(pos, excludeEdges, startIndex) {
          var list = this.ranges;
          for (var i = startIndex || 0; i < list.length; i++) {
            var range = list[i];
            var cmpEnd = comparePoints(pos, range.end);
            if (cmpEnd > 0)
              continue;
            var cmpStart = comparePoints(pos, range.start);
            if (cmpEnd === 0)
              return excludeEdges && cmpStart !== 0 ? -i - 2 : i;
            if (cmpStart > 0 || cmpStart === 0 && !excludeEdges)
              return i;
            return -i - 1;
          }
          return -i - 1;
        };
        RangeList2.prototype.add = function(range) {
          var excludeEdges = !range.isEmpty();
          var startIndex = this.pointIndex(range.start, excludeEdges);
          if (startIndex < 0)
            startIndex = -startIndex - 1;
          var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);
          if (endIndex < 0)
            endIndex = -endIndex - 1;
          else
            endIndex++;
          return this.ranges.splice(startIndex, endIndex - startIndex, range);
        };
        RangeList2.prototype.addList = function(list) {
          var removed = [];
          for (var i = list.length; i--; ) {
            removed.push.apply(removed, this.add(list[i]));
          }
          return removed;
        };
        RangeList2.prototype.substractPoint = function(pos) {
          var i = this.pointIndex(pos);
          if (i >= 0)
            return this.ranges.splice(i, 1);
        };
        RangeList2.prototype.merge = function() {
          var removed = [];
          var list = this.ranges;
          list = list.sort(function(a, b) {
            return comparePoints(a.start, b.start);
          });
          var next = list[0], range;
          for (var i = 1; i < list.length; i++) {
            range = next;
            next = list[i];
            var cmp = comparePoints(range.end, next.start);
            if (cmp < 0)
              continue;
            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
              continue;
            if (comparePoints(range.end, next.end) < 0) {
              range.end.row = next.end.row;
              range.end.column = next.end.column;
            }
            list.splice(i, 1);
            removed.push(next);
            next = range;
            i--;
          }
          this.ranges = list;
          return removed;
        };
        RangeList2.prototype.contains = function(row, column) {
          return this.pointIndex({ row, column }) >= 0;
        };
        RangeList2.prototype.containsPoint = function(pos) {
          return this.pointIndex(pos) >= 0;
        };
        RangeList2.prototype.rangeAtPoint = function(pos) {
          var i = this.pointIndex(pos);
          if (i >= 0)
            return this.ranges[i];
        };
        RangeList2.prototype.clipRows = function(startRow, endRow) {
          var list = this.ranges;
          if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
            return [];
          var startIndex = this.pointIndex({ row: startRow, column: 0 });
          if (startIndex < 0)
            startIndex = -startIndex - 1;
          var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);
          if (endIndex < 0)
            endIndex = -endIndex - 1;
          var clipped = [];
          for (var i = startIndex; i < endIndex; i++) {
            clipped.push(list[i]);
          }
          return clipped;
        };
        RangeList2.prototype.removeAll = function() {
          return this.ranges.splice(0, this.ranges.length);
        };
        RangeList2.prototype.attach = function(session) {
          if (this.session)
            this.detach();
          this.session = session;
          this.onChange = this.$onChange.bind(this);
          this.session.on("change", this.onChange);
        };
        RangeList2.prototype.detach = function() {
          if (!this.session)
            return;
          this.session.removeListener("change", this.onChange);
          this.session = null;
        };
        RangeList2.prototype.$onChange = function(delta) {
          var start = delta.start;
          var end = delta.end;
          var startRow = start.row;
          var endRow = end.row;
          var ranges = this.ranges;
          for (var i = 0, n = ranges.length; i < n; i++) {
            var r = ranges[i];
            if (r.end.row >= startRow)
              break;
          }
          if (delta.action == "insert") {
            var lineDif = endRow - startRow;
            var colDiff = -start.column + end.column;
            for (; i < n; i++) {
              var r = ranges[i];
              if (r.start.row > startRow)
                break;
              if (r.start.row == startRow && r.start.column >= start.column) {
                if (r.start.column == start.column && this.$bias <= 0)
                  ;
                else {
                  r.start.column += colDiff;
                  r.start.row += lineDif;
                }
              }
              if (r.end.row == startRow && r.end.column >= start.column) {
                if (r.end.column == start.column && this.$bias < 0) {
                  continue;
                }
                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {
                  if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)
                    r.end.column -= colDiff;
                }
                r.end.column += colDiff;
                r.end.row += lineDif;
              }
            }
          } else {
            var lineDif = startRow - endRow;
            var colDiff = start.column - end.column;
            for (; i < n; i++) {
              var r = ranges[i];
              if (r.start.row > endRow)
                break;
              if (r.end.row < endRow && (startRow < r.end.row || startRow == r.end.row && start.column < r.end.column)) {
                r.end.row = startRow;
                r.end.column = start.column;
              } else if (r.end.row == endRow) {
                if (r.end.column <= end.column) {
                  if (lineDif || r.end.column > start.column) {
                    r.end.column = start.column;
                    r.end.row = start.row;
                  }
                } else {
                  r.end.column += colDiff;
                  r.end.row += lineDif;
                }
              } else if (r.end.row > endRow) {
                r.end.row += lineDif;
              }
              if (r.start.row < endRow && (startRow < r.start.row || startRow == r.start.row && start.column < r.start.column)) {
                r.start.row = startRow;
                r.start.column = start.column;
              } else if (r.start.row == endRow) {
                if (r.start.column <= end.column) {
                  if (lineDif || r.start.column > start.column) {
                    r.start.column = start.column;
                    r.start.row = start.row;
                  }
                } else {
                  r.start.column += colDiff;
                  r.start.row += lineDif;
                }
              } else if (r.start.row > endRow) {
                r.start.row += lineDif;
              }
            }
          }
          if (lineDif != 0 && i < n) {
            for (; i < n; i++) {
              var r = ranges[i];
              r.start.row += lineDif;
              r.end.row += lineDif;
            }
          }
        };
        return RangeList2;
      }()
    );
    RangeList.prototype.comparePoints = comparePoints;
    exports2.RangeList = RangeList;
  });
  ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range_list"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var RangeList = require2("../range_list").RangeList;
    var Fold = (
      /** @class */
      function(_super) {
        __extends(Fold2, _super);
        function Fold2(range, placeholder) {
          var _this = _super.call(this) || this;
          _this.foldLine = null;
          _this.placeholder = placeholder;
          _this.range = range;
          _this.start = range.start;
          _this.end = range.end;
          _this.sameRow = range.start.row == range.end.row;
          _this.subFolds = _this.ranges = [];
          return _this;
        }
        Fold2.prototype.toString = function() {
          return '"' + this.placeholder + '" ' + this.range.toString();
        };
        Fold2.prototype.setFoldLine = function(foldLine) {
          this.foldLine = foldLine;
          this.subFolds.forEach(function(fold) {
            fold.setFoldLine(foldLine);
          });
        };
        Fold2.prototype.clone = function() {
          var range = this.range.clone();
          var fold = new Fold2(range, this.placeholder);
          this.subFolds.forEach(function(subFold) {
            fold.subFolds.push(subFold.clone());
          });
          fold.collapseChildren = this.collapseChildren;
          return fold;
        };
        Fold2.prototype.addSubFold = function(fold) {
          if (this.range.isEqual(fold))
            return;
          consumeRange(fold, this.start);
          var row = fold.start.row, column = fold.start.column;
          for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {
            cmp = this.subFolds[i].range.compare(row, column);
            if (cmp != 1)
              break;
          }
          var afterStart = this.subFolds[i];
          var firstConsumed = 0;
          if (cmp == 0) {
            if (afterStart.range.containsRange(fold))
              return afterStart.addSubFold(fold);
            else
              firstConsumed = 1;
          }
          var row = fold.range.end.row, column = fold.range.end.column;
          for (var j = i, cmp = -1; j < this.subFolds.length; j++) {
            cmp = this.subFolds[j].range.compare(row, column);
            if (cmp != 1)
              break;
          }
          if (cmp == 0)
            j++;
          var consumedFolds = this.subFolds.splice(i, j - i, fold);
          var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;
          for (var k = firstConsumed; k < last; k++) {
            fold.addSubFold(consumedFolds[k]);
          }
          fold.setFoldLine(this.foldLine);
          return fold;
        };
        Fold2.prototype.restoreRange = function(range) {
          return restoreRange(range, this.start);
        };
        return Fold2;
      }(RangeList)
    );
    function consumePoint(point, anchor) {
      point.row -= anchor.row;
      if (point.row == 0)
        point.column -= anchor.column;
    }
    function consumeRange(range, anchor) {
      consumePoint(range.start, anchor);
      consumePoint(range.end, anchor);
    }
    function restorePoint(point, anchor) {
      if (point.row == 0)
        point.column += anchor.column;
      point.row += anchor.row;
    }
    function restoreRange(range, anchor) {
      restorePoint(range.start, anchor);
      restorePoint(range.end, anchor);
    }
    exports2.Fold = Fold;
  });
  ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator", "ace/mouse/mouse_event"], function(require2, exports2, module2) {
    var Range = require2("../range").Range;
    var FoldLine = require2("./fold_line").FoldLine;
    var Fold = require2("./fold").Fold;
    var TokenIterator = require2("../token_iterator").TokenIterator;
    var MouseEvent2 = require2("../mouse/mouse_event").MouseEvent;
    function Folding() {
      this.getFoldAt = function(row, column, side) {
        var foldLine = this.getFoldLine(row);
        if (!foldLine)
          return null;
        var folds = foldLine.folds;
        for (var i = 0; i < folds.length; i++) {
          var range = folds[i].range;
          if (range.contains(row, column)) {
            if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {
              continue;
            } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {
              continue;
            }
            return folds[i];
          }
        }
      };
      this.getFoldsInRange = function(range) {
        var start = range.start;
        var end = range.end;
        var foldLines = this.$foldData;
        var foundFolds = [];
        start.column += 1;
        end.column -= 1;
        for (var i = 0; i < foldLines.length; i++) {
          var cmp = foldLines[i].range.compareRange(range);
          if (cmp == 2) {
            continue;
          } else if (cmp == -2) {
            break;
          }
          var folds = foldLines[i].folds;
          for (var j = 0; j < folds.length; j++) {
            var fold = folds[j];
            cmp = fold.range.compareRange(range);
            if (cmp == -2) {
              break;
            } else if (cmp == 2) {
              continue;
            } else if (cmp == 42) {
              break;
            }
            foundFolds.push(fold);
          }
        }
        start.column -= 1;
        end.column += 1;
        return foundFolds;
      };
      this.getFoldsInRangeList = function(ranges) {
        if (Array.isArray(ranges)) {
          var folds = [];
          ranges.forEach(function(range) {
            folds = folds.concat(this.getFoldsInRange(range));
          }, this);
        } else {
          var folds = this.getFoldsInRange(ranges);
        }
        return folds;
      };
      this.getAllFolds = function() {
        var folds = [];
        var foldLines = this.$foldData;
        for (var i = 0; i < foldLines.length; i++)
          for (var j = 0; j < foldLines[i].folds.length; j++)
            folds.push(foldLines[i].folds[j]);
        return folds;
      };
      this.getFoldStringAt = function(row, column, trim2, foldLine) {
        foldLine = foldLine || this.getFoldLine(row);
        if (!foldLine)
          return null;
        var lastFold = {
          end: { column: 0 }
        };
        var str, fold;
        for (var i = 0; i < foldLine.folds.length; i++) {
          fold = foldLine.folds[i];
          var cmp = fold.range.compareEnd(row, column);
          if (cmp == -1) {
            str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);
            break;
          } else if (cmp === 0) {
            return null;
          }
          lastFold = fold;
        }
        if (!str)
          str = this.getLine(fold.start.row).substring(lastFold.end.column);
        if (trim2 == -1)
          return str.substring(0, column - lastFold.end.column);
        else if (trim2 == 1)
          return str.substring(column - lastFold.end.column);
        else
          return str;
      };
      this.getFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
          i = foldData.indexOf(startFoldLine);
        if (i == -1)
          i = 0;
        for (i; i < foldData.length; i++) {
          var foldLine = foldData[i];
          if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
            return foldLine;
          } else if (foldLine.end.row > docRow) {
            return null;
          }
        }
        return null;
      };
      this.getNextFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
          i = foldData.indexOf(startFoldLine);
        if (i == -1)
          i = 0;
        for (i; i < foldData.length; i++) {
          var foldLine = foldData[i];
          if (foldLine.end.row >= docRow) {
            return foldLine;
          }
        }
        return null;
      };
      this.getFoldedRowCount = function(first, last) {
        var foldData = this.$foldData, rowCount = last - first + 1;
        for (var i = 0; i < foldData.length; i++) {
          var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;
          if (end >= last) {
            if (start < last) {
              if (start >= first)
                rowCount -= last - start;
              else
                rowCount = 0;
            }
            break;
          } else if (end >= first) {
            if (start >= first)
              rowCount -= end - start;
            else
              rowCount -= end - first + 1;
          }
        }
        return rowCount;
      };
      this.$addFoldLine = function(foldLine) {
        this.$foldData.push(foldLine);
        this.$foldData.sort(function(a, b) {
          return a.start.row - b.start.row;
        });
        return foldLine;
      };
      this.addFold = function(placeholder, range) {
        var foldData = this.$foldData;
        var added = false;
        var fold;
        if (placeholder instanceof Fold)
          fold = placeholder;
        else {
          fold = new Fold(range, placeholder);
          fold.collapseChildren = range.collapseChildren;
        }
        this.$clipRangeToDocument(fold.range);
        var startRow = fold.start.row;
        var startColumn = fold.start.column;
        var endRow = fold.end.row;
        var endColumn = fold.end.column;
        var startFold = this.getFoldAt(startRow, startColumn, 1);
        var endFold = this.getFoldAt(endRow, endColumn, -1);
        if (startFold && endFold == startFold)
          return startFold.addSubFold(fold);
        if (startFold && !startFold.range.isStart(startRow, startColumn))
          this.removeFold(startFold);
        if (endFold && !endFold.range.isEnd(endRow, endColumn))
          this.removeFold(endFold);
        var folds = this.getFoldsInRange(fold.range);
        if (folds.length > 0) {
          this.removeFolds(folds);
          if (!fold.collapseChildren) {
            folds.forEach(function(subFold) {
              fold.addSubFold(subFold);
            });
          }
        }
        for (var i = 0; i < foldData.length; i++) {
          var foldLine = foldData[i];
          if (endRow == foldLine.start.row) {
            foldLine.addFold(fold);
            added = true;
            break;
          } else if (startRow == foldLine.end.row) {
            foldLine.addFold(fold);
            added = true;
            if (!fold.sameRow) {
              var foldLineNext = foldData[i + 1];
              if (foldLineNext && foldLineNext.start.row == endRow) {
                foldLine.merge(foldLineNext);
                break;
              }
            }
            break;
          } else if (endRow <= foldLine.start.row) {
            break;
          }
        }
        if (!added)
          foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));
        if (this.$useWrapMode)
          this.$updateWrapData(foldLine.start.row, foldLine.start.row);
        else
          this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "add" });
        return fold;
      };
      this.addFolds = function(folds) {
        folds.forEach(function(fold) {
          this.addFold(fold);
        }, this);
      };
      this.removeFold = function(fold) {
        var foldLine = fold.foldLine;
        var startRow = foldLine.start.row;
        var endRow = foldLine.end.row;
        var foldLines = this.$foldData;
        var folds = foldLine.folds;
        if (folds.length == 1) {
          foldLines.splice(foldLines.indexOf(foldLine), 1);
        } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
          folds.pop();
          foldLine.end.row = folds[folds.length - 1].end.row;
          foldLine.end.column = folds[folds.length - 1].end.column;
        } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
          folds.shift();
          foldLine.start.row = folds[0].start.row;
          foldLine.start.column = folds[0].start.column;
        } else if (fold.sameRow) {
          folds.splice(folds.indexOf(fold), 1);
        } else {
          var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
          folds = newFoldLine.folds;
          folds.shift();
          newFoldLine.start.row = folds[0].start.row;
          newFoldLine.start.column = folds[0].start.column;
        }
        if (!this.$updating) {
          if (this.$useWrapMode)
            this.$updateWrapData(startRow, endRow);
          else
            this.$updateRowLengthCache(startRow, endRow);
        }
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "remove" });
      };
      this.removeFolds = function(folds) {
        var cloneFolds = [];
        for (var i = 0; i < folds.length; i++) {
          cloneFolds.push(folds[i]);
        }
        cloneFolds.forEach(function(fold) {
          this.removeFold(fold);
        }, this);
        this.$modified = true;
      };
      this.expandFold = function(fold) {
        this.removeFold(fold);
        fold.subFolds.forEach(function(subFold) {
          fold.restoreRange(subFold);
          this.addFold(subFold);
        }, this);
        if (fold.collapseChildren > 0) {
          this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);
        }
        fold.subFolds = [];
      };
      this.expandFolds = function(folds) {
        folds.forEach(function(fold) {
          this.expandFold(fold);
        }, this);
      };
      this.unfold = function(location2, expandInner) {
        var range, folds;
        if (location2 == null) {
          range = new Range(0, 0, this.getLength(), 0);
          if (expandInner == null)
            expandInner = true;
        } else if (typeof location2 == "number") {
          range = new Range(location2, 0, location2, this.getLine(location2).length);
        } else if ("row" in location2) {
          range = Range.fromPoints(location2, location2);
        } else if (Array.isArray(location2)) {
          folds = [];
          location2.forEach(function(range2) {
            folds = folds.concat(this.unfold(range2));
          }, this);
          return folds;
        } else {
          range = location2;
        }
        folds = this.getFoldsInRangeList(range);
        var outermostFolds = folds;
        while (folds.length == 1 && Range.comparePoints(folds[0].start, range.start) < 0 && Range.comparePoints(folds[0].end, range.end) > 0) {
          this.expandFolds(folds);
          folds = this.getFoldsInRangeList(range);
        }
        if (expandInner != false) {
          this.removeFolds(folds);
        } else {
          this.expandFolds(folds);
        }
        if (outermostFolds.length)
          return outermostFolds;
      };
      this.isRowFolded = function(docRow, startFoldRow) {
        return !!this.getFoldLine(docRow, startFoldRow);
      };
      this.getRowFoldEnd = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.end.row : docRow;
      };
      this.getRowFoldStart = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.start.row : docRow;
      };
      this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
        if (startRow == null)
          startRow = foldLine.start.row;
        if (startColumn == null)
          startColumn = 0;
        if (endRow == null)
          endRow = foldLine.end.row;
        if (endColumn == null)
          endColumn = this.getLine(endRow).length;
        var doc = this.doc;
        var textLine = "";
        foldLine.walk(function(placeholder, row, column, lastColumn) {
          if (row < startRow)
            return;
          if (row == startRow) {
            if (column < startColumn)
              return;
            lastColumn = Math.max(startColumn, lastColumn);
          }
          if (placeholder != null) {
            textLine += placeholder;
          } else {
            textLine += doc.getLine(row).substring(lastColumn, column);
          }
        }, endRow, endColumn);
        return textLine;
      };
      this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
        var foldLine = this.getFoldLine(row);
        if (!foldLine) {
          var line;
          line = this.doc.getLine(row);
          return line.substring(startColumn || 0, endColumn || line.length);
        } else {
          return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);
        }
      };
      this.$cloneFoldData = function() {
        var fd = [];
        fd = this.$foldData.map(function(foldLine) {
          var folds = foldLine.folds.map(function(fold) {
            return fold.clone();
          });
          return new FoldLine(fd, folds);
        });
        return fd;
      };
      this.toggleFold = function(tryToUnfold) {
        var selection = this.selection;
        var range = selection.getRange();
        var fold;
        var bracketPos;
        if (range.isEmpty()) {
          var cursor = range.start;
          fold = this.getFoldAt(cursor.row, cursor.column);
          if (fold) {
            this.expandFold(fold);
            return;
          } else if (bracketPos = this.findMatchingBracket(cursor)) {
            if (range.comparePoint(bracketPos) == 1) {
              range.end = bracketPos;
            } else {
              range.start = bracketPos;
              range.start.column++;
              range.end.column--;
            }
          } else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {
            if (range.comparePoint(bracketPos) == 1)
              range.end = bracketPos;
            else
              range.start = bracketPos;
            range.start.column++;
          } else {
            range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
          }
        } else {
          var folds = this.getFoldsInRange(range);
          if (tryToUnfold && folds.length) {
            this.expandFolds(folds);
            return;
          } else if (folds.length == 1) {
            fold = folds[0];
          }
        }
        if (!fold)
          fold = this.getFoldAt(range.start.row, range.start.column);
        if (fold && fold.range.toString() == range.toString()) {
          this.expandFold(fold);
          return;
        }
        var placeholder = "...";
        if (!range.isMultiLine()) {
          placeholder = this.getTextRange(range);
          if (placeholder.length < 4)
            return;
          placeholder = placeholder.trim().substring(0, 2) + "..";
        }
        this.addFold(placeholder, range);
      };
      this.getCommentFoldRange = function(row, column, dir) {
        var iterator = new TokenIterator(this, row, column);
        var token = iterator.getCurrentToken();
        var type = token && token.type;
        if (token && /^comment|string/.test(type)) {
          type = type.match(/comment|string/)[0];
          if (type == "comment")
            type += "|doc-start|\\.doc";
          var re = new RegExp(type);
          var range = new Range();
          if (dir != 1) {
            do {
              token = iterator.stepBackward();
            } while (token && re.test(token.type) && !/^comment.end/.test(token.type));
            token = iterator.stepForward();
          }
          range.start.row = iterator.getCurrentTokenRow();
          range.start.column = iterator.getCurrentTokenColumn() + (/^comment.start/.test(token.type) ? token.value.length : 2);
          iterator = new TokenIterator(this, row, column);
          if (dir != -1) {
            var lastRow = -1;
            do {
              token = iterator.stepForward();
              if (lastRow == -1) {
                var state = this.getState(iterator.$row);
                if (!re.test(state))
                  lastRow = iterator.$row;
              } else if (iterator.$row > lastRow) {
                break;
              }
            } while (token && re.test(token.type) && !/^comment.start/.test(token.type));
            token = iterator.stepBackward();
          } else
            token = iterator.getCurrentToken();
          range.end.row = iterator.getCurrentTokenRow();
          range.end.column = iterator.getCurrentTokenColumn();
          if (!/^comment.end/.test(token.type)) {
            range.end.column += token.value.length - 2;
          }
          return range;
        }
      };
      this.foldAll = function(startRow, endRow, depth, test) {
        if (depth == void 0)
          depth = 1e5;
        var foldWidgets = this.foldWidgets;
        if (!foldWidgets)
          return;
        endRow = endRow || this.getLength();
        startRow = startRow || 0;
        for (var row = startRow; row < endRow; row++) {
          if (foldWidgets[row] == null)
            foldWidgets[row] = this.getFoldWidget(row);
          if (foldWidgets[row] != "start")
            continue;
          if (test && !test(row))
            continue;
          var range = this.getFoldWidgetRange(row);
          if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {
            row = range.end.row;
            range.collapseChildren = depth;
            this.addFold("...", range);
          }
        }
      };
      this.foldToLevel = function(level) {
        this.foldAll();
        while (level-- > 0)
          this.unfold(null, false);
      };
      this.foldAllComments = function() {
        var session = this;
        this.foldAll(null, null, null, function(row) {
          var tokens = session.getTokens(row);
          for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if (token.type == "text" && /^\s+$/.test(token.value))
              continue;
            if (/comment/.test(token.type))
              return true;
            return false;
          }
        });
      };
      this.$foldStyles = {
        "manual": 1,
        "markbegin": 1,
        "markbeginend": 1
      };
      this.$foldStyle = "markbegin";
      this.setFoldStyle = function(style) {
        if (!this.$foldStyles[style])
          throw new Error("invalid fold style: " + style + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
        if (this.$foldStyle == style)
          return;
        this.$foldStyle = style;
        if (style == "manual")
          this.unfold();
        var mode = this.$foldMode;
        this.$setFolding(null);
        this.$setFolding(mode);
      };
      this.$setFolding = function(foldMode) {
        if (this.$foldMode == foldMode)
          return;
        this.$foldMode = foldMode;
        this.off("change", this.$updateFoldWidgets);
        this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
        this._signal("changeAnnotation");
        if (!foldMode || this.$foldStyle == "manual") {
          this.foldWidgets = null;
          return;
        }
        this.foldWidgets = [];
        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);
        this.on("change", this.$updateFoldWidgets);
        this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
      };
      this.getParentFoldRangeData = function(row, ignoreCurrent) {
        var fw = this.foldWidgets;
        if (!fw || ignoreCurrent && fw[row])
          return {};
        var i = row - 1, firstRange;
        while (i >= 0) {
          var c = fw[i];
          if (c == null)
            c = fw[i] = this.getFoldWidget(i);
          if (c == "start") {
            var range = this.getFoldWidgetRange(i);
            if (!firstRange)
              firstRange = range;
            if (range && range.end.row >= row)
              break;
          }
          i--;
        }
        return {
          range: i !== -1 && range,
          firstRange
        };
      };
      this.onFoldWidgetClick = function(row, e2) {
        if (e2 instanceof MouseEvent2)
          e2 = e2.domEvent;
        var options = {
          children: e2.shiftKey,
          all: e2.ctrlKey || e2.metaKey,
          siblings: e2.altKey
        };
        var range = this.$toggleFoldWidget(row, options);
        if (!range) {
          var el = e2.target || e2.srcElement;
          if (el && /ace_fold-widget/.test(el.className))
            el.className += " ace_invalid";
        }
      };
      this.$toggleFoldWidget = function(row, options) {
        if (!this.getFoldWidget)
          return;
        var type = this.getFoldWidget(row);
        var line = this.getLine(row);
        var dir = type === "end" ? -1 : 1;
        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);
        if (fold) {
          if (options.children || options.all)
            this.removeFold(fold);
          else
            this.expandFold(fold);
          return fold;
        }
        var range = this.getFoldWidgetRange(row, true);
        if (range && !range.isMultiLine()) {
          fold = this.getFoldAt(range.start.row, range.start.column, 1);
          if (fold && range.isEqual(fold.range)) {
            this.removeFold(fold);
            return fold;
          }
        }
        if (options.siblings) {
          var data = this.getParentFoldRangeData(row);
          if (data.range) {
            var startRow = data.range.start.row + 1;
            var endRow = data.range.end.row;
          }
          this.foldAll(startRow, endRow, options.all ? 1e4 : 0);
        } else if (options.children) {
          endRow = range ? range.end.row : this.getLength();
          this.foldAll(row + 1, endRow, options.all ? 1e4 : 0);
        } else if (range) {
          if (options.all)
            range.collapseChildren = 1e4;
          this.addFold("...", range);
        }
        return range;
      };
      this.toggleFoldWidget = function(toggleParent) {
        var row = this.selection.getCursor().row;
        row = this.getRowFoldStart(row);
        var range = this.$toggleFoldWidget(row, {});
        if (range)
          return;
        var data = this.getParentFoldRangeData(row, true);
        range = data.range || data.firstRange;
        if (range) {
          row = range.start.row;
          var fold = this.getFoldAt(row, this.getLine(row).length, 1);
          if (fold) {
            this.removeFold(fold);
          } else {
            this.addFold("...", range);
          }
        }
      };
      this.updateFoldWidgets = function(delta) {
        var firstRow = delta.start.row;
        var len = delta.end.row - firstRow;
        if (len === 0) {
          this.foldWidgets[firstRow] = null;
        } else if (delta.action == "remove") {
          this.foldWidgets.splice(firstRow, len + 1, null);
        } else {
          var args = Array(len + 1);
          args.unshift(firstRow, 1);
          this.foldWidgets.splice.apply(this.foldWidgets, args);
        }
      };
      this.tokenizerUpdateFoldWidgets = function(e2) {
        var rows = e2.data;
        if (rows.first != rows.last) {
          if (this.foldWidgets.length > rows.first)
            this.foldWidgets.splice(rows.first, this.foldWidgets.length);
        }
      };
    }
    exports2.Folding = Folding;
  });
  ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(require2, exports2, module2) {
    var TokenIterator = require2("../token_iterator").TokenIterator;
    var Range = require2("../range").Range;
    function BracketMatch() {
      this.findMatchingBracket = function(position, chr) {
        if (position.column == 0)
          return null;
        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);
        if (charBeforeCursor == "")
          return null;
        var match = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
        if (!match)
          return null;
        if (match[1])
          return this.$findClosingBracket(match[1], position);
        else
          return this.$findOpeningBracket(match[2], position);
      };
      this.getBracketRange = function(pos) {
        var line = this.getLine(pos.row);
        var before = true, range;
        var chr = line.charAt(pos.column - 1);
        var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
        if (!match) {
          chr = line.charAt(pos.column);
          pos = { row: pos.row, column: pos.column + 1 };
          match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
          before = false;
        }
        if (!match)
          return null;
        if (match[1]) {
          var bracketPos = this.$findClosingBracket(match[1], pos);
          if (!bracketPos)
            return null;
          range = Range.fromPoints(pos, bracketPos);
          if (!before) {
            range.end.column++;
            range.start.column--;
          }
          range.cursor = range.end;
        } else {
          var bracketPos = this.$findOpeningBracket(match[2], pos);
          if (!bracketPos)
            return null;
          range = Range.fromPoints(bracketPos, pos);
          if (!before) {
            range.start.column++;
            range.end.column--;
          }
          range.cursor = range.start;
        }
        return range;
      };
      this.getMatchingBracketRanges = function(pos, isBackwards) {
        var line = this.getLine(pos.row);
        var bracketsRegExp = /([\(\[\{])|([\)\]\}])/;
        var chr = !isBackwards && line.charAt(pos.column - 1);
        var match = chr && chr.match(bracketsRegExp);
        if (!match) {
          chr = (isBackwards === void 0 || isBackwards) && line.charAt(pos.column);
          pos = {
            row: pos.row,
            column: pos.column + 1
          };
          match = chr && chr.match(bracketsRegExp);
        }
        if (!match)
          return null;
        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);
        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos) : this.$findOpeningBracket(match[2], pos);
        if (!bracketPos)
          return [startRange];
        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);
        return [startRange, endRange];
      };
      this.$brackets = {
        ")": "(",
        "(": ")",
        "]": "[",
        "[": "]",
        "{": "}",
        "}": "{",
        "<": ">",
        ">": "<"
      };
      this.$findOpeningBracket = function(bracket, position, typeRe) {
        var openBracket = this.$brackets[bracket];
        var depth = 1;
        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
          token = iterator.stepForward();
        if (!token)
          return;
        if (!typeRe) {
          typeRe = new RegExp("(\\.?" + token.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)").replace(/-close\b/, "-(close|open)") + ")+");
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;
        var value2 = token.value;
        while (true) {
          while (valueIndex >= 0) {
            var chr = value2.charAt(valueIndex);
            if (chr == openBracket) {
              depth -= 1;
              if (depth == 0) {
                return {
                  row: iterator.getCurrentTokenRow(),
                  column: valueIndex + iterator.getCurrentTokenColumn()
                };
              }
            } else if (chr == bracket) {
              depth += 1;
            }
            valueIndex -= 1;
          }
          do {
            token = iterator.stepBackward();
          } while (token && !typeRe.test(token.type));
          if (token == null)
            break;
          value2 = token.value;
          valueIndex = value2.length - 1;
        }
        return null;
      };
      this.$findClosingBracket = function(bracket, position, typeRe) {
        var closingBracket = this.$brackets[bracket];
        var depth = 1;
        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
          token = iterator.stepForward();
        if (!token)
          return;
        if (!typeRe) {
          typeRe = new RegExp("(\\.?" + token.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)").replace(/-open\b/, "-(close|open)") + ")+");
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn();
        while (true) {
          var value2 = token.value;
          var valueLength = value2.length;
          while (valueIndex < valueLength) {
            var chr = value2.charAt(valueIndex);
            if (chr == closingBracket) {
              depth -= 1;
              if (depth == 0) {
                return {
                  row: iterator.getCurrentTokenRow(),
                  column: valueIndex + iterator.getCurrentTokenColumn()
                };
              }
            } else if (chr == bracket) {
              depth += 1;
            }
            valueIndex += 1;
          }
          do {
            token = iterator.stepForward();
          } while (token && !typeRe.test(token.type));
          if (token == null)
            break;
          valueIndex = 0;
        }
        return null;
      };
      this.getMatchingTags = function(pos) {
        var iterator = new TokenIterator(this, pos.row, pos.column);
        var token = this.$findTagName(iterator);
        if (!token)
          return;
        var prevToken = iterator.stepBackward();
        if (prevToken.value === "<") {
          return this.$findClosingTag(iterator, token);
        } else {
          return this.$findOpeningTag(iterator, token);
        }
      };
      this.$findTagName = function(iterator) {
        var token = iterator.getCurrentToken();
        var found = false;
        var backward = false;
        if (token && token.type.indexOf("tag-name") === -1) {
          do {
            if (backward)
              token = iterator.stepBackward();
            else
              token = iterator.stepForward();
            if (token) {
              if (token.value === "/>") {
                backward = true;
              } else if (token.type.indexOf("tag-name") !== -1) {
                found = true;
              }
            }
          } while (token && !found);
        }
        return token;
      };
      this.$findClosingTag = function(iterator, token) {
        var prevToken;
        var currentTag = token.value;
        var tag = token.value;
        var depth = 0;
        var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
        token = iterator.stepForward();
        var openTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);
        var foundOpenTagEnd = false;
        do {
          prevToken = token;
          token = iterator.stepForward();
          if (token) {
            if (token.value === ">" && !foundOpenTagEnd) {
              var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
              foundOpenTagEnd = true;
            }
            if (token.type.indexOf("tag-name") !== -1) {
              currentTag = token.value;
              if (tag === currentTag) {
                if (prevToken.value === "<") {
                  depth++;
                } else if (prevToken.value === "</") {
                  depth--;
                  if (depth < 0) {
                    iterator.stepBackward();
                    var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);
                    token = iterator.stepForward();
                    var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);
                    token = iterator.stepForward();
                    if (token && token.value === ">") {
                      var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                    } else {
                      return;
                    }
                  }
                }
              }
            } else if (tag === currentTag && token.value === "/>") {
              depth--;
              if (depth < 0) {
                var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);
                var closeTagName = closeTagStart;
                var closeTagEnd = closeTagName;
                var openTagEnd = new Range(openTagName.end.row, openTagName.end.column, openTagName.end.row, openTagName.end.column + 1);
              }
            }
          }
        } while (token && depth >= 0);
        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {
          return {
            openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),
            closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),
            openTagName,
            closeTagName
          };
        }
      };
      this.$findOpeningTag = function(iterator, token) {
        var prevToken = iterator.getCurrentToken();
        var tag = token.value;
        var depth = 0;
        var startRow = iterator.getCurrentTokenRow();
        var startColumn = iterator.getCurrentTokenColumn();
        var endColumn = startColumn + 2;
        var closeTagStart = new Range(startRow, startColumn, startRow, endColumn);
        iterator.stepForward();
        var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);
        token = iterator.stepForward();
        if (!token || token.value !== ">")
          return;
        var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
        iterator.stepBackward();
        iterator.stepBackward();
        do {
          token = prevToken;
          startRow = iterator.getCurrentTokenRow();
          startColumn = iterator.getCurrentTokenColumn();
          endColumn = startColumn + token.value.length;
          prevToken = iterator.stepBackward();
          if (token) {
            if (token.type.indexOf("tag-name") !== -1) {
              if (tag === token.value) {
                if (prevToken.value === "<") {
                  depth++;
                  if (depth > 0) {
                    var openTagName = new Range(startRow, startColumn, startRow, endColumn);
                    var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                    do {
                      token = iterator.stepForward();
                    } while (token && token.value !== ">");
                    var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                  }
                } else if (prevToken.value === "</") {
                  depth--;
                }
              }
            } else if (token.value === "/>") {
              var stepCount = 0;
              var tmpToken = prevToken;
              while (tmpToken) {
                if (tmpToken.type.indexOf("tag-name") !== -1 && tmpToken.value === tag) {
                  depth--;
                  break;
                } else if (tmpToken.value === "<") {
                  break;
                }
                tmpToken = iterator.stepBackward();
                stepCount++;
              }
              for (var i = 0; i < stepCount; i++) {
                iterator.stepForward();
              }
            }
          }
        } while (prevToken && depth <= 0);
        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {
          return {
            openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),
            closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),
            openTagName,
            closeTagName
          };
        }
      };
    }
    exports2.BracketMatch = BracketMatch;
  });
  ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/undomanager", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var lang = require2("./lib/lang");
    var BidiHandler = require2("./bidihandler").BidiHandler;
    var config2 = require2("./config");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var Selection2 = require2("./selection").Selection;
    var TextMode = require2("./mode/text").Mode;
    var Range = require2("./range").Range;
    var Document = require2("./document").Document;
    var BackgroundTokenizer = require2("./background_tokenizer").BackgroundTokenizer;
    var SearchHighlight = require2("./search_highlight").SearchHighlight;
    var UndoManager = require2("./undomanager").UndoManager;
    var EditSession = (
      /** @class */
      function() {
        function EditSession2(text, mode) {
          this.doc;
          this.$breakpoints = [];
          this.$decorations = [];
          this.$frontMarkers = {};
          this.$backMarkers = {};
          this.$markerId = 1;
          this.$undoSelect = true;
          this.$foldData = [];
          this.id = "session" + ++EditSession2.$uid;
          this.$foldData.toString = function() {
            return this.join("\n");
          };
          this.bgTokenizer = new BackgroundTokenizer(new TextMode().getTokenizer(), this);
          var _self = this;
          this.bgTokenizer.on("update", function(e2) {
            _self._signal("tokenizerUpdate", e2);
          });
          this.on("changeFold", this.onChangeFold.bind(this));
          this.$onChange = this.onChange.bind(this);
          if (typeof text != "object" || !text.getLine)
            text = new Document(
              /**@type{string}*/
              text
            );
          this.setDocument(text);
          this.selection = new Selection2(this);
          this.$bidiHandler = new BidiHandler(this);
          config2.resetOptions(this);
          this.setMode(mode);
          config2._signal("session", this);
          this.destroyed = false;
        }
        EditSession2.prototype.setDocument = function(doc) {
          if (this.doc)
            this.doc.off("change", this.$onChange);
          this.doc = doc;
          doc.on("change", this.$onChange, true);
          this.bgTokenizer.setDocument(this.getDocument());
          this.resetCaches();
        };
        EditSession2.prototype.getDocument = function() {
          return this.doc;
        };
        EditSession2.prototype.$resetRowCache = function(docRow) {
          if (!docRow) {
            this.$docRowCache = [];
            this.$screenRowCache = [];
            return;
          }
          var l = this.$docRowCache.length;
          var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
          if (l > i) {
            this.$docRowCache.splice(i, l);
            this.$screenRowCache.splice(i, l);
          }
        };
        EditSession2.prototype.$getRowCacheIndex = function(cacheArray, val) {
          var low = 0;
          var hi = cacheArray.length - 1;
          while (low <= hi) {
            var mid = low + hi >> 1;
            var c = cacheArray[mid];
            if (val > c)
              low = mid + 1;
            else if (val < c)
              hi = mid - 1;
            else
              return mid;
          }
          return low - 1;
        };
        EditSession2.prototype.resetCaches = function() {
          this.$modified = true;
          this.$wrapData = [];
          this.$rowLengthCache = [];
          this.$resetRowCache(0);
          if (!this.destroyed)
            this.bgTokenizer.start(0);
        };
        EditSession2.prototype.onChangeFold = function(e2) {
          var fold = e2.data;
          this.$resetRowCache(fold.start.row);
        };
        EditSession2.prototype.onChange = function(delta) {
          this.$modified = true;
          this.$bidiHandler.onChange(delta);
          this.$resetRowCache(delta.start.row);
          var removedFolds = this.$updateInternalDataOnChange(delta);
          if (!this.$fromUndo && this.$undoManager) {
            if (removedFolds && removedFolds.length) {
              this.$undoManager.add({
                action: "removeFolds",
                folds: removedFolds
              }, this.mergeUndoDeltas);
              this.mergeUndoDeltas = true;
            }
            this.$undoManager.add(delta, this.mergeUndoDeltas);
            this.mergeUndoDeltas = true;
            this.$informUndoManager.schedule();
          }
          this.bgTokenizer.$updateOnChange(delta);
          this._signal("change", delta);
        };
        EditSession2.prototype.setValue = function(text) {
          this.doc.setValue(text);
          this.selection.moveTo(0, 0);
          this.$resetRowCache(0);
          this.setUndoManager(this.$undoManager);
          this.getUndoManager().reset();
        };
        EditSession2.fromJSON = function(session) {
          if (typeof session == "string")
            session = JSON.parse(session);
          var undoManager = new UndoManager();
          undoManager.$undoStack = session.history.undo;
          undoManager.$redoStack = session.history.redo;
          undoManager.mark = session.history.mark;
          undoManager.$rev = session.history.rev;
          var editSession = new EditSession2(session.value);
          session.folds.forEach(function(fold) {
            editSession.addFold("...", Range.fromPoints(fold.start, fold.end));
          });
          editSession.setAnnotations(session.annotations);
          editSession.setBreakpoints(session.breakpoints);
          editSession.setMode(session.mode);
          editSession.setScrollLeft(session.scrollLeft);
          editSession.setScrollTop(session.scrollTop);
          editSession.setUndoManager(undoManager);
          editSession.selection.fromJSON(session.selection);
          return editSession;
        };
        EditSession2.prototype.toJSON = function() {
          return {
            annotations: this.$annotations,
            breakpoints: this.$breakpoints,
            folds: this.getAllFolds().map(function(fold) {
              return fold.range;
            }),
            history: this.getUndoManager(),
            mode: this.$mode.$id,
            scrollLeft: this.$scrollLeft,
            scrollTop: this.$scrollTop,
            selection: this.selection.toJSON(),
            value: this.doc.getValue()
          };
        };
        EditSession2.prototype.toString = function() {
          return this.doc.getValue();
        };
        EditSession2.prototype.getSelection = function() {
          return this.selection;
        };
        EditSession2.prototype.getState = function(row) {
          return this.bgTokenizer.getState(row);
        };
        EditSession2.prototype.getTokens = function(row) {
          return this.bgTokenizer.getTokens(row);
        };
        EditSession2.prototype.getTokenAt = function(row, column) {
          var tokens = this.bgTokenizer.getTokens(row);
          var token, c = 0;
          if (column == null) {
            var i = tokens.length - 1;
            c = this.getLine(row).length;
          } else {
            for (var i = 0; i < tokens.length; i++) {
              c += tokens[i].value.length;
              if (c >= column)
                break;
            }
          }
          token = tokens[i];
          if (!token)
            return null;
          token.index = i;
          token.start = c - token.value.length;
          return token;
        };
        EditSession2.prototype.setUndoManager = function(undoManager) {
          this.$undoManager = undoManager;
          if (this.$informUndoManager)
            this.$informUndoManager.cancel();
          if (undoManager) {
            var self2 = this;
            undoManager.addSession(this);
            this.$syncInformUndoManager = function() {
              self2.$informUndoManager.cancel();
              self2.mergeUndoDeltas = false;
            };
            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
          } else {
            this.$syncInformUndoManager = function() {
            };
          }
        };
        EditSession2.prototype.markUndoGroup = function() {
          if (this.$syncInformUndoManager)
            this.$syncInformUndoManager();
        };
        EditSession2.prototype.getUndoManager = function() {
          return this.$undoManager || this.$defaultUndoManager;
        };
        EditSession2.prototype.getTabString = function() {
          if (this.getUseSoftTabs()) {
            return lang.stringRepeat(" ", this.getTabSize());
          } else {
            return "	";
          }
        };
        EditSession2.prototype.setUseSoftTabs = function(val) {
          this.setOption("useSoftTabs", val);
        };
        EditSession2.prototype.getUseSoftTabs = function() {
          return this.$useSoftTabs && !this.$mode.$indentWithTabs;
        };
        EditSession2.prototype.setTabSize = function(tabSize) {
          this.setOption("tabSize", tabSize);
        };
        EditSession2.prototype.getTabSize = function() {
          return this.$tabSize;
        };
        EditSession2.prototype.isTabStop = function(position) {
          return this.$useSoftTabs && position.column % this.$tabSize === 0;
        };
        EditSession2.prototype.setNavigateWithinSoftTabs = function(navigateWithinSoftTabs) {
          this.setOption("navigateWithinSoftTabs", navigateWithinSoftTabs);
        };
        EditSession2.prototype.getNavigateWithinSoftTabs = function() {
          return this.$navigateWithinSoftTabs;
        };
        EditSession2.prototype.setOverwrite = function(overwrite) {
          this.setOption("overwrite", overwrite);
        };
        EditSession2.prototype.getOverwrite = function() {
          return this.$overwrite;
        };
        EditSession2.prototype.toggleOverwrite = function() {
          this.setOverwrite(!this.$overwrite);
        };
        EditSession2.prototype.addGutterDecoration = function(row, className) {
          if (!this.$decorations[row])
            this.$decorations[row] = "";
          this.$decorations[row] += " " + className;
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.removeGutterDecoration = function(row, className) {
          this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.getBreakpoints = function() {
          return this.$breakpoints;
        };
        EditSession2.prototype.setBreakpoints = function(rows) {
          this.$breakpoints = [];
          for (var i = 0; i < rows.length; i++) {
            this.$breakpoints[rows[i]] = "ace_breakpoint";
          }
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.clearBreakpoints = function() {
          this.$breakpoints = [];
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.setBreakpoint = function(row, className) {
          if (className === void 0)
            className = "ace_breakpoint";
          if (className)
            this.$breakpoints[row] = className;
          else
            delete this.$breakpoints[row];
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.clearBreakpoint = function(row) {
          delete this.$breakpoints[row];
          this._signal("changeBreakpoint", {});
        };
        EditSession2.prototype.addMarker = function(range, clazz, type, inFront) {
          var id = this.$markerId++;
          var marker = {
            range,
            type: type || "line",
            renderer: typeof type == "function" ? type : null,
            clazz,
            inFront: !!inFront,
            id
          };
          if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
          } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
          }
          return id;
        };
        EditSession2.prototype.addDynamicMarker = function(marker, inFront) {
          if (!marker.update)
            return;
          var id = this.$markerId++;
          marker.id = id;
          marker.inFront = !!inFront;
          if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
          } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
          }
          return marker;
        };
        EditSession2.prototype.removeMarker = function(markerId) {
          var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
          if (!marker)
            return;
          var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
          delete markers[markerId];
          this._signal(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
        };
        EditSession2.prototype.getMarkers = function(inFront) {
          return inFront ? this.$frontMarkers : this.$backMarkers;
        };
        EditSession2.prototype.highlight = function(re) {
          if (!this.$searchHighlight) {
            var highlight = new SearchHighlight(null, "ace_selected-word", "text");
            this.$searchHighlight = this.addDynamicMarker(highlight);
          }
          this.$searchHighlight.setRegexp(re);
        };
        EditSession2.prototype.highlightLines = function(startRow, endRow, clazz, inFront) {
          if (typeof endRow != "number") {
            clazz = endRow;
            endRow = startRow;
          }
          if (!clazz)
            clazz = "ace_step";
          var range = new Range(startRow, 0, endRow, Infinity);
          range.id = this.addMarker(range, clazz, "fullLine", inFront);
          return range;
        };
        EditSession2.prototype.setAnnotations = function(annotations) {
          this.$annotations = annotations;
          this._signal("changeAnnotation", {});
        };
        EditSession2.prototype.getAnnotations = function() {
          return this.$annotations || [];
        };
        EditSession2.prototype.clearAnnotations = function() {
          this.setAnnotations([]);
        };
        EditSession2.prototype.$detectNewLine = function(text) {
          var match = text.match(/^.*?(\r?\n)/m);
          if (match) {
            this.$autoNewLine = match[1];
          } else {
            this.$autoNewLine = "\n";
          }
        };
        EditSession2.prototype.getWordRange = function(row, column) {
          var line = this.getLine(row);
          var inToken = false;
          if (column > 0)
            inToken = !!line.charAt(column - 1).match(this.tokenRe);
          if (!inToken)
            inToken = !!line.charAt(column).match(this.tokenRe);
          if (inToken)
            var re = this.tokenRe;
          else if (/^\s+$/.test(line.slice(column - 1, column + 1)))
            var re = /\s/;
          else
            var re = this.nonTokenRe;
          var start = column;
          if (start > 0) {
            do {
              start--;
            } while (start >= 0 && line.charAt(start).match(re));
            start++;
          }
          var end = column;
          while (end < line.length && line.charAt(end).match(re)) {
            end++;
          }
          return new Range(row, start, row, end);
        };
        EditSession2.prototype.getAWordRange = function(row, column) {
          var wordRange = this.getWordRange(row, column);
          var line = this.getLine(wordRange.end.row);
          while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
            wordRange.end.column += 1;
          }
          return wordRange;
        };
        EditSession2.prototype.setNewLineMode = function(newLineMode) {
          this.doc.setNewLineMode(newLineMode);
        };
        EditSession2.prototype.getNewLineMode = function() {
          return this.doc.getNewLineMode();
        };
        EditSession2.prototype.setUseWorker = function(useWorker) {
          this.setOption("useWorker", useWorker);
        };
        EditSession2.prototype.getUseWorker = function() {
          return this.$useWorker;
        };
        EditSession2.prototype.onReloadTokenizer = function(e2) {
          var rows = e2.data;
          this.bgTokenizer.start(rows.first);
          this._signal("tokenizerUpdate", e2);
        };
        EditSession2.prototype.setMode = function(mode, cb) {
          if (mode && typeof mode === "object") {
            if (mode.getTokenizer)
              return this.$onChangeMode(mode);
            var options = mode;
            var path = options.path;
          } else {
            path = /**@type{string}*/
            mode || "ace/mode/text";
          }
          if (!this.$modes["ace/mode/text"])
            this.$modes["ace/mode/text"] = new TextMode();
          if (this.$modes[path] && !options) {
            this.$onChangeMode(this.$modes[path]);
            cb && cb();
            return;
          }
          this.$modeId = path;
          config2.loadModule(["mode", path], (function(m) {
            if (this.$modeId !== path)
              return cb && cb();
            if (this.$modes[path] && !options) {
              this.$onChangeMode(this.$modes[path]);
            } else if (m && m.Mode) {
              m = new m.Mode(options);
              if (!options) {
                this.$modes[path] = m;
                m.$id = path;
              }
              this.$onChangeMode(m);
            }
            cb && cb();
          }).bind(this));
          if (!this.$mode)
            this.$onChangeMode(this.$modes["ace/mode/text"], true);
        };
        EditSession2.prototype.$onChangeMode = function(mode, $isPlaceholder) {
          if (!$isPlaceholder)
            this.$modeId = mode.$id;
          if (this.$mode === mode)
            return;
          var oldMode = this.$mode;
          this.$mode = mode;
          this.$stopWorker();
          if (this.$useWorker)
            this.$startWorker();
          var tokenizer = mode.getTokenizer();
          if (tokenizer.on !== void 0) {
            var onReloadTokenizer = this.onReloadTokenizer.bind(this);
            tokenizer.on("update", onReloadTokenizer);
          }
          this.bgTokenizer.setTokenizer(tokenizer);
          this.bgTokenizer.setDocument(this.getDocument());
          this.tokenRe = mode.tokenRe;
          this.nonTokenRe = mode.nonTokenRe;
          if (!$isPlaceholder) {
            if (mode.attachToSession)
              mode.attachToSession(this);
            this.$options.wrapMethod.set.call(this, this.$wrapMethod);
            this.$setFolding(mode.foldingRules);
            this.bgTokenizer.start(0);
            this._emit("changeMode", { oldMode, mode });
          }
        };
        EditSession2.prototype.$stopWorker = function() {
          if (this.$worker) {
            this.$worker.terminate();
            this.$worker = null;
          }
        };
        EditSession2.prototype.$startWorker = function() {
          try {
            this.$worker = this.$mode.createWorker(this);
          } catch (e2) {
            config2.warn("Could not load worker", e2);
            this.$worker = null;
          }
        };
        EditSession2.prototype.getMode = function() {
          return this.$mode;
        };
        EditSession2.prototype.setScrollTop = function(scrollTop) {
          if (this.$scrollTop === scrollTop || isNaN(scrollTop))
            return;
          this.$scrollTop = scrollTop;
          this._signal("changeScrollTop", scrollTop);
        };
        EditSession2.prototype.getScrollTop = function() {
          return this.$scrollTop;
        };
        EditSession2.prototype.setScrollLeft = function(scrollLeft) {
          if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
            return;
          this.$scrollLeft = scrollLeft;
          this._signal("changeScrollLeft", scrollLeft);
        };
        EditSession2.prototype.getScrollLeft = function() {
          return this.$scrollLeft;
        };
        EditSession2.prototype.getScreenWidth = function() {
          this.$computeWidth();
          if (this.lineWidgets)
            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);
          return this.screenWidth;
        };
        EditSession2.prototype.getLineWidgetMaxWidth = function() {
          if (this.lineWidgetsWidth != null)
            return this.lineWidgetsWidth;
          var width = 0;
          this.lineWidgets.forEach(function(w) {
            if (w && w.screenWidth > width)
              width = w.screenWidth;
          });
          return this.lineWidgetWidth = width;
        };
        EditSession2.prototype.$computeWidth = function(force) {
          if (this.$modified || force) {
            this.$modified = false;
            if (this.$useWrapMode)
              return this.screenWidth = this.$wrapLimit;
            var lines = this.doc.getAllLines();
            var cache = this.$rowLengthCache;
            var longestScreenLine = 0;
            var foldIndex = 0;
            var foldLine = this.$foldData[foldIndex];
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            var len = lines.length;
            for (var i = 0; i < len; i++) {
              if (i > foldStart) {
                i = foldLine.end.row + 1;
                if (i >= len)
                  break;
                foldLine = this.$foldData[foldIndex++];
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (cache[i] == null)
                cache[i] = this.$getStringScreenWidth(lines[i])[0];
              if (cache[i] > longestScreenLine)
                longestScreenLine = cache[i];
            }
            this.screenWidth = longestScreenLine;
          }
        };
        EditSession2.prototype.getLine = function(row) {
          return this.doc.getLine(row);
        };
        EditSession2.prototype.getLines = function(firstRow, lastRow) {
          return this.doc.getLines(firstRow, lastRow);
        };
        EditSession2.prototype.getLength = function() {
          return this.doc.getLength();
        };
        EditSession2.prototype.getTextRange = function(range) {
          return this.doc.getTextRange(range || this.selection.getRange());
        };
        EditSession2.prototype.insert = function(position, text) {
          return this.doc.insert(position, text);
        };
        EditSession2.prototype.remove = function(range) {
          return this.doc.remove(range);
        };
        EditSession2.prototype.removeFullLines = function(firstRow, lastRow) {
          return this.doc.removeFullLines(firstRow, lastRow);
        };
        EditSession2.prototype.undoChanges = function(deltas, dontSelect) {
          if (!deltas.length)
            return;
          this.$fromUndo = true;
          for (var i = deltas.length - 1; i != -1; i--) {
            var delta = deltas[i];
            if (delta.action == "insert" || delta.action == "remove") {
              this.doc.revertDelta(delta);
            } else if (delta.folds) {
              this.addFolds(delta.folds);
            }
          }
          if (!dontSelect && this.$undoSelect) {
            if (deltas.selectionBefore)
              this.selection.fromJSON(deltas.selectionBefore);
            else
              this.selection.setRange(this.$getUndoSelection(deltas, true));
          }
          this.$fromUndo = false;
        };
        EditSession2.prototype.redoChanges = function(deltas, dontSelect) {
          if (!deltas.length)
            return;
          this.$fromUndo = true;
          for (var i = 0; i < deltas.length; i++) {
            var delta = deltas[i];
            if (delta.action == "insert" || delta.action == "remove") {
              this.doc.$safeApplyDelta(delta);
            }
          }
          if (!dontSelect && this.$undoSelect) {
            if (deltas.selectionAfter)
              this.selection.fromJSON(deltas.selectionAfter);
            else
              this.selection.setRange(this.$getUndoSelection(deltas, false));
          }
          this.$fromUndo = false;
        };
        EditSession2.prototype.setUndoSelect = function(enable) {
          this.$undoSelect = enable;
        };
        EditSession2.prototype.$getUndoSelection = function(deltas, isUndo) {
          function isInsert(delta2) {
            return isUndo ? delta2.action !== "insert" : delta2.action === "insert";
          }
          var range, point;
          for (var i = 0; i < deltas.length; i++) {
            var delta = deltas[i];
            if (!delta.start)
              continue;
            if (!range) {
              if (isInsert(delta)) {
                range = Range.fromPoints(delta.start, delta.end);
              } else {
                range = Range.fromPoints(delta.start, delta.start);
              }
              continue;
            }
            if (isInsert(delta)) {
              point = delta.start;
              if (range.compare(point.row, point.column) == -1) {
                range.setStart(point);
              }
              point = delta.end;
              if (range.compare(point.row, point.column) == 1) {
                range.setEnd(point);
              }
            } else {
              point = delta.start;
              if (range.compare(point.row, point.column) == -1) {
                range = Range.fromPoints(delta.start, delta.start);
              }
            }
          }
          return range;
        };
        EditSession2.prototype.replace = function(range, text) {
          return this.doc.replace(range, text);
        };
        EditSession2.prototype.moveText = function(fromRange, toPosition, copy) {
          var text = this.getTextRange(fromRange);
          var folds = this.getFoldsInRange(fromRange);
          var toRange = Range.fromPoints(toPosition, toPosition);
          if (!copy) {
            this.remove(fromRange);
            var rowDiff = fromRange.start.row - fromRange.end.row;
            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
            if (collDiff) {
              if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                toRange.start.column += collDiff;
              if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                toRange.end.column += collDiff;
            }
            if (rowDiff && toRange.start.row >= fromRange.end.row) {
              toRange.start.row += rowDiff;
              toRange.end.row += rowDiff;
            }
          }
          toRange.end = this.insert(toRange.start, text);
          if (folds.length) {
            var oldStart = fromRange.start;
            var newStart = toRange.start;
            var rowDiff = newStart.row - oldStart.row;
            var collDiff = newStart.column - oldStart.column;
            this.addFolds(folds.map(function(x) {
              x = x.clone();
              if (x.start.row == oldStart.row)
                x.start.column += collDiff;
              if (x.end.row == oldStart.row)
                x.end.column += collDiff;
              x.start.row += rowDiff;
              x.end.row += rowDiff;
              return x;
            }));
          }
          return toRange;
        };
        EditSession2.prototype.indentRows = function(startRow, endRow, indentString) {
          indentString = indentString.replace(/\t/g, this.getTabString());
          for (var row = startRow; row <= endRow; row++)
            this.doc.insertInLine({ row, column: 0 }, indentString);
        };
        EditSession2.prototype.outdentRows = function(range) {
          var rowRange = range.collapseRows();
          var deleteRange = new Range(0, 0, 0, 0);
          var size = this.getTabSize();
          for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {
            var line = this.getLine(i);
            deleteRange.start.row = i;
            deleteRange.end.row = i;
            for (var j = 0; j < size; ++j)
              if (line.charAt(j) != " ")
                break;
            if (j < size && line.charAt(j) == "	") {
              deleteRange.start.column = j;
              deleteRange.end.column = j + 1;
            } else {
              deleteRange.start.column = 0;
              deleteRange.end.column = j;
            }
            this.remove(deleteRange);
          }
        };
        EditSession2.prototype.$moveLines = function(firstRow, lastRow, dir) {
          firstRow = this.getRowFoldStart(firstRow);
          lastRow = this.getRowFoldEnd(lastRow);
          if (dir < 0) {
            var row = this.getRowFoldStart(firstRow + dir);
            if (row < 0)
              return 0;
            var diff = row - firstRow;
          } else if (dir > 0) {
            var row = this.getRowFoldEnd(lastRow + dir);
            if (row > this.doc.getLength() - 1)
              return 0;
            var diff = row - lastRow;
          } else {
            firstRow = this.$clipRowToDocument(firstRow);
            lastRow = this.$clipRowToDocument(lastRow);
            var diff = lastRow - firstRow + 1;
          }
          var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
          var folds = this.getFoldsInRange(range).map(function(x) {
            x = x.clone();
            x.start.row += diff;
            x.end.row += diff;
            return x;
          });
          var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);
          this.doc.insertFullLines(firstRow + diff, lines);
          folds.length && this.addFolds(folds);
          return diff;
        };
        EditSession2.prototype.moveLinesUp = function(firstRow, lastRow) {
          return this.$moveLines(firstRow, lastRow, -1);
        };
        EditSession2.prototype.moveLinesDown = function(firstRow, lastRow) {
          return this.$moveLines(firstRow, lastRow, 1);
        };
        EditSession2.prototype.duplicateLines = function(firstRow, lastRow) {
          return this.$moveLines(firstRow, lastRow, 0);
        };
        EditSession2.prototype.$clipRowToDocument = function(row) {
          return Math.max(0, Math.min(row, this.doc.getLength() - 1));
        };
        EditSession2.prototype.$clipColumnToRow = function(row, column) {
          if (column < 0)
            return 0;
          return Math.min(this.doc.getLine(row).length, column);
        };
        EditSession2.prototype.$clipPositionToDocument = function(row, column) {
          column = Math.max(0, column);
          if (row < 0) {
            row = 0;
            column = 0;
          } else {
            var len = this.doc.getLength();
            if (row >= len) {
              row = len - 1;
              column = this.doc.getLine(len - 1).length;
            } else {
              column = Math.min(this.doc.getLine(row).length, column);
            }
          }
          return {
            row,
            column
          };
        };
        EditSession2.prototype.$clipRangeToDocument = function(range) {
          if (range.start.row < 0) {
            range.start.row = 0;
            range.start.column = 0;
          } else {
            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);
          }
          var len = this.doc.getLength() - 1;
          if (range.end.row > len) {
            range.end.row = len;
            range.end.column = this.doc.getLine(len).length;
          } else {
            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);
          }
          return range;
        };
        EditSession2.prototype.setUseWrapMode = function(useWrapMode) {
          if (useWrapMode != this.$useWrapMode) {
            this.$useWrapMode = useWrapMode;
            this.$modified = true;
            this.$resetRowCache(0);
            if (useWrapMode) {
              var len = this.getLength();
              this.$wrapData = Array(len);
              this.$updateWrapData(0, len - 1);
            }
            this._signal("changeWrapMode");
          }
        };
        EditSession2.prototype.getUseWrapMode = function() {
          return this.$useWrapMode;
        };
        EditSession2.prototype.setWrapLimitRange = function(min, max) {
          if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {
            this.$wrapLimitRange = { min, max };
            this.$modified = true;
            this.$bidiHandler.markAsDirty();
            if (this.$useWrapMode)
              this._signal("changeWrapMode");
          }
        };
        EditSession2.prototype.adjustWrapLimit = function(desiredLimit, $printMargin) {
          var limits = this.$wrapLimitRange;
          if (limits.max < 0)
            limits = { min: $printMargin, max: $printMargin };
          var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
          if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
            this.$wrapLimit = wrapLimit;
            this.$modified = true;
            if (this.$useWrapMode) {
              this.$updateWrapData(0, this.getLength() - 1);
              this.$resetRowCache(0);
              this._signal("changeWrapLimit");
            }
            return true;
          }
          return false;
        };
        EditSession2.prototype.$constrainWrapLimit = function(wrapLimit, min, max) {
          if (min)
            wrapLimit = Math.max(min, wrapLimit);
          if (max)
            wrapLimit = Math.min(max, wrapLimit);
          return wrapLimit;
        };
        EditSession2.prototype.getWrapLimit = function() {
          return this.$wrapLimit;
        };
        EditSession2.prototype.setWrapLimit = function(limit) {
          this.setWrapLimitRange(limit, limit);
        };
        EditSession2.prototype.getWrapLimitRange = function() {
          return {
            min: this.$wrapLimitRange.min,
            max: this.$wrapLimitRange.max
          };
        };
        EditSession2.prototype.$updateInternalDataOnChange = function(delta) {
          var useWrapMode = this.$useWrapMode;
          var action = delta.action;
          var start = delta.start;
          var end = delta.end;
          var firstRow = start.row;
          var lastRow = end.row;
          var len = lastRow - firstRow;
          var removedFolds = null;
          this.$updating = true;
          if (len != 0) {
            if (action === "remove") {
              this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);
              var foldLines = this.$foldData;
              removedFolds = this.getFoldsInRange(delta);
              this.removeFolds(removedFolds);
              var foldLine = this.getFoldLine(end.row);
              var idx = 0;
              if (foldLine) {
                foldLine.addRemoveChars(end.row, end.column, start.column - end.column);
                foldLine.shiftRow(-len);
                var foldLineBefore = this.getFoldLine(firstRow);
                if (foldLineBefore && foldLineBefore !== foldLine) {
                  foldLineBefore.merge(foldLine);
                  foldLine = foldLineBefore;
                }
                idx = foldLines.indexOf(foldLine) + 1;
              }
              for (idx; idx < foldLines.length; idx++) {
                var foldLine = foldLines[idx];
                if (foldLine.start.row >= end.row) {
                  foldLine.shiftRow(-len);
                }
              }
              lastRow = firstRow;
            } else {
              var args = Array(len);
              args.unshift(firstRow, 0);
              var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;
              arr.splice.apply(arr, args);
              var foldLines = this.$foldData;
              var foldLine = this.getFoldLine(firstRow);
              var idx = 0;
              if (foldLine) {
                var cmp = foldLine.range.compareInside(start.row, start.column);
                if (cmp == 0) {
                  foldLine = foldLine.split(start.row, start.column);
                  if (foldLine) {
                    foldLine.shiftRow(len);
                    foldLine.addRemoveChars(lastRow, 0, end.column - start.column);
                  }
                } else if (cmp == -1) {
                  foldLine.addRemoveChars(firstRow, 0, end.column - start.column);
                  foldLine.shiftRow(len);
                }
                idx = foldLines.indexOf(foldLine) + 1;
              }
              for (idx; idx < foldLines.length; idx++) {
                var foldLine = foldLines[idx];
                if (foldLine.start.row >= firstRow) {
                  foldLine.shiftRow(len);
                }
              }
            }
          } else {
            len = Math.abs(delta.start.column - delta.end.column);
            if (action === "remove") {
              removedFolds = this.getFoldsInRange(delta);
              this.removeFolds(removedFolds);
              len = -len;
            }
            var foldLine = this.getFoldLine(firstRow);
            if (foldLine) {
              foldLine.addRemoveChars(firstRow, start.column, len);
            }
          }
          if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
            console.error("doc.getLength() and $wrapData.length have to be the same!");
          }
          this.$updating = false;
          if (useWrapMode)
            this.$updateWrapData(firstRow, lastRow);
          else
            this.$updateRowLengthCache(firstRow, lastRow);
          return removedFolds;
        };
        EditSession2.prototype.$updateRowLengthCache = function(firstRow, lastRow) {
          this.$rowLengthCache[firstRow] = null;
          this.$rowLengthCache[lastRow] = null;
        };
        EditSession2.prototype.$updateWrapData = function(firstRow, lastRow) {
          var lines = this.doc.getAllLines();
          var tabSize = this.getTabSize();
          var wrapData = this.$wrapData;
          var wrapLimit = this.$wrapLimit;
          var tokens;
          var foldLine;
          var row = firstRow;
          lastRow = Math.min(lastRow, lines.length - 1);
          while (row <= lastRow) {
            foldLine = this.getFoldLine(row, foldLine);
            if (!foldLine) {
              tokens = this.$getDisplayTokens(lines[row]);
              wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
              row++;
            } else {
              tokens = [];
              foldLine.walk((function(placeholder, row2, column, lastColumn) {
                var walkTokens;
                if (placeholder != null) {
                  walkTokens = this.$getDisplayTokens(placeholder, tokens.length);
                  walkTokens[0] = PLACEHOLDER_START;
                  for (var i = 1; i < walkTokens.length; i++) {
                    walkTokens[i] = PLACEHOLDER_BODY;
                  }
                } else {
                  walkTokens = this.$getDisplayTokens(lines[row2].substring(lastColumn, column), tokens.length);
                }
                tokens = tokens.concat(walkTokens);
              }).bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);
              wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
              row = foldLine.end.row + 1;
            }
          }
        };
        EditSession2.prototype.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {
          if (tokens.length == 0) {
            return [];
          }
          var splits = [];
          var displayLength = tokens.length;
          var lastSplit = 0, lastDocSplit = 0;
          var isCode = this.$wrapAsCode;
          var indentedSoftWrap = this.$indentedSoftWrap;
          var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);
          function getWrapIndent() {
            var indentation = 0;
            if (maxIndent === 0)
              return indentation;
            if (indentedSoftWrap) {
              for (var i = 0; i < tokens.length; i++) {
                var token = tokens[i];
                if (token == SPACE)
                  indentation += 1;
                else if (token == TAB)
                  indentation += tabSize;
                else if (token == TAB_SPACE)
                  continue;
                else
                  break;
              }
            }
            if (isCode && indentedSoftWrap !== false)
              indentation += tabSize;
            return Math.min(indentation, maxIndent);
          }
          function addSplit(screenPos) {
            var len = screenPos - lastSplit;
            for (var i = lastSplit; i < screenPos; i++) {
              var ch = tokens[i];
              if (ch === 12 || ch === 2)
                len -= 1;
            }
            if (!splits.length) {
              indent = getWrapIndent();
              splits.indent = indent;
            }
            lastDocSplit += len;
            splits.push(lastDocSplit);
            lastSplit = screenPos;
          }
          var indent = 0;
          while (displayLength - lastSplit > wrapLimit - indent) {
            var split = lastSplit + wrapLimit - indent;
            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {
              addSplit(split);
              continue;
            }
            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {
              for (split; split != lastSplit - 1; split--) {
                if (tokens[split] == PLACEHOLDER_START) {
                  break;
                }
              }
              if (split > lastSplit) {
                addSplit(split);
                continue;
              }
              split = lastSplit + wrapLimit;
              for (split; split < tokens.length; split++) {
                if (tokens[split] != PLACEHOLDER_BODY) {
                  break;
                }
              }
              if (split == tokens.length) {
                break;
              }
              addSplit(split);
              continue;
            }
            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);
            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
              split--;
            }
            if (isCode) {
              while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split--;
              }
              while (split > minSplit && tokens[split] == PUNCTUATION) {
                split--;
              }
            } else {
              while (split > minSplit && tokens[split] < SPACE) {
                split--;
              }
            }
            if (split > minSplit) {
              addSplit(++split);
              continue;
            }
            split = lastSplit + wrapLimit;
            if (tokens[split] == CHAR_EXT)
              split--;
            addSplit(split - indent);
          }
          return splits;
        };
        EditSession2.prototype.$getDisplayTokens = function(str, offset) {
          var arr = [];
          var tabSize;
          offset = offset || 0;
          for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c == 9) {
              tabSize = this.getScreenTabSize(arr.length + offset);
              arr.push(TAB);
              for (var n = 1; n < tabSize; n++) {
                arr.push(TAB_SPACE);
              }
            } else if (c == 32) {
              arr.push(SPACE);
            } else if (c > 39 && c < 48 || c > 57 && c < 64) {
              arr.push(PUNCTUATION);
            } else if (c >= 4352 && isFullWidth(c)) {
              arr.push(CHAR, CHAR_EXT);
            } else {
              arr.push(CHAR);
            }
          }
          return arr;
        };
        EditSession2.prototype.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
          if (maxScreenColumn == 0)
            return [0, 0];
          if (maxScreenColumn == null)
            maxScreenColumn = Infinity;
          screenColumn = screenColumn || 0;
          var c, column;
          for (column = 0; column < str.length; column++) {
            c = str.charCodeAt(column);
            if (c == 9) {
              screenColumn += this.getScreenTabSize(screenColumn);
            } else if (c >= 4352 && isFullWidth(c)) {
              screenColumn += 2;
            } else {
              screenColumn += 1;
            }
            if (screenColumn > maxScreenColumn) {
              break;
            }
          }
          return [screenColumn, column];
        };
        EditSession2.prototype.getRowLength = function(row) {
          var h2 = 1;
          if (this.lineWidgets)
            h2 += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
          if (!this.$useWrapMode || !this.$wrapData[row])
            return h2;
          else
            return this.$wrapData[row].length + h2;
        };
        EditSession2.prototype.getRowLineCount = function(row) {
          if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1;
          } else {
            return this.$wrapData[row].length + 1;
          }
        };
        EditSession2.prototype.getRowWrapIndent = function(screenRow) {
          if (this.$useWrapMode) {
            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
            var splits = this.$wrapData[pos.row];
            return splits.length && splits[0] < pos.column ? splits.indent : 0;
          } else {
            return 0;
          }
        };
        EditSession2.prototype.getScreenLastRowColumn = function(screenRow) {
          var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
          return this.documentToScreenColumn(pos.row, pos.column);
        };
        EditSession2.prototype.getDocumentLastRowColumn = function(docRow, docColumn) {
          var screenRow = this.documentToScreenRow(docRow, docColumn);
          return this.getScreenLastRowColumn(screenRow);
        };
        EditSession2.prototype.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
          var screenRow = this.documentToScreenRow(docRow, docColumn);
          return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
        };
        EditSession2.prototype.getRowSplitData = function(row) {
          if (!this.$useWrapMode) {
            return void 0;
          } else {
            return this.$wrapData[row];
          }
        };
        EditSession2.prototype.getScreenTabSize = function(screenColumn) {
          return this.$tabSize - (screenColumn % this.$tabSize | 0);
        };
        EditSession2.prototype.screenToDocumentRow = function(screenRow, screenColumn) {
          return this.screenToDocumentPosition(screenRow, screenColumn).row;
        };
        EditSession2.prototype.screenToDocumentColumn = function(screenRow, screenColumn) {
          return this.screenToDocumentPosition(screenRow, screenColumn).column;
        };
        EditSession2.prototype.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {
          if (screenRow < 0)
            return { row: 0, column: 0 };
          var line;
          var docRow = 0;
          var docColumn = 0;
          var column;
          var row = 0;
          var rowLength = 0;
          var rowCache = this.$screenRowCache;
          var i = this.$getRowCacheIndex(rowCache, screenRow);
          var l = rowCache.length;
          if (l && i >= 0) {
            var row = rowCache[i];
            var docRow = this.$docRowCache[i];
            var doCache = screenRow > rowCache[l - 1];
          } else {
            var doCache = !l;
          }
          var maxRow = this.getLength() - 1;
          var foldLine = this.getNextFoldLine(docRow);
          var foldStart = foldLine ? foldLine.start.row : Infinity;
          while (row <= screenRow) {
            rowLength = this.getRowLength(docRow);
            if (row + rowLength > screenRow || docRow >= maxRow) {
              break;
            } else {
              row += rowLength;
              docRow++;
              if (docRow > foldStart) {
                docRow = foldLine.end.row + 1;
                foldLine = this.getNextFoldLine(docRow, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
            }
            if (doCache) {
              this.$docRowCache.push(docRow);
              this.$screenRowCache.push(row);
            }
          }
          if (foldLine && foldLine.start.row <= docRow) {
            line = this.getFoldDisplayLine(foldLine);
            docRow = foldLine.start.row;
          } else if (row + rowLength <= screenRow || docRow > maxRow) {
            return {
              row: maxRow,
              column: this.getLine(maxRow).length
            };
          } else {
            line = this.getLine(docRow);
            foldLine = null;
          }
          var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);
          if (this.$useWrapMode) {
            var splits = this.$wrapData[docRow];
            if (splits) {
              column = splits[splitIndex];
              if (splitIndex > 0 && splits.length) {
                wrapIndent = splits.indent;
                docColumn = splits[splitIndex - 1] || splits[splits.length - 1];
                line = line.substring(docColumn);
              }
            }
          }
          if (offsetX !== void 0 && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))
            screenColumn = this.$bidiHandler.offsetToCol(offsetX);
          docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];
          if (this.$useWrapMode && docColumn >= column)
            docColumn = column - 1;
          if (foldLine)
            return foldLine.idxToPosition(docColumn);
          return { row: docRow, column: docColumn };
        };
        EditSession2.prototype.documentToScreenPosition = function(docRow, docColumn) {
          if (typeof docColumn === "undefined")
            var pos = this.$clipPositionToDocument(
              /**@type{Point}*/
              docRow.row,
              /**@type{Point}*/
              docRow.column
            );
          else
            pos = this.$clipPositionToDocument(
              /**@type{number}*/
              docRow,
              docColumn
            );
          docRow = pos.row;
          docColumn = pos.column;
          var screenRow = 0;
          var foldStartRow = null;
          var fold = null;
          fold = this.getFoldAt(docRow, docColumn, 1);
          if (fold) {
            docRow = fold.start.row;
            docColumn = fold.start.column;
          }
          var rowEnd, row = 0;
          var rowCache = this.$docRowCache;
          var i = this.$getRowCacheIndex(rowCache, docRow);
          var l = rowCache.length;
          if (l && i >= 0) {
            var row = rowCache[i];
            var screenRow = this.$screenRowCache[i];
            var doCache = docRow > rowCache[l - 1];
          } else {
            var doCache = !l;
          }
          var foldLine = this.getNextFoldLine(row);
          var foldStart = foldLine ? foldLine.start.row : Infinity;
          while (row < docRow) {
            if (row >= foldStart) {
              rowEnd = foldLine.end.row + 1;
              if (rowEnd > docRow)
                break;
              foldLine = this.getNextFoldLine(rowEnd, foldLine);
              foldStart = foldLine ? foldLine.start.row : Infinity;
            } else {
              rowEnd = row + 1;
            }
            screenRow += this.getRowLength(row);
            row = rowEnd;
            if (doCache) {
              this.$docRowCache.push(row);
              this.$screenRowCache.push(screenRow);
            }
          }
          var textLine = "";
          if (foldLine && row >= foldStart) {
            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
            foldStartRow = foldLine.start.row;
          } else {
            textLine = this.getLine(docRow).substring(0, docColumn);
            foldStartRow = docRow;
          }
          var wrapIndent = 0;
          if (this.$useWrapMode) {
            var wrapRow = this.$wrapData[foldStartRow];
            if (wrapRow) {
              var screenRowOffset = 0;
              while (textLine.length >= wrapRow[screenRowOffset]) {
                screenRow++;
                screenRowOffset++;
              }
              textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);
              wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;
            }
          }
          if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)
            screenRow += this.lineWidgets[row].rowsAbove;
          return {
            row: screenRow,
            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]
          };
        };
        EditSession2.prototype.documentToScreenColumn = function(row, docColumn) {
          return this.documentToScreenPosition(row, docColumn).column;
        };
        EditSession2.prototype.documentToScreenRow = function(docRow, docColumn) {
          return this.documentToScreenPosition(docRow, docColumn).row;
        };
        EditSession2.prototype.getScreenLength = function() {
          var screenRows = 0;
          var fold = null;
          if (!this.$useWrapMode) {
            screenRows = this.getLength();
            var foldData = this.$foldData;
            for (var i = 0; i < foldData.length; i++) {
              fold = foldData[i];
              screenRows -= fold.end.row - fold.start.row;
            }
          } else {
            var lastRow = this.$wrapData.length;
            var row = 0, i = 0;
            var fold = this.$foldData[i++];
            var foldStart = fold ? fold.start.row : Infinity;
            while (row < lastRow) {
              var splits = this.$wrapData[row];
              screenRows += splits ? splits.length + 1 : 1;
              row++;
              if (row > foldStart) {
                row = fold.end.row + 1;
                fold = this.$foldData[i++];
                foldStart = fold ? fold.start.row : Infinity;
              }
            }
          }
          if (this.lineWidgets)
            screenRows += this.$getWidgetScreenLength();
          return screenRows;
        };
        EditSession2.prototype.$setFontMetrics = function(fm) {
          if (!this.$enableVarChar)
            return;
          this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
            if (maxScreenColumn === 0)
              return [0, 0];
            if (!maxScreenColumn)
              maxScreenColumn = Infinity;
            screenColumn = screenColumn || 0;
            var c, column;
            for (column = 0; column < str.length; column++) {
              c = str.charAt(column);
              if (c === "	") {
                screenColumn += this.getScreenTabSize(screenColumn);
              } else {
                screenColumn += fm.getCharacterWidth(c);
              }
              if (screenColumn > maxScreenColumn) {
                break;
              }
            }
            return [screenColumn, column];
          };
        };
        EditSession2.prototype.getPrecedingCharacter = function() {
          var pos = this.selection.getCursor();
          if (pos.column === 0) {
            return pos.row === 0 ? "" : this.doc.getNewLineCharacter();
          }
          var currentLine = this.getLine(pos.row);
          return currentLine[pos.column - 1];
        };
        EditSession2.prototype.destroy = function() {
          if (!this.destroyed) {
            this.bgTokenizer.setDocument(null);
            this.bgTokenizer.cleanup();
            this.destroyed = true;
          }
          this.$stopWorker();
          this.removeAllListeners();
          if (this.doc) {
            this.doc.off("change", this.$onChange);
          }
          this.selection.detach();
        };
        return EditSession2;
      }()
    );
    EditSession.$uid = 0;
    EditSession.prototype.$modes = config2.$modes;
    EditSession.prototype.getValue = EditSession.prototype.toString;
    EditSession.prototype.$defaultUndoManager = {
      undo: function() {
      },
      redo: function() {
      },
      hasUndo: function() {
      },
      hasRedo: function() {
      },
      reset: function() {
      },
      add: function() {
      },
      addSelection: function() {
      },
      startNewGroup: function() {
      },
      addSession: function() {
      }
    };
    EditSession.prototype.$overwrite = false;
    EditSession.prototype.$mode = null;
    EditSession.prototype.$modeId = null;
    EditSession.prototype.$scrollTop = 0;
    EditSession.prototype.$scrollLeft = 0;
    EditSession.prototype.$wrapLimit = 80;
    EditSession.prototype.$useWrapMode = false;
    EditSession.prototype.$wrapLimitRange = {
      min: null,
      max: null
    };
    EditSession.prototype.lineWidgets = null;
    EditSession.prototype.isFullWidth = isFullWidth;
    oop.implement(EditSession.prototype, EventEmitter);
    var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;
    function isFullWidth(c) {
      if (c < 4352)
        return false;
      return c >= 4352 && c <= 4447 || c >= 4515 && c <= 4519 || c >= 4602 && c <= 4607 || c >= 9001 && c <= 9002 || c >= 11904 && c <= 11929 || c >= 11931 && c <= 12019 || c >= 12032 && c <= 12245 || c >= 12272 && c <= 12283 || c >= 12288 && c <= 12350 || c >= 12353 && c <= 12438 || c >= 12441 && c <= 12543 || c >= 12549 && c <= 12589 || c >= 12593 && c <= 12686 || c >= 12688 && c <= 12730 || c >= 12736 && c <= 12771 || c >= 12784 && c <= 12830 || c >= 12832 && c <= 12871 || c >= 12880 && c <= 13054 || c >= 13056 && c <= 19903 || c >= 19968 && c <= 42124 || c >= 42128 && c <= 42182 || c >= 43360 && c <= 43388 || c >= 44032 && c <= 55203 || c >= 55216 && c <= 55238 || c >= 55243 && c <= 55291 || c >= 63744 && c <= 64255 || c >= 65040 && c <= 65049 || c >= 65072 && c <= 65106 || c >= 65108 && c <= 65126 || c >= 65128 && c <= 65131 || c >= 65281 && c <= 65376 || c >= 65504 && c <= 65510;
    }
    require2("./edit_session/folding").Folding.call(EditSession.prototype);
    require2("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);
    config2.defineOptions(EditSession.prototype, "session", {
      wrap: {
        set: function(value2) {
          if (!value2 || value2 == "off")
            value2 = false;
          else if (value2 == "free")
            value2 = true;
          else if (value2 == "printMargin")
            value2 = -1;
          else if (typeof value2 == "string")
            value2 = parseInt(value2, 10) || false;
          if (this.$wrap == value2)
            return;
          this.$wrap = value2;
          if (!value2) {
            this.setUseWrapMode(false);
          } else {
            var col = typeof value2 == "number" ? value2 : null;
            this.setWrapLimitRange(col, col);
            this.setUseWrapMode(true);
          }
        },
        get: function() {
          if (this.getUseWrapMode()) {
            if (this.$wrap == -1)
              return "printMargin";
            if (!this.getWrapLimitRange().min)
              return "free";
            return this.$wrap;
          }
          return "off";
        },
        handlesSet: true
      },
      wrapMethod: {
        set: function(val) {
          val = val == "auto" ? this.$mode.type != "text" : val != "text";
          if (val != this.$wrapAsCode) {
            this.$wrapAsCode = val;
            if (this.$useWrapMode) {
              this.$useWrapMode = false;
              this.setUseWrapMode(true);
            }
          }
        },
        initialValue: "auto"
      },
      indentedSoftWrap: {
        set: function() {
          if (this.$useWrapMode) {
            this.$useWrapMode = false;
            this.setUseWrapMode(true);
          }
        },
        initialValue: true
      },
      firstLineNumber: {
        set: function() {
          this._signal("changeBreakpoint");
        },
        initialValue: 1
      },
      useWorker: {
        set: function(useWorker) {
          this.$useWorker = useWorker;
          this.$stopWorker();
          if (useWorker)
            this.$startWorker();
        },
        initialValue: true
      },
      useSoftTabs: { initialValue: true },
      tabSize: {
        set: function(tabSize) {
          tabSize = parseInt(tabSize);
          if (tabSize > 0 && this.$tabSize !== tabSize) {
            this.$modified = true;
            this.$rowLengthCache = [];
            this.$tabSize = tabSize;
            this._signal("changeTabSize");
          }
        },
        initialValue: 4,
        handlesSet: true
      },
      navigateWithinSoftTabs: { initialValue: false },
      foldStyle: {
        set: function(val) {
          this.setFoldStyle(val);
        },
        handlesSet: true
      },
      overwrite: {
        set: function(val) {
          this._signal("changeOverwrite");
        },
        initialValue: false
      },
      newLineMode: {
        set: function(val) {
          this.doc.setNewLineMode(val);
        },
        get: function() {
          return this.doc.getNewLineMode();
        },
        handlesSet: true
      },
      mode: {
        set: function(val) {
          this.setMode(val);
        },
        get: function() {
          return this.$modeId;
        },
        handlesSet: true
      }
    });
    exports2.EditSession = EditSession;
  });
  ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(require2, exports2, module2) {
    var lang = require2("./lib/lang");
    var oop = require2("./lib/oop");
    var Range = require2("./range").Range;
    var Search = (
      /** @class */
      function() {
        function Search2() {
          this.$options = {};
        }
        Search2.prototype.set = function(options) {
          oop.mixin(this.$options, options);
          return this;
        };
        Search2.prototype.getOptions = function() {
          return lang.copyObject(this.$options);
        };
        Search2.prototype.setOptions = function(options) {
          this.$options = options;
        };
        Search2.prototype.find = function(session) {
          var options = this.$options;
          var iterator = this.$matchIterator(session, options);
          if (!iterator)
            return false;
          var firstRange = null;
          iterator.forEach(function(sr, sc, er, ec) {
            firstRange = new Range(sr, sc, er, ec);
            if (sc == ec && options.start && /**@type{Range}*/
            options.start.start && options.skipCurrent != false && firstRange.isEqual(
              /**@type{Range}*/
              options.start
            )) {
              firstRange = null;
              return false;
            }
            return true;
          });
          return firstRange;
        };
        Search2.prototype.findAll = function(session) {
          var options = this.$options;
          if (!options.needle)
            return [];
          this.$assembleRegExp(options);
          var range = options.range;
          var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();
          var ranges = [];
          var re = options.re;
          if (options.$isMultiLine) {
            var len = re.length;
            var maxRow = lines.length - len;
            var prevRange;
            outer:
              for (var row = re.offset || 0; row <= maxRow; row++) {
                for (var j = 0; j < len; j++)
                  if (lines[row + j].search(re[j]) == -1)
                    continue outer;
                var startLine = lines[row];
                var line = lines[row + len - 1];
                var startIndex = startLine.length - startLine.match(re[0])[0].length;
                var endIndex = line.match(re[len - 1])[0].length;
                if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {
                  continue;
                }
                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));
                if (len > 2)
                  row = row + len - 2;
              }
          } else {
            for (var i = 0; i < lines.length; i++) {
              var matches2 = lang.getMatchOffsets(lines[i], re);
              for (var j = 0; j < matches2.length; j++) {
                var match = matches2[j];
                ranges.push(new Range(i, match.offset, i, match.offset + match.length));
              }
            }
          }
          if (range) {
            var startColumn = range.start.column;
            var endColumn = range.end.column;
            var i = 0, j = ranges.length - 1;
            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == 0)
              i++;
            var endRow = range.end.row - range.start.row;
            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == endRow)
              j--;
            ranges = ranges.slice(i, j + 1);
            for (i = 0, j = ranges.length; i < j; i++) {
              ranges[i].start.row += range.start.row;
              ranges[i].end.row += range.start.row;
            }
          }
          return ranges;
        };
        Search2.prototype.replace = function(input2, replacement) {
          var options = this.$options;
          var re = this.$assembleRegExp(options);
          if (options.$isMultiLine)
            return replacement;
          if (!re)
            return;
          var match = re.exec(input2);
          if (!match || match[0].length != input2.length)
            return null;
          if (!options.regExp) {
            replacement = replacement.replace(/\$/g, "$$$$");
          }
          replacement = input2.replace(re, replacement);
          if (options.preserveCase) {
            replacement = replacement.split("");
            for (var i = Math.min(input2.length, input2.length); i--; ) {
              var ch = input2[i];
              if (ch && ch.toLowerCase() != ch)
                replacement[i] = replacement[i].toUpperCase();
              else
                replacement[i] = replacement[i].toLowerCase();
            }
            replacement = replacement.join("");
          }
          return replacement;
        };
        Search2.prototype.$assembleRegExp = function(options, $disableFakeMultiline) {
          if (options.needle instanceof RegExp)
            return options.re = options.needle;
          var needle = options.needle;
          if (!options.needle)
            return options.re = false;
          if (!options.regExp)
            needle = lang.escapeRegExp(needle);
          var modifier = options.caseSensitive ? "gm" : "gmi";
          try {
            new RegExp(needle, "u");
            options.$supportsUnicodeFlag = true;
            modifier += "u";
          } catch (e2) {
            options.$supportsUnicodeFlag = false;
          }
          if (options.wholeWord)
            needle = addWordBoundary(needle, options);
          options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
          if (options.$isMultiLine)
            return options.re = this.$assembleMultilineRegExp(needle, modifier);
          try {
            var re = new RegExp(needle, modifier);
          } catch (e2) {
            re = false;
          }
          return options.re = re;
        };
        Search2.prototype.$assembleMultilineRegExp = function(needle, modifier) {
          var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
          var re = [];
          for (var i = 0; i < parts.length; i++)
            try {
              re.push(new RegExp(parts[i], modifier));
            } catch (e2) {
              return false;
            }
          return re;
        };
        Search2.prototype.$matchIterator = function(session, options) {
          var re = this.$assembleRegExp(options);
          if (!re)
            return false;
          var backwards = options.backwards == true;
          var skipCurrent = options.skipCurrent != false;
          var supportsUnicodeFlag = re.unicode;
          var range = options.range;
          var start = options.start;
          if (!start)
            start = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
          if (start.start)
            start = start[skipCurrent != backwards ? "end" : "start"];
          var firstRow = range ? range.start.row : 0;
          var lastRow = range ? range.end.row : session.getLength() - 1;
          if (backwards) {
            var forEach2 = function(callback) {
              var row = start.row;
              if (forEachInLine(row, start.column, callback))
                return;
              for (row--; row >= firstRow; row--)
                if (forEachInLine(row, Number.MAX_VALUE, callback))
                  return;
              if (options.wrap == false)
                return;
              for (row = lastRow, firstRow = start.row; row >= firstRow; row--)
                if (forEachInLine(row, Number.MAX_VALUE, callback))
                  return;
            };
          } else {
            var forEach2 = function(callback) {
              var row = start.row;
              if (forEachInLine(row, start.column, callback))
                return;
              for (row = row + 1; row <= lastRow; row++)
                if (forEachInLine(row, 0, callback))
                  return;
              if (options.wrap == false)
                return;
              for (row = firstRow, lastRow = start.row; row <= lastRow; row++)
                if (forEachInLine(row, 0, callback))
                  return;
            };
          }
          if (options.$isMultiLine) {
            var len = re.length;
            var forEachInLine = function(row, offset, callback) {
              var startRow = backwards ? row - len + 1 : row;
              if (startRow < 0 || startRow + len > session.getLength())
                return;
              var line = session.getLine(startRow);
              var startIndex = line.search(re[0]);
              if (!backwards && startIndex < offset || startIndex === -1)
                return;
              for (var i = 1; i < len; i++) {
                line = session.getLine(startRow + i);
                if (line.search(re[i]) == -1)
                  return;
              }
              var endIndex = line.match(re[len - 1])[0].length;
              if (backwards && endIndex > offset)
                return;
              if (callback(startRow, startIndex, startRow + len - 1, endIndex))
                return true;
            };
          } else if (backwards) {
            var forEachInLine = function(row, endIndex, callback) {
              var line = session.getLine(row);
              var matches2 = [];
              var m, last = 0;
              re.lastIndex = 0;
              while (m = re.exec(line)) {
                var length = m[0].length;
                last = m.index;
                if (!length) {
                  if (last >= line.length)
                    break;
                  re.lastIndex = last += lang.skipEmptyMatch(line, last, supportsUnicodeFlag);
                }
                if (m.index + length > endIndex)
                  break;
                matches2.push(m.index, length);
              }
              for (var i = matches2.length - 1; i >= 0; i -= 2) {
                var column = matches2[i - 1];
                var length = matches2[i];
                if (callback(row, column, row, column + length))
                  return true;
              }
            };
          } else {
            var forEachInLine = function(row, startIndex, callback) {
              var line = session.getLine(row);
              var last;
              var m;
              re.lastIndex = startIndex;
              while (m = re.exec(line)) {
                var length = m[0].length;
                last = m.index;
                if (callback(row, last, row, last + length))
                  return true;
                if (!length) {
                  re.lastIndex = last += lang.skipEmptyMatch(line, last, supportsUnicodeFlag);
                  if (last >= line.length)
                    return false;
                }
              }
            };
          }
          return { forEach: forEach2 };
        };
        return Search2;
      }()
    );
    function addWordBoundary(needle, options) {
      var supportsLookbehind = lang.supportsLookbehind();
      function wordBoundary(c, firstChar2) {
        if (firstChar2 === void 0) {
          firstChar2 = true;
        }
        var wordRegExp = supportsLookbehind && options.$supportsUnicodeFlag ? new RegExp("[\\p{L}\\p{N}_]", "u") : new RegExp("\\w");
        if (wordRegExp.test(c) || options.regExp) {
          if (supportsLookbehind && options.$supportsUnicodeFlag) {
            if (firstChar2)
              return "(?<=^|[^\\p{L}\\p{N}_])";
            return "(?=[^\\p{L}\\p{N}_]|$)";
          }
          return "\\b";
        }
        return "";
      }
      var needleArray = Array.from(needle);
      var firstChar = needleArray[0];
      var lastChar = needleArray[needleArray.length - 1];
      return wordBoundary(firstChar) + needle + wordBoundary(lastChar, false);
    }
    exports2.Search = Search;
  });
  ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var keyUtil = require2("../lib/keys");
    var useragent = require2("../lib/useragent");
    var KEY_MODS = keyUtil.KEY_MODS;
    var MultiHashHandler = (
      /** @class */
      function() {
        function MultiHashHandler2(config2, platform2) {
          this.$init(config2, platform2, false);
        }
        MultiHashHandler2.prototype.$init = function(config2, platform2, $singleCommand) {
          this.platform = platform2 || (useragent.isMac ? "mac" : "win");
          this.commands = {};
          this.commandKeyBinding = {};
          this.addCommands(config2);
          this.$singleCommand = $singleCommand;
        };
        MultiHashHandler2.prototype.addCommand = function(command) {
          if (this.commands[command.name])
            this.removeCommand(command);
          this.commands[command.name] = command;
          if (command.bindKey)
            this._buildKeyHash(command);
        };
        MultiHashHandler2.prototype.removeCommand = function(command, keepCommand) {
          var name2 = command && (typeof command === "string" ? command : command.name);
          command = this.commands[name2];
          if (!keepCommand)
            delete this.commands[name2];
          var ckb = this.commandKeyBinding;
          for (var keyId in ckb) {
            var cmdGroup = ckb[keyId];
            if (cmdGroup == command) {
              delete ckb[keyId];
            } else if (Array.isArray(cmdGroup)) {
              var i = cmdGroup.indexOf(command);
              if (i != -1) {
                cmdGroup.splice(i, 1);
                if (cmdGroup.length == 1)
                  ckb[keyId] = cmdGroup[0];
              }
            }
          }
        };
        MultiHashHandler2.prototype.bindKey = function(key, command, position) {
          if (typeof key == "object" && key) {
            if (position == void 0)
              position = key.position;
            key = key[this.platform];
          }
          if (!key)
            return;
          if (typeof command == "function")
            return this.addCommand({ exec: command, bindKey: key, name: command.name || /**@type{string}*/
            key });
          key.split("|").forEach(function(keyPart) {
            var chain = "";
            if (keyPart.indexOf(" ") != -1) {
              var parts = keyPart.split(/\s+/);
              keyPart = parts.pop();
              parts.forEach(function(keyPart2) {
                var binding2 = this.parseKeys(keyPart2);
                var id2 = KEY_MODS[binding2.hashId] + binding2.key;
                chain += (chain ? " " : "") + id2;
                this._addCommandToBinding(chain, "chainKeys");
              }, this);
              chain += " ";
            }
            var binding = this.parseKeys(keyPart);
            var id = KEY_MODS[binding.hashId] + binding.key;
            this._addCommandToBinding(chain + id, command, position);
          }, this);
        };
        MultiHashHandler2.prototype._addCommandToBinding = function(keyId, command, position) {
          var ckb = this.commandKeyBinding, i;
          if (!command) {
            delete ckb[keyId];
          } else if (!ckb[keyId] || this.$singleCommand) {
            ckb[keyId] = command;
          } else {
            if (!Array.isArray(ckb[keyId])) {
              ckb[keyId] = [ckb[keyId]];
            } else if ((i = ckb[keyId].indexOf(command)) != -1) {
              ckb[keyId].splice(i, 1);
            }
            if (typeof position != "number") {
              position = getPosition(command);
            }
            var commands = ckb[keyId];
            for (i = 0; i < commands.length; i++) {
              var other = commands[i];
              var otherPos = getPosition(other);
              if (otherPos > position)
                break;
            }
            commands.splice(i, 0, command);
          }
        };
        MultiHashHandler2.prototype.addCommands = function(commands) {
          commands && Object.keys(commands).forEach(function(name2) {
            var command = commands[name2];
            if (!command)
              return;
            if (typeof command === "string")
              return this.bindKey(command, name2);
            if (typeof command === "function")
              command = { exec: command };
            if (typeof command !== "object")
              return;
            if (!command.name)
              command.name = name2;
            this.addCommand(command);
          }, this);
        };
        MultiHashHandler2.prototype.removeCommands = function(commands) {
          Object.keys(commands).forEach(function(name2) {
            this.removeCommand(commands[name2]);
          }, this);
        };
        MultiHashHandler2.prototype.bindKeys = function(keyList) {
          Object.keys(keyList).forEach(function(key) {
            this.bindKey(key, keyList[key]);
          }, this);
        };
        MultiHashHandler2.prototype._buildKeyHash = function(command) {
          this.bindKey(command.bindKey, command);
        };
        MultiHashHandler2.prototype.parseKeys = function(keys) {
          var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x) {
            return x;
          });
          var key = parts.pop();
          var keyCode = keyUtil[key];
          if (keyUtil.FUNCTION_KEYS[keyCode])
            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
          else if (!parts.length)
            return { key, hashId: -1 };
          else if (parts.length == 1 && parts[0] == "shift")
            return { key: key.toUpperCase(), hashId: -1 };
          var hashId = 0;
          for (var i = parts.length; i--; ) {
            var modifier = keyUtil.KEY_MODS[parts[i]];
            if (modifier == null) {
              if (typeof console != "undefined")
                console.error("invalid modifier " + parts[i] + " in " + keys);
              return false;
            }
            hashId |= modifier;
          }
          return { key, hashId };
        };
        MultiHashHandler2.prototype.findKeyCommand = function(hashId, keyString) {
          var key = KEY_MODS[hashId] + keyString;
          return this.commandKeyBinding[key];
        };
        MultiHashHandler2.prototype.handleKeyboard = function(data, hashId, keyString, keyCode) {
          if (keyCode < 0)
            return;
          var key = KEY_MODS[hashId] + keyString;
          var command = this.commandKeyBinding[key];
          if (data.$keyChain) {
            data.$keyChain += " " + key;
            command = this.commandKeyBinding[data.$keyChain] || command;
          }
          if (command) {
            if (command == "chainKeys" || command[command.length - 1] == "chainKeys") {
              data.$keyChain = data.$keyChain || key;
              return { command: "null" };
            }
          }
          if (data.$keyChain) {
            if ((!hashId || hashId == 4) && keyString.length == 1)
              data.$keyChain = data.$keyChain.slice(0, -key.length - 1);
            else if (hashId == -1 || keyCode > 0)
              data.$keyChain = "";
          }
          return { command };
        };
        MultiHashHandler2.prototype.getStatusText = function(editor, data) {
          return data.$keyChain || "";
        };
        return MultiHashHandler2;
      }()
    );
    function getPosition(command) {
      return typeof command == "object" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);
    }
    var HashHandler = (
      /** @class */
      function(_super) {
        __extends(HashHandler2, _super);
        function HashHandler2(config2, platform2) {
          var _this = _super.call(this, config2, platform2) || this;
          _this.$singleCommand = true;
          return _this;
        }
        return HashHandler2;
      }(MultiHashHandler)
    );
    HashHandler.call = function(thisArg, config2, platform2) {
      MultiHashHandler.prototype.$init.call(thisArg, config2, platform2, true);
    };
    MultiHashHandler.call = function(thisArg, config2, platform2) {
      MultiHashHandler.prototype.$init.call(thisArg, config2, platform2, false);
    };
    exports2.HashHandler = HashHandler;
    exports2.MultiHashHandler = MultiHashHandler;
  });
  ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var oop = require2("../lib/oop");
    var MultiHashHandler = require2("../keyboard/hash_handler").MultiHashHandler;
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var CommandManager = (
      /** @class */
      function(_super) {
        __extends(CommandManager2, _super);
        function CommandManager2(platform2, commands) {
          var _this = _super.call(this, commands, platform2) || this;
          _this.byName = _this.commands;
          _this.setDefaultHandler("exec", function(e2) {
            if (!e2.args) {
              return e2.command.exec(e2.editor, {}, e2.event, true);
            }
            return e2.command.exec(e2.editor, e2.args, e2.event, false);
          });
          return _this;
        }
        CommandManager2.prototype.exec = function(command, editor, args) {
          if (Array.isArray(command)) {
            for (var i = command.length; i--; ) {
              if (this.exec(command[i], editor, args))
                return true;
            }
            return false;
          }
          if (typeof command === "string")
            command = this.commands[command];
          if (!command)
            return false;
          if (editor && editor.$readOnly && !command.readOnly)
            return false;
          if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))
            return false;
          var e2 = { editor, command, args };
          e2.returnValue = this._emit("exec", e2);
          this._signal("afterExec", e2);
          return e2.returnValue === false ? false : true;
        };
        CommandManager2.prototype.toggleRecording = function(editor) {
          if (this.$inReplay)
            return;
          editor && editor._emit("changeStatus");
          if (this.recording) {
            this.macro.pop();
            this.off("exec", this.$addCommandToMacro);
            if (!this.macro.length)
              this.macro = this.oldMacro;
            return this.recording = false;
          }
          if (!this.$addCommandToMacro) {
            this.$addCommandToMacro = (function(e2) {
              this.macro.push([e2.command, e2.args]);
            }).bind(this);
          }
          this.oldMacro = this.macro;
          this.macro = [];
          this.on("exec", this.$addCommandToMacro);
          return this.recording = true;
        };
        CommandManager2.prototype.replay = function(editor) {
          if (this.$inReplay || !this.macro)
            return;
          if (this.recording)
            return this.toggleRecording(editor);
          try {
            this.$inReplay = true;
            this.macro.forEach(function(x) {
              if (typeof x == "string")
                this.exec(x, editor);
              else
                this.exec(x[0], editor, x[1]);
            }, this);
          } finally {
            this.$inReplay = false;
          }
        };
        CommandManager2.prototype.trimMacro = function(m) {
          return m.map(function(x) {
            if (typeof x[0] != "string")
              x[0] = x[0].name;
            if (!x[1])
              x = x[0];
            return x;
          });
        };
        return CommandManager2;
      }(MultiHashHandler)
    );
    oop.implement(CommandManager.prototype, EventEmitter);
    exports2.CommandManager = CommandManager;
  });
  ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(require2, exports2, module2) {
    var lang = require2("../lib/lang");
    var config2 = require2("../config");
    var Range = require2("../range").Range;
    function bindKey(win, mac) {
      return { win, mac };
    }
    exports2.commands = [
      {
        name: "showSettingsMenu",
        description: "Show settings menu",
        bindKey: bindKey("Ctrl-,", "Command-,"),
        exec: function(editor) {
          config2.loadModule("ace/ext/settings_menu", function(module3) {
            module3.init(editor);
            editor.showSettingsMenu();
          });
        },
        readOnly: true
      },
      {
        name: "goToNextError",
        description: "Go to next error",
        bindKey: bindKey("Alt-E", "F4"),
        exec: function(editor) {
          config2.loadModule("ace/ext/error_marker", function(module3) {
            module3.showErrorMarker(editor, 1);
          });
        },
        scrollIntoView: "animate",
        readOnly: true
      },
      {
        name: "goToPreviousError",
        description: "Go to previous error",
        bindKey: bindKey("Alt-Shift-E", "Shift-F4"),
        exec: function(editor) {
          config2.loadModule("ace/ext/error_marker", function(module3) {
            module3.showErrorMarker(editor, -1);
          });
        },
        scrollIntoView: "animate",
        readOnly: true
      },
      {
        name: "selectall",
        description: "Select all",
        bindKey: bindKey("Ctrl-A", "Command-A"),
        exec: function(editor) {
          editor.selectAll();
        },
        readOnly: true
      },
      {
        name: "centerselection",
        description: "Center selection",
        bindKey: bindKey(null, "Ctrl-L"),
        exec: function(editor) {
          editor.centerSelection();
        },
        readOnly: true
      },
      {
        name: "gotoline",
        description: "Go to line...",
        bindKey: bindKey("Ctrl-L", "Command-L"),
        exec: function(editor, line) {
          if (typeof line === "number" && !isNaN(line))
            editor.gotoLine(line);
          editor.prompt({ $type: "gotoLine" });
        },
        readOnly: true
      },
      {
        name: "fold",
        bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
        exec: function(editor) {
          editor.session.toggleFold(false);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "unfold",
        bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
        exec: function(editor) {
          editor.session.toggleFold(true);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "toggleFoldWidget",
        description: "Toggle fold widget",
        bindKey: bindKey("F2", "F2"),
        exec: function(editor) {
          editor.session.toggleFoldWidget();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "toggleParentFoldWidget",
        description: "Toggle parent fold widget",
        bindKey: bindKey("Alt-F2", "Alt-F2"),
        exec: function(editor) {
          editor.session.toggleFoldWidget(true);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "foldall",
        description: "Fold all",
        bindKey: bindKey(null, "Ctrl-Command-Option-0"),
        exec: function(editor) {
          editor.session.foldAll();
        },
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "foldAllComments",
        description: "Fold all comments",
        bindKey: bindKey(null, "Ctrl-Command-Option-0"),
        exec: function(editor) {
          editor.session.foldAllComments();
        },
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "foldOther",
        description: "Fold other",
        bindKey: bindKey("Alt-0", "Command-Option-0"),
        exec: function(editor) {
          editor.session.foldAll();
          editor.session.unfold(editor.selection.getAllRanges());
        },
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "unfoldall",
        description: "Unfold all",
        bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
        exec: function(editor) {
          editor.session.unfold();
        },
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "findnext",
        description: "Find next",
        bindKey: bindKey("Ctrl-K", "Command-G"),
        exec: function(editor) {
          editor.findNext();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "findprevious",
        description: "Find previous",
        bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
        exec: function(editor) {
          editor.findPrevious();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "center",
        readOnly: true
      },
      {
        name: "selectOrFindNext",
        description: "Select or find next",
        bindKey: bindKey("Alt-K", "Ctrl-G"),
        exec: function(editor) {
          if (editor.selection.isEmpty())
            editor.selection.selectWord();
          else
            editor.findNext();
        },
        readOnly: true
      },
      {
        name: "selectOrFindPrevious",
        description: "Select or find previous",
        bindKey: bindKey("Alt-Shift-K", "Ctrl-Shift-G"),
        exec: function(editor) {
          if (editor.selection.isEmpty())
            editor.selection.selectWord();
          else
            editor.findPrevious();
        },
        readOnly: true
      },
      {
        name: "find",
        description: "Find",
        bindKey: bindKey("Ctrl-F", "Command-F"),
        exec: function(editor) {
          config2.loadModule("ace/ext/searchbox", function(e2) {
            e2.Search(editor);
          });
        },
        readOnly: true
      },
      {
        name: "overwrite",
        description: "Overwrite",
        bindKey: "Insert",
        exec: function(editor) {
          editor.toggleOverwrite();
        },
        readOnly: true
      },
      {
        name: "selecttostart",
        description: "Select to start",
        bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
        exec: function(editor) {
          editor.getSelection().selectFileStart();
        },
        multiSelectAction: "forEach",
        readOnly: true,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
      },
      {
        name: "gotostart",
        description: "Go to start",
        bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
        exec: function(editor) {
          editor.navigateFileStart();
        },
        multiSelectAction: "forEach",
        readOnly: true,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
      },
      {
        name: "selectup",
        description: "Select up",
        bindKey: bindKey("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
        exec: function(editor) {
          editor.getSelection().selectUp();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "golineup",
        description: "Go line up",
        bindKey: bindKey("Up", "Up|Ctrl-P"),
        exec: function(editor, args) {
          editor.navigateUp(args.times);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selecttoend",
        description: "Select to end",
        bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
        exec: function(editor) {
          editor.getSelection().selectFileEnd();
        },
        multiSelectAction: "forEach",
        readOnly: true,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
      },
      {
        name: "gotoend",
        description: "Go to end",
        bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
        exec: function(editor) {
          editor.navigateFileEnd();
        },
        multiSelectAction: "forEach",
        readOnly: true,
        scrollIntoView: "animate",
        aceCommandGroup: "fileJump"
      },
      {
        name: "selectdown",
        description: "Select down",
        bindKey: bindKey("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
        exec: function(editor) {
          editor.getSelection().selectDown();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "golinedown",
        description: "Go line down",
        bindKey: bindKey("Down", "Down|Ctrl-N"),
        exec: function(editor, args) {
          editor.navigateDown(args.times);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectwordleft",
        description: "Select word left",
        bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
        exec: function(editor) {
          editor.getSelection().selectWordLeft();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotowordleft",
        description: "Go to word left",
        bindKey: bindKey("Ctrl-Left", "Option-Left"),
        exec: function(editor) {
          editor.navigateWordLeft();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selecttolinestart",
        description: "Select to line start",
        bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
        exec: function(editor) {
          editor.getSelection().selectLineStart();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotolinestart",
        description: "Go to line start",
        bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
        exec: function(editor) {
          editor.navigateLineStart();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectleft",
        description: "Select left",
        bindKey: bindKey("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
        exec: function(editor) {
          editor.getSelection().selectLeft();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotoleft",
        description: "Go to left",
        bindKey: bindKey("Left", "Left|Ctrl-B"),
        exec: function(editor, args) {
          editor.navigateLeft(args.times);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectwordright",
        description: "Select word right",
        bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
        exec: function(editor) {
          editor.getSelection().selectWordRight();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotowordright",
        description: "Go to word right",
        bindKey: bindKey("Ctrl-Right", "Option-Right"),
        exec: function(editor) {
          editor.navigateWordRight();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selecttolineend",
        description: "Select to line end",
        bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
        exec: function(editor) {
          editor.getSelection().selectLineEnd();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotolineend",
        description: "Go to line end",
        bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
        exec: function(editor) {
          editor.navigateLineEnd();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectright",
        description: "Select right",
        bindKey: bindKey("Shift-Right", "Shift-Right"),
        exec: function(editor) {
          editor.getSelection().selectRight();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "gotoright",
        description: "Go to right",
        bindKey: bindKey("Right", "Right|Ctrl-F"),
        exec: function(editor, args) {
          editor.navigateRight(args.times);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectpagedown",
        description: "Select page down",
        bindKey: "Shift-PageDown",
        exec: function(editor) {
          editor.selectPageDown();
        },
        readOnly: true
      },
      {
        name: "pagedown",
        description: "Page down",
        bindKey: bindKey(null, "Option-PageDown"),
        exec: function(editor) {
          editor.scrollPageDown();
        },
        readOnly: true
      },
      {
        name: "gotopagedown",
        description: "Go to page down",
        bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
        exec: function(editor) {
          editor.gotoPageDown();
        },
        readOnly: true
      },
      {
        name: "selectpageup",
        description: "Select page up",
        bindKey: "Shift-PageUp",
        exec: function(editor) {
          editor.selectPageUp();
        },
        readOnly: true
      },
      {
        name: "pageup",
        description: "Page up",
        bindKey: bindKey(null, "Option-PageUp"),
        exec: function(editor) {
          editor.scrollPageUp();
        },
        readOnly: true
      },
      {
        name: "gotopageup",
        description: "Go to page up",
        bindKey: "PageUp",
        exec: function(editor) {
          editor.gotoPageUp();
        },
        readOnly: true
      },
      {
        name: "scrollup",
        description: "Scroll up",
        bindKey: bindKey("Ctrl-Up", null),
        exec: function(e2) {
          e2.renderer.scrollBy(0, -2 * e2.renderer.layerConfig.lineHeight);
        },
        readOnly: true
      },
      {
        name: "scrolldown",
        description: "Scroll down",
        bindKey: bindKey("Ctrl-Down", null),
        exec: function(e2) {
          e2.renderer.scrollBy(0, 2 * e2.renderer.layerConfig.lineHeight);
        },
        readOnly: true
      },
      {
        name: "selectlinestart",
        description: "Select line start",
        bindKey: "Shift-Home",
        exec: function(editor) {
          editor.getSelection().selectLineStart();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "selectlineend",
        description: "Select line end",
        bindKey: "Shift-End",
        exec: function(editor) {
          editor.getSelection().selectLineEnd();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "togglerecording",
        description: "Toggle recording",
        bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
        exec: function(editor) {
          editor.commands.toggleRecording(editor);
        },
        readOnly: true
      },
      {
        name: "replaymacro",
        description: "Replay macro",
        bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
        exec: function(editor) {
          editor.commands.replay(editor);
        },
        readOnly: true
      },
      {
        name: "jumptomatching",
        description: "Jump to matching",
        bindKey: bindKey("Ctrl-\\|Ctrl-P", "Command-\\"),
        exec: function(editor) {
          editor.jumpToMatching();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: true
      },
      {
        name: "selecttomatching",
        description: "Select to matching",
        bindKey: bindKey("Ctrl-Shift-\\|Ctrl-Shift-P", "Command-Shift-\\"),
        exec: function(editor) {
          editor.jumpToMatching(true);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: true
      },
      {
        name: "expandToMatching",
        description: "Expand to matching",
        bindKey: bindKey("Ctrl-Shift-M", "Ctrl-Shift-M"),
        exec: function(editor) {
          editor.jumpToMatching(true, true);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "animate",
        readOnly: true
      },
      {
        name: "passKeysToBrowser",
        description: "Pass keys to browser",
        bindKey: bindKey(null, null),
        exec: function() {
        },
        passEvent: true,
        readOnly: true
      },
      {
        name: "copy",
        description: "Copy",
        exec: function(editor) {
        },
        readOnly: true
      },
      {
        name: "cut",
        description: "Cut",
        exec: function(editor) {
          var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();
          var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();
          editor._emit("cut", range);
          if (!range.isEmpty())
            editor.session.remove(range);
          editor.clearSelection();
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
      },
      {
        name: "paste",
        description: "Paste",
        exec: function(editor, args) {
          editor.$handlePaste(args);
        },
        scrollIntoView: "cursor"
      },
      {
        name: "removeline",
        description: "Remove line",
        bindKey: bindKey("Ctrl-D", "Command-D"),
        exec: function(editor) {
          editor.removeLines();
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEachLine"
      },
      {
        name: "duplicateSelection",
        description: "Duplicate selection",
        bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
        exec: function(editor) {
          editor.duplicateSelection();
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
      },
      {
        name: "sortlines",
        description: "Sort lines",
        bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
        exec: function(editor) {
          editor.sortLines();
        },
        scrollIntoView: "selection",
        multiSelectAction: "forEachLine"
      },
      {
        name: "togglecomment",
        description: "Toggle comment",
        bindKey: bindKey("Ctrl-/", "Command-/"),
        exec: function(editor) {
          editor.toggleCommentLines();
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
      },
      {
        name: "toggleBlockComment",
        description: "Toggle block comment",
        bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
        exec: function(editor) {
          editor.toggleBlockComment();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
      },
      {
        name: "modifyNumberUp",
        description: "Modify number up",
        bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
        exec: function(editor) {
          editor.modifyNumber(1);
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
      },
      {
        name: "modifyNumberDown",
        description: "Modify number down",
        bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
        exec: function(editor) {
          editor.modifyNumber(-1);
        },
        scrollIntoView: "cursor",
        multiSelectAction: "forEach"
      },
      {
        name: "replace",
        description: "Replace",
        bindKey: bindKey("Ctrl-H", "Command-Option-F"),
        exec: function(editor) {
          config2.loadModule("ace/ext/searchbox", function(e2) {
            e2.Search(editor, true);
          });
        }
      },
      {
        name: "undo",
        description: "Undo",
        bindKey: bindKey("Ctrl-Z", "Command-Z"),
        exec: function(editor) {
          editor.undo();
        }
      },
      {
        name: "redo",
        description: "Redo",
        bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
        exec: function(editor) {
          editor.redo();
        }
      },
      {
        name: "copylinesup",
        description: "Copy lines up",
        bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
        exec: function(editor) {
          editor.copyLinesUp();
        },
        scrollIntoView: "cursor"
      },
      {
        name: "movelinesup",
        description: "Move lines up",
        bindKey: bindKey("Alt-Up", "Option-Up"),
        exec: function(editor) {
          editor.moveLinesUp();
        },
        scrollIntoView: "cursor"
      },
      {
        name: "copylinesdown",
        description: "Copy lines down",
        bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
        exec: function(editor) {
          editor.copyLinesDown();
        },
        scrollIntoView: "cursor"
      },
      {
        name: "movelinesdown",
        description: "Move lines down",
        bindKey: bindKey("Alt-Down", "Option-Down"),
        exec: function(editor) {
          editor.moveLinesDown();
        },
        scrollIntoView: "cursor"
      },
      {
        name: "del",
        description: "Delete",
        bindKey: bindKey("Delete", "Delete|Ctrl-D|Shift-Delete"),
        exec: function(editor) {
          editor.remove("right");
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "backspace",
        description: "Backspace",
        bindKey: bindKey("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
        exec: function(editor) {
          editor.remove("left");
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "cut_or_delete",
        description: "Cut or delete",
        bindKey: bindKey("Shift-Delete", null),
        exec: function(editor) {
          if (editor.selection.isEmpty()) {
            editor.remove("left");
          } else {
            return false;
          }
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removetolinestart",
        description: "Remove to line start",
        bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
        exec: function(editor) {
          editor.removeToLineStart();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removetolineend",
        description: "Remove to line end",
        bindKey: bindKey("Alt-Delete", "Ctrl-K|Command-Delete"),
        exec: function(editor) {
          editor.removeToLineEnd();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removetolinestarthard",
        description: "Remove to line start hard",
        bindKey: bindKey("Ctrl-Shift-Backspace", null),
        exec: function(editor) {
          var range = editor.selection.getRange();
          range.start.column = 0;
          editor.session.remove(range);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removetolineendhard",
        description: "Remove to line end hard",
        bindKey: bindKey("Ctrl-Shift-Delete", null),
        exec: function(editor) {
          var range = editor.selection.getRange();
          range.end.column = Number.MAX_VALUE;
          editor.session.remove(range);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removewordleft",
        description: "Remove word left",
        bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
        exec: function(editor) {
          editor.removeWordLeft();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "removewordright",
        description: "Remove word right",
        bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
        exec: function(editor) {
          editor.removeWordRight();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "outdent",
        description: "Outdent",
        bindKey: bindKey("Shift-Tab", "Shift-Tab"),
        exec: function(editor) {
          editor.blockOutdent();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
      },
      {
        name: "indent",
        description: "Indent",
        bindKey: bindKey("Tab", "Tab"),
        exec: function(editor) {
          editor.indent();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "selectionPart"
      },
      {
        name: "blockoutdent",
        description: "Block outdent",
        bindKey: bindKey("Ctrl-[", "Ctrl-["),
        exec: function(editor) {
          editor.blockOutdent();
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
      },
      {
        name: "blockindent",
        description: "Block indent",
        bindKey: bindKey("Ctrl-]", "Ctrl-]"),
        exec: function(editor) {
          editor.blockIndent();
        },
        multiSelectAction: "forEachLine",
        scrollIntoView: "selectionPart"
      },
      {
        name: "insertstring",
        description: "Insert string",
        exec: function(editor, str) {
          editor.insert(str);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "inserttext",
        description: "Insert text",
        exec: function(editor, args) {
          editor.insert(lang.stringRepeat(args.text || "", args.times || 1));
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "splitline",
        description: "Split line",
        bindKey: bindKey(null, "Ctrl-O"),
        exec: function(editor) {
          editor.splitLine();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "transposeletters",
        description: "Transpose letters",
        bindKey: bindKey("Alt-Shift-X", "Ctrl-T"),
        exec: function(editor) {
          editor.transposeLetters();
        },
        multiSelectAction: function(editor) {
          editor.transposeSelections(1);
        },
        scrollIntoView: "cursor"
      },
      {
        name: "touppercase",
        description: "To uppercase",
        bindKey: bindKey("Ctrl-U", "Ctrl-U"),
        exec: function(editor) {
          editor.toUpperCase();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "tolowercase",
        description: "To lowercase",
        bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
        exec: function(editor) {
          editor.toLowerCase();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "autoindent",
        description: "Auto Indent",
        bindKey: bindKey(null, null),
        exec: function(editor) {
          editor.autoIndent();
        },
        scrollIntoView: "animate"
      },
      {
        name: "expandtoline",
        description: "Expand to line",
        bindKey: bindKey("Ctrl-Shift-L", "Command-Shift-L"),
        exec: function(editor) {
          var range = editor.selection.getRange();
          range.start.column = range.end.column = 0;
          range.end.row++;
          editor.selection.setRange(range, false);
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor",
        readOnly: true
      },
      {
        name: "openlink",
        bindKey: bindKey("Ctrl+F3", "F3"),
        exec: function(editor) {
          editor.openLink();
        }
      },
      {
        name: "joinlines",
        description: "Join lines",
        bindKey: bindKey(null, null),
        exec: function(editor) {
          var isBackwards = editor.selection.isBackwards();
          var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();
          var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();
          var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;
          var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());
          var selectedCount = selectedText.replace(/\n\s*/, " ").length;
          var insertLine = editor.session.doc.getLine(selectionStart.row);
          for (var i2 = selectionStart.row + 1; i2 <= selectionEnd.row + 1; i2++) {
            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i2)));
            if (curLine.length !== 0) {
              curLine = " " + curLine;
            }
            insertLine += curLine;
          }
          if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {
            insertLine += editor.session.doc.getNewLineCharacter();
          }
          editor.clearSelection();
          editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);
          if (selectedCount > 0) {
            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);
            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);
          } else {
            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;
            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);
          }
        },
        multiSelectAction: "forEach",
        readOnly: true
      },
      {
        name: "invertSelection",
        description: "Invert selection",
        bindKey: bindKey(null, null),
        exec: function(editor) {
          var endRow = editor.session.doc.getLength() - 1;
          var endCol = editor.session.doc.getLine(endRow).length;
          var ranges = editor.selection.rangeList.ranges;
          var newRanges = [];
          if (ranges.length < 1) {
            ranges = [editor.selection.getRange()];
          }
          for (var i2 = 0; i2 < ranges.length; i2++) {
            if (i2 == ranges.length - 1) {
              if (!(ranges[i2].end.row === endRow && ranges[i2].end.column === endCol)) {
                newRanges.push(new Range(ranges[i2].end.row, ranges[i2].end.column, endRow, endCol));
              }
            }
            if (i2 === 0) {
              if (!(ranges[i2].start.row === 0 && ranges[i2].start.column === 0)) {
                newRanges.push(new Range(0, 0, ranges[i2].start.row, ranges[i2].start.column));
              }
            } else {
              newRanges.push(new Range(ranges[i2 - 1].end.row, ranges[i2 - 1].end.column, ranges[i2].start.row, ranges[i2].start.column));
            }
          }
          editor.exitMultiSelectMode();
          editor.clearSelection();
          for (var i2 = 0; i2 < newRanges.length; i2++) {
            editor.selection.addRange(newRanges[i2], false);
          }
        },
        readOnly: true,
        scrollIntoView: "none"
      },
      {
        name: "addLineAfter",
        description: "Add new line after the current line",
        exec: function(editor) {
          editor.selection.clearSelection();
          editor.navigateLineEnd();
          editor.insert("\n");
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "addLineBefore",
        description: "Add new line before the current line",
        exec: function(editor) {
          editor.selection.clearSelection();
          var cursor = editor.getCursorPosition();
          editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);
          editor.insert("\n");
          if (cursor.row === 0)
            editor.navigateUp();
        },
        multiSelectAction: "forEach",
        scrollIntoView: "cursor"
      },
      {
        name: "openCommandPallete",
        exec: function(editor) {
          console.warn("This is an obsolete command. Please use `openCommandPalette` instead.");
          editor.prompt({ $type: "commands" });
        },
        readOnly: true
      },
      {
        name: "openCommandPalette",
        description: "Open command palette",
        bindKey: bindKey("F1", "F1"),
        exec: function(editor) {
          editor.prompt({ $type: "commands" });
        },
        readOnly: true
      },
      {
        name: "modeSelect",
        description: "Change language mode...",
        bindKey: bindKey(null, null),
        exec: function(editor) {
          editor.prompt({ $type: "modes" });
        },
        readOnly: true
      }
    ];
    for (var i = 1; i < 9; i++) {
      exports2.commands.push({
        name: "foldToLevel" + i,
        description: "Fold To Level " + i,
        level: i,
        exec: function(editor) {
          editor.session.foldToLevel(this.level);
        },
        scrollIntoView: "center",
        readOnly: true
      });
    }
  });
  ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
    var dom = require2("./lib/dom");
    var LineWidgets = (
      /** @class */
      function() {
        function LineWidgets2(session) {
          this.session = session;
          this.session.widgetManager = this;
          this.session.getRowLength = this.getRowLength;
          this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;
          this.updateOnChange = this.updateOnChange.bind(this);
          this.renderWidgets = this.renderWidgets.bind(this);
          this.measureWidgets = this.measureWidgets.bind(this);
          this.session._changedWidgets = [];
          this.$onChangeEditor = this.$onChangeEditor.bind(this);
          this.session.on("change", this.updateOnChange);
          this.session.on("changeFold", this.updateOnFold);
          this.session.on("changeEditor", this.$onChangeEditor);
        }
        LineWidgets2.prototype.getRowLength = function(row) {
          var h2;
          if (this.lineWidgets)
            h2 = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
          else
            h2 = 0;
          if (!this["$useWrapMode"] || !this["$wrapData"][row]) {
            return 1 + h2;
          } else {
            return this["$wrapData"][row].length + 1 + h2;
          }
        };
        LineWidgets2.prototype.$getWidgetScreenLength = function() {
          var screenRows = 0;
          this.lineWidgets.forEach(function(w) {
            if (w && w.rowCount && !w.hidden)
              screenRows += w.rowCount;
          });
          return screenRows;
        };
        LineWidgets2.prototype.$onChangeEditor = function(e2) {
          this.attach(e2.editor);
        };
        LineWidgets2.prototype.attach = function(editor) {
          if (editor && editor.widgetManager && editor.widgetManager != this)
            editor.widgetManager.detach();
          if (this.editor == editor)
            return;
          this.detach();
          this.editor = editor;
          if (editor) {
            editor.widgetManager = this;
            editor.renderer.on("beforeRender", this.measureWidgets);
            editor.renderer.on("afterRender", this.renderWidgets);
          }
        };
        LineWidgets2.prototype.detach = function(e2) {
          var editor = this.editor;
          if (!editor)
            return;
          this.editor = null;
          editor.widgetManager = null;
          editor.renderer.off("beforeRender", this.measureWidgets);
          editor.renderer.off("afterRender", this.renderWidgets);
          var lineWidgets = this.session.lineWidgets;
          lineWidgets && lineWidgets.forEach(function(w) {
            if (w && w.el && w.el.parentNode) {
              w._inDocument = false;
              w.el.parentNode.removeChild(w.el);
            }
          });
        };
        LineWidgets2.prototype.updateOnFold = function(e2, session) {
          var lineWidgets = session.lineWidgets;
          if (!lineWidgets || !e2.action)
            return;
          var fold = e2.data;
          var start = fold.start.row;
          var end = fold.end.row;
          var hide = e2.action == "add";
          for (var i = start + 1; i < end; i++) {
            if (lineWidgets[i])
              lineWidgets[i].hidden = hide;
          }
          if (lineWidgets[end]) {
            if (hide) {
              if (!lineWidgets[start])
                lineWidgets[start] = lineWidgets[end];
              else
                lineWidgets[end].hidden = hide;
            } else {
              if (lineWidgets[start] == lineWidgets[end])
                lineWidgets[start] = void 0;
              lineWidgets[end].hidden = hide;
            }
          }
        };
        LineWidgets2.prototype.updateOnChange = function(delta) {
          var lineWidgets = this.session.lineWidgets;
          if (!lineWidgets)
            return;
          var startRow = delta.start.row;
          var len = delta.end.row - startRow;
          if (len === 0)
            ;
          else if (delta.action == "remove") {
            var removed = lineWidgets.splice(startRow + 1, len);
            if (!lineWidgets[startRow] && removed[removed.length - 1]) {
              lineWidgets[startRow] = removed.pop();
            }
            removed.forEach(function(w) {
              w && this.removeLineWidget(w);
            }, this);
            this.$updateRows();
          } else {
            var args = new Array(len);
            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {
              if (delta.start.column > lineWidgets[startRow].column)
                startRow++;
            }
            args.unshift(startRow, 0);
            lineWidgets.splice.apply(lineWidgets, args);
            this.$updateRows();
          }
        };
        LineWidgets2.prototype.$updateRows = function() {
          var lineWidgets = this.session.lineWidgets;
          if (!lineWidgets)
            return;
          var noWidgets = true;
          lineWidgets.forEach(function(w, i) {
            if (w) {
              noWidgets = false;
              w.row = i;
              while (w.$oldWidget) {
                w.$oldWidget.row = i;
                w = w.$oldWidget;
              }
            }
          });
          if (noWidgets)
            this.session.lineWidgets = null;
        };
        LineWidgets2.prototype.$registerLineWidget = function(w) {
          if (!this.session.lineWidgets)
            this.session.lineWidgets = new Array(this.session.getLength());
          var old = this.session.lineWidgets[w.row];
          if (old) {
            w.$oldWidget = old;
            if (old.el && old.el.parentNode) {
              old.el.parentNode.removeChild(old.el);
              old._inDocument = false;
            }
          }
          this.session.lineWidgets[w.row] = w;
          return w;
        };
        LineWidgets2.prototype.addLineWidget = function(w) {
          this.$registerLineWidget(w);
          w.session = this.session;
          if (!this.editor)
            return w;
          var renderer = this.editor.renderer;
          if (w.html && !w.el) {
            w.el = dom.createElement("div");
            w.el.innerHTML = w.html;
          }
          if (w.text && !w.el) {
            w.el = dom.createElement("div");
            w.el.textContent = w.text;
          }
          if (w.el) {
            dom.addCssClass(w.el, "ace_lineWidgetContainer");
            if (w.className) {
              dom.addCssClass(w.el, w.className);
            }
            w.el.style.position = "absolute";
            w.el.style.zIndex = "5";
            renderer.container.appendChild(w.el);
            w._inDocument = true;
            if (!w.coverGutter) {
              w.el.style.zIndex = "3";
            }
            if (w.pixelHeight == null) {
              w.pixelHeight = w.el.offsetHeight;
            }
          }
          if (w.rowCount == null) {
            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;
          }
          var fold = this.session.getFoldAt(w.row, 0);
          w.$fold = fold;
          if (fold) {
            var lineWidgets = this.session.lineWidgets;
            if (w.row == fold.end.row && !lineWidgets[fold.start.row])
              lineWidgets[fold.start.row] = w;
            else
              w.hidden = true;
          }
          this.session._emit("changeFold", { data: { start: { row: w.row } } });
          this.$updateRows();
          this.renderWidgets(null, renderer);
          this.onWidgetChanged(w);
          return w;
        };
        LineWidgets2.prototype.removeLineWidget = function(w) {
          w._inDocument = false;
          w.session = null;
          if (w.el && w.el.parentNode)
            w.el.parentNode.removeChild(w.el);
          if (w.editor && w.editor.destroy)
            try {
              w.editor.destroy();
            } catch (e2) {
            }
          if (this.session.lineWidgets) {
            var w1 = this.session.lineWidgets[w.row];
            if (w1 == w) {
              this.session.lineWidgets[w.row] = w.$oldWidget;
              if (w.$oldWidget)
                this.onWidgetChanged(w.$oldWidget);
            } else {
              while (w1) {
                if (w1.$oldWidget == w) {
                  w1.$oldWidget = w.$oldWidget;
                  break;
                }
                w1 = w1.$oldWidget;
              }
            }
          }
          this.session._emit("changeFold", { data: { start: { row: w.row } } });
          this.$updateRows();
        };
        LineWidgets2.prototype.getWidgetsAtRow = function(row) {
          var lineWidgets = this.session.lineWidgets;
          var w = lineWidgets && lineWidgets[row];
          var list = [];
          while (w) {
            list.push(w);
            w = w.$oldWidget;
          }
          return list;
        };
        LineWidgets2.prototype.onWidgetChanged = function(w) {
          this.session._changedWidgets.push(w);
          this.editor && this.editor.renderer.updateFull();
        };
        LineWidgets2.prototype.measureWidgets = function(e2, renderer) {
          var changedWidgets = this.session._changedWidgets;
          var config2 = renderer.layerConfig;
          if (!changedWidgets || !changedWidgets.length)
            return;
          var min = Infinity;
          for (var i = 0; i < changedWidgets.length; i++) {
            var w = changedWidgets[i];
            if (!w || !w.el)
              continue;
            if (w.session != this.session)
              continue;
            if (!w._inDocument) {
              if (this.session.lineWidgets[w.row] != w)
                continue;
              w._inDocument = true;
              renderer.container.appendChild(w.el);
            }
            w.h = w.el.offsetHeight;
            if (!w.fixedWidth) {
              w.w = w.el.offsetWidth;
              w.screenWidth = Math.ceil(w.w / config2.characterWidth);
            }
            var rowCount = w.h / config2.lineHeight;
            if (w.coverLine) {
              rowCount -= this.session.getRowLineCount(w.row);
              if (rowCount < 0)
                rowCount = 0;
            }
            if (w.rowCount != rowCount) {
              w.rowCount = rowCount;
              if (w.row < min)
                min = w.row;
            }
          }
          if (min != Infinity) {
            this.session._emit("changeFold", { data: { start: { row: min } } });
            this.session.lineWidgetWidth = null;
          }
          this.session._changedWidgets = [];
        };
        LineWidgets2.prototype.renderWidgets = function(e2, renderer) {
          var config2 = renderer.layerConfig;
          var lineWidgets = this.session.lineWidgets;
          if (!lineWidgets)
            return;
          var first = Math.min(this.firstRow, config2.firstRow);
          var last = Math.max(this.lastRow, config2.lastRow, lineWidgets.length);
          while (first > 0 && !lineWidgets[first])
            first--;
          this.firstRow = config2.firstRow;
          this.lastRow = config2.lastRow;
          renderer.$cursorLayer.config = config2;
          for (var i = first; i <= last; i++) {
            var w = lineWidgets[i];
            if (!w || !w.el)
              continue;
            if (w.hidden) {
              w.el.style.top = -100 - (w.pixelHeight || 0) + "px";
              continue;
            }
            if (!w._inDocument) {
              w._inDocument = true;
              renderer.container.appendChild(w.el);
            }
            var top2 = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;
            if (!w.coverLine)
              top2 += config2.lineHeight * this.session.getRowLineCount(w.row);
            w.el.style.top = top2 - config2.offset + "px";
            var left = w.coverGutter ? 0 : renderer.gutterWidth;
            if (!w.fixedWidth)
              left -= renderer.scrollLeft;
            w.el.style.left = left + "px";
            if (w.fullWidth && w.screenWidth) {
              w.el.style.minWidth = config2.width + 2 * config2.padding + "px";
            }
            if (w.fixedWidth) {
              w.el.style.right = renderer.scrollBar.getWidth() + "px";
            } else {
              w.el.style.right = "";
            }
          }
        };
        return LineWidgets2;
      }()
    );
    exports2.LineWidgets = LineWidgets;
  });
  ace.define("ace/keyboard/gutter_handler", ["require", "exports", "module", "ace/lib/keys", "ace/mouse/default_gutter_handler"], function(require2, exports2, module2) {
    var keys = require2("../lib/keys");
    var GutterTooltip = require2("../mouse/default_gutter_handler").GutterTooltip;
    var GutterKeyboardHandler = (
      /** @class */
      function() {
        function GutterKeyboardHandler2(editor) {
          this.editor = editor;
          this.gutterLayer = editor.renderer.$gutterLayer;
          this.element = editor.renderer.$gutter;
          this.lines = editor.renderer.$gutterLayer.$lines;
          this.activeRowIndex = null;
          this.activeLane = null;
          this.annotationTooltip = new GutterTooltip(this.editor);
        }
        GutterKeyboardHandler2.prototype.addListener = function() {
          this.element.addEventListener("keydown", this.$onGutterKeyDown.bind(this));
          this.element.addEventListener("focusout", this.$blurGutter.bind(this));
          this.editor.on("mousewheel", this.$blurGutter.bind(this));
        };
        GutterKeyboardHandler2.prototype.removeListener = function() {
          this.element.removeEventListener("keydown", this.$onGutterKeyDown.bind(this));
          this.element.removeEventListener("focusout", this.$blurGutter.bind(this));
          this.editor.off("mousewheel", this.$blurGutter.bind(this));
        };
        GutterKeyboardHandler2.prototype.$onGutterKeyDown = function(e2) {
          if (this.annotationTooltip.isOpen) {
            e2.preventDefault();
            if (e2.keyCode === keys["escape"])
              this.annotationTooltip.hideTooltip();
            return;
          }
          if (e2.target === this.element) {
            if (e2.keyCode != keys["enter"]) {
              return;
            }
            e2.preventDefault();
            var row = this.editor.getCursorPosition().row;
            if (!this.editor.isRowVisible(row))
              this.editor.scrollToLine(row, true, true);
            setTimeout(
              (function() {
                var index2 = this.$rowToRowIndex(this.gutterLayer.$cursorCell.row);
                var nearestFoldIndex = this.$findNearestFoldWidget(index2);
                var nearestAnnotationIndex = this.$findNearestAnnotation(index2);
                if (nearestFoldIndex === null && nearestAnnotationIndex === null)
                  return;
                if (nearestFoldIndex === null && nearestAnnotationIndex !== null) {
                  this.activeRowIndex = nearestAnnotationIndex;
                  this.activeLane = "annotation";
                  this.$focusAnnotation(this.activeRowIndex);
                  return;
                }
                if (nearestFoldIndex !== null && nearestAnnotationIndex === null) {
                  this.activeRowIndex = nearestFoldIndex;
                  this.activeLane = "fold";
                  this.$focusFoldWidget(this.activeRowIndex);
                  return;
                }
                if (Math.abs(nearestAnnotationIndex - index2) < Math.abs(nearestFoldIndex - index2)) {
                  this.activeRowIndex = nearestAnnotationIndex;
                  this.activeLane = "annotation";
                  this.$focusAnnotation(this.activeRowIndex);
                  return;
                } else {
                  this.activeRowIndex = nearestFoldIndex;
                  this.activeLane = "fold";
                  this.$focusFoldWidget(this.activeRowIndex);
                  return;
                }
              }).bind(this),
              10
            );
            return;
          }
          this.$handleGutterKeyboardInteraction(e2);
          setTimeout((function() {
            this.editor._signal("gutterkeydown", new GutterKeyboardEvent(e2, this));
          }).bind(this), 10);
        };
        GutterKeyboardHandler2.prototype.$handleGutterKeyboardInteraction = function(e2) {
          if (e2.keyCode === keys["tab"]) {
            e2.preventDefault();
            return;
          }
          if (e2.keyCode === keys["escape"]) {
            e2.preventDefault();
            this.$blurGutter();
            this.element.focus();
            this.lane = null;
            return;
          }
          if (e2.keyCode === keys["up"]) {
            e2.preventDefault();
            switch (this.activeLane) {
              case "fold":
                this.$moveFoldWidgetUp();
                break;
              case "annotation":
                this.$moveAnnotationUp();
                break;
            }
            return;
          }
          if (e2.keyCode === keys["down"]) {
            e2.preventDefault();
            switch (this.activeLane) {
              case "fold":
                this.$moveFoldWidgetDown();
                break;
              case "annotation":
                this.$moveAnnotationDown();
                break;
            }
            return;
          }
          if (e2.keyCode === keys["left"]) {
            e2.preventDefault();
            this.$switchLane("annotation");
            return;
          }
          if (e2.keyCode === keys["right"]) {
            e2.preventDefault();
            this.$switchLane("fold");
            return;
          }
          if (e2.keyCode === keys["enter"] || e2.keyCode === keys["space"]) {
            e2.preventDefault();
            switch (this.activeLane) {
              case "fold":
                if (this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)] === "start") {
                  var rowFoldingWidget = this.$rowIndexToRow(this.activeRowIndex);
                  this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex), e2);
                  setTimeout(
                    (function() {
                      if (this.$rowIndexToRow(this.activeRowIndex) !== rowFoldingWidget) {
                        this.$blurFoldWidget(this.activeRowIndex);
                        this.activeRowIndex = this.$rowToRowIndex(rowFoldingWidget);
                        this.$focusFoldWidget(this.activeRowIndex);
                      }
                    }).bind(this),
                    10
                  );
                  break;
                } else if (this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)] === "end") {
                  break;
                }
                return;
              case "annotation":
                var gutterElement = this.lines.cells[this.activeRowIndex].element.childNodes[2];
                var rect = gutterElement.getBoundingClientRect();
                var style = this.annotationTooltip.getElement().style;
                style.left = rect.right + "px";
                style.top = rect.bottom + "px";
                this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));
                break;
            }
            return;
          }
        };
        GutterKeyboardHandler2.prototype.$blurGutter = function() {
          if (this.activeRowIndex !== null) {
            switch (this.activeLane) {
              case "fold":
                this.$blurFoldWidget(this.activeRowIndex);
                break;
              case "annotation":
                this.$blurAnnotation(this.activeRowIndex);
                break;
            }
          }
          if (this.annotationTooltip.isOpen)
            this.annotationTooltip.hideTooltip();
          return;
        };
        GutterKeyboardHandler2.prototype.$isFoldWidgetVisible = function(index2) {
          var isRowFullyVisible = this.editor.isRowFullyVisible(this.$rowIndexToRow(index2));
          var isIconVisible = this.$getFoldWidget(index2).style.display !== "none";
          return isRowFullyVisible && isIconVisible;
        };
        GutterKeyboardHandler2.prototype.$isAnnotationVisible = function(index2) {
          var isRowFullyVisible = this.editor.isRowFullyVisible(this.$rowIndexToRow(index2));
          var isIconVisible = this.$getAnnotation(index2).style.display !== "none";
          return isRowFullyVisible && isIconVisible;
        };
        GutterKeyboardHandler2.prototype.$getFoldWidget = function(index2) {
          var cell = this.lines.get(index2);
          var element = cell.element;
          return element.childNodes[1];
        };
        GutterKeyboardHandler2.prototype.$getAnnotation = function(index2) {
          var cell = this.lines.get(index2);
          var element = cell.element;
          return element.childNodes[2];
        };
        GutterKeyboardHandler2.prototype.$findNearestFoldWidget = function(index2) {
          if (this.$isFoldWidgetVisible(index2))
            return index2;
          var i = 0;
          while (index2 - i > 0 || index2 + i < this.lines.getLength() - 1) {
            i++;
            if (index2 - i >= 0 && this.$isFoldWidgetVisible(index2 - i))
              return index2 - i;
            if (index2 + i <= this.lines.getLength() - 1 && this.$isFoldWidgetVisible(index2 + i))
              return index2 + i;
          }
          return null;
        };
        GutterKeyboardHandler2.prototype.$findNearestAnnotation = function(index2) {
          if (this.$isAnnotationVisible(index2))
            return index2;
          var i = 0;
          while (index2 - i > 0 || index2 + i < this.lines.getLength() - 1) {
            i++;
            if (index2 - i >= 0 && this.$isAnnotationVisible(index2 - i))
              return index2 - i;
            if (index2 + i <= this.lines.getLength() - 1 && this.$isAnnotationVisible(index2 + i))
              return index2 + i;
          }
          return null;
        };
        GutterKeyboardHandler2.prototype.$focusFoldWidget = function(index2) {
          if (index2 == null)
            return;
          var foldWidget = this.$getFoldWidget(index2);
          foldWidget.classList.add(this.editor.renderer.keyboardFocusClassName);
          foldWidget.focus();
        };
        GutterKeyboardHandler2.prototype.$focusAnnotation = function(index2) {
          if (index2 == null)
            return;
          var annotation = this.$getAnnotation(index2);
          annotation.classList.add(this.editor.renderer.keyboardFocusClassName);
          annotation.focus();
        };
        GutterKeyboardHandler2.prototype.$blurFoldWidget = function(index2) {
          var foldWidget = this.$getFoldWidget(index2);
          foldWidget.classList.remove(this.editor.renderer.keyboardFocusClassName);
          foldWidget.blur();
        };
        GutterKeyboardHandler2.prototype.$blurAnnotation = function(index2) {
          var annotation = this.$getAnnotation(index2);
          annotation.classList.remove(this.editor.renderer.keyboardFocusClassName);
          annotation.blur();
        };
        GutterKeyboardHandler2.prototype.$moveFoldWidgetUp = function() {
          var index2 = this.activeRowIndex;
          while (index2 > 0) {
            index2--;
            if (this.$isFoldWidgetVisible(index2)) {
              this.$blurFoldWidget(this.activeRowIndex);
              this.activeRowIndex = index2;
              this.$focusFoldWidget(this.activeRowIndex);
              return;
            }
          }
          return;
        };
        GutterKeyboardHandler2.prototype.$moveFoldWidgetDown = function() {
          var index2 = this.activeRowIndex;
          while (index2 < this.lines.getLength() - 1) {
            index2++;
            if (this.$isFoldWidgetVisible(index2)) {
              this.$blurFoldWidget(this.activeRowIndex);
              this.activeRowIndex = index2;
              this.$focusFoldWidget(this.activeRowIndex);
              return;
            }
          }
          return;
        };
        GutterKeyboardHandler2.prototype.$moveAnnotationUp = function() {
          var index2 = this.activeRowIndex;
          while (index2 > 0) {
            index2--;
            if (this.$isAnnotationVisible(index2)) {
              this.$blurAnnotation(this.activeRowIndex);
              this.activeRowIndex = index2;
              this.$focusAnnotation(this.activeRowIndex);
              return;
            }
          }
          return;
        };
        GutterKeyboardHandler2.prototype.$moveAnnotationDown = function() {
          var index2 = this.activeRowIndex;
          while (index2 < this.lines.getLength() - 1) {
            index2++;
            if (this.$isAnnotationVisible(index2)) {
              this.$blurAnnotation(this.activeRowIndex);
              this.activeRowIndex = index2;
              this.$focusAnnotation(this.activeRowIndex);
              return;
            }
          }
          return;
        };
        GutterKeyboardHandler2.prototype.$switchLane = function(desinationLane) {
          switch (desinationLane) {
            case "annotation":
              if (this.activeLane === "annotation") {
                break;
              }
              var annotationIndex = this.$findNearestAnnotation(this.activeRowIndex);
              if (annotationIndex == null) {
                break;
              }
              this.activeLane = "annotation";
              this.$blurFoldWidget(this.activeRowIndex);
              this.activeRowIndex = annotationIndex;
              this.$focusAnnotation(this.activeRowIndex);
              break;
            case "fold":
              if (this.activeLane === "fold") {
                break;
              }
              var foldWidgetIndex = this.$findNearestFoldWidget(this.activeRowIndex);
              if (foldWidgetIndex == null) {
                break;
              }
              this.activeLane = "fold";
              this.$blurAnnotation(this.activeRowIndex);
              this.activeRowIndex = foldWidgetIndex;
              this.$focusFoldWidget(this.activeRowIndex);
              break;
          }
          return;
        };
        GutterKeyboardHandler2.prototype.$rowIndexToRow = function(index2) {
          var cell = this.lines.get(index2);
          if (cell)
            return cell.row;
          return null;
        };
        GutterKeyboardHandler2.prototype.$rowToRowIndex = function(row) {
          for (var i = 0; i < this.lines.getLength(); i++) {
            var cell = this.lines.get(i);
            if (cell.row == row)
              return i;
          }
          return null;
        };
        return GutterKeyboardHandler2;
      }()
    );
    exports2.GutterKeyboardHandler = GutterKeyboardHandler;
    var GutterKeyboardEvent = (
      /** @class */
      function() {
        function GutterKeyboardEvent2(domEvent, gutterKeyboardHandler) {
          this.gutterKeyboardHandler = gutterKeyboardHandler;
          this.domEvent = domEvent;
        }
        GutterKeyboardEvent2.prototype.getKey = function() {
          return keys.keyCodeToString(this.domEvent.keyCode);
        };
        GutterKeyboardEvent2.prototype.getRow = function() {
          return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex);
        };
        GutterKeyboardEvent2.prototype.isInAnnotationLane = function() {
          return this.gutterKeyboardHandler.activeLane === "annotation";
        };
        GutterKeyboardEvent2.prototype.isInFoldLane = function() {
          return this.gutterKeyboardHandler.activeLane === "fold";
        };
        return GutterKeyboardEvent2;
      }()
    );
    exports2.GutterKeyboardEvent = GutterKeyboardEvent;
  });
  ace.define("ace/editor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/line_widgets", "ace/keyboard/gutter_handler", "ace/config", "ace/clipboard", "ace/lib/keys"], function(require2, exports2, module2) {
    var __values = this && this.__values || function(o) {
      var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
      if (m)
        return m.call(o);
      if (o && typeof o.length === "number")
        return {
          next: function() {
            if (o && i >= o.length)
              o = void 0;
            return { value: o && o[i++], done: !o };
          }
        };
      throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    var oop = require2("./lib/oop");
    var dom = require2("./lib/dom");
    var lang = require2("./lib/lang");
    var useragent = require2("./lib/useragent");
    var TextInput = require2("./keyboard/textinput").TextInput;
    var MouseHandler = require2("./mouse/mouse_handler").MouseHandler;
    var FoldHandler = require2("./mouse/fold_handler").FoldHandler;
    var KeyBinding = require2("./keyboard/keybinding").KeyBinding;
    var EditSession = require2("./edit_session").EditSession;
    var Search = require2("./search").Search;
    var Range = require2("./range").Range;
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var CommandManager = require2("./commands/command_manager").CommandManager;
    var defaultCommands = require2("./commands/default_commands").commands;
    var config2 = require2("./config");
    var TokenIterator = require2("./token_iterator").TokenIterator;
    var LineWidgets = require2("./line_widgets").LineWidgets;
    var GutterKeyboardHandler = require2("./keyboard/gutter_handler").GutterKeyboardHandler;
    var nls = require2("./config").nls;
    var clipboard2 = require2("./clipboard");
    var keys = require2("./lib/keys");
    var Editor = (
      /** @class */
      function() {
        function Editor2(renderer, session, options) {
          this.session;
          this.$toDestroy = [];
          var container = renderer.getContainerElement();
          this.container = container;
          this.renderer = renderer;
          this.id = "editor" + ++Editor2.$uid;
          this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
          if (typeof document == "object") {
            this.textInput = new TextInput(renderer.getTextAreaContainer(), this);
            this.renderer.textarea = this.textInput.getElement();
            this.$mouseHandler = new MouseHandler(this);
            new FoldHandler(this);
          }
          this.keyBinding = new KeyBinding(this);
          this.$search = new Search().set({
            wrap: true
          });
          this.$historyTracker = this.$historyTracker.bind(this);
          this.commands.on("exec", this.$historyTracker);
          this.$initOperationListeners();
          this._$emitInputEvent = lang.delayedCall((function() {
            this._signal("input", {});
            if (this.session && !this.session.destroyed)
              this.session.bgTokenizer.scheduleStart();
          }).bind(this));
          this.on("change", function(_, _self) {
            _self._$emitInputEvent.schedule(31);
          });
          this.setSession(session || options && options.session || new EditSession(""));
          config2.resetOptions(this);
          if (options)
            this.setOptions(options);
          config2._signal("editor", this);
        }
        Editor2.prototype.$initOperationListeners = function() {
          this.commands.on("exec", this.startOperation.bind(this), true);
          this.commands.on("afterExec", this.endOperation.bind(this), true);
          this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));
          this.on("change", (function() {
            if (!this.curOp) {
              this.startOperation();
              this.curOp.selectionBefore = this.$lastSel;
            }
            this.curOp.docChanged = true;
          }).bind(this), true);
          this.on("changeSelection", (function() {
            if (!this.curOp) {
              this.startOperation();
              this.curOp.selectionBefore = this.$lastSel;
            }
            this.curOp.selectionChanged = true;
          }).bind(this), true);
        };
        Editor2.prototype.startOperation = function(commandEvent) {
          if (this.curOp) {
            if (!commandEvent || this.curOp.command)
              return;
            this.prevOp = this.curOp;
          }
          if (!commandEvent) {
            this.previousCommand = null;
            commandEvent = {};
          }
          this.$opResetTimer.schedule();
          this.curOp = this.session.curOp = {
            command: commandEvent.command || {},
            args: commandEvent.args,
            scrollTop: this.renderer.scrollTop
          };
          this.curOp.selectionBefore = this.selection.toJSON();
        };
        Editor2.prototype.endOperation = function(e2) {
          if (this.curOp && this.session) {
            if (e2 && e2.returnValue === false || !this.session)
              return this.curOp = null;
            if (e2 == true && this.curOp.command && this.curOp.command.name == "mouse")
              return;
            this._signal("beforeEndOperation");
            if (!this.curOp)
              return;
            var command = this.curOp.command;
            var scrollIntoView = command && command.scrollIntoView;
            if (scrollIntoView) {
              switch (scrollIntoView) {
                case "center-animate":
                  scrollIntoView = "animate";
                case "center":
                  this.renderer.scrollCursorIntoView(null, 0.5);
                  break;
                case "animate":
                case "cursor":
                  this.renderer.scrollCursorIntoView();
                  break;
                case "selectionPart":
                  var range = this.selection.getRange();
                  var config3 = this.renderer.layerConfig;
                  if (range.start.row >= config3.lastRow || range.end.row <= config3.firstRow) {
                    this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                  }
                  break;
              }
              if (scrollIntoView == "animate")
                this.renderer.animateScrolling(this.curOp.scrollTop);
            }
            var sel = this.selection.toJSON();
            this.curOp.selectionAfter = sel;
            this.$lastSel = this.selection.toJSON();
            this.session.getUndoManager().addSelection(sel);
            this.prevOp = this.curOp;
            this.curOp = null;
          }
        };
        Editor2.prototype.$historyTracker = function(e2) {
          if (!this.$mergeUndoDeltas)
            return;
          var prev = this.prevOp;
          var mergeableCommands = this.$mergeableCommands;
          var shouldMerge = prev.command && e2.command.name == prev.command.name;
          if (e2.command.name == "insertstring") {
            var text = e2.args;
            if (this.mergeNextCommand === void 0)
              this.mergeNextCommand = true;
            shouldMerge = shouldMerge && this.mergeNextCommand && (!/\s/.test(text) || /\s/.test(prev.args));
            this.mergeNextCommand = true;
          } else {
            shouldMerge = shouldMerge && mergeableCommands.indexOf(e2.command.name) !== -1;
          }
          if (this.$mergeUndoDeltas != "always" && Date.now() - this.sequenceStartTime > 2e3) {
            shouldMerge = false;
          }
          if (shouldMerge)
            this.session.mergeUndoDeltas = true;
          else if (mergeableCommands.indexOf(e2.command.name) !== -1)
            this.sequenceStartTime = Date.now();
        };
        Editor2.prototype.setKeyboardHandler = function(keyboardHandler, cb) {
          if (keyboardHandler && typeof keyboardHandler === "string" && keyboardHandler != "ace") {
            this.$keybindingId = keyboardHandler;
            var _self = this;
            config2.loadModule(["keybinding", keyboardHandler], function(module3) {
              if (_self.$keybindingId == keyboardHandler)
                _self.keyBinding.setKeyboardHandler(module3 && module3.handler);
              cb && cb();
            });
          } else {
            this.$keybindingId = null;
            this.keyBinding.setKeyboardHandler(keyboardHandler);
            cb && cb();
          }
        };
        Editor2.prototype.getKeyboardHandler = function() {
          return this.keyBinding.getKeyboardHandler();
        };
        Editor2.prototype.setSession = function(session) {
          if (this.session == session)
            return;
          if (this.curOp)
            this.endOperation();
          this.curOp = {};
          var oldSession = this.session;
          if (oldSession) {
            this.session.off("change", this.$onDocumentChange);
            this.session.off("changeMode", this.$onChangeMode);
            this.session.off("tokenizerUpdate", this.$onTokenizerUpdate);
            this.session.off("changeTabSize", this.$onChangeTabSize);
            this.session.off("changeWrapLimit", this.$onChangeWrapLimit);
            this.session.off("changeWrapMode", this.$onChangeWrapMode);
            this.session.off("changeFold", this.$onChangeFold);
            this.session.off("changeFrontMarker", this.$onChangeFrontMarker);
            this.session.off("changeBackMarker", this.$onChangeBackMarker);
            this.session.off("changeBreakpoint", this.$onChangeBreakpoint);
            this.session.off("changeAnnotation", this.$onChangeAnnotation);
            this.session.off("changeOverwrite", this.$onCursorChange);
            this.session.off("changeScrollTop", this.$onScrollTopChange);
            this.session.off("changeScrollLeft", this.$onScrollLeftChange);
            var selection = this.session.getSelection();
            selection.off("changeCursor", this.$onCursorChange);
            selection.off("changeSelection", this.$onSelectionChange);
          }
          this.session = session;
          if (session) {
            this.$onDocumentChange = this.onDocumentChange.bind(this);
            session.on("change", this.$onDocumentChange);
            this.renderer.setSession(session);
            this.$onChangeMode = this.onChangeMode.bind(this);
            session.on("changeMode", this.$onChangeMode);
            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
            session.on("tokenizerUpdate", this.$onTokenizerUpdate);
            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
            session.on("changeTabSize", this.$onChangeTabSize);
            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
            session.on("changeWrapLimit", this.$onChangeWrapLimit);
            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
            session.on("changeWrapMode", this.$onChangeWrapMode);
            this.$onChangeFold = this.onChangeFold.bind(this);
            session.on("changeFold", this.$onChangeFold);
            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
            this.session.on("changeFrontMarker", this.$onChangeFrontMarker);
            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
            this.session.on("changeBackMarker", this.$onChangeBackMarker);
            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
            this.session.on("changeBreakpoint", this.$onChangeBreakpoint);
            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
            this.session.on("changeAnnotation", this.$onChangeAnnotation);
            this.$onCursorChange = this.onCursorChange.bind(this);
            this.session.on("changeOverwrite", this.$onCursorChange);
            this.$onScrollTopChange = this.onScrollTopChange.bind(this);
            this.session.on("changeScrollTop", this.$onScrollTopChange);
            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
            this.session.on("changeScrollLeft", this.$onScrollLeftChange);
            this.selection = session.getSelection();
            this.selection.on("changeCursor", this.$onCursorChange);
            this.$onSelectionChange = this.onSelectionChange.bind(this);
            this.selection.on("changeSelection", this.$onSelectionChange);
            this.onChangeMode();
            this.onCursorChange();
            this.onScrollTopChange();
            this.onScrollLeftChange();
            this.onSelectionChange();
            this.onChangeFrontMarker();
            this.onChangeBackMarker();
            this.onChangeBreakpoint();
            this.onChangeAnnotation();
            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
            this.renderer.updateFull();
          } else {
            this.selection = null;
            this.renderer.setSession(session);
          }
          this._signal("changeSession", {
            session,
            oldSession
          });
          this.curOp = null;
          oldSession && oldSession._signal("changeEditor", { oldEditor: this });
          session && session._signal("changeEditor", { editor: this });
          if (session && !session.destroyed)
            session.bgTokenizer.scheduleStart();
        };
        Editor2.prototype.getSession = function() {
          return this.session;
        };
        Editor2.prototype.setValue = function(val, cursorPos) {
          this.session.doc.setValue(val);
          if (!cursorPos)
            this.selectAll();
          else if (cursorPos == 1)
            this.navigateFileEnd();
          else if (cursorPos == -1)
            this.navigateFileStart();
          return val;
        };
        Editor2.prototype.getValue = function() {
          return this.session.getValue();
        };
        Editor2.prototype.getSelection = function() {
          return this.selection;
        };
        Editor2.prototype.resize = function(force) {
          this.renderer.onResize(force);
        };
        Editor2.prototype.setTheme = function(theme, cb) {
          this.renderer.setTheme(theme, cb);
        };
        Editor2.prototype.getTheme = function() {
          return this.renderer.getTheme();
        };
        Editor2.prototype.setStyle = function(style) {
          this.renderer.setStyle(style);
        };
        Editor2.prototype.unsetStyle = function(style) {
          this.renderer.unsetStyle(style);
        };
        Editor2.prototype.getFontSize = function() {
          return this.getOption("fontSize") || dom.computedStyle(this.container).fontSize;
        };
        Editor2.prototype.setFontSize = function(size) {
          this.setOption("fontSize", size);
        };
        Editor2.prototype.$highlightBrackets = function() {
          if (this.$highlightPending) {
            return;
          }
          var self2 = this;
          this.$highlightPending = true;
          setTimeout(function() {
            self2.$highlightPending = false;
            var session = self2.session;
            if (!session || session.destroyed)
              return;
            if (session.$bracketHighlight) {
              session.$bracketHighlight.markerIds.forEach(function(id) {
                session.removeMarker(id);
              });
              session.$bracketHighlight = null;
            }
            var pos = self2.getCursorPosition();
            var handler = self2.getKeyboardHandler();
            var isBackwards = handler && handler.$getDirectionForHighlight && handler.$getDirectionForHighlight(self2);
            var ranges = session.getMatchingBracketRanges(pos, isBackwards);
            if (!ranges) {
              var iterator = new TokenIterator(session, pos.row, pos.column);
              var token = iterator.getCurrentToken();
              if (token && /\b(?:tag-open|tag-name)/.test(token.type)) {
                var tagNamesRanges = session.getMatchingTags(pos);
                if (tagNamesRanges)
                  ranges = [tagNamesRanges.openTagName, tagNamesRanges.closeTagName];
              }
            }
            if (!ranges && session.$mode.getMatching)
              ranges = session.$mode.getMatching(self2.session);
            if (!ranges) {
              if (self2.getHighlightIndentGuides())
                self2.renderer.$textLayer.$highlightIndentGuide();
              return;
            }
            var markerType = "ace_bracket";
            if (!Array.isArray(ranges)) {
              ranges = [ranges];
            } else if (ranges.length == 1) {
              markerType = "ace_error_bracket";
            }
            if (ranges.length == 2) {
              if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)
                ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];
              else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)
                ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];
            }
            session.$bracketHighlight = {
              ranges,
              markerIds: ranges.map(function(range) {
                return session.addMarker(range, markerType, "text");
              })
            };
            if (self2.getHighlightIndentGuides())
              self2.renderer.$textLayer.$highlightIndentGuide();
          }, 50);
        };
        Editor2.prototype.focus = function() {
          this.textInput.focus();
        };
        Editor2.prototype.isFocused = function() {
          return this.textInput.isFocused();
        };
        Editor2.prototype.blur = function() {
          this.textInput.blur();
        };
        Editor2.prototype.onFocus = function(e2) {
          if (this.$isFocused)
            return;
          this.$isFocused = true;
          this.renderer.showCursor();
          this.renderer.visualizeFocus();
          this._emit("focus", e2);
        };
        Editor2.prototype.onBlur = function(e2) {
          if (!this.$isFocused)
            return;
          this.$isFocused = false;
          this.renderer.hideCursor();
          this.renderer.visualizeBlur();
          this._emit("blur", e2);
        };
        Editor2.prototype.$cursorChange = function() {
          this.renderer.updateCursor();
          this.$highlightBrackets();
          this.$updateHighlightActiveLine();
        };
        Editor2.prototype.onDocumentChange = function(delta) {
          var wrap = this.session.$useWrapMode;
          var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;
          this.renderer.updateLines(delta.start.row, lastRow, wrap);
          this._signal("change", delta);
          this.$cursorChange();
        };
        Editor2.prototype.onTokenizerUpdate = function(e2) {
          var rows = e2.data;
          this.renderer.updateLines(rows.first, rows.last);
        };
        Editor2.prototype.onScrollTopChange = function() {
          this.renderer.scrollToY(this.session.getScrollTop());
        };
        Editor2.prototype.onScrollLeftChange = function() {
          this.renderer.scrollToX(this.session.getScrollLeft());
        };
        Editor2.prototype.onCursorChange = function() {
          this.$cursorChange();
          this._signal("changeSelection");
        };
        Editor2.prototype.$updateHighlightActiveLine = function() {
          var session = this.getSession();
          var highlight;
          if (this.$highlightActiveLine) {
            if (this.$selectionStyle != "line" || !this.selection.isMultiLine())
              highlight = this.getCursorPosition();
            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())
              highlight = false;
            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))
              highlight = false;
          }
          if (session.$highlightLineMarker && !highlight) {
            session.removeMarker(session.$highlightLineMarker.id);
            session.$highlightLineMarker = null;
          } else if (!session.$highlightLineMarker && highlight) {
            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
            range.id = session.addMarker(range, "ace_active-line", "screenLine");
            session.$highlightLineMarker = range;
          } else if (highlight) {
            session.$highlightLineMarker.start.row = highlight.row;
            session.$highlightLineMarker.end.row = highlight.row;
            session.$highlightLineMarker.start.column = highlight.column;
            session._signal("changeBackMarker");
          }
        };
        Editor2.prototype.onSelectionChange = function(e2) {
          var session = this.session;
          if (session.$selectionMarker) {
            session.removeMarker(session.$selectionMarker);
          }
          session.$selectionMarker = null;
          if (!this.selection.isEmpty()) {
            var range = this.selection.getRange();
            var style = this.getSelectionStyle();
            session.$selectionMarker = session.addMarker(range, "ace_selection", style);
          } else {
            this.$updateHighlightActiveLine();
          }
          var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
          this.session.highlight(re);
          this._signal("changeSelection");
        };
        Editor2.prototype.$getSelectionHighLightRegexp = function() {
          var session = this.session;
          var selection = this.getSelectionRange();
          if (selection.isEmpty() || selection.isMultiLine())
            return;
          var startColumn = selection.start.column;
          var endColumn = selection.end.column;
          var line = session.getLine(selection.start.row);
          var needle = line.substring(startColumn, endColumn);
          if (needle.length > 5e3 || !/[\w\d]/.test(needle))
            return;
          var re = this.$search.$assembleRegExp({
            wholeWord: true,
            caseSensitive: true,
            needle
          });
          var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);
          if (!re.test(wordWithBoundary))
            return;
          return re;
        };
        Editor2.prototype.onChangeFrontMarker = function() {
          this.renderer.updateFrontMarkers();
        };
        Editor2.prototype.onChangeBackMarker = function() {
          this.renderer.updateBackMarkers();
        };
        Editor2.prototype.onChangeBreakpoint = function() {
          this.renderer.updateBreakpoints();
        };
        Editor2.prototype.onChangeAnnotation = function() {
          this.renderer.setAnnotations(this.session.getAnnotations());
        };
        Editor2.prototype.onChangeMode = function(e2) {
          this.renderer.updateText();
          this._emit("changeMode", e2);
        };
        Editor2.prototype.onChangeWrapLimit = function() {
          this.renderer.updateFull();
        };
        Editor2.prototype.onChangeWrapMode = function() {
          this.renderer.onResize(true);
        };
        Editor2.prototype.onChangeFold = function() {
          this.$updateHighlightActiveLine();
          this.renderer.updateFull();
        };
        Editor2.prototype.getSelectedText = function() {
          return this.session.getTextRange(this.getSelectionRange());
        };
        Editor2.prototype.getCopyText = function() {
          var text = this.getSelectedText();
          var nl = this.session.doc.getNewLineCharacter();
          var copyLine = false;
          if (!text && this.$copyWithEmptySelection) {
            copyLine = true;
            var ranges = this.selection.getAllRanges();
            for (var i = 0; i < ranges.length; i++) {
              var range = ranges[i];
              if (i && ranges[i - 1].start.row == range.start.row)
                continue;
              text += this.session.getLine(range.start.row) + nl;
            }
          }
          var e2 = { text };
          this._signal("copy", e2);
          clipboard2.lineMode = copyLine ? e2.text : false;
          return e2.text;
        };
        Editor2.prototype.onCopy = function() {
          this.commands.exec("copy", this);
        };
        Editor2.prototype.onCut = function() {
          this.commands.exec("cut", this);
        };
        Editor2.prototype.onPaste = function(text, event2) {
          var e2 = { text, event: event2 };
          this.commands.exec("paste", this, e2);
        };
        Editor2.prototype.$handlePaste = function(e2) {
          if (typeof e2 == "string")
            e2 = { text: e2 };
          this._signal("paste", e2);
          var text = e2.text;
          var lineMode = text === clipboard2.lineMode;
          var session = this.session;
          if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {
            if (lineMode)
              session.insert({ row: this.selection.lead.row, column: 0 }, text);
            else
              this.insert(text);
          } else if (lineMode) {
            this.selection.rangeList.ranges.forEach(function(range2) {
              session.insert({ row: range2.start.row, column: 0 }, text);
            });
          } else {
            var lines = text.split(/\r\n|\r|\n/);
            var ranges = this.selection.rangeList.ranges;
            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);
            if (lines.length != ranges.length || isFullLine)
              return this.commands.exec("insertstring", this, text);
            for (var i = ranges.length; i--; ) {
              var range = ranges[i];
              if (!range.isEmpty())
                session.remove(range);
              session.insert(range.start, lines[i]);
            }
          }
        };
        Editor2.prototype.execCommand = function(command, args) {
          return this.commands.exec(command, this, args);
        };
        Editor2.prototype.insert = function(text, pasted) {
          var session = this.session;
          var mode = session.getMode();
          var cursor = this.getCursorPosition();
          if (this.getBehavioursEnabled() && !pasted) {
            var transform2 = mode.transformAction(session.getState(cursor.row), "insertion", this, session, text);
            if (transform2) {
              if (text !== transform2.text) {
                if (!this.inVirtualSelectionMode) {
                  this.session.mergeUndoDeltas = false;
                  this.mergeNextCommand = false;
                }
              }
              text = transform2.text;
            }
          }
          if (text == "	")
            text = this.session.getTabString();
          if (!this.selection.isEmpty()) {
            var range = this.getSelectionRange();
            cursor = this.session.remove(range);
            this.clearSelection();
          } else if (this.session.getOverwrite() && text.indexOf("\n") == -1) {
            var range = Range.fromPoints(cursor, cursor);
            range.end.column += text.length;
            this.session.remove(range);
          }
          if (text == "\n" || text == "\r\n") {
            var line = session.getLine(cursor.row);
            if (cursor.column > line.search(/\S|$/)) {
              var d = line.substr(cursor.column).search(/\S|$/);
              session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);
            }
          }
          this.clearSelection();
          var start = cursor.column;
          var lineState = session.getState(cursor.row);
          var line = session.getLine(cursor.row);
          var shouldOutdent = mode.checkOutdent(lineState, line, text);
          session.insert(cursor, text);
          if (transform2 && transform2.selection) {
            if (transform2.selection.length == 2) {
              this.selection.setSelectionRange(new Range(cursor.row, start + transform2.selection[0], cursor.row, start + transform2.selection[1]));
            } else {
              this.selection.setSelectionRange(new Range(cursor.row + transform2.selection[0], transform2.selection[1], cursor.row + transform2.selection[2], transform2.selection[3]));
            }
          }
          if (this.$enableAutoIndent) {
            if (session.getDocument().isNewLine(text)) {
              var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());
              session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);
            }
            if (shouldOutdent)
              mode.autoOutdent(lineState, session, cursor.row);
          }
        };
        Editor2.prototype.autoIndent = function() {
          var session = this.session;
          var mode = session.getMode();
          var ranges = this.selection.isEmpty() ? [new Range(0, 0, session.doc.getLength() - 1, 0)] : this.selection.getAllRanges();
          var prevLineState = "";
          var prevLine = "";
          var lineIndent = "";
          var tab2 = session.getTabString();
          for (var i = 0; i < ranges.length; i++) {
            var startRow = ranges[i].start.row;
            var endRow = ranges[i].end.row;
            for (var row = startRow; row <= endRow; row++) {
              if (row > 0) {
                prevLineState = session.getState(row - 1);
                prevLine = session.getLine(row - 1);
                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab2);
              }
              var line = session.getLine(row);
              var currIndent = mode.$getIndent(line);
              if (lineIndent !== currIndent) {
                if (currIndent.length > 0) {
                  var range = new Range(row, 0, row, currIndent.length);
                  session.remove(range);
                }
                if (lineIndent.length > 0) {
                  session.insert({ row, column: 0 }, lineIndent);
                }
              }
              mode.autoOutdent(prevLineState, session, row);
            }
          }
        };
        Editor2.prototype.onTextInput = function(text, composition) {
          if (!composition)
            return this.keyBinding.onTextInput(text);
          this.startOperation({ command: { name: "insertstring" } });
          var applyComposition = this.applyComposition.bind(this, text, composition);
          if (this.selection.rangeCount)
            this.forEachSelection(applyComposition);
          else
            applyComposition();
          this.endOperation();
        };
        Editor2.prototype.applyComposition = function(text, composition) {
          if (composition.extendLeft || composition.extendRight) {
            var r = this.selection.getRange();
            r.start.column -= composition.extendLeft;
            r.end.column += composition.extendRight;
            if (r.start.column < 0) {
              r.start.row--;
              r.start.column += this.session.getLine(r.start.row).length + 1;
            }
            this.selection.setRange(r);
            if (!text && !r.isEmpty())
              this.remove();
          }
          if (text || !this.selection.isEmpty())
            this.insert(text, true);
          if (composition.restoreStart || composition.restoreEnd) {
            var r = this.selection.getRange();
            r.start.column -= composition.restoreStart;
            r.end.column -= composition.restoreEnd;
            this.selection.setRange(r);
          }
        };
        Editor2.prototype.onCommandKey = function(e2, hashId, keyCode) {
          return this.keyBinding.onCommandKey(e2, hashId, keyCode);
        };
        Editor2.prototype.setOverwrite = function(overwrite) {
          this.session.setOverwrite(overwrite);
        };
        Editor2.prototype.getOverwrite = function() {
          return this.session.getOverwrite();
        };
        Editor2.prototype.toggleOverwrite = function() {
          this.session.toggleOverwrite();
        };
        Editor2.prototype.setScrollSpeed = function(speed) {
          this.setOption("scrollSpeed", speed);
        };
        Editor2.prototype.getScrollSpeed = function() {
          return this.getOption("scrollSpeed");
        };
        Editor2.prototype.setDragDelay = function(dragDelay) {
          this.setOption("dragDelay", dragDelay);
        };
        Editor2.prototype.getDragDelay = function() {
          return this.getOption("dragDelay");
        };
        Editor2.prototype.setSelectionStyle = function(val) {
          this.setOption("selectionStyle", val);
        };
        Editor2.prototype.getSelectionStyle = function() {
          return this.getOption("selectionStyle");
        };
        Editor2.prototype.setHighlightActiveLine = function(shouldHighlight) {
          this.setOption("highlightActiveLine", shouldHighlight);
        };
        Editor2.prototype.getHighlightActiveLine = function() {
          return this.getOption("highlightActiveLine");
        };
        Editor2.prototype.setHighlightGutterLine = function(shouldHighlight) {
          this.setOption("highlightGutterLine", shouldHighlight);
        };
        Editor2.prototype.getHighlightGutterLine = function() {
          return this.getOption("highlightGutterLine");
        };
        Editor2.prototype.setHighlightSelectedWord = function(shouldHighlight) {
          this.setOption("highlightSelectedWord", shouldHighlight);
        };
        Editor2.prototype.getHighlightSelectedWord = function() {
          return this.$highlightSelectedWord;
        };
        Editor2.prototype.setAnimatedScroll = function(shouldAnimate) {
          this.renderer.setAnimatedScroll(shouldAnimate);
        };
        Editor2.prototype.getAnimatedScroll = function() {
          return this.renderer.getAnimatedScroll();
        };
        Editor2.prototype.setShowInvisibles = function(showInvisibles) {
          this.renderer.setShowInvisibles(showInvisibles);
        };
        Editor2.prototype.getShowInvisibles = function() {
          return this.renderer.getShowInvisibles();
        };
        Editor2.prototype.setDisplayIndentGuides = function(display) {
          this.renderer.setDisplayIndentGuides(display);
        };
        Editor2.prototype.getDisplayIndentGuides = function() {
          return this.renderer.getDisplayIndentGuides();
        };
        Editor2.prototype.setHighlightIndentGuides = function(highlight) {
          this.renderer.setHighlightIndentGuides(highlight);
        };
        Editor2.prototype.getHighlightIndentGuides = function() {
          return this.renderer.getHighlightIndentGuides();
        };
        Editor2.prototype.setShowPrintMargin = function(showPrintMargin) {
          this.renderer.setShowPrintMargin(showPrintMargin);
        };
        Editor2.prototype.getShowPrintMargin = function() {
          return this.renderer.getShowPrintMargin();
        };
        Editor2.prototype.setPrintMarginColumn = function(showPrintMargin) {
          this.renderer.setPrintMarginColumn(showPrintMargin);
        };
        Editor2.prototype.getPrintMarginColumn = function() {
          return this.renderer.getPrintMarginColumn();
        };
        Editor2.prototype.setReadOnly = function(readOnly) {
          this.setOption("readOnly", readOnly);
        };
        Editor2.prototype.getReadOnly = function() {
          return this.getOption("readOnly");
        };
        Editor2.prototype.setBehavioursEnabled = function(enabled) {
          this.setOption("behavioursEnabled", enabled);
        };
        Editor2.prototype.getBehavioursEnabled = function() {
          return this.getOption("behavioursEnabled");
        };
        Editor2.prototype.setWrapBehavioursEnabled = function(enabled) {
          this.setOption("wrapBehavioursEnabled", enabled);
        };
        Editor2.prototype.getWrapBehavioursEnabled = function() {
          return this.getOption("wrapBehavioursEnabled");
        };
        Editor2.prototype.setShowFoldWidgets = function(show) {
          this.setOption("showFoldWidgets", show);
        };
        Editor2.prototype.getShowFoldWidgets = function() {
          return this.getOption("showFoldWidgets");
        };
        Editor2.prototype.setFadeFoldWidgets = function(fade) {
          this.setOption("fadeFoldWidgets", fade);
        };
        Editor2.prototype.getFadeFoldWidgets = function() {
          return this.getOption("fadeFoldWidgets");
        };
        Editor2.prototype.remove = function(dir) {
          if (this.selection.isEmpty()) {
            if (dir == "left")
              this.selection.selectLeft();
            else
              this.selection.selectRight();
          }
          var range = this.getSelectionRange();
          if (this.getBehavioursEnabled()) {
            var session = this.session;
            var state = session.getState(range.start.row);
            var new_range = session.getMode().transformAction(state, "deletion", this, session, range);
            if (range.end.column === 0) {
              var text = session.getTextRange(range);
              if (text[text.length - 1] == "\n") {
                var line = session.getLine(range.end.row);
                if (/^\s+$/.test(line)) {
                  range.end.column = line.length;
                }
              }
            }
            if (new_range)
              range = new_range;
          }
          this.session.remove(range);
          this.clearSelection();
        };
        Editor2.prototype.removeWordRight = function() {
          if (this.selection.isEmpty())
            this.selection.selectWordRight();
          this.session.remove(this.getSelectionRange());
          this.clearSelection();
        };
        Editor2.prototype.removeWordLeft = function() {
          if (this.selection.isEmpty())
            this.selection.selectWordLeft();
          this.session.remove(this.getSelectionRange());
          this.clearSelection();
        };
        Editor2.prototype.removeToLineStart = function() {
          if (this.selection.isEmpty())
            this.selection.selectLineStart();
          if (this.selection.isEmpty())
            this.selection.selectLeft();
          this.session.remove(this.getSelectionRange());
          this.clearSelection();
        };
        Editor2.prototype.removeToLineEnd = function() {
          if (this.selection.isEmpty())
            this.selection.selectLineEnd();
          var range = this.getSelectionRange();
          if (range.start.column == range.end.column && range.start.row == range.end.row) {
            range.end.column = 0;
            range.end.row++;
          }
          this.session.remove(range);
          this.clearSelection();
        };
        Editor2.prototype.splitLine = function() {
          if (!this.selection.isEmpty()) {
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          }
          var cursor = this.getCursorPosition();
          this.insert("\n");
          this.moveCursorToPosition(cursor);
        };
        Editor2.prototype.setGhostText = function(text, position) {
          if (!this.session.widgetManager) {
            this.session.widgetManager = new LineWidgets(this.session);
            this.session.widgetManager.attach(this);
          }
          this.renderer.setGhostText(text, position);
        };
        Editor2.prototype.removeGhostText = function() {
          if (!this.session.widgetManager)
            return;
          this.renderer.removeGhostText();
        };
        Editor2.prototype.transposeLetters = function() {
          if (!this.selection.isEmpty()) {
            return;
          }
          var cursor = this.getCursorPosition();
          var column = cursor.column;
          if (column === 0)
            return;
          var line = this.session.getLine(cursor.row);
          var swap, range;
          if (column < line.length) {
            swap = line.charAt(column) + line.charAt(column - 1);
            range = new Range(cursor.row, column - 1, cursor.row, column + 1);
          } else {
            swap = line.charAt(column - 1) + line.charAt(column - 2);
            range = new Range(cursor.row, column - 2, cursor.row, column);
          }
          this.session.replace(range, swap);
          this.session.selection.moveToPosition(range.end);
        };
        Editor2.prototype.toLowerCase = function() {
          var originalRange = this.getSelectionRange();
          if (this.selection.isEmpty()) {
            this.selection.selectWord();
          }
          var range = this.getSelectionRange();
          var text = this.session.getTextRange(range);
          this.session.replace(range, text.toLowerCase());
          this.selection.setSelectionRange(originalRange);
        };
        Editor2.prototype.toUpperCase = function() {
          var originalRange = this.getSelectionRange();
          if (this.selection.isEmpty()) {
            this.selection.selectWord();
          }
          var range = this.getSelectionRange();
          var text = this.session.getTextRange(range);
          this.session.replace(range, text.toUpperCase());
          this.selection.setSelectionRange(originalRange);
        };
        Editor2.prototype.indent = function() {
          var session = this.session;
          var range = this.getSelectionRange();
          if (range.start.row < range.end.row) {
            var rows = this.$getSelectedRows();
            session.indentRows(rows.first, rows.last, "	");
            return;
          } else if (range.start.column < range.end.column) {
            var text = session.getTextRange(range);
            if (!/^\s+$/.test(text)) {
              var rows = this.$getSelectedRows();
              session.indentRows(rows.first, rows.last, "	");
              return;
            }
          }
          var line = session.getLine(range.start.row);
          var position = range.start;
          var size = session.getTabSize();
          var column = session.documentToScreenColumn(position.row, position.column);
          if (this.session.getUseSoftTabs()) {
            var count = size - column % size;
            var indentString = lang.stringRepeat(" ", count);
          } else {
            var count = column % size;
            while (line[range.start.column - 1] == " " && count) {
              range.start.column--;
              count--;
            }
            this.selection.setSelectionRange(range);
            indentString = "	";
          }
          return this.insert(indentString);
        };
        Editor2.prototype.blockIndent = function() {
          var rows = this.$getSelectedRows();
          this.session.indentRows(rows.first, rows.last, "	");
        };
        Editor2.prototype.blockOutdent = function() {
          var selection = this.session.getSelection();
          this.session.outdentRows(selection.getRange());
        };
        Editor2.prototype.sortLines = function() {
          var rows = this.$getSelectedRows();
          var session = this.session;
          var lines = [];
          for (var i = rows.first; i <= rows.last; i++)
            lines.push(session.getLine(i));
          lines.sort(function(a, b) {
            if (a.toLowerCase() < b.toLowerCase())
              return -1;
            if (a.toLowerCase() > b.toLowerCase())
              return 1;
            return 0;
          });
          var deleteRange = new Range(0, 0, 0, 0);
          for (var i = rows.first; i <= rows.last; i++) {
            var line = session.getLine(i);
            deleteRange.start.row = i;
            deleteRange.end.row = i;
            deleteRange.end.column = line.length;
            session.replace(deleteRange, lines[i - rows.first]);
          }
        };
        Editor2.prototype.toggleCommentLines = function() {
          var state = this.session.getState(this.getCursorPosition().row);
          var rows = this.$getSelectedRows();
          this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
        };
        Editor2.prototype.toggleBlockComment = function() {
          var cursor = this.getCursorPosition();
          var state = this.session.getState(cursor.row);
          var range = this.getSelectionRange();
          this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
        };
        Editor2.prototype.getNumberAt = function(row, column) {
          var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
          _numberRx.lastIndex = 0;
          var s = this.session.getLine(row);
          while (_numberRx.lastIndex < column) {
            var m = _numberRx.exec(s);
            if (m.index <= column && m.index + m[0].length >= column) {
              var number2 = {
                value: m[0],
                start: m.index,
                end: m.index + m[0].length
              };
              return number2;
            }
          }
          return null;
        };
        Editor2.prototype.modifyNumber = function(amount) {
          var row = this.selection.getCursor().row;
          var column = this.selection.getCursor().column;
          var charRange = new Range(row, column - 1, row, column);
          var c = this.session.getTextRange(charRange);
          if (!isNaN(parseFloat(c)) && isFinite(c)) {
            var nr = this.getNumberAt(row, column);
            if (nr) {
              var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
              var decimals = nr.start + nr.value.length - fp;
              var t = parseFloat(nr.value);
              t *= Math.pow(10, decimals);
              if (fp !== nr.end && column < fp) {
                amount *= Math.pow(10, nr.end - column - 1);
              } else {
                amount *= Math.pow(10, nr.end - column);
              }
              t += amount;
              t /= Math.pow(10, decimals);
              var nnr = t.toFixed(decimals);
              var replaceRange = new Range(row, nr.start, row, nr.end);
              this.session.replace(replaceRange, nnr);
              this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));
            }
          } else {
            this.toggleWord();
          }
        };
        Editor2.prototype.toggleWord = function() {
          var row = this.selection.getCursor().row;
          var column = this.selection.getCursor().column;
          this.selection.selectWord();
          var currentState = this.getSelectedText();
          var currWordStart = this.selection.getWordRange().start.column;
          var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/);
          var delta = column - currWordStart - 1;
          if (delta < 0)
            delta = 0;
          var curLength = 0, itLength = 0;
          var that = this;
          if (currentState.match(/[A-Za-z0-9_]+/)) {
            wordParts.forEach(function(item2, i2) {
              itLength = curLength + item2.length;
              if (delta >= curLength && delta <= itLength) {
                currentState = item2;
                that.selection.clearSelection();
                that.moveCursorTo(row, curLength + currWordStart);
                that.selection.selectTo(row, itLength + currWordStart);
              }
              curLength = itLength;
            });
          }
          var wordPairs = this.$toggleWordPairs;
          var reg2;
          for (var i = 0; i < wordPairs.length; i++) {
            var item = wordPairs[i];
            for (var j = 0; j <= 1; j++) {
              var negate = +!j;
              var firstCondition = currentState.match(new RegExp("^\\s?_?(" + lang.escapeRegExp(item[j]) + ")\\s?$", "i"));
              if (firstCondition) {
                var secondCondition = currentState.match(new RegExp("([_]|^|\\s)(" + lang.escapeRegExp(firstCondition[1]) + ")($|\\s)", "g"));
                if (secondCondition) {
                  reg2 = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), "i"), function(result2) {
                    var res = item[negate];
                    if (result2.toUpperCase() == result2) {
                      res = res.toUpperCase();
                    } else if (result2.charAt(0).toUpperCase() == result2.charAt(0)) {
                      res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);
                    }
                    return res;
                  });
                  this.insert(reg2);
                  reg2 = "";
                }
              }
            }
          }
        };
        Editor2.prototype.findLinkAt = function(row, column) {
          var e_1, _a;
          var line = this.session.getLine(row);
          var wordParts = line.split(/((?:https?|ftp):\/\/[\S]+)/);
          var columnPosition = column;
          if (columnPosition < 0)
            columnPosition = 0;
          var previousPosition = 0, currentPosition = 0, match;
          try {
            for (var wordParts_1 = __values(wordParts), wordParts_1_1 = wordParts_1.next(); !wordParts_1_1.done; wordParts_1_1 = wordParts_1.next()) {
              var item = wordParts_1_1.value;
              currentPosition = previousPosition + item.length;
              if (columnPosition >= previousPosition && columnPosition <= currentPosition) {
                if (item.match(/((?:https?|ftp):\/\/[\S]+)/)) {
                  match = item.replace(/[\s:.,'";}\]]+$/, "");
                  break;
                }
              }
              previousPosition = currentPosition;
            }
          } catch (e_1_1) {
            e_1 = { error: e_1_1 };
          } finally {
            try {
              if (wordParts_1_1 && !wordParts_1_1.done && (_a = wordParts_1.return))
                _a.call(wordParts_1);
            } finally {
              if (e_1)
                throw e_1.error;
            }
          }
          return match;
        };
        Editor2.prototype.openLink = function() {
          var cursor = this.selection.getCursor();
          var url = this.findLinkAt(cursor.row, cursor.column);
          if (url)
            window.open(url, "_blank");
          return url != null;
        };
        Editor2.prototype.removeLines = function() {
          var rows = this.$getSelectedRows();
          this.session.removeFullLines(rows.first, rows.last);
          this.clearSelection();
        };
        Editor2.prototype.duplicateSelection = function() {
          var sel = this.selection;
          var doc = this.session;
          var range = sel.getRange();
          var reverse = sel.isBackwards();
          if (range.isEmpty()) {
            var row = range.start.row;
            doc.duplicateLines(row, row);
          } else {
            var point = reverse ? range.start : range.end;
            var endPoint = doc.insert(point, doc.getTextRange(range));
            range.start = point;
            range.end = endPoint;
            sel.setSelectionRange(range, reverse);
          }
        };
        Editor2.prototype.moveLinesDown = function() {
          this.$moveLines(1, false);
        };
        Editor2.prototype.moveLinesUp = function() {
          this.$moveLines(-1, false);
        };
        Editor2.prototype.moveText = function(range, toPosition, copy) {
          return this.session.moveText(range, toPosition, copy);
        };
        Editor2.prototype.copyLinesUp = function() {
          this.$moveLines(-1, true);
        };
        Editor2.prototype.copyLinesDown = function() {
          this.$moveLines(1, true);
        };
        Editor2.prototype.$moveLines = function(dir, copy) {
          var rows, moved2;
          var selection = this.selection;
          if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
            var range = selection.toOrientedRange();
            rows = this.$getSelectedRows(range);
            moved2 = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);
            if (copy && dir == -1)
              moved2 = 0;
            range.moveBy(moved2, 0);
            selection.fromOrientedRange(range);
          } else {
            var ranges = selection.rangeList.ranges;
            selection.rangeList.detach(this.session);
            this.inVirtualSelectionMode = true;
            var diff = 0;
            var totalDiff = 0;
            var l = ranges.length;
            for (var i = 0; i < l; i++) {
              var rangeIndex = i;
              ranges[i].moveBy(diff, 0);
              rows = this.$getSelectedRows(ranges[i]);
              var first = rows.first;
              var last = rows.last;
              while (++i < l) {
                if (totalDiff)
                  ranges[i].moveBy(totalDiff, 0);
                var subRows = this.$getSelectedRows(ranges[i]);
                if (copy && subRows.first != last)
                  break;
                else if (!copy && subRows.first > last + 1)
                  break;
                last = subRows.last;
              }
              i--;
              diff = this.session.$moveLines(first, last, copy ? 0 : dir);
              if (copy && dir == -1)
                rangeIndex = i + 1;
              while (rangeIndex <= i) {
                ranges[rangeIndex].moveBy(diff, 0);
                rangeIndex++;
              }
              if (!copy)
                diff = 0;
              totalDiff += diff;
            }
            selection.fromOrientedRange(selection.ranges[0]);
            selection.rangeList.attach(this.session);
            this.inVirtualSelectionMode = false;
          }
        };
        Editor2.prototype.$getSelectedRows = function(range) {
          range = (range || this.getSelectionRange()).collapseRows();
          return {
            first: this.session.getRowFoldStart(range.start.row),
            last: this.session.getRowFoldEnd(range.end.row)
          };
        };
        Editor2.prototype.onCompositionStart = function(compositionState) {
          this.renderer.showComposition(compositionState);
        };
        Editor2.prototype.onCompositionUpdate = function(text) {
          this.renderer.setCompositionText(text);
        };
        Editor2.prototype.onCompositionEnd = function() {
          this.renderer.hideComposition();
        };
        Editor2.prototype.getFirstVisibleRow = function() {
          return this.renderer.getFirstVisibleRow();
        };
        Editor2.prototype.getLastVisibleRow = function() {
          return this.renderer.getLastVisibleRow();
        };
        Editor2.prototype.isRowVisible = function(row) {
          return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();
        };
        Editor2.prototype.isRowFullyVisible = function(row) {
          return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();
        };
        Editor2.prototype.$getVisibleRowCount = function() {
          return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
        };
        Editor2.prototype.$moveByPage = function(dir, select2) {
          var renderer = this.renderer;
          var config3 = this.renderer.layerConfig;
          var rows = dir * Math.floor(config3.height / config3.lineHeight);
          if (select2 === true) {
            this.selection.$moveSelection(function() {
              this.moveCursorBy(rows, 0);
            });
          } else if (select2 === false) {
            this.selection.moveCursorBy(rows, 0);
            this.selection.clearSelection();
          }
          var scrollTop = renderer.scrollTop;
          renderer.scrollBy(0, rows * config3.lineHeight);
          if (select2 != null)
            renderer.scrollCursorIntoView(null, 0.5);
          renderer.animateScrolling(scrollTop);
        };
        Editor2.prototype.selectPageDown = function() {
          this.$moveByPage(1, true);
        };
        Editor2.prototype.selectPageUp = function() {
          this.$moveByPage(-1, true);
        };
        Editor2.prototype.gotoPageDown = function() {
          this.$moveByPage(1, false);
        };
        Editor2.prototype.gotoPageUp = function() {
          this.$moveByPage(-1, false);
        };
        Editor2.prototype.scrollPageDown = function() {
          this.$moveByPage(1);
        };
        Editor2.prototype.scrollPageUp = function() {
          this.$moveByPage(-1);
        };
        Editor2.prototype.scrollToRow = function(row) {
          this.renderer.scrollToRow(row);
        };
        Editor2.prototype.scrollToLine = function(line, center, animate, callback) {
          this.renderer.scrollToLine(line, center, animate, callback);
        };
        Editor2.prototype.centerSelection = function() {
          var range = this.getSelectionRange();
          var pos = {
            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
          };
          this.renderer.alignCursor(pos, 0.5);
        };
        Editor2.prototype.getCursorPosition = function() {
          return this.selection.getCursor();
        };
        Editor2.prototype.getCursorPositionScreen = function() {
          return this.session.documentToScreenPosition(this.getCursorPosition());
        };
        Editor2.prototype.getSelectionRange = function() {
          return this.selection.getRange();
        };
        Editor2.prototype.selectAll = function() {
          this.selection.selectAll();
        };
        Editor2.prototype.clearSelection = function() {
          this.selection.clearSelection();
        };
        Editor2.prototype.moveCursorTo = function(row, column) {
          this.selection.moveCursorTo(row, column);
        };
        Editor2.prototype.moveCursorToPosition = function(pos) {
          this.selection.moveCursorToPosition(pos);
        };
        Editor2.prototype.jumpToMatching = function(select2, expand) {
          var cursor = this.getCursorPosition();
          var iterator = new TokenIterator(this.session, cursor.row, cursor.column);
          var prevToken = iterator.getCurrentToken();
          var tokenCount = 0;
          if (prevToken && prevToken.type.indexOf("tag-name") !== -1) {
            prevToken = iterator.stepBackward();
          }
          var token = prevToken || iterator.stepForward();
          if (!token)
            return;
          var matchType;
          var found = false;
          var depth = {};
          var i = cursor.column - token.start;
          var bracketType;
          var brackets = {
            ")": "(",
            "(": "(",
            "]": "[",
            "[": "[",
            "{": "{",
            "}": "{"
          };
          do {
            if (token.value.match(/[{}()\[\]]/g)) {
              for (; i < token.value.length && !found; i++) {
                if (!brackets[token.value[i]]) {
                  continue;
                }
                bracketType = brackets[token.value[i]] + "." + token.type.replace("rparen", "lparen");
                if (isNaN(depth[bracketType])) {
                  depth[bracketType] = 0;
                }
                switch (token.value[i]) {
                  case "(":
                  case "[":
                  case "{":
                    depth[bracketType]++;
                    break;
                  case ")":
                  case "]":
                  case "}":
                    depth[bracketType]--;
                    if (depth[bracketType] === -1) {
                      matchType = "bracket";
                      found = true;
                    }
                    break;
                }
              }
            } else if (token.type.indexOf("tag-name") !== -1) {
              if (isNaN(depth[token.value])) {
                depth[token.value] = 0;
              }
              if (prevToken.value === "<" && tokenCount > 1) {
                depth[token.value]++;
              } else if (prevToken.value === "</") {
                depth[token.value]--;
              }
              if (depth[token.value] === -1) {
                matchType = "tag";
                found = true;
              }
            }
            if (!found) {
              prevToken = token;
              tokenCount++;
              token = iterator.stepForward();
              i = 0;
            }
          } while (token && !found);
          if (!matchType)
            return;
          var range, pos;
          if (matchType === "bracket") {
            range = this.session.getBracketRange(cursor);
            if (!range) {
              range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);
              pos = range.start;
              if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)
                range = this.session.getBracketRange(pos);
            }
          } else if (matchType === "tag") {
            if (!token || token.type.indexOf("tag-name") === -1)
              return;
            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);
            if (range.compare(cursor.row, cursor.column) === 0) {
              var tagsRanges = this.session.getMatchingTags(cursor);
              if (tagsRanges) {
                if (tagsRanges.openTag.contains(cursor.row, cursor.column)) {
                  range = tagsRanges.closeTag;
                  pos = range.start;
                } else {
                  range = tagsRanges.openTag;
                  if (tagsRanges.closeTag.start.row === cursor.row && tagsRanges.closeTag.start.column === cursor.column)
                    pos = range.end;
                  else
                    pos = range.start;
                }
              }
            }
            pos = pos || range.start;
          }
          pos = range && range.cursor || pos;
          if (pos) {
            if (select2) {
              if (range && expand) {
                this.selection.setRange(range);
              } else if (range && range.isEqual(this.getSelectionRange())) {
                this.clearSelection();
              } else {
                this.selection.selectTo(pos.row, pos.column);
              }
            } else {
              this.selection.moveTo(pos.row, pos.column);
            }
          }
        };
        Editor2.prototype.gotoLine = function(lineNumber, column, animate) {
          this.selection.clearSelection();
          this.session.unfold({ row: lineNumber - 1, column: column || 0 });
          this.exitMultiSelectMode && this.exitMultiSelectMode();
          this.moveCursorTo(lineNumber - 1, column || 0);
          if (!this.isRowFullyVisible(lineNumber - 1))
            this.scrollToLine(lineNumber - 1, true, animate);
        };
        Editor2.prototype.navigateTo = function(row, column) {
          this.selection.moveTo(row, column);
        };
        Editor2.prototype.navigateUp = function(times) {
          if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
            var selectionStart = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionStart);
          }
          this.selection.clearSelection();
          this.selection.moveCursorBy(-times || -1, 0);
        };
        Editor2.prototype.navigateDown = function(times) {
          if (this.selection.isMultiLine() && this.selection.isBackwards()) {
            var selectionEnd = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionEnd);
          }
          this.selection.clearSelection();
          this.selection.moveCursorBy(times || 1, 0);
        };
        Editor2.prototype.navigateLeft = function(times) {
          if (!this.selection.isEmpty()) {
            var selectionStart = this.getSelectionRange().start;
            this.moveCursorToPosition(selectionStart);
          } else {
            times = times || 1;
            while (times--) {
              this.selection.moveCursorLeft();
            }
          }
          this.clearSelection();
        };
        Editor2.prototype.navigateRight = function(times) {
          if (!this.selection.isEmpty()) {
            var selectionEnd = this.getSelectionRange().end;
            this.moveCursorToPosition(selectionEnd);
          } else {
            times = times || 1;
            while (times--) {
              this.selection.moveCursorRight();
            }
          }
          this.clearSelection();
        };
        Editor2.prototype.navigateLineStart = function() {
          this.selection.moveCursorLineStart();
          this.clearSelection();
        };
        Editor2.prototype.navigateLineEnd = function() {
          this.selection.moveCursorLineEnd();
          this.clearSelection();
        };
        Editor2.prototype.navigateFileEnd = function() {
          this.selection.moveCursorFileEnd();
          this.clearSelection();
        };
        Editor2.prototype.navigateFileStart = function() {
          this.selection.moveCursorFileStart();
          this.clearSelection();
        };
        Editor2.prototype.navigateWordRight = function() {
          this.selection.moveCursorWordRight();
          this.clearSelection();
        };
        Editor2.prototype.navigateWordLeft = function() {
          this.selection.moveCursorWordLeft();
          this.clearSelection();
        };
        Editor2.prototype.replace = function(replacement, options) {
          if (options)
            this.$search.set(options);
          var range = this.$search.find(this.session);
          var replaced = 0;
          if (!range)
            return replaced;
          if (this.$tryReplace(range, replacement)) {
            replaced = 1;
          }
          this.selection.setSelectionRange(range);
          this.renderer.scrollSelectionIntoView(range.start, range.end);
          return replaced;
        };
        Editor2.prototype.replaceAll = function(replacement, options) {
          if (options) {
            this.$search.set(options);
          }
          var ranges = this.$search.findAll(this.session);
          var replaced = 0;
          if (!ranges.length)
            return replaced;
          var selection = this.getSelectionRange();
          this.selection.moveTo(0, 0);
          for (var i = ranges.length - 1; i >= 0; --i) {
            if (this.$tryReplace(ranges[i], replacement)) {
              replaced++;
            }
          }
          this.selection.setSelectionRange(selection);
          return replaced;
        };
        Editor2.prototype.$tryReplace = function(range, replacement) {
          var input2 = this.session.getTextRange(range);
          replacement = this.$search.replace(input2, replacement);
          if (replacement !== null) {
            range.end = this.session.replace(range, replacement);
            return range;
          } else {
            return null;
          }
        };
        Editor2.prototype.getLastSearchOptions = function() {
          return this.$search.getOptions();
        };
        Editor2.prototype.find = function(needle, options, animate) {
          if (!options)
            options = {};
          if (typeof needle == "string" || needle instanceof RegExp)
            options.needle = needle;
          else if (typeof needle == "object")
            oop.mixin(options, needle);
          var range = this.selection.getRange();
          if (options.needle == null) {
            needle = this.session.getTextRange(range) || this.$search.$options.needle;
            if (!needle) {
              range = this.session.getWordRange(range.start.row, range.start.column);
              needle = this.session.getTextRange(range);
            }
            this.$search.set({ needle });
          }
          this.$search.set(options);
          if (!options.start)
            this.$search.set({ start: range });
          var newRange = this.$search.find(this.session);
          if (options.preventScroll)
            return newRange;
          if (newRange) {
            this.revealRange(newRange, animate);
            return newRange;
          }
          if (options.backwards)
            range.start = range.end;
          else
            range.end = range.start;
          this.selection.setRange(range);
        };
        Editor2.prototype.findNext = function(options, animate) {
          this.find({ skipCurrent: true, backwards: false }, options, animate);
        };
        Editor2.prototype.findPrevious = function(options, animate) {
          this.find(options, { skipCurrent: true, backwards: true }, animate);
        };
        Editor2.prototype.revealRange = function(range, animate) {
          this.session.unfold(range);
          this.selection.setSelectionRange(range);
          var scrollTop = this.renderer.scrollTop;
          this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
          if (animate !== false)
            this.renderer.animateScrolling(scrollTop);
        };
        Editor2.prototype.undo = function() {
          this.session.getUndoManager().undo(this.session);
          this.renderer.scrollCursorIntoView(null, 0.5);
        };
        Editor2.prototype.redo = function() {
          this.session.getUndoManager().redo(this.session);
          this.renderer.scrollCursorIntoView(null, 0.5);
        };
        Editor2.prototype.destroy = function() {
          if (this.$toDestroy) {
            this.$toDestroy.forEach(function(el) {
              el.destroy();
            });
            this.$toDestroy = null;
          }
          if (this.$mouseHandler)
            this.$mouseHandler.destroy();
          this.renderer.destroy();
          this._signal("destroy", this);
          if (this.session)
            this.session.destroy();
          if (this._$emitInputEvent)
            this._$emitInputEvent.cancel();
          this.removeAllListeners();
        };
        Editor2.prototype.setAutoScrollEditorIntoView = function(enable) {
          if (!enable)
            return;
          var rect;
          var self2 = this;
          var shouldScroll = false;
          if (!this.$scrollAnchor)
            this.$scrollAnchor = document.createElement("div");
          var scrollAnchor = this.$scrollAnchor;
          scrollAnchor.style.cssText = "position:absolute";
          this.container.insertBefore(scrollAnchor, this.container.firstChild);
          var onChangeSelection = this.on("changeSelection", function() {
            shouldScroll = true;
          });
          var onBeforeRender = this.renderer.on("beforeRender", function() {
            if (shouldScroll)
              rect = self2.renderer.container.getBoundingClientRect();
          });
          var onAfterRender = this.renderer.on("afterRender", function() {
            if (shouldScroll && rect && (self2.isFocused() || self2.searchBox && self2.searchBox.isFocused())) {
              var renderer = self2.renderer;
              var pos = renderer.$cursorLayer.$pixelPos;
              var config3 = renderer.layerConfig;
              var top2 = pos.top - config3.offset;
              if (pos.top >= 0 && top2 + rect.top < 0) {
                shouldScroll = true;
              } else if (pos.top < config3.height && pos.top + rect.top + config3.lineHeight > window.innerHeight) {
                shouldScroll = false;
              } else {
                shouldScroll = null;
              }
              if (shouldScroll != null) {
                scrollAnchor.style.top = top2 + "px";
                scrollAnchor.style.left = pos.left + "px";
                scrollAnchor.style.height = config3.lineHeight + "px";
                scrollAnchor.scrollIntoView(shouldScroll);
              }
              shouldScroll = rect = null;
            }
          });
          this.setAutoScrollEditorIntoView = function(enable2) {
            if (enable2)
              return;
            delete this.setAutoScrollEditorIntoView;
            this.off("changeSelection", onChangeSelection);
            this.renderer.off("afterRender", onAfterRender);
            this.renderer.off("beforeRender", onBeforeRender);
          };
        };
        Editor2.prototype.$resetCursorStyle = function() {
          var style = this.$cursorStyle || "ace";
          var cursorLayer = this.renderer.$cursorLayer;
          if (!cursorLayer)
            return;
          cursorLayer.setSmoothBlinking(/smooth/.test(style));
          cursorLayer.isBlinking = !this.$readOnly && style != "wide";
          dom.setCssClass(cursorLayer.element, "ace_slim-cursors", /slim/.test(style));
        };
        Editor2.prototype.prompt = function(message2, options, callback) {
          var editor = this;
          config2.loadModule("ace/ext/prompt", function(module3) {
            module3.prompt(editor, message2, options, callback);
          });
        };
        return Editor2;
      }()
    );
    Editor.$uid = 0;
    Editor.prototype.curOp = null;
    Editor.prototype.prevOp = {};
    Editor.prototype.$mergeableCommands = ["backspace", "del", "insertstring"];
    Editor.prototype.$toggleWordPairs = [
      ["first", "last"],
      ["true", "false"],
      ["yes", "no"],
      ["width", "height"],
      ["top", "bottom"],
      ["right", "left"],
      ["on", "off"],
      ["x", "y"],
      ["get", "set"],
      ["max", "min"],
      ["horizontal", "vertical"],
      ["show", "hide"],
      ["add", "remove"],
      ["up", "down"],
      ["before", "after"],
      ["even", "odd"],
      ["in", "out"],
      ["inside", "outside"],
      ["next", "previous"],
      ["increase", "decrease"],
      ["attach", "detach"],
      ["&&", "||"],
      ["==", "!="]
    ];
    oop.implement(Editor.prototype, EventEmitter);
    config2.defineOptions(Editor.prototype, "editor", {
      selectionStyle: {
        set: function(style) {
          this.onSelectionChange();
          this._signal("changeSelectionStyle", { data: style });
        },
        initialValue: "line"
      },
      highlightActiveLine: {
        set: function() {
          this.$updateHighlightActiveLine();
        },
        initialValue: true
      },
      highlightSelectedWord: {
        set: function(shouldHighlight) {
          this.$onSelectionChange();
        },
        initialValue: true
      },
      readOnly: {
        set: function(readOnly) {
          this.textInput.setReadOnly(readOnly);
          this.$resetCursorStyle();
        },
        initialValue: false
      },
      copyWithEmptySelection: {
        set: function(value2) {
          this.textInput.setCopyWithEmptySelection(value2);
        },
        initialValue: false
      },
      cursorStyle: {
        set: function(val) {
          this.$resetCursorStyle();
        },
        values: ["ace", "slim", "smooth", "wide"],
        initialValue: "ace"
      },
      mergeUndoDeltas: {
        values: [false, true, "always"],
        initialValue: true
      },
      behavioursEnabled: { initialValue: true },
      wrapBehavioursEnabled: { initialValue: true },
      enableAutoIndent: { initialValue: true },
      autoScrollEditorIntoView: {
        set: function(val) {
          this.setAutoScrollEditorIntoView(val);
        }
      },
      keyboardHandler: {
        set: function(val) {
          this.setKeyboardHandler(val);
        },
        get: function() {
          return this.$keybindingId;
        },
        handlesSet: true
      },
      value: {
        set: function(val) {
          this.session.setValue(val);
        },
        get: function() {
          return this.getValue();
        },
        handlesSet: true,
        hidden: true
      },
      session: {
        set: function(val) {
          this.setSession(val);
        },
        get: function() {
          return this.session;
        },
        handlesSet: true,
        hidden: true
      },
      showLineNumbers: {
        set: function(show) {
          this.renderer.$gutterLayer.setShowLineNumbers(show);
          this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);
          if (show && this.$relativeLineNumbers)
            relativeNumberRenderer.attach(this);
          else
            relativeNumberRenderer.detach(this);
        },
        initialValue: true
      },
      relativeLineNumbers: {
        set: function(value2) {
          if (this.$showLineNumbers && value2)
            relativeNumberRenderer.attach(this);
          else
            relativeNumberRenderer.detach(this);
        }
      },
      placeholder: {
        set: function(message2) {
          if (!this.$updatePlaceholder) {
            this.$updatePlaceholder = (function() {
              var hasValue = this.session && (this.renderer.$composition || this.session.getLength() > 1 || this.session.getLine(0).length > 0);
              if (hasValue && this.renderer.placeholderNode) {
                this.renderer.off("afterRender", this.$updatePlaceholder);
                dom.removeCssClass(this.container, "ace_hasPlaceholder");
                this.renderer.placeholderNode.remove();
                this.renderer.placeholderNode = null;
              } else if (!hasValue && !this.renderer.placeholderNode) {
                this.renderer.on("afterRender", this.$updatePlaceholder);
                dom.addCssClass(this.container, "ace_hasPlaceholder");
                var el = dom.createElement("div");
                el.className = "ace_placeholder";
                el.textContent = this.$placeholder || "";
                this.renderer.placeholderNode = el;
                this.renderer.content.appendChild(this.renderer.placeholderNode);
              } else if (!hasValue && this.renderer.placeholderNode) {
                this.renderer.placeholderNode.textContent = this.$placeholder || "";
              }
            }).bind(this);
            this.on("input", this.$updatePlaceholder);
          }
          this.$updatePlaceholder();
        }
      },
      enableKeyboardAccessibility: {
        set: function(value2) {
          var blurCommand = {
            name: "blurTextInput",
            description: "Set focus to the editor content div to allow tabbing through the page",
            bindKey: "Esc",
            exec: function(editor) {
              editor.blur();
              editor.renderer.scroller.focus();
            },
            readOnly: true
          };
          var focusOnEnterKeyup = function(e2) {
            if (e2.target == this.renderer.scroller && e2.keyCode === keys["enter"]) {
              e2.preventDefault();
              var row = this.getCursorPosition().row;
              if (!this.isRowVisible(row))
                this.scrollToLine(row, true, true);
              this.focus();
            }
          };
          var gutterKeyboardHandler;
          if (value2) {
            this.renderer.enableKeyboardAccessibility = true;
            this.renderer.keyboardFocusClassName = "ace_keyboard-focus";
            this.textInput.getElement().setAttribute("tabindex", -1);
            this.textInput.setNumberOfExtraLines(useragent.isWin ? 3 : 0);
            this.renderer.scroller.setAttribute("tabindex", 0);
            this.renderer.scroller.setAttribute("role", "group");
            this.renderer.scroller.setAttribute("aria-roledescription", nls("editor"));
            this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName);
            this.renderer.scroller.setAttribute("aria-label", nls("Editor content, press Enter to start editing, press Escape to exit"));
            this.renderer.scroller.addEventListener("keyup", focusOnEnterKeyup.bind(this));
            this.commands.addCommand(blurCommand);
            this.renderer.$gutter.setAttribute("tabindex", 0);
            this.renderer.$gutter.setAttribute("aria-hidden", false);
            this.renderer.$gutter.setAttribute("role", "group");
            this.renderer.$gutter.setAttribute("aria-roledescription", nls("editor"));
            this.renderer.$gutter.setAttribute("aria-label", nls("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit"));
            this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName);
            this.renderer.content.setAttribute("aria-hidden", true);
            if (!gutterKeyboardHandler)
              gutterKeyboardHandler = new GutterKeyboardHandler(this);
            gutterKeyboardHandler.addListener();
          } else {
            this.renderer.enableKeyboardAccessibility = false;
            this.textInput.getElement().setAttribute("tabindex", 0);
            this.textInput.setNumberOfExtraLines(0);
            this.renderer.scroller.setAttribute("tabindex", -1);
            this.renderer.scroller.removeAttribute("role");
            this.renderer.scroller.removeAttribute("aria-roledescription");
            this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName);
            this.renderer.scroller.removeAttribute("aria-label");
            this.renderer.scroller.removeEventListener("keyup", focusOnEnterKeyup.bind(this));
            this.commands.removeCommand(blurCommand);
            this.renderer.content.removeAttribute("aria-hidden");
            this.renderer.$gutter.setAttribute("tabindex", -1);
            this.renderer.$gutter.setAttribute("aria-hidden", true);
            this.renderer.$gutter.removeAttribute("role");
            this.renderer.$gutter.removeAttribute("aria-roledescription");
            this.renderer.$gutter.removeAttribute("aria-label");
            this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName);
            if (gutterKeyboardHandler)
              gutterKeyboardHandler.removeListener();
          }
        },
        initialValue: false
      },
      customScrollbar: "renderer",
      hScrollBarAlwaysVisible: "renderer",
      vScrollBarAlwaysVisible: "renderer",
      highlightGutterLine: "renderer",
      animatedScroll: "renderer",
      showInvisibles: "renderer",
      showPrintMargin: "renderer",
      printMarginColumn: "renderer",
      printMargin: "renderer",
      fadeFoldWidgets: "renderer",
      showFoldWidgets: "renderer",
      displayIndentGuides: "renderer",
      highlightIndentGuides: "renderer",
      showGutter: "renderer",
      fontSize: "renderer",
      fontFamily: "renderer",
      maxLines: "renderer",
      minLines: "renderer",
      scrollPastEnd: "renderer",
      fixedWidthGutter: "renderer",
      theme: "renderer",
      hasCssTransforms: "renderer",
      maxPixelHeight: "renderer",
      useTextareaForIME: "renderer",
      useResizeObserver: "renderer",
      useSvgGutterIcons: "renderer",
      showFoldedAnnotations: "renderer",
      scrollSpeed: "$mouseHandler",
      dragDelay: "$mouseHandler",
      dragEnabled: "$mouseHandler",
      focusTimeout: "$mouseHandler",
      tooltipFollowsMouse: "$mouseHandler",
      firstLineNumber: "session",
      overwrite: "session",
      newLineMode: "session",
      useWorker: "session",
      useSoftTabs: "session",
      navigateWithinSoftTabs: "session",
      tabSize: "session",
      wrap: "session",
      indentedSoftWrap: "session",
      foldStyle: "session",
      mode: "session"
    });
    var relativeNumberRenderer = {
      getText: function(session, row) {
        return (Math.abs(session.selection.lead.row - row) || row + 1 + (row < 9 ? "·" : "")) + "";
      },
      getWidth: function(session, lastLineNumber, config3) {
        return Math.max(lastLineNumber.toString().length, (config3.lastRow + 1).toString().length, 2) * config3.characterWidth;
      },
      update: function(e2, editor) {
        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);
      },
      attach: function(editor) {
        editor.renderer.$gutterLayer.$renderer = this;
        editor.on("changeSelection", this.update);
        this.update(null, editor);
      },
      detach: function(editor) {
        if (editor.renderer.$gutterLayer.$renderer == this)
          editor.renderer.$gutterLayer.$renderer = null;
        editor.off("changeSelection", this.update);
        this.update(null, editor);
      }
    };
    exports2.Editor = Editor;
  });
  ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var Lines = (
      /** @class */
      function() {
        function Lines2(element, canvasHeight) {
          this.element = element;
          this.canvasHeight = canvasHeight || 5e5;
          this.element.style.height = this.canvasHeight * 2 + "px";
          this.cells = [];
          this.cellCache = [];
          this.$offsetCoefficient = 0;
        }
        Lines2.prototype.moveContainer = function(config2) {
          dom.translate(this.element, 0, -(config2.firstRowScreen * config2.lineHeight % this.canvasHeight) - config2.offset * this.$offsetCoefficient);
        };
        Lines2.prototype.pageChanged = function(oldConfig, newConfig) {
          return Math.floor(oldConfig.firstRowScreen * oldConfig.lineHeight / this.canvasHeight) !== Math.floor(newConfig.firstRowScreen * newConfig.lineHeight / this.canvasHeight);
        };
        Lines2.prototype.computeLineTop = function(row, config2, session) {
          var screenTop = config2.firstRowScreen * config2.lineHeight;
          var screenPage = Math.floor(screenTop / this.canvasHeight);
          var lineTop = session.documentToScreenRow(row, 0) * config2.lineHeight;
          return lineTop - screenPage * this.canvasHeight;
        };
        Lines2.prototype.computeLineHeight = function(row, config2, session) {
          return config2.lineHeight * session.getRowLineCount(row);
        };
        Lines2.prototype.getLength = function() {
          return this.cells.length;
        };
        Lines2.prototype.get = function(index2) {
          return this.cells[index2];
        };
        Lines2.prototype.shift = function() {
          this.$cacheCell(this.cells.shift());
        };
        Lines2.prototype.pop = function() {
          this.$cacheCell(this.cells.pop());
        };
        Lines2.prototype.push = function(cell) {
          if (Array.isArray(cell)) {
            this.cells.push.apply(this.cells, cell);
            var fragment = dom.createFragment(this.element);
            for (var i = 0; i < cell.length; i++) {
              fragment.appendChild(cell[i].element);
            }
            this.element.appendChild(fragment);
          } else {
            this.cells.push(cell);
            this.element.appendChild(cell.element);
          }
        };
        Lines2.prototype.unshift = function(cell) {
          if (Array.isArray(cell)) {
            this.cells.unshift.apply(this.cells, cell);
            var fragment = dom.createFragment(this.element);
            for (var i = 0; i < cell.length; i++) {
              fragment.appendChild(cell[i].element);
            }
            if (this.element.firstChild)
              this.element.insertBefore(fragment, this.element.firstChild);
            else
              this.element.appendChild(fragment);
          } else {
            this.cells.unshift(cell);
            this.element.insertAdjacentElement("afterbegin", cell.element);
          }
        };
        Lines2.prototype.last = function() {
          if (this.cells.length)
            return this.cells[this.cells.length - 1];
          else
            return null;
        };
        Lines2.prototype.$cacheCell = function(cell) {
          if (!cell)
            return;
          cell.element.remove();
          this.cellCache.push(cell);
        };
        Lines2.prototype.createCell = function(row, config2, session, initElement) {
          var cell = this.cellCache.pop();
          if (!cell) {
            var element = dom.createElement("div");
            if (initElement)
              initElement(element);
            this.element.appendChild(element);
            cell = {
              element,
              text: "",
              row
            };
          }
          cell.row = row;
          return cell;
        };
        return Lines2;
      }()
    );
    exports2.Lines = Lines;
  });
  ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines", "ace/config"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var oop = require2("../lib/oop");
    var lang = require2("../lib/lang");
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var Lines = require2("./lines").Lines;
    var nls = require2("../config").nls;
    var Gutter = (
      /** @class */
      function() {
        function Gutter2(parentEl2) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_gutter-layer";
          parentEl2.appendChild(this.element);
          this.setShowFoldWidgets(this.$showFoldWidgets);
          this.gutterWidth = 0;
          this.$annotations = [];
          this.$updateAnnotations = this.$updateAnnotations.bind(this);
          this.$lines = new Lines(this.element);
          this.$lines.$offsetCoefficient = 1;
        }
        Gutter2.prototype.setSession = function(session) {
          if (this.session)
            this.session.off("change", this.$updateAnnotations);
          this.session = session;
          if (session)
            session.on("change", this.$updateAnnotations);
        };
        Gutter2.prototype.addGutterDecoration = function(row, className) {
          if (window.console)
            console.warn && console.warn("deprecated use session.addGutterDecoration");
          this.session.addGutterDecoration(row, className);
        };
        Gutter2.prototype.removeGutterDecoration = function(row, className) {
          if (window.console)
            console.warn && console.warn("deprecated use session.removeGutterDecoration");
          this.session.removeGutterDecoration(row, className);
        };
        Gutter2.prototype.setAnnotations = function(annotations) {
          this.$annotations = [];
          for (var i = 0; i < annotations.length; i++) {
            var annotation = annotations[i];
            var row = annotation.row;
            var rowInfo = this.$annotations[row];
            if (!rowInfo)
              rowInfo = this.$annotations[row] = { text: [], type: [] };
            var annoText = annotation.text;
            var annoType = annotation.type;
            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";
            if (rowInfo.text.indexOf(annoText) === -1) {
              rowInfo.text.push(annoText);
              rowInfo.type.push(annoType);
            }
            var className = annotation.className;
            if (className)
              rowInfo.className = className;
            else if (annoType == "error")
              rowInfo.className = " ace_error";
            else if (annoType == "warning" && rowInfo.className != " ace_error")
              rowInfo.className = " ace_warning";
            else if (annoType == "info" && !rowInfo.className)
              rowInfo.className = " ace_info";
          }
        };
        Gutter2.prototype.$updateAnnotations = function(delta) {
          if (!this.$annotations.length)
            return;
          var firstRow = delta.start.row;
          var len = delta.end.row - firstRow;
          if (len === 0)
            ;
          else if (delta.action == "remove") {
            this.$annotations.splice(firstRow, len + 1, null);
          } else {
            var args = new Array(len + 1);
            args.unshift(firstRow, 1);
            this.$annotations.splice.apply(this.$annotations, args);
          }
        };
        Gutter2.prototype.update = function(config2) {
          this.config = config2;
          var session = this.session;
          var firstRow = config2.firstRow;
          var lastRow = Math.min(
            config2.lastRow + config2.gutterOffset,
            // needed to compensate for hor scollbar
            session.getLength() - 1
          );
          this.oldLastRow = lastRow;
          this.config = config2;
          this.$lines.moveContainer(config2);
          this.$updateCursorRow();
          var fold = session.getNextFoldLine(firstRow);
          var foldStart = fold ? fold.start.row : Infinity;
          var cell = null;
          var index2 = -1;
          var row = firstRow;
          while (true) {
            if (row > foldStart) {
              row = fold.end.row + 1;
              fold = session.getNextFoldLine(row, fold);
              foldStart = fold ? fold.start.row : Infinity;
            }
            if (row > lastRow) {
              while (this.$lines.getLength() > index2 + 1)
                this.$lines.pop();
              break;
            }
            cell = this.$lines.get(++index2);
            if (cell) {
              cell.row = row;
            } else {
              cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
              this.$lines.push(cell);
            }
            this.$renderCell(cell, config2, fold, row);
            row++;
          }
          this._signal("afterRender");
          this.$updateGutterWidth(config2);
        };
        Gutter2.prototype.$updateGutterWidth = function(config2) {
          var session = this.session;
          var gutterRenderer = session.gutterRenderer || this.$renderer;
          var firstLineNumber = session.$firstLineNumber;
          var lastLineText = this.$lines.last() ? this.$lines.last().text : "";
          if (this.$fixedWidth || session.$useWrapMode)
            lastLineText = session.getLength() + firstLineNumber - 1;
          var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineText, config2) : lastLineText.toString().length * config2.characterWidth;
          var padding = this.$padding || this.$computePadding();
          gutterWidth += padding.left + padding.right;
          if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {
            this.gutterWidth = gutterWidth;
            this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px";
            this._signal("changeGutterWidth", gutterWidth);
          }
        };
        Gutter2.prototype.$updateCursorRow = function() {
          if (!this.$highlightGutterLine)
            return;
          var position = this.session.selection.getCursor();
          if (this.$cursorRow === position.row)
            return;
          this.$cursorRow = position.row;
        };
        Gutter2.prototype.updateLineHighlight = function() {
          if (!this.$highlightGutterLine)
            return;
          var row = this.session.selection.cursor.row;
          this.$cursorRow = row;
          if (this.$cursorCell && this.$cursorCell.row == row)
            return;
          if (this.$cursorCell)
            this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
          var cells = this.$lines.cells;
          this.$cursorCell = null;
          for (var i = 0; i < cells.length; i++) {
            var cell = cells[i];
            if (cell.row >= this.$cursorRow) {
              if (cell.row > this.$cursorRow) {
                var fold = this.session.getFoldLine(this.$cursorRow);
                if (i > 0 && fold && fold.start.row == cells[i - 1].row)
                  cell = cells[i - 1];
                else
                  break;
              }
              cell.element.className = "ace_gutter-active-line " + cell.element.className;
              this.$cursorCell = cell;
              break;
            }
          }
        };
        Gutter2.prototype.scrollLines = function(config2) {
          var oldConfig = this.config;
          this.config = config2;
          this.$updateCursorRow();
          if (this.$lines.pageChanged(oldConfig, config2))
            return this.update(config2);
          this.$lines.moveContainer(config2);
          var lastRow = Math.min(
            config2.lastRow + config2.gutterOffset,
            // needed to compensate for hor scollbar
            this.session.getLength() - 1
          );
          var oldLastRow = this.oldLastRow;
          this.oldLastRow = lastRow;
          if (!oldConfig || oldLastRow < config2.firstRow)
            return this.update(config2);
          if (lastRow < oldConfig.firstRow)
            return this.update(config2);
          if (oldConfig.firstRow < config2.firstRow)
            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
              this.$lines.shift();
          if (oldLastRow > lastRow)
            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)
              this.$lines.pop();
          if (config2.firstRow < oldConfig.firstRow) {
            this.$lines.unshift(this.$renderLines(config2, config2.firstRow, oldConfig.firstRow - 1));
          }
          if (lastRow > oldLastRow) {
            this.$lines.push(this.$renderLines(config2, oldLastRow + 1, lastRow));
          }
          this.updateLineHighlight();
          this._signal("afterRender");
          this.$updateGutterWidth(config2);
        };
        Gutter2.prototype.$renderLines = function(config2, firstRow, lastRow) {
          var fragment = [];
          var row = firstRow;
          var foldLine = this.session.getNextFoldLine(row);
          var foldStart = foldLine ? foldLine.start.row : Infinity;
          while (true) {
            if (row > foldStart) {
              row = foldLine.end.row + 1;
              foldLine = this.session.getNextFoldLine(row, foldLine);
              foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > lastRow)
              break;
            var cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
            this.$renderCell(cell, config2, foldLine, row);
            fragment.push(cell);
            row++;
          }
          return fragment;
        };
        Gutter2.prototype.$renderCell = function(cell, config2, fold, row) {
          var element = cell.element;
          var session = this.session;
          var textNode = element.childNodes[0];
          var foldWidget = element.childNodes[1];
          var annotationNode = element.childNodes[2];
          var annotationIconNode = annotationNode.firstChild;
          var firstLineNumber = session.$firstLineNumber;
          var breakpoints = session.$breakpoints;
          var decorations = session.$decorations;
          var gutterRenderer = session.gutterRenderer || this.$renderer;
          var foldWidgets = this.$showFoldWidgets && session.foldWidgets;
          var foldStart = fold ? fold.start.row : Number.MAX_VALUE;
          var lineHeight = config2.lineHeight + "px";
          var className = this.$useSvgGutterIcons ? "ace_gutter-cell_svg-icons " : "ace_gutter-cell ";
          var iconClassName = this.$useSvgGutterIcons ? "ace_icon_svg" : "ace_icon";
          var rowText = (gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber).toString();
          if (this.$highlightGutterLine) {
            if (row == this.$cursorRow || fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row) {
              className += "ace_gutter-active-line ";
              if (this.$cursorCell != cell) {
                if (this.$cursorCell)
                  this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
                this.$cursorCell = cell;
              }
            }
          }
          if (breakpoints[row])
            className += breakpoints[row];
          if (decorations[row])
            className += decorations[row];
          if (this.$annotations[row] && row !== foldStart)
            className += this.$annotations[row].className;
          if (foldWidgets) {
            var c = foldWidgets[row];
            if (c == null)
              c = foldWidgets[row] = session.getFoldWidget(row);
          }
          if (c) {
            var foldClass = "ace_fold-widget ace_" + c;
            var isClosedFold = c == "start" && row == foldStart && row < fold.end.row;
            if (isClosedFold) {
              foldClass += " ace_closed";
              var foldAnnotationClass = "";
              var annotationInFold = false;
              for (var i = row + 1; i <= fold.end.row; i++) {
                if (!this.$annotations[i])
                  continue;
                if (this.$annotations[i].className === " ace_error") {
                  annotationInFold = true;
                  foldAnnotationClass = " ace_error_fold";
                  break;
                }
                if (this.$annotations[i].className === " ace_warning") {
                  annotationInFold = true;
                  foldAnnotationClass = " ace_warning_fold";
                  continue;
                }
              }
              className += foldAnnotationClass;
            } else
              foldClass += " ace_open";
            if (foldWidget.className != foldClass)
              foldWidget.className = foldClass;
            dom.setStyle(foldWidget.style, "height", lineHeight);
            dom.setStyle(foldWidget.style, "display", "inline-block");
            foldWidget.setAttribute("role", "button");
            foldWidget.setAttribute("tabindex", "-1");
            var foldRange = session.getFoldWidgetRange(row);
            if (foldRange)
              foldWidget.setAttribute("aria-label", nls("Toggle code folding, rows $0 through $1", [foldRange.start.row + 1, foldRange.end.row + 1]));
            else {
              if (fold)
                foldWidget.setAttribute("aria-label", nls("Toggle code folding, rows $0 through $1", [fold.start.row + 1, fold.end.row + 1]));
              else
                foldWidget.setAttribute("aria-label", nls("Toggle code folding, row $0", [row + 1]));
            }
            if (isClosedFold) {
              foldWidget.setAttribute("aria-expanded", "false");
              foldWidget.setAttribute("title", nls("Unfold code"));
            } else {
              foldWidget.setAttribute("aria-expanded", "true");
              foldWidget.setAttribute("title", nls("Fold code"));
            }
          } else {
            if (foldWidget) {
              dom.setStyle(foldWidget.style, "display", "none");
              foldWidget.setAttribute("tabindex", "0");
              foldWidget.removeAttribute("role");
              foldWidget.removeAttribute("aria-label");
            }
          }
          if (annotationInFold && this.$showFoldedAnnotations) {
            annotationNode.className = "ace_gutter_annotation";
            annotationIconNode.className = iconClassName;
            annotationIconNode.className += foldAnnotationClass;
            dom.setStyle(annotationIconNode.style, "height", lineHeight);
            dom.setStyle(annotationNode.style, "display", "block");
            dom.setStyle(annotationNode.style, "height", lineHeight);
            annotationNode.setAttribute("aria-label", nls("Read annotations row $0", [rowText]));
            annotationNode.setAttribute("tabindex", "-1");
            annotationNode.setAttribute("role", "button");
          } else if (this.$annotations[row]) {
            annotationNode.className = "ace_gutter_annotation";
            annotationIconNode.className = iconClassName;
            if (this.$useSvgGutterIcons)
              annotationIconNode.className += this.$annotations[row].className;
            else
              element.classList.add(this.$annotations[row].className.replace(" ", ""));
            dom.setStyle(annotationIconNode.style, "height", lineHeight);
            dom.setStyle(annotationNode.style, "display", "block");
            dom.setStyle(annotationNode.style, "height", lineHeight);
            annotationNode.setAttribute("aria-label", nls("Read annotations row $0", [rowText]));
            annotationNode.setAttribute("tabindex", "-1");
            annotationNode.setAttribute("role", "button");
          } else {
            dom.setStyle(annotationNode.style, "display", "none");
            annotationNode.removeAttribute("aria-label");
            annotationNode.removeAttribute("role");
            annotationNode.setAttribute("tabindex", "0");
          }
          if (rowText !== textNode.data) {
            textNode.data = rowText;
          }
          if (element.className != className)
            element.className = className;
          dom.setStyle(cell.element.style, "height", this.$lines.computeLineHeight(row, config2, session) + "px");
          dom.setStyle(cell.element.style, "top", this.$lines.computeLineTop(row, config2, session) + "px");
          cell.text = rowText;
          if (annotationNode.style.display === "none" && foldWidget.style.display === "none")
            cell.element.setAttribute("aria-hidden", true);
          else
            cell.element.setAttribute("aria-hidden", false);
          return cell;
        };
        Gutter2.prototype.setHighlightGutterLine = function(highlightGutterLine) {
          this.$highlightGutterLine = highlightGutterLine;
        };
        Gutter2.prototype.setShowLineNumbers = function(show) {
          this.$renderer = !show && {
            getWidth: function() {
              return 0;
            },
            getText: function() {
              return "";
            }
          };
        };
        Gutter2.prototype.getShowLineNumbers = function() {
          return this.$showLineNumbers;
        };
        Gutter2.prototype.setShowFoldWidgets = function(show) {
          if (show)
            dom.addCssClass(this.element, "ace_folding-enabled");
          else
            dom.removeCssClass(this.element, "ace_folding-enabled");
          this.$showFoldWidgets = show;
          this.$padding = null;
        };
        Gutter2.prototype.getShowFoldWidgets = function() {
          return this.$showFoldWidgets;
        };
        Gutter2.prototype.$computePadding = function() {
          if (!this.element.firstChild)
            return { left: 0, right: 0 };
          var style = dom.computedStyle(
            /**@type{Element}*/
            this.element.firstChild
          );
          this.$padding = {};
          this.$padding.left = (parseInt(style.borderLeftWidth) || 0) + (parseInt(style.paddingLeft) || 0) + 1;
          this.$padding.right = (parseInt(style.borderRightWidth) || 0) + (parseInt(style.paddingRight) || 0);
          return this.$padding;
        };
        Gutter2.prototype.getRegion = function(point) {
          var padding = this.$padding || this.$computePadding();
          var rect = this.element.getBoundingClientRect();
          if (point.x < padding.left + rect.left)
            return "markers";
          if (this.$showFoldWidgets && point.x > rect.right - padding.right)
            return "foldWidgets";
        };
        return Gutter2;
      }()
    );
    Gutter.prototype.$fixedWidth = false;
    Gutter.prototype.$highlightGutterLine = true;
    Gutter.prototype.$renderer = "";
    Gutter.prototype.$showLineNumbers = true;
    Gutter.prototype.$showFoldWidgets = true;
    oop.implement(Gutter.prototype, EventEmitter);
    function onCreateCell(element) {
      var textNode = document.createTextNode("");
      element.appendChild(textNode);
      var foldWidget = dom.createElement("span");
      element.appendChild(foldWidget);
      var annotationNode = dom.createElement("span");
      element.appendChild(annotationNode);
      var annotationIconNode = dom.createElement("span");
      annotationNode.appendChild(annotationIconNode);
      return element;
    }
    exports2.Gutter = Gutter;
  });
  ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(require2, exports2, module2) {
    var Range = require2("../range").Range;
    var dom = require2("../lib/dom");
    var Marker = (
      /** @class */
      function() {
        function Marker2(parentEl2) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_marker-layer";
          parentEl2.appendChild(this.element);
        }
        Marker2.prototype.setPadding = function(padding) {
          this.$padding = padding;
        };
        Marker2.prototype.setSession = function(session) {
          this.session = session;
        };
        Marker2.prototype.setMarkers = function(markers) {
          this.markers = markers;
        };
        Marker2.prototype.elt = function(className, css2) {
          var x = this.i != -1 && this.element.childNodes[this.i];
          if (!x) {
            x = document.createElement("div");
            this.element.appendChild(x);
            this.i = -1;
          } else {
            this.i++;
          }
          x.style.cssText = css2;
          x.className = className;
        };
        Marker2.prototype.update = function(config2) {
          if (!config2)
            return;
          this.config = config2;
          this.i = 0;
          var html;
          for (var key in this.markers) {
            var marker = this.markers[key];
            if (!marker.range) {
              marker.update(html, this, this.session, config2);
              continue;
            }
            var range = marker.range.clipRows(config2.firstRow, config2.lastRow);
            if (range.isEmpty())
              continue;
            range = range.toScreenRange(this.session);
            if (marker.renderer) {
              var top2 = this.$getTop(range.start.row, config2);
              var left = this.$padding + range.start.column * config2.characterWidth;
              marker.renderer(html, range, left, top2, config2);
            } else if (marker.type == "fullLine") {
              this.drawFullLineMarker(html, range, marker.clazz, config2);
            } else if (marker.type == "screenLine") {
              this.drawScreenLineMarker(html, range, marker.clazz, config2);
            } else if (range.isMultiLine()) {
              if (marker.type == "text")
                this.drawTextMarker(html, range, marker.clazz, config2);
              else
                this.drawMultiLineMarker(html, range, marker.clazz, config2);
            } else {
              this.drawSingleLineMarker(html, range, marker.clazz + " ace_start ace_br15", config2);
            }
          }
          if (this.i != -1) {
            while (this.i < this.element.childElementCount)
              this.element.removeChild(this.element.lastChild);
          }
        };
        Marker2.prototype.$getTop = function(row, layerConfig) {
          return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
        };
        Marker2.prototype.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
          var session = this.session;
          var start = range.start.row;
          var end = range.end.row;
          var row = start;
          var prev = 0;
          var curr = 0;
          var next = session.getScreenLastRowColumn(row);
          var lineRange = new Range(row, range.start.column, row, curr);
          for (; row <= end; row++) {
            lineRange.start.row = lineRange.end.row = row;
            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
            lineRange.end.column = next;
            prev = curr;
            curr = next;
            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? " ace_start" : "") + " ace_br" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);
          }
        };
        Marker2.prototype.drawMultiLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
          var padding = this.$padding;
          var height = config2.lineHeight;
          var top2 = this.$getTop(range.start.row, config2);
          var left = padding + range.start.column * config2.characterWidth;
          extraStyle = extraStyle || "";
          if (this.session.$bidiHandler.isBidiRow(range.start.row)) {
            var range1 = range.clone();
            range1.end.row = range1.start.row;
            range1.end.column = this.session.getLine(range1.start.row).length;
            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br1 ace_start", config2, null, extraStyle);
          } else {
            this.elt(clazz + " ace_br1 ace_start", "height:" + height + "px;right:0;top:" + top2 + "px;left:" + left + "px;" + (extraStyle || ""));
          }
          if (this.session.$bidiHandler.isBidiRow(range.end.row)) {
            var range1 = range.clone();
            range1.start.row = range1.end.row;
            range1.start.column = 0;
            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br12", config2, null, extraStyle);
          } else {
            top2 = this.$getTop(range.end.row, config2);
            var width = range.end.column * config2.characterWidth;
            this.elt(clazz + " ace_br12", "height:" + height + "px;width:" + width + "px;top:" + top2 + "px;left:" + padding + "px;" + (extraStyle || ""));
          }
          height = (range.end.row - range.start.row - 1) * config2.lineHeight;
          if (height <= 0)
            return;
          top2 = this.$getTop(range.start.row + 1, config2);
          var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);
          this.elt(clazz + (radiusClass ? " ace_br" + radiusClass : ""), "height:" + height + "px;right:0;top:" + top2 + "px;left:" + padding + "px;" + (extraStyle || ""));
        };
        Marker2.prototype.drawSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
          if (this.session.$bidiHandler.isBidiRow(range.start.row))
            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config2, extraLength, extraStyle);
          var height = config2.lineHeight;
          var width = (range.end.column + (extraLength || 0) - range.start.column) * config2.characterWidth;
          var top2 = this.$getTop(range.start.row, config2);
          var left = this.$padding + range.start.column * config2.characterWidth;
          this.elt(clazz, "height:" + height + "px;width:" + width + "px;top:" + top2 + "px;left:" + left + "px;" + (extraStyle || ""));
        };
        Marker2.prototype.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
          var height = config2.lineHeight, top2 = this.$getTop(range.start.row, config2), padding = this.$padding;
          var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);
          selections.forEach(function(selection) {
            this.elt(clazz, "height:" + height + "px;width:" + (selection.width + (extraLength || 0)) + "px;top:" + top2 + "px;left:" + (padding + selection.left) + "px;" + (extraStyle || ""));
          }, this);
        };
        Marker2.prototype.drawFullLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
          var top2 = this.$getTop(range.start.row, config2);
          var height = config2.lineHeight;
          if (range.start.row != range.end.row)
            height += this.$getTop(range.end.row, config2) - top2;
          this.elt(clazz, "height:" + height + "px;top:" + top2 + "px;left:0;right:0;" + (extraStyle || ""));
        };
        Marker2.prototype.drawScreenLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
          var top2 = this.$getTop(range.start.row, config2);
          var height = config2.lineHeight;
          this.elt(clazz, "height:" + height + "px;top:" + top2 + "px;left:0;right:0;" + (extraStyle || ""));
        };
        return Marker2;
      }()
    );
    Marker.prototype.$padding = 0;
    function getBorderClass(tl, tr, br, bl) {
      return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);
    }
    exports2.Marker = Marker;
  });
  ace.define("ace/layer/text_util", ["require", "exports", "module"], function(require2, exports2, module2) {
    var textTokens = /* @__PURE__ */ new Set(["text", "rparen", "lparen"]);
    exports2.isTextToken = function(tokenType) {
      return textTokens.has(tokenType);
    };
  });
  ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter", "ace/config", "ace/layer/text_util"], function(require2, exports2, module2) {
    var oop = require2("../lib/oop");
    var dom = require2("../lib/dom");
    var lang = require2("../lib/lang");
    var Lines = require2("./lines").Lines;
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var nls = require2("../config").nls;
    var isTextToken = require2("./text_util").isTextToken;
    var Text2 = (
      /** @class */
      function() {
        function Text3(parentEl2) {
          this.dom = dom;
          this.element = this.dom.createElement("div");
          this.element.className = "ace_layer ace_text-layer";
          parentEl2.appendChild(this.element);
          this.$updateEolChar = this.$updateEolChar.bind(this);
          this.$lines = new Lines(this.element);
        }
        Text3.prototype.$updateEolChar = function() {
          var doc = this.session.doc;
          var unixMode = doc.getNewLineCharacter() == "\n" && doc.getNewLineMode() != "windows";
          var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
          if (this.EOL_CHAR != EOL_CHAR) {
            this.EOL_CHAR = EOL_CHAR;
            return true;
          }
        };
        Text3.prototype.setPadding = function(padding) {
          this.$padding = padding;
          this.element.style.margin = "0 " + padding + "px";
        };
        Text3.prototype.getLineHeight = function() {
          return this.$fontMetrics.$characterSize.height || 0;
        };
        Text3.prototype.getCharacterWidth = function() {
          return this.$fontMetrics.$characterSize.width || 0;
        };
        Text3.prototype.$setFontMetrics = function(measure) {
          this.$fontMetrics = measure;
          this.$fontMetrics.on(
            "changeCharacterSize",
            (function(e2) {
              this._signal("changeCharacterSize", e2);
            }).bind(this)
          );
          this.$pollSizeChanges();
        };
        Text3.prototype.checkForSizeChanges = function() {
          this.$fontMetrics.checkForSizeChanges();
        };
        Text3.prototype.$pollSizeChanges = function() {
          return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
        };
        Text3.prototype.setSession = function(session) {
          this.session = session;
          if (session)
            this.$computeTabString();
        };
        Text3.prototype.setShowInvisibles = function(showInvisibles) {
          if (this.showInvisibles == showInvisibles)
            return false;
          this.showInvisibles = showInvisibles;
          if (typeof showInvisibles == "string") {
            this.showSpaces = /tab/i.test(showInvisibles);
            this.showTabs = /space/i.test(showInvisibles);
            this.showEOL = /eol/i.test(showInvisibles);
          } else {
            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;
          }
          this.$computeTabString();
          return true;
        };
        Text3.prototype.setDisplayIndentGuides = function(display) {
          if (this.displayIndentGuides == display)
            return false;
          this.displayIndentGuides = display;
          this.$computeTabString();
          return true;
        };
        Text3.prototype.setHighlightIndentGuides = function(highlight) {
          if (this.$highlightIndentGuides === highlight)
            return false;
          this.$highlightIndentGuides = highlight;
          return highlight;
        };
        Text3.prototype.$computeTabString = function() {
          var tabSize = this.session.getTabSize();
          this.tabSize = tabSize;
          var tabStr = this.$tabStrings = [0];
          for (var i = 1; i < tabSize + 1; i++) {
            if (this.showTabs) {
              var span = this.dom.createElement("span");
              span.className = "ace_invisible ace_invisible_tab";
              span.textContent = lang.stringRepeat(this.TAB_CHAR, i);
              tabStr.push(span);
            } else {
              tabStr.push(this.dom.createTextNode(lang.stringRepeat(" ", i), this.element));
            }
          }
          if (this.displayIndentGuides) {
            this.$indentGuideRe = /\s\S| \t|\t |\s$/;
            var className = "ace_indent-guide";
            var spaceClass = this.showSpaces ? " ace_invisible ace_invisible_space" : "";
            var spaceContent = this.showSpaces ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize) : lang.stringRepeat(" ", this.tabSize);
            var tabClass = this.showTabs ? " ace_invisible ace_invisible_tab" : "";
            var tabContent = this.showTabs ? lang.stringRepeat(this.TAB_CHAR, this.tabSize) : spaceContent;
            var span = this.dom.createElement("span");
            span.className = className + spaceClass;
            span.textContent = spaceContent;
            this.$tabStrings[" "] = span;
            var span = this.dom.createElement("span");
            span.className = className + tabClass;
            span.textContent = tabContent;
            this.$tabStrings["	"] = span;
          }
        };
        Text3.prototype.updateLines = function(config2, firstRow, lastRow) {
          if (this.config.lastRow != config2.lastRow || this.config.firstRow != config2.firstRow) {
            return this.update(config2);
          }
          this.config = config2;
          var first = Math.max(firstRow, config2.firstRow);
          var last = Math.min(lastRow, config2.lastRow);
          var lineElements = this.element.childNodes;
          var lineElementsIdx = 0;
          for (var row = config2.firstRow; row < first; row++) {
            var foldLine = this.session.getFoldLine(row);
            if (foldLine) {
              if (foldLine.containsRow(first)) {
                first = foldLine.start.row;
                break;
              } else {
                row = foldLine.end.row;
              }
            }
            lineElementsIdx++;
          }
          var heightChanged = false;
          var row = first;
          var foldLine = this.session.getNextFoldLine(row);
          var foldStart = foldLine ? foldLine.start.row : Infinity;
          while (true) {
            if (row > foldStart) {
              row = foldLine.end.row + 1;
              foldLine = this.session.getNextFoldLine(row, foldLine);
              foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > last)
              break;
            var lineElement = lineElements[lineElementsIdx++];
            if (lineElement) {
              this.dom.removeChildren(lineElement);
              this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);
              if (heightChanged)
                lineElement.style.top = this.$lines.computeLineTop(row, config2, this.session) + "px";
              var height = config2.lineHeight * this.session.getRowLength(row) + "px";
              if (lineElement.style.height != height) {
                heightChanged = true;
                lineElement.style.height = height;
              }
            }
            row++;
          }
          if (heightChanged) {
            while (lineElementsIdx < this.$lines.cells.length) {
              var cell = this.$lines.cells[lineElementsIdx++];
              cell.element.style.top = this.$lines.computeLineTop(cell.row, config2, this.session) + "px";
            }
          }
        };
        Text3.prototype.scrollLines = function(config2) {
          var oldConfig = this.config;
          this.config = config2;
          if (this.$lines.pageChanged(oldConfig, config2))
            return this.update(config2);
          this.$lines.moveContainer(config2);
          var lastRow = config2.lastRow;
          var oldLastRow = oldConfig ? oldConfig.lastRow : -1;
          if (!oldConfig || oldLastRow < config2.firstRow)
            return this.update(config2);
          if (lastRow < oldConfig.firstRow)
            return this.update(config2);
          if (!oldConfig || oldConfig.lastRow < config2.firstRow)
            return this.update(config2);
          if (config2.lastRow < oldConfig.firstRow)
            return this.update(config2);
          if (oldConfig.firstRow < config2.firstRow)
            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
              this.$lines.shift();
          if (oldConfig.lastRow > config2.lastRow)
            for (var row = this.session.getFoldedRowCount(config2.lastRow + 1, oldConfig.lastRow); row > 0; row--)
              this.$lines.pop();
          if (config2.firstRow < oldConfig.firstRow) {
            this.$lines.unshift(this.$renderLinesFragment(config2, config2.firstRow, oldConfig.firstRow - 1));
          }
          if (config2.lastRow > oldConfig.lastRow) {
            this.$lines.push(this.$renderLinesFragment(config2, oldConfig.lastRow + 1, config2.lastRow));
          }
          this.$highlightIndentGuide();
        };
        Text3.prototype.$renderLinesFragment = function(config2, firstRow, lastRow) {
          var fragment = [];
          var row = firstRow;
          var foldLine = this.session.getNextFoldLine(row);
          var foldStart = foldLine ? foldLine.start.row : Infinity;
          while (true) {
            if (row > foldStart) {
              row = foldLine.end.row + 1;
              foldLine = this.session.getNextFoldLine(row, foldLine);
              foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > lastRow)
              break;
            var line = this.$lines.createCell(row, config2, this.session);
            var lineEl = line.element;
            this.dom.removeChildren(lineEl);
            dom.setStyle(lineEl.style, "height", this.$lines.computeLineHeight(row, config2, this.session) + "px");
            dom.setStyle(lineEl.style, "top", this.$lines.computeLineTop(row, config2, this.session) + "px");
            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);
            if (this.$useLineGroups()) {
              lineEl.className = "ace_line_group";
            } else {
              lineEl.className = "ace_line";
            }
            fragment.push(line);
            row++;
          }
          return fragment;
        };
        Text3.prototype.update = function(config2) {
          this.$lines.moveContainer(config2);
          this.config = config2;
          var firstRow = config2.firstRow;
          var lastRow = config2.lastRow;
          var lines = this.$lines;
          while (lines.getLength())
            lines.pop();
          lines.push(this.$renderLinesFragment(config2, firstRow, lastRow));
        };
        Text3.prototype.$renderToken = function(parent, screenColumn, token, value2) {
          var self2 = this;
          var re = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g;
          var valueFragment = this.dom.createFragment(this.element);
          var m;
          var i = 0;
          while (m = re.exec(value2)) {
            var tab2 = m[1];
            var simpleSpace = m[2];
            var controlCharacter = m[3];
            var cjkSpace = m[4];
            var cjk = m[5];
            if (!self2.showSpaces && simpleSpace)
              continue;
            var before = i != m.index ? value2.slice(i, m.index) : "";
            i = m.index + m[0].length;
            if (before) {
              valueFragment.appendChild(this.dom.createTextNode(before, this.element));
            }
            if (tab2) {
              var tabSize = self2.session.getScreenTabSize(screenColumn + m.index);
              valueFragment.appendChild(self2.$tabStrings[tabSize].cloneNode(true));
              screenColumn += tabSize - 1;
            } else if (simpleSpace) {
              if (self2.showSpaces) {
                var span = this.dom.createElement("span");
                span.className = "ace_invisible ace_invisible_space";
                span.textContent = lang.stringRepeat(self2.SPACE_CHAR, simpleSpace.length);
                valueFragment.appendChild(span);
              } else {
                valueFragment.appendChild(this.dom.createTextNode(simpleSpace, this.element));
              }
            } else if (controlCharacter) {
              var span = this.dom.createElement("span");
              span.className = "ace_invisible ace_invisible_space ace_invalid";
              span.textContent = lang.stringRepeat(self2.SPACE_CHAR, controlCharacter.length);
              valueFragment.appendChild(span);
            } else if (cjkSpace) {
              screenColumn += 1;
              var span = this.dom.createElement("span");
              span.style.width = self2.config.characterWidth * 2 + "px";
              span.className = self2.showSpaces ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk";
              span.textContent = self2.showSpaces ? self2.SPACE_CHAR : cjkSpace;
              valueFragment.appendChild(span);
            } else if (cjk) {
              screenColumn += 1;
              var span = this.dom.createElement("span");
              span.style.width = self2.config.characterWidth * 2 + "px";
              span.className = "ace_cjk";
              span.textContent = cjk;
              valueFragment.appendChild(span);
            }
          }
          valueFragment.appendChild(this.dom.createTextNode(i ? value2.slice(i) : value2, this.element));
          if (!isTextToken(token.type)) {
            var classes2 = "ace_" + token.type.replace(/\./g, " ace_");
            var span = this.dom.createElement("span");
            if (token.type == "fold") {
              span.style.width = token.value.length * this.config.characterWidth + "px";
              span.setAttribute("title", nls("Unfold code"));
            }
            span.className = classes2;
            span.appendChild(valueFragment);
            parent.appendChild(span);
          } else {
            parent.appendChild(valueFragment);
          }
          return screenColumn + value2.length;
        };
        Text3.prototype.renderIndentGuide = function(parent, value2, max) {
          var cols = value2.search(this.$indentGuideRe);
          if (cols <= 0 || cols >= max)
            return value2;
          if (value2[0] == " ") {
            cols -= cols % this.tabSize;
            var count = cols / this.tabSize;
            for (var i = 0; i < count; i++) {
              parent.appendChild(this.$tabStrings[" "].cloneNode(true));
            }
            this.$highlightIndentGuide();
            return value2.substr(cols);
          } else if (value2[0] == "	") {
            for (var i = 0; i < cols; i++) {
              parent.appendChild(this.$tabStrings["	"].cloneNode(true));
            }
            this.$highlightIndentGuide();
            return value2.substr(cols);
          }
          this.$highlightIndentGuide();
          return value2;
        };
        Text3.prototype.$highlightIndentGuide = function() {
          if (!this.$highlightIndentGuides || !this.displayIndentGuides)
            return;
          this.$highlightIndentGuideMarker = {
            indentLevel: void 0,
            start: void 0,
            end: void 0,
            dir: void 0
          };
          var lines = this.session.doc.$lines;
          if (!lines)
            return;
          var cursor = this.session.selection.getCursor();
          var initialIndent = /^\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;
          var elementIndentLevel = Math.floor(initialIndent / this.tabSize);
          this.$highlightIndentGuideMarker = {
            indentLevel: elementIndentLevel,
            start: cursor.row
          };
          var bracketHighlight = this.session.$bracketHighlight;
          if (bracketHighlight) {
            var ranges = this.session.$bracketHighlight.ranges;
            for (var i = 0; i < ranges.length; i++) {
              if (cursor.row !== ranges[i].start.row) {
                this.$highlightIndentGuideMarker.end = ranges[i].start.row;
                if (cursor.row > ranges[i].start.row) {
                  this.$highlightIndentGuideMarker.dir = -1;
                } else {
                  this.$highlightIndentGuideMarker.dir = 1;
                }
                break;
              }
            }
          }
          if (!this.$highlightIndentGuideMarker.end) {
            if (lines[cursor.row] !== "" && cursor.column === lines[cursor.row].length) {
              this.$highlightIndentGuideMarker.dir = 1;
              for (var i = cursor.row + 1; i < lines.length; i++) {
                var line = lines[i];
                var currentIndent = /^\s*/.exec(line)[0].length;
                if (line !== "") {
                  this.$highlightIndentGuideMarker.end = i;
                  if (currentIndent <= initialIndent)
                    break;
                }
              }
            }
          }
          this.$renderHighlightIndentGuide();
        };
        Text3.prototype.$clearActiveIndentGuide = function() {
          var cells = this.$lines.cells;
          for (var i = 0; i < cells.length; i++) {
            var cell = cells[i];
            var childNodes = cell.element.childNodes;
            if (childNodes.length > 0) {
              for (var j = 0; j < childNodes.length; j++) {
                if (childNodes[j].classList && childNodes[j].classList.contains("ace_indent-guide-active")) {
                  childNodes[j].classList.remove("ace_indent-guide-active");
                  break;
                }
              }
            }
          }
        };
        Text3.prototype.$setIndentGuideActive = function(cell, indentLevel) {
          var line = this.session.doc.getLine(cell.row);
          if (line !== "") {
            var childNodes = cell.element.childNodes;
            if (childNodes) {
              var node2 = childNodes[indentLevel - 1];
              if (node2 && node2.classList && node2.classList.contains("ace_indent-guide"))
                node2.classList.add("ace_indent-guide-active");
            }
          }
        };
        Text3.prototype.$renderHighlightIndentGuide = function() {
          if (!this.$lines)
            return;
          var cells = this.$lines.cells;
          this.$clearActiveIndentGuide();
          var indentLevel = this.$highlightIndentGuideMarker.indentLevel;
          if (indentLevel !== 0) {
            if (this.$highlightIndentGuideMarker.dir === 1) {
              for (var i = 0; i < cells.length; i++) {
                var cell = cells[i];
                if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start + 1) {
                  if (cell.row >= this.$highlightIndentGuideMarker.end)
                    break;
                  this.$setIndentGuideActive(cell, indentLevel);
                }
              }
            } else {
              for (var i = cells.length - 1; i >= 0; i--) {
                var cell = cells[i];
                if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {
                  if (cell.row <= this.$highlightIndentGuideMarker.end)
                    break;
                  this.$setIndentGuideActive(cell, indentLevel);
                }
              }
            }
          }
        };
        Text3.prototype.$createLineElement = function(parent) {
          var lineEl = this.dom.createElement("div");
          lineEl.className = "ace_line";
          lineEl.style.height = this.config.lineHeight + "px";
          return lineEl;
        };
        Text3.prototype.$renderWrappedLine = function(parent, tokens, splits) {
          var chars = 0;
          var split = 0;
          var splitChars = splits[0];
          var screenColumn = 0;
          var lineEl = this.$createLineElement();
          parent.appendChild(lineEl);
          for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            var value2 = token.value;
            if (i == 0 && this.displayIndentGuides) {
              chars = value2.length;
              value2 = this.renderIndentGuide(lineEl, value2, splitChars);
              if (!value2)
                continue;
              chars -= value2.length;
            }
            if (chars + value2.length < splitChars) {
              screenColumn = this.$renderToken(lineEl, screenColumn, token, value2);
              chars += value2.length;
            } else {
              while (chars + value2.length >= splitChars) {
                screenColumn = this.$renderToken(lineEl, screenColumn, token, value2.substring(0, splitChars - chars));
                value2 = value2.substring(splitChars - chars);
                chars = splitChars;
                lineEl = this.$createLineElement();
                parent.appendChild(lineEl);
                lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(" ", splits.indent), this.element));
                split++;
                screenColumn = 0;
                splitChars = splits[split] || Number.MAX_VALUE;
              }
              if (value2.length != 0) {
                chars += value2.length;
                screenColumn = this.$renderToken(lineEl, screenColumn, token, value2);
              }
            }
          }
          if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)
            this.$renderOverflowMessage(lineEl, screenColumn, null, "", true);
        };
        Text3.prototype.$renderSimpleLine = function(parent, tokens) {
          var screenColumn = 0;
          for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            var value2 = token.value;
            if (i == 0 && this.displayIndentGuides) {
              value2 = this.renderIndentGuide(parent, value2);
              if (!value2)
                continue;
            }
            if (screenColumn + value2.length > this.MAX_LINE_LENGTH)
              return this.$renderOverflowMessage(parent, screenColumn, token, value2);
            screenColumn = this.$renderToken(parent, screenColumn, token, value2);
          }
        };
        Text3.prototype.$renderOverflowMessage = function(parent, screenColumn, token, value2, hide) {
          token && this.$renderToken(parent, screenColumn, token, value2.slice(0, this.MAX_LINE_LENGTH - screenColumn));
          var overflowEl = this.dom.createElement("span");
          overflowEl.className = "ace_inline_button ace_keyword ace_toggle_wrap";
          overflowEl.textContent = hide ? "<hide>" : "<click to see more...>";
          parent.appendChild(overflowEl);
        };
        Text3.prototype.$renderLine = function(parent, row, foldLine) {
          if (!foldLine && foldLine != false)
            foldLine = this.session.getFoldLine(row);
          if (foldLine)
            var tokens = this.$getFoldLineTokens(row, foldLine);
          else
            var tokens = this.session.getTokens(row);
          var lastLineEl = parent;
          if (tokens.length) {
            var splits = this.session.getRowSplitData(row);
            if (splits && splits.length) {
              this.$renderWrappedLine(parent, tokens, splits);
              var lastLineEl = parent.lastChild;
            } else {
              var lastLineEl = parent;
              if (this.$useLineGroups()) {
                lastLineEl = this.$createLineElement();
                parent.appendChild(lastLineEl);
              }
              this.$renderSimpleLine(lastLineEl, tokens);
            }
          } else if (this.$useLineGroups()) {
            lastLineEl = this.$createLineElement();
            parent.appendChild(lastLineEl);
          }
          if (this.showEOL && lastLineEl) {
            if (foldLine)
              row = foldLine.end.row;
            var invisibleEl = this.dom.createElement("span");
            invisibleEl.className = "ace_invisible ace_invisible_eol";
            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;
            lastLineEl.appendChild(invisibleEl);
          }
        };
        Text3.prototype.$getFoldLineTokens = function(row, foldLine) {
          var session = this.session;
          var renderTokens = [];
          function addTokens(tokens2, from, to) {
            var idx = 0, col = 0;
            while (col + tokens2[idx].value.length < from) {
              col += tokens2[idx].value.length;
              idx++;
              if (idx == tokens2.length)
                return;
            }
            if (col != from) {
              var value2 = tokens2[idx].value.substring(from - col);
              if (value2.length > to - from)
                value2 = value2.substring(0, to - from);
              renderTokens.push({
                type: tokens2[idx].type,
                value: value2
              });
              col = from + value2.length;
              idx += 1;
            }
            while (col < to && idx < tokens2.length) {
              var value2 = tokens2[idx].value;
              if (value2.length + col > to) {
                renderTokens.push({
                  type: tokens2[idx].type,
                  value: value2.substring(0, to - col)
                });
              } else
                renderTokens.push(tokens2[idx]);
              col += value2.length;
              idx += 1;
            }
          }
          var tokens = session.getTokens(row);
          foldLine.walk(function(placeholder, row2, column, lastColumn, isNewRow) {
            if (placeholder != null) {
              renderTokens.push({
                type: "fold",
                value: placeholder
              });
            } else {
              if (isNewRow)
                tokens = session.getTokens(row2);
              if (tokens.length)
                addTokens(tokens, lastColumn, column);
            }
          }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);
          return renderTokens;
        };
        Text3.prototype.$useLineGroups = function() {
          return this.session.getUseWrapMode();
        };
        return Text3;
      }()
    );
    Text2.prototype.EOF_CHAR = "¶";
    Text2.prototype.EOL_CHAR_LF = "¬";
    Text2.prototype.EOL_CHAR_CRLF = "¤";
    Text2.prototype.EOL_CHAR = Text2.prototype.EOL_CHAR_LF;
    Text2.prototype.TAB_CHAR = "—";
    Text2.prototype.SPACE_CHAR = "·";
    Text2.prototype.$padding = 0;
    Text2.prototype.MAX_LINE_LENGTH = 1e4;
    Text2.prototype.showInvisibles = false;
    Text2.prototype.showSpaces = false;
    Text2.prototype.showTabs = false;
    Text2.prototype.showEOL = false;
    Text2.prototype.displayIndentGuides = true;
    Text2.prototype.$highlightIndentGuides = true;
    Text2.prototype.$tabStrings = [];
    Text2.prototype.destroy = {};
    Text2.prototype.onChangeTabSize = Text2.prototype.$computeTabString;
    oop.implement(Text2.prototype, EventEmitter);
    exports2.Text = Text2;
  });
  ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var Cursor = (
      /** @class */
      function() {
        function Cursor2(parentEl2) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_cursor-layer";
          parentEl2.appendChild(this.element);
          this.isVisible = false;
          this.isBlinking = true;
          this.blinkInterval = 1e3;
          this.smoothBlinking = false;
          this.cursors = [];
          this.cursor = this.addCursor();
          dom.addCssClass(this.element, "ace_hidden-cursors");
          this.$updateCursors = this.$updateOpacity.bind(this);
        }
        Cursor2.prototype.$updateOpacity = function(val) {
          var cursors = this.cursors;
          for (var i = cursors.length; i--; )
            dom.setStyle(cursors[i].style, "opacity", val ? "" : "0");
        };
        Cursor2.prototype.$startCssAnimation = function() {
          var cursors = this.cursors;
          for (var i = cursors.length; i--; )
            cursors[i].style.animationDuration = this.blinkInterval + "ms";
          this.$isAnimating = true;
          setTimeout((function() {
            if (this.$isAnimating) {
              dom.addCssClass(this.element, "ace_animate-blinking");
            }
          }).bind(this));
        };
        Cursor2.prototype.$stopCssAnimation = function() {
          this.$isAnimating = false;
          dom.removeCssClass(this.element, "ace_animate-blinking");
        };
        Cursor2.prototype.setPadding = function(padding) {
          this.$padding = padding;
        };
        Cursor2.prototype.setSession = function(session) {
          this.session = session;
        };
        Cursor2.prototype.setBlinking = function(blinking) {
          if (blinking != this.isBlinking) {
            this.isBlinking = blinking;
            this.restartTimer();
          }
        };
        Cursor2.prototype.setBlinkInterval = function(blinkInterval) {
          if (blinkInterval != this.blinkInterval) {
            this.blinkInterval = blinkInterval;
            this.restartTimer();
          }
        };
        Cursor2.prototype.setSmoothBlinking = function(smoothBlinking) {
          if (smoothBlinking != this.smoothBlinking) {
            this.smoothBlinking = smoothBlinking;
            dom.setCssClass(this.element, "ace_smooth-blinking", smoothBlinking);
            this.$updateCursors(true);
            this.restartTimer();
          }
        };
        Cursor2.prototype.addCursor = function() {
          var el = dom.createElement("div");
          el.className = "ace_cursor";
          this.element.appendChild(el);
          this.cursors.push(el);
          return el;
        };
        Cursor2.prototype.removeCursor = function() {
          if (this.cursors.length > 1) {
            var el = this.cursors.pop();
            el.parentNode.removeChild(el);
            return el;
          }
        };
        Cursor2.prototype.hideCursor = function() {
          this.isVisible = false;
          dom.addCssClass(this.element, "ace_hidden-cursors");
          this.restartTimer();
        };
        Cursor2.prototype.showCursor = function() {
          this.isVisible = true;
          dom.removeCssClass(this.element, "ace_hidden-cursors");
          this.restartTimer();
        };
        Cursor2.prototype.restartTimer = function() {
          var update = this.$updateCursors;
          clearInterval(this.intervalId);
          clearTimeout(this.timeoutId);
          this.$stopCssAnimation();
          if (this.smoothBlinking) {
            this.$isSmoothBlinking = false;
            dom.removeCssClass(this.element, "ace_smooth-blinking");
          }
          update(true);
          if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {
            this.$stopCssAnimation();
            return;
          }
          if (this.smoothBlinking) {
            this.$isSmoothBlinking = true;
            setTimeout((function() {
              if (this.$isSmoothBlinking) {
                dom.addCssClass(this.element, "ace_smooth-blinking");
              }
            }).bind(this));
          }
          if (dom.HAS_CSS_ANIMATION) {
            this.$startCssAnimation();
          } else {
            var blink = (
              /**@this{Cursor}*/
              (function() {
                this.timeoutId = setTimeout(function() {
                  update(false);
                }, 0.6 * this.blinkInterval);
              }).bind(this)
            );
            this.intervalId = setInterval(function() {
              update(true);
              blink();
            }, this.blinkInterval);
            blink();
          }
        };
        Cursor2.prototype.getPixelPosition = function(position, onScreen) {
          if (!this.config || !this.session)
            return { left: 0, top: 0 };
          if (!position)
            position = this.session.selection.getCursor();
          var pos = this.session.documentToScreenPosition(position);
          var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);
          var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;
          return { left: cursorLeft, top: cursorTop };
        };
        Cursor2.prototype.isCursorInView = function(pixelPos, config2) {
          return pixelPos.top >= 0 && pixelPos.top < config2.maxHeight;
        };
        Cursor2.prototype.update = function(config2) {
          this.config = config2;
          var selections = this.session.$selectionMarkers;
          var i = 0, cursorIndex = 0;
          if (selections === void 0 || selections.length === 0) {
            selections = [{ cursor: null }];
          }
          for (var i = 0, n = selections.length; i < n; i++) {
            var pixelPos = this.getPixelPosition(selections[i].cursor, true);
            if ((pixelPos.top > config2.height + config2.offset || pixelPos.top < 0) && i > 1) {
              continue;
            }
            var element = this.cursors[cursorIndex++] || this.addCursor();
            var style = element.style;
            if (!this.drawCursor) {
              if (!this.isCursorInView(pixelPos, config2)) {
                dom.setStyle(style, "display", "none");
              } else {
                dom.setStyle(style, "display", "block");
                dom.translate(element, pixelPos.left, pixelPos.top);
                dom.setStyle(style, "width", Math.round(config2.characterWidth) + "px");
                dom.setStyle(style, "height", config2.lineHeight + "px");
              }
            } else {
              this.drawCursor(element, pixelPos, config2, selections[i], this.session);
            }
          }
          while (this.cursors.length > cursorIndex)
            this.removeCursor();
          var overwrite = this.session.getOverwrite();
          this.$setOverwrite(overwrite);
          this.$pixelPos = pixelPos;
          this.restartTimer();
        };
        Cursor2.prototype.$setOverwrite = function(overwrite) {
          if (overwrite != this.overwrite) {
            this.overwrite = overwrite;
            if (overwrite)
              dom.addCssClass(this.element, "ace_overwrite-cursors");
            else
              dom.removeCssClass(this.element, "ace_overwrite-cursors");
          }
        };
        Cursor2.prototype.destroy = function() {
          clearInterval(this.intervalId);
          clearTimeout(this.timeoutId);
        };
        return Cursor2;
      }()
    );
    Cursor.prototype.$padding = 0;
    Cursor.prototype.drawCursor = null;
    exports2.Cursor = Cursor;
  });
  ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var oop = require2("./lib/oop");
    var dom = require2("./lib/dom");
    var event2 = require2("./lib/event");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var MAX_SCROLL_H = 32768;
    var Scrollbar = (
      /** @class */
      function() {
        function Scrollbar2(parent, classSuffix) {
          this.element = dom.createElement("div");
          this.element.className = "ace_scrollbar ace_scrollbar" + classSuffix;
          this.inner = dom.createElement("div");
          this.inner.className = "ace_scrollbar-inner";
          this.inner.textContent = " ";
          this.element.appendChild(this.inner);
          parent.appendChild(this.element);
          this.setVisible(false);
          this.skipEvent = false;
          event2.addListener(this.element, "scroll", this.onScroll.bind(this));
          event2.addListener(this.element, "mousedown", event2.preventDefault);
        }
        Scrollbar2.prototype.setVisible = function(isVisible) {
          this.element.style.display = isVisible ? "" : "none";
          this.isVisible = isVisible;
          this.coeff = 1;
        };
        return Scrollbar2;
      }()
    );
    oop.implement(Scrollbar.prototype, EventEmitter);
    var VScrollBar = (
      /** @class */
      function(_super) {
        __extends(VScrollBar2, _super);
        function VScrollBar2(parent, renderer) {
          var _this = _super.call(this, parent, "-v") || this;
          _this.scrollTop = 0;
          _this.scrollHeight = 0;
          renderer.$scrollbarWidth = _this.width = dom.scrollbarWidth(parent.ownerDocument);
          _this.inner.style.width = _this.element.style.width = (_this.width || 15) + 5 + "px";
          _this.$minWidth = 0;
          return _this;
        }
        VScrollBar2.prototype.onScroll = function() {
          if (!this.skipEvent) {
            this.scrollTop = this.element.scrollTop;
            if (this.coeff != 1) {
              var h2 = this.element.clientHeight / this.scrollHeight;
              this.scrollTop = this.scrollTop * (1 - h2) / (this.coeff - h2);
            }
            this._emit("scroll", { data: this.scrollTop });
          }
          this.skipEvent = false;
        };
        VScrollBar2.prototype.getWidth = function() {
          return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
        };
        VScrollBar2.prototype.setHeight = function(height) {
          this.element.style.height = height + "px";
        };
        VScrollBar2.prototype.setScrollHeight = function(height) {
          this.scrollHeight = height;
          if (height > MAX_SCROLL_H) {
            this.coeff = MAX_SCROLL_H / height;
            height = MAX_SCROLL_H;
          } else if (this.coeff != 1) {
            this.coeff = 1;
          }
          this.inner.style.height = height + "px";
        };
        VScrollBar2.prototype.setScrollTop = function(scrollTop) {
          if (this.scrollTop != scrollTop) {
            this.skipEvent = true;
            this.scrollTop = scrollTop;
            this.element.scrollTop = scrollTop * this.coeff;
          }
        };
        return VScrollBar2;
      }(Scrollbar)
    );
    VScrollBar.prototype.setInnerHeight = VScrollBar.prototype.setScrollHeight;
    var HScrollBar = (
      /** @class */
      function(_super) {
        __extends(HScrollBar2, _super);
        function HScrollBar2(parent, renderer) {
          var _this = _super.call(this, parent, "-h") || this;
          _this.scrollLeft = 0;
          _this.height = renderer.$scrollbarWidth;
          _this.inner.style.height = _this.element.style.height = (_this.height || 15) + 5 + "px";
          return _this;
        }
        HScrollBar2.prototype.onScroll = function() {
          if (!this.skipEvent) {
            this.scrollLeft = this.element.scrollLeft;
            this._emit("scroll", { data: this.scrollLeft });
          }
          this.skipEvent = false;
        };
        HScrollBar2.prototype.getHeight = function() {
          return this.isVisible ? this.height : 0;
        };
        HScrollBar2.prototype.setWidth = function(width) {
          this.element.style.width = width + "px";
        };
        HScrollBar2.prototype.setInnerWidth = function(width) {
          this.inner.style.width = width + "px";
        };
        HScrollBar2.prototype.setScrollWidth = function(width) {
          this.inner.style.width = width + "px";
        };
        HScrollBar2.prototype.setScrollLeft = function(scrollLeft) {
          if (this.scrollLeft != scrollLeft) {
            this.skipEvent = true;
            this.scrollLeft = this.element.scrollLeft = scrollLeft;
          }
        };
        return HScrollBar2;
      }(Scrollbar)
    );
    exports2.ScrollBar = VScrollBar;
    exports2.ScrollBarV = VScrollBar;
    exports2.ScrollBarH = HScrollBar;
    exports2.VScrollBar = VScrollBar;
    exports2.HScrollBar = HScrollBar;
  });
  ace.define("ace/scrollbar_custom", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var __extends = this && this.__extends || /* @__PURE__ */ function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
          d2.__proto__ = b2;
        } || function(d2, b2) {
          for (var p in b2)
            if (Object.prototype.hasOwnProperty.call(b2, p))
              d2[p] = b2[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        if (typeof b !== "function" && b !== null)
          throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var oop = require2("./lib/oop");
    var dom = require2("./lib/dom");
    var event2 = require2("./lib/event");
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    dom.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}", "ace_scrollbar.css", false);
    var ScrollBar = (
      /** @class */
      function() {
        function ScrollBar2(parent, classSuffix) {
          this.element = dom.createElement("div");
          this.element.className = "ace_sb" + classSuffix;
          this.inner = dom.createElement("div");
          this.inner.className = "";
          this.element.appendChild(this.inner);
          this.VScrollWidth = 12;
          this.HScrollHeight = 12;
          parent.appendChild(this.element);
          this.setVisible(false);
          this.skipEvent = false;
          event2.addMultiMouseDownListener(this.element, [500, 300, 300], this, "onMouseDown");
        }
        ScrollBar2.prototype.setVisible = function(isVisible) {
          this.element.style.display = isVisible ? "" : "none";
          this.isVisible = isVisible;
          this.coeff = 1;
        };
        return ScrollBar2;
      }()
    );
    oop.implement(ScrollBar.prototype, EventEmitter);
    var VScrollBar = (
      /** @class */
      function(_super) {
        __extends(VScrollBar2, _super);
        function VScrollBar2(parent, renderer) {
          var _this = _super.call(this, parent, "-v") || this;
          _this.scrollTop = 0;
          _this.scrollHeight = 0;
          _this.parent = parent;
          _this.width = _this.VScrollWidth;
          _this.renderer = renderer;
          _this.inner.style.width = _this.element.style.width = (_this.width || 15) + "px";
          _this.$minWidth = 0;
          return _this;
        }
        VScrollBar2.prototype.onMouseDown = function(eType, e2) {
          if (eType !== "mousedown")
            return;
          if (event2.getButton(e2) !== 0 || e2.detail === 2) {
            return;
          }
          if (e2.target === this.inner) {
            var self2 = this;
            var mousePageY = e2.clientY;
            var onMouseMove = function(e3) {
              mousePageY = e3.clientY;
            };
            var onMouseUp = function() {
              clearInterval(timerId);
            };
            var startY = e2.clientY;
            var startTop = this.thumbTop;
            var onScrollInterval = function() {
              if (mousePageY === void 0)
                return;
              var scrollTop = self2.scrollTopFromThumbTop(startTop + mousePageY - startY);
              if (scrollTop === self2.scrollTop)
                return;
              self2._emit("scroll", { data: scrollTop });
            };
            event2.capture(this.inner, onMouseMove, onMouseUp);
            var timerId = setInterval(onScrollInterval, 20);
            return event2.preventDefault(e2);
          }
          var top2 = e2.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;
          this._emit("scroll", { data: this.scrollTopFromThumbTop(top2) });
          return event2.preventDefault(e2);
        };
        VScrollBar2.prototype.getHeight = function() {
          return this.height;
        };
        VScrollBar2.prototype.scrollTopFromThumbTop = function(thumbTop) {
          var scrollTop = thumbTop * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);
          scrollTop = scrollTop >> 0;
          if (scrollTop < 0) {
            scrollTop = 0;
          } else if (scrollTop > this.pageHeight - this.viewHeight) {
            scrollTop = this.pageHeight - this.viewHeight;
          }
          return scrollTop;
        };
        VScrollBar2.prototype.getWidth = function() {
          return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
        };
        VScrollBar2.prototype.setHeight = function(height) {
          this.height = Math.max(0, height);
          this.slideHeight = this.height;
          this.viewHeight = this.height;
          this.setScrollHeight(this.pageHeight, true);
        };
        VScrollBar2.prototype.setScrollHeight = function(height, force) {
          if (this.pageHeight === height && !force)
            return;
          this.pageHeight = height;
          this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight;
          if (this.thumbHeight > this.slideHeight)
            this.thumbHeight = this.slideHeight;
          if (this.thumbHeight < 15)
            this.thumbHeight = 15;
          this.inner.style.height = this.thumbHeight + "px";
          if (this.scrollTop > this.pageHeight - this.viewHeight) {
            this.scrollTop = this.pageHeight - this.viewHeight;
            if (this.scrollTop < 0)
              this.scrollTop = 0;
            this._emit("scroll", { data: this.scrollTop });
          }
        };
        VScrollBar2.prototype.setScrollTop = function(scrollTop) {
          this.scrollTop = scrollTop;
          if (scrollTop < 0)
            scrollTop = 0;
          this.thumbTop = scrollTop * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight);
          this.inner.style.top = this.thumbTop + "px";
        };
        return VScrollBar2;
      }(ScrollBar)
    );
    VScrollBar.prototype.setInnerHeight = VScrollBar.prototype.setScrollHeight;
    var HScrollBar = (
      /** @class */
      function(_super) {
        __extends(HScrollBar2, _super);
        function HScrollBar2(parent, renderer) {
          var _this = _super.call(this, parent, "-h") || this;
          _this.scrollLeft = 0;
          _this.scrollWidth = 0;
          _this.height = _this.HScrollHeight;
          _this.inner.style.height = _this.element.style.height = (_this.height || 12) + "px";
          _this.renderer = renderer;
          return _this;
        }
        HScrollBar2.prototype.onMouseDown = function(eType, e2) {
          if (eType !== "mousedown")
            return;
          if (event2.getButton(e2) !== 0 || e2.detail === 2) {
            return;
          }
          if (e2.target === this.inner) {
            var self2 = this;
            var mousePageX = e2.clientX;
            var onMouseMove = function(e3) {
              mousePageX = e3.clientX;
            };
            var onMouseUp = function() {
              clearInterval(timerId);
            };
            var startX = e2.clientX;
            var startLeft = this.thumbLeft;
            var onScrollInterval = function() {
              if (mousePageX === void 0)
                return;
              var scrollLeft = self2.scrollLeftFromThumbLeft(startLeft + mousePageX - startX);
              if (scrollLeft === self2.scrollLeft)
                return;
              self2._emit("scroll", { data: scrollLeft });
            };
            event2.capture(this.inner, onMouseMove, onMouseUp);
            var timerId = setInterval(onScrollInterval, 20);
            return event2.preventDefault(e2);
          }
          var left = e2.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;
          this._emit("scroll", { data: this.scrollLeftFromThumbLeft(left) });
          return event2.preventDefault(e2);
        };
        HScrollBar2.prototype.getHeight = function() {
          return this.isVisible ? this.height : 0;
        };
        HScrollBar2.prototype.scrollLeftFromThumbLeft = function(thumbLeft) {
          var scrollLeft = thumbLeft * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);
          scrollLeft = scrollLeft >> 0;
          if (scrollLeft < 0) {
            scrollLeft = 0;
          } else if (scrollLeft > this.pageWidth - this.viewWidth) {
            scrollLeft = this.pageWidth - this.viewWidth;
          }
          return scrollLeft;
        };
        HScrollBar2.prototype.setWidth = function(width) {
          this.width = Math.max(0, width);
          this.element.style.width = this.width + "px";
          this.slideWidth = this.width;
          this.viewWidth = this.width;
          this.setScrollWidth(this.pageWidth, true);
        };
        HScrollBar2.prototype.setScrollWidth = function(width, force) {
          if (this.pageWidth === width && !force)
            return;
          this.pageWidth = width;
          this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth;
          if (this.thumbWidth > this.slideWidth)
            this.thumbWidth = this.slideWidth;
          if (this.thumbWidth < 15)
            this.thumbWidth = 15;
          this.inner.style.width = this.thumbWidth + "px";
          if (this.scrollLeft > this.pageWidth - this.viewWidth) {
            this.scrollLeft = this.pageWidth - this.viewWidth;
            if (this.scrollLeft < 0)
              this.scrollLeft = 0;
            this._emit("scroll", { data: this.scrollLeft });
          }
        };
        HScrollBar2.prototype.setScrollLeft = function(scrollLeft) {
          this.scrollLeft = scrollLeft;
          if (scrollLeft < 0)
            scrollLeft = 0;
          this.thumbLeft = scrollLeft * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth);
          this.inner.style.left = this.thumbLeft + "px";
        };
        return HScrollBar2;
      }(ScrollBar)
    );
    HScrollBar.prototype.setInnerWidth = HScrollBar.prototype.setScrollWidth;
    exports2.ScrollBar = VScrollBar;
    exports2.ScrollBarV = VScrollBar;
    exports2.ScrollBarH = HScrollBar;
    exports2.VScrollBar = VScrollBar;
    exports2.HScrollBar = HScrollBar;
  });
  ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(require2, exports2, module2) {
    var event2 = require2("./lib/event");
    var RenderLoop = (
      /** @class */
      function() {
        function RenderLoop2(onRender, win) {
          this.onRender = onRender;
          this.pending = false;
          this.changes = 0;
          this.$recursionLimit = 2;
          this.window = win || window;
          var _self = this;
          this._flush = function(ts) {
            _self.pending = false;
            var changes = _self.changes;
            if (changes) {
              event2.blockIdle(100);
              _self.changes = 0;
              _self.onRender(changes);
            }
            if (_self.changes) {
              if (_self.$recursionLimit-- < 0)
                return;
              _self.schedule();
            } else {
              _self.$recursionLimit = 2;
            }
          };
        }
        RenderLoop2.prototype.schedule = function(change) {
          this.changes = this.changes | change;
          if (this.changes && !this.pending) {
            event2.nextFrame(this._flush);
            this.pending = true;
          }
        };
        RenderLoop2.prototype.clear = function(change) {
          var changes = this.changes;
          this.changes = 0;
          return changes;
        };
        return RenderLoop2;
      }()
    );
    exports2.RenderLoop = RenderLoop;
  });
  ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var oop = require2("../lib/oop");
    var dom = require2("../lib/dom");
    var lang = require2("../lib/lang");
    var event2 = require2("../lib/event");
    var useragent = require2("../lib/useragent");
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var CHAR_COUNT = 512;
    var USE_OBSERVER = typeof ResizeObserver == "function";
    var L = 200;
    var FontMetrics = (
      /** @class */
      function() {
        function FontMetrics2(parentEl2) {
          this.el = dom.createElement("div");
          this.$setMeasureNodeStyles(this.el.style, true);
          this.$main = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$main.style);
          this.$measureNode = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$measureNode.style);
          this.el.appendChild(this.$main);
          this.el.appendChild(this.$measureNode);
          parentEl2.appendChild(this.el);
          this.$measureNode.textContent = lang.stringRepeat("X", CHAR_COUNT);
          this.$characterSize = { width: 0, height: 0 };
          if (USE_OBSERVER)
            this.$addObserver();
          else
            this.checkForSizeChanges();
        }
        FontMetrics2.prototype.$setMeasureNodeStyles = function(style, isRoot) {
          style.width = style.height = "auto";
          style.left = style.top = "0px";
          style.visibility = "hidden";
          style.position = "absolute";
          style.whiteSpace = "pre";
          if (useragent.isIE < 8) {
            style["font-family"] = "inherit";
          } else {
            style.font = "inherit";
          }
          style.overflow = isRoot ? "hidden" : "visible";
        };
        FontMetrics2.prototype.checkForSizeChanges = function(size) {
          if (size === void 0)
            size = this.$measureSizes();
          if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
            this.$measureNode.style.fontWeight = "bold";
            var boldSize = this.$measureSizes();
            this.$measureNode.style.fontWeight = "";
            this.$characterSize = size;
            this.charSizes = /* @__PURE__ */ Object.create(null);
            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
            this._emit("changeCharacterSize", { data: size });
          }
        };
        FontMetrics2.prototype.$addObserver = function() {
          var self2 = this;
          this.$observer = new window.ResizeObserver(function(e2) {
            self2.checkForSizeChanges();
          });
          this.$observer.observe(this.$measureNode);
        };
        FontMetrics2.prototype.$pollSizeChanges = function() {
          if (this.$pollSizeChangesTimer || this.$observer)
            return this.$pollSizeChangesTimer;
          var self2 = this;
          return this.$pollSizeChangesTimer = event2.onIdle(function cb() {
            self2.checkForSizeChanges();
            event2.onIdle(cb, 500);
          }, 500);
        };
        FontMetrics2.prototype.setPolling = function(val) {
          if (val) {
            this.$pollSizeChanges();
          } else if (this.$pollSizeChangesTimer) {
            clearInterval(this.$pollSizeChangesTimer);
            this.$pollSizeChangesTimer = 0;
          }
        };
        FontMetrics2.prototype.$measureSizes = function(node2) {
          var size = {
            height: (node2 || this.$measureNode).clientHeight,
            width: (node2 || this.$measureNode).clientWidth / CHAR_COUNT
          };
          if (size.width === 0 || size.height === 0)
            return null;
          return size;
        };
        FontMetrics2.prototype.$measureCharWidth = function(ch) {
          this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);
          var rect = this.$main.getBoundingClientRect();
          return rect.width / CHAR_COUNT;
        };
        FontMetrics2.prototype.getCharacterWidth = function(ch) {
          var w = this.charSizes[ch];
          if (w === void 0) {
            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;
          }
          return w;
        };
        FontMetrics2.prototype.destroy = function() {
          clearInterval(this.$pollSizeChangesTimer);
          if (this.$observer)
            this.$observer.disconnect();
          if (this.el && this.el.parentNode)
            this.el.parentNode.removeChild(this.el);
        };
        FontMetrics2.prototype.$getZoom = function(element) {
          if (!element || !element.parentElement)
            return 1;
          return (window.getComputedStyle(element)["zoom"] || 1) * this.$getZoom(element.parentElement);
        };
        FontMetrics2.prototype.$initTransformMeasureNodes = function() {
          var t = function(t2, l) {
            return ["div", {
              style: "position: absolute;top:" + t2 + "px;left:" + l + "px;"
            }];
          };
          this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);
        };
        FontMetrics2.prototype.transformCoordinates = function(clientPos, elPos) {
          if (clientPos) {
            var zoom = this.$getZoom(this.el);
            clientPos = mul(1 / zoom, clientPos);
          }
          function solve(l1, l2, r) {
            var det = l1[1] * l2[0] - l1[0] * l2[1];
            return [
              (-l2[1] * r[0] + l2[0] * r[1]) / det,
              (+l1[1] * r[0] - l1[0] * r[1]) / det
            ];
          }
          function sub(a2, b2) {
            return [a2[0] - b2[0], a2[1] - b2[1]];
          }
          function add2(a2, b2) {
            return [a2[0] + b2[0], a2[1] + b2[1]];
          }
          function mul(a2, b2) {
            return [a2 * b2[0], a2 * b2[1]];
          }
          if (!this.els)
            this.$initTransformMeasureNodes();
          function p(el) {
            var r = el.getBoundingClientRect();
            return [r.left, r.top];
          }
          var a = p(this.els[0]);
          var b = p(this.els[1]);
          var c = p(this.els[2]);
          var d = p(this.els[3]);
          var h2 = solve(sub(d, b), sub(d, c), sub(add2(b, c), add2(d, a)));
          var m1 = mul(1 + h2[0], sub(b, a));
          var m2 = mul(1 + h2[1], sub(c, a));
          if (elPos) {
            var x = elPos;
            var k = h2[0] * x[0] / L + h2[1] * x[1] / L + 1;
            var ut = add2(mul(x[0], m1), mul(x[1], m2));
            return add2(mul(1 / k / L, ut), a);
          }
          var u = sub(clientPos, a);
          var f = solve(sub(m1, mul(h2[0], u)), sub(m2, mul(h2[1], u)), u);
          return mul(L, f);
        };
        return FontMetrics2;
      }()
    );
    FontMetrics.prototype.$characterSize = { width: 0, height: 0 };
    oop.implement(FontMetrics.prototype, EventEmitter);
    exports2.FontMetrics = FontMetrics;
  });
  ace.define("ace/css/editor-css", ["require", "exports", "module"], function(require2, exports2, module2) {
    module2.exports = `
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}`;
  });
  ace.define("ace/layer/decorators", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event_emitter"], function(require2, exports2, module2) {
    var dom = require2("../lib/dom");
    var oop = require2("../lib/oop");
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var Decorator = (
      /** @class */
      function() {
        function Decorator2(parent, renderer) {
          this.canvas = dom.createElement("canvas");
          this.renderer = renderer;
          this.pixelRatio = 1;
          this.maxHeight = renderer.layerConfig.maxHeight;
          this.lineHeight = renderer.layerConfig.lineHeight;
          this.canvasHeight = parent.parent.scrollHeight;
          this.heightRatio = this.canvasHeight / this.maxHeight;
          this.canvasWidth = parent.width;
          this.minDecorationHeight = 2 * this.pixelRatio | 0;
          this.halfMinDecorationHeight = this.minDecorationHeight / 2 | 0;
          this.canvas.width = this.canvasWidth;
          this.canvas.height = this.canvasHeight;
          this.canvas.style.top = "0px";
          this.canvas.style.right = "0px";
          this.canvas.style.zIndex = "7px";
          this.canvas.style.position = "absolute";
          this.colors = {};
          this.colors.dark = {
            "error": "rgba(255, 18, 18, 1)",
            "warning": "rgba(18, 136, 18, 1)",
            "info": "rgba(18, 18, 136, 1)"
          };
          this.colors.light = {
            "error": "rgb(255,51,51)",
            "warning": "rgb(32,133,72)",
            "info": "rgb(35,68,138)"
          };
          parent.element.appendChild(this.canvas);
        }
        Decorator2.prototype.$updateDecorators = function(config2) {
          var colors = this.renderer.theme.isDark === true ? this.colors.dark : this.colors.light;
          if (config2) {
            this.maxHeight = config2.maxHeight;
            this.lineHeight = config2.lineHeight;
            this.canvasHeight = config2.height;
            var allLineHeight = (config2.lastRow + 1) * this.lineHeight;
            if (allLineHeight < this.canvasHeight) {
              this.heightRatio = 1;
            } else {
              this.heightRatio = this.canvasHeight / this.maxHeight;
            }
          }
          var ctx = this.canvas.getContext("2d");
          function compare(a, b) {
            if (a.priority < b.priority)
              return -1;
            if (a.priority > b.priority)
              return 1;
            return 0;
          }
          var annotations = this.renderer.session.$annotations;
          ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
          if (annotations) {
            var priorities = {
              "info": 1,
              "warning": 2,
              "error": 3
            };
            annotations.forEach(function(item) {
              item.priority = priorities[item.type] || null;
            });
            annotations = annotations.sort(compare);
            var foldData = this.renderer.session.$foldData;
            for (var i = 0; i < annotations.length; i++) {
              var row = annotations[i].row;
              var compensateFold = this.compensateFoldRows(row, foldData);
              var currentY = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);
              var y1 = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);
              var y2 = Math.round(((row - compensateFold) * this.lineHeight + this.lineHeight) * this.heightRatio);
              var height = y2 - y1;
              if (height < this.minDecorationHeight) {
                var yCenter = (y1 + y2) / 2 | 0;
                if (yCenter < this.halfMinDecorationHeight) {
                  yCenter = this.halfMinDecorationHeight;
                } else if (yCenter + this.halfMinDecorationHeight > this.canvasHeight) {
                  yCenter = this.canvasHeight - this.halfMinDecorationHeight;
                }
                y1 = Math.round(yCenter - this.halfMinDecorationHeight);
                y2 = Math.round(yCenter + this.halfMinDecorationHeight);
              }
              ctx.fillStyle = colors[annotations[i].type] || null;
              ctx.fillRect(0, currentY, this.canvasWidth, y2 - y1);
            }
          }
          var cursor = this.renderer.session.selection.getCursor();
          if (cursor) {
            var compensateFold = this.compensateFoldRows(cursor.row, foldData);
            var currentY = Math.round((cursor.row - compensateFold) * this.lineHeight * this.heightRatio);
            ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
            ctx.fillRect(0, currentY, this.canvasWidth, 2);
          }
        };
        Decorator2.prototype.compensateFoldRows = function(row, foldData) {
          var compensateFold = 0;
          if (foldData && foldData.length > 0) {
            for (var j = 0; j < foldData.length; j++) {
              if (row > foldData[j].start.row && row < foldData[j].end.row) {
                compensateFold += row - foldData[j].start.row;
              } else if (row >= foldData[j].end.row) {
                compensateFold += foldData[j].end.row - foldData[j].start.row;
              }
            }
          }
          return compensateFold;
        };
        return Decorator2;
      }()
    );
    oop.implement(Decorator.prototype, EventEmitter);
    exports2.Decorator = Decorator;
  });
  ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/scrollbar_custom", "ace/scrollbar_custom", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/css/editor-css", "ace/layer/decorators", "ace/lib/useragent"], function(require2, exports2, module2) {
    var oop = require2("./lib/oop");
    var dom = require2("./lib/dom");
    var lang = require2("./lib/lang");
    var config2 = require2("./config");
    var GutterLayer = require2("./layer/gutter").Gutter;
    var MarkerLayer = require2("./layer/marker").Marker;
    var TextLayer = require2("./layer/text").Text;
    var CursorLayer = require2("./layer/cursor").Cursor;
    var HScrollBar = require2("./scrollbar").HScrollBar;
    var VScrollBar = require2("./scrollbar").VScrollBar;
    var HScrollBarCustom = require2("./scrollbar_custom").HScrollBar;
    var VScrollBarCustom = require2("./scrollbar_custom").VScrollBar;
    var RenderLoop = require2("./renderloop").RenderLoop;
    var FontMetrics = require2("./layer/font_metrics").FontMetrics;
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var editorCss = require2("./css/editor-css");
    var Decorator = require2("./layer/decorators").Decorator;
    var useragent = require2("./lib/useragent");
    dom.importCssString(editorCss, "ace_editor.css", false);
    var VirtualRenderer = (
      /** @class */
      function() {
        function VirtualRenderer2(container, theme) {
          var _self = this;
          this.container = container || dom.createElement("div");
          dom.addCssClass(this.container, "ace_editor");
          if (dom.HI_DPI)
            dom.addCssClass(this.container, "ace_hidpi");
          this.setTheme(theme);
          if (config2.get("useStrictCSP") == null)
            config2.set("useStrictCSP", false);
          this.$gutter = dom.createElement("div");
          this.$gutter.className = "ace_gutter";
          this.container.appendChild(this.$gutter);
          this.$gutter.setAttribute("aria-hidden", "true");
          this.scroller = dom.createElement("div");
          this.scroller.className = "ace_scroller";
          this.container.appendChild(this.scroller);
          this.content = dom.createElement("div");
          this.content.className = "ace_content";
          this.scroller.appendChild(this.content);
          this.$gutterLayer = new GutterLayer(this.$gutter);
          this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));
          this.$markerBack = new MarkerLayer(this.content);
          var textLayer = this.$textLayer = new TextLayer(this.content);
          this.canvas = textLayer.element;
          this.$markerFront = new MarkerLayer(this.content);
          this.$cursorLayer = new CursorLayer(this.content);
          this.$horizScroll = false;
          this.$vScroll = false;
          this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);
          this.scrollBarH = new HScrollBar(this.container, this);
          this.scrollBarV.on("scroll", function(e2) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollTop(e2.data - _self.scrollMargin.top);
          });
          this.scrollBarH.on("scroll", function(e2) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollLeft(e2.data - _self.scrollMargin.left);
          });
          this.scrollTop = 0;
          this.scrollLeft = 0;
          this.cursorPos = {
            row: 0,
            column: 0
          };
          this.$fontMetrics = new FontMetrics(this.container);
          this.$textLayer.$setFontMetrics(this.$fontMetrics);
          this.$textLayer.on("changeCharacterSize", function(e2) {
            _self.updateCharacterSize();
            _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);
            _self._signal("changeCharacterSize", e2);
          });
          this.$size = {
            width: 0,
            height: 0,
            scrollerHeight: 0,
            scrollerWidth: 0,
            $dirty: true
          };
          this.layerConfig = {
            width: 1,
            padding: 0,
            firstRow: 0,
            firstRowScreen: 0,
            lastRow: 0,
            lineHeight: 0,
            characterWidth: 0,
            minHeight: 1,
            maxHeight: 1,
            offset: 0,
            height: 1,
            gutterOffset: 1
          };
          this.scrollMargin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.margin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.$keepTextAreaAtCursor = !useragent.isIOS;
          this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);
          this.$loop.schedule(this.CHANGE_FULL);
          this.updateCharacterSize();
          this.setPadding(4);
          this.$addResizeObserver();
          config2.resetOptions(this);
          config2._signal("renderer", this);
        }
        VirtualRenderer2.prototype.updateCharacterSize = function() {
          if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
            this.setStyle("ace_nobold", !this.$allowBoldFonts);
          }
          this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();
          this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();
          this.$updatePrintMargin();
          dom.setStyle(this.scroller.style, "line-height", this.lineHeight + "px");
        };
        VirtualRenderer2.prototype.setSession = function(session) {
          if (this.session)
            this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode);
          this.session = session;
          if (session && this.scrollMargin.top && session.getScrollTop() <= 0)
            session.setScrollTop(-this.scrollMargin.top);
          this.$cursorLayer.setSession(session);
          this.$markerBack.setSession(session);
          this.$markerFront.setSession(session);
          this.$gutterLayer.setSession(session);
          this.$textLayer.setSession(session);
          if (!session)
            return;
          this.$loop.schedule(this.CHANGE_FULL);
          this.session.$setFontMetrics(this.$fontMetrics);
          this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
          this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);
          this.onChangeNewLineMode();
          this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode);
        };
        VirtualRenderer2.prototype.updateLines = function(firstRow, lastRow, force) {
          if (lastRow === void 0)
            lastRow = Infinity;
          if (!this.$changedLines) {
            this.$changedLines = {
              firstRow,
              lastRow
            };
          } else {
            if (this.$changedLines.firstRow > firstRow)
              this.$changedLines.firstRow = firstRow;
            if (this.$changedLines.lastRow < lastRow)
              this.$changedLines.lastRow = lastRow;
          }
          if (this.$changedLines.lastRow < this.layerConfig.firstRow) {
            if (force)
              this.$changedLines.lastRow = this.layerConfig.lastRow;
            else
              return;
          }
          if (this.$changedLines.firstRow > this.layerConfig.lastRow)
            return;
          this.$loop.schedule(this.CHANGE_LINES);
        };
        VirtualRenderer2.prototype.onChangeNewLineMode = function() {
          this.$loop.schedule(this.CHANGE_TEXT);
          this.$textLayer.$updateEolChar();
          this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
        };
        VirtualRenderer2.prototype.onChangeTabSize = function() {
          this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
          this.$textLayer.onChangeTabSize();
        };
        VirtualRenderer2.prototype.updateText = function() {
          this.$loop.schedule(this.CHANGE_TEXT);
        };
        VirtualRenderer2.prototype.updateFull = function(force) {
          if (force)
            this.$renderChanges(this.CHANGE_FULL, true);
          else
            this.$loop.schedule(this.CHANGE_FULL);
        };
        VirtualRenderer2.prototype.updateFontSize = function() {
          this.$textLayer.checkForSizeChanges();
        };
        VirtualRenderer2.prototype.$updateSizeAsync = function() {
          if (this.$loop.pending)
            this.$size.$dirty = true;
          else
            this.onResize();
        };
        VirtualRenderer2.prototype.onResize = function(force, gutterWidth, width, height) {
          if (this.resizing > 2)
            return;
          else if (this.resizing > 0)
            this.resizing++;
          else
            this.resizing = force ? 1 : 0;
          var el = this.container;
          if (!height)
            height = el.clientHeight || el.scrollHeight;
          if (!width)
            width = el.clientWidth || el.scrollWidth;
          var changes = this.$updateCachedSize(force, gutterWidth, width, height);
          if (this.$resizeTimer)
            this.$resizeTimer.cancel();
          if (!this.$size.scrollerHeight || !width && !height)
            return this.resizing = 0;
          if (force)
            this.$gutterLayer.$padding = null;
          if (force)
            this.$renderChanges(changes | this.$changes, true);
          else
            this.$loop.schedule(changes | this.$changes);
          if (this.resizing)
            this.resizing = 0;
          this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
          if (this.$customScrollbar) {
            this.$updateCustomScrollbar(true);
          }
        };
        VirtualRenderer2.prototype.$updateCachedSize = function(force, gutterWidth, width, height) {
          height -= this.$extraHeight || 0;
          var changes = 0;
          var size = this.$size;
          var oldSize = {
            width: size.width,
            height: size.height,
            scrollerHeight: size.scrollerHeight,
            scrollerWidth: size.scrollerWidth
          };
          if (height && (force || size.height != height)) {
            size.height = height;
            changes |= this.CHANGE_SIZE;
            size.scrollerHeight = size.height;
            if (this.$horizScroll)
              size.scrollerHeight -= this.scrollBarH.getHeight();
            this.scrollBarV.setHeight(size.scrollerHeight);
            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px";
            changes = changes | this.CHANGE_SCROLL;
          }
          if (width && (force || size.width != width)) {
            changes |= this.CHANGE_SIZE;
            size.width = width;
            if (gutterWidth == null)
              gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
            this.gutterWidth = gutterWidth;
            dom.setStyle(this.scrollBarH.element.style, "left", gutterWidth + "px");
            dom.setStyle(this.scroller.style, "left", gutterWidth + this.margin.left + "px");
            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);
            dom.setStyle(this.$gutter.style, "left", this.margin.left + "px");
            var right2 = this.scrollBarV.getWidth() + "px";
            dom.setStyle(this.scrollBarH.element.style, "right", right2);
            dom.setStyle(this.scroller.style, "right", right2);
            dom.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight());
            this.scrollBarH.setWidth(size.scrollerWidth);
            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {
              changes |= this.CHANGE_FULL;
            }
          }
          size.$dirty = !width || !height;
          if (changes)
            this._signal("resize", oldSize);
          return changes;
        };
        VirtualRenderer2.prototype.onGutterResize = function(width) {
          var gutterWidth = this.$showGutter ? width : 0;
          if (gutterWidth != this.gutterWidth)
            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);
          if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {
            this.$loop.schedule(this.CHANGE_FULL);
          } else if (this.$size.$dirty) {
            this.$loop.schedule(this.CHANGE_FULL);
          } else {
            this.$computeLayerConfig();
          }
        };
        VirtualRenderer2.prototype.adjustWrapLimit = function() {
          var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
          var limit = Math.floor(availableWidth / this.characterWidth);
          return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
        };
        VirtualRenderer2.prototype.setAnimatedScroll = function(shouldAnimate) {
          this.setOption("animatedScroll", shouldAnimate);
        };
        VirtualRenderer2.prototype.getAnimatedScroll = function() {
          return this.$animatedScroll;
        };
        VirtualRenderer2.prototype.setShowInvisibles = function(showInvisibles) {
          this.setOption("showInvisibles", showInvisibles);
          this.session.$bidiHandler.setShowInvisibles(showInvisibles);
        };
        VirtualRenderer2.prototype.getShowInvisibles = function() {
          return this.getOption("showInvisibles");
        };
        VirtualRenderer2.prototype.getDisplayIndentGuides = function() {
          return this.getOption("displayIndentGuides");
        };
        VirtualRenderer2.prototype.setDisplayIndentGuides = function(display) {
          this.setOption("displayIndentGuides", display);
        };
        VirtualRenderer2.prototype.getHighlightIndentGuides = function() {
          return this.getOption("highlightIndentGuides");
        };
        VirtualRenderer2.prototype.setHighlightIndentGuides = function(highlight) {
          this.setOption("highlightIndentGuides", highlight);
        };
        VirtualRenderer2.prototype.setShowPrintMargin = function(showPrintMargin) {
          this.setOption("showPrintMargin", showPrintMargin);
        };
        VirtualRenderer2.prototype.getShowPrintMargin = function() {
          return this.getOption("showPrintMargin");
        };
        VirtualRenderer2.prototype.setPrintMarginColumn = function(printMarginColumn) {
          this.setOption("printMarginColumn", printMarginColumn);
        };
        VirtualRenderer2.prototype.getPrintMarginColumn = function() {
          return this.getOption("printMarginColumn");
        };
        VirtualRenderer2.prototype.getShowGutter = function() {
          return this.getOption("showGutter");
        };
        VirtualRenderer2.prototype.setShowGutter = function(show) {
          return this.setOption("showGutter", show);
        };
        VirtualRenderer2.prototype.getFadeFoldWidgets = function() {
          return this.getOption("fadeFoldWidgets");
        };
        VirtualRenderer2.prototype.setFadeFoldWidgets = function(show) {
          this.setOption("fadeFoldWidgets", show);
        };
        VirtualRenderer2.prototype.setHighlightGutterLine = function(shouldHighlight) {
          this.setOption("highlightGutterLine", shouldHighlight);
        };
        VirtualRenderer2.prototype.getHighlightGutterLine = function() {
          return this.getOption("highlightGutterLine");
        };
        VirtualRenderer2.prototype.$updatePrintMargin = function() {
          if (!this.$showPrintMargin && !this.$printMarginEl)
            return;
          if (!this.$printMarginEl) {
            var containerEl = dom.createElement("div");
            containerEl.className = "ace_layer ace_print-margin-layer";
            this.$printMarginEl = dom.createElement("div");
            this.$printMarginEl.className = "ace_print-margin";
            containerEl.appendChild(this.$printMarginEl);
            this.content.insertBefore(containerEl, this.content.firstChild);
          }
          var style = this.$printMarginEl.style;
          style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px";
          style.visibility = this.$showPrintMargin ? "visible" : "hidden";
          if (this.session && this.session.$wrap == -1)
            this.adjustWrapLimit();
        };
        VirtualRenderer2.prototype.getContainerElement = function() {
          return this.container;
        };
        VirtualRenderer2.prototype.getMouseEventTarget = function() {
          return this.scroller;
        };
        VirtualRenderer2.prototype.getTextAreaContainer = function() {
          return this.container;
        };
        VirtualRenderer2.prototype.$moveTextAreaToCursor = function() {
          if (this.$isMousePressed)
            return;
          var style = this.textarea.style;
          var composition = this.$composition;
          if (!this.$keepTextAreaAtCursor && !composition) {
            dom.translate(this.textarea, -100, 0);
            return;
          }
          var pixelPos = this.$cursorLayer.$pixelPos;
          if (!pixelPos)
            return;
          if (composition && composition.markerRange)
            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);
          var config3 = this.layerConfig;
          var posTop = pixelPos.top;
          var posLeft = pixelPos.left;
          posTop -= config3.offset;
          var h2 = composition && composition.useTextareaForIME || useragent.isMobile ? this.lineHeight : 1;
          if (posTop < 0 || posTop > config3.height - h2) {
            dom.translate(this.textarea, 0, 0);
            return;
          }
          var w = 1;
          var maxTop = this.$size.height - h2;
          if (!composition) {
            posTop += this.lineHeight;
          } else {
            if (composition.useTextareaForIME) {
              var val = this.textarea.value;
              w = this.characterWidth * this.session.$getStringScreenWidth(val)[0];
            } else {
              posTop += this.lineHeight + 2;
            }
          }
          posLeft -= this.scrollLeft;
          if (posLeft > this.$size.scrollerWidth - w)
            posLeft = this.$size.scrollerWidth - w;
          posLeft += this.gutterWidth + this.margin.left;
          dom.setStyle(style, "height", h2 + "px");
          dom.setStyle(style, "width", w + "px");
          dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));
        };
        VirtualRenderer2.prototype.getFirstVisibleRow = function() {
          return this.layerConfig.firstRow;
        };
        VirtualRenderer2.prototype.getFirstFullyVisibleRow = function() {
          return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
        };
        VirtualRenderer2.prototype.getLastFullyVisibleRow = function() {
          var config3 = this.layerConfig;
          var lastRow = config3.lastRow;
          var top2 = this.session.documentToScreenRow(lastRow, 0) * config3.lineHeight;
          if (top2 - this.session.getScrollTop() > config3.height - config3.lineHeight)
            return lastRow - 1;
          return lastRow;
        };
        VirtualRenderer2.prototype.getLastVisibleRow = function() {
          return this.layerConfig.lastRow;
        };
        VirtualRenderer2.prototype.setPadding = function(padding) {
          this.$padding = padding;
          this.$textLayer.setPadding(padding);
          this.$cursorLayer.setPadding(padding);
          this.$markerFront.setPadding(padding);
          this.$markerBack.setPadding(padding);
          this.$loop.schedule(this.CHANGE_FULL);
          this.$updatePrintMargin();
        };
        VirtualRenderer2.prototype.setScrollMargin = function(top2, bottom2, left, right2) {
          var sm = this.scrollMargin;
          sm.top = top2 | 0;
          sm.bottom = bottom2 | 0;
          sm.right = right2 | 0;
          sm.left = left | 0;
          sm.v = sm.top + sm.bottom;
          sm.h = sm.left + sm.right;
          if (sm.top && this.scrollTop <= 0 && this.session)
            this.session.setScrollTop(-sm.top);
          this.updateFull();
        };
        VirtualRenderer2.prototype.setMargin = function(top2, bottom2, left, right2) {
          var sm = this.margin;
          sm.top = top2 | 0;
          sm.bottom = bottom2 | 0;
          sm.right = right2 | 0;
          sm.left = left | 0;
          sm.v = sm.top + sm.bottom;
          sm.h = sm.left + sm.right;
          this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);
          this.updateFull();
        };
        VirtualRenderer2.prototype.getHScrollBarAlwaysVisible = function() {
          return this.$hScrollBarAlwaysVisible;
        };
        VirtualRenderer2.prototype.setHScrollBarAlwaysVisible = function(alwaysVisible) {
          this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
        };
        VirtualRenderer2.prototype.getVScrollBarAlwaysVisible = function() {
          return this.$vScrollBarAlwaysVisible;
        };
        VirtualRenderer2.prototype.setVScrollBarAlwaysVisible = function(alwaysVisible) {
          this.setOption("vScrollBarAlwaysVisible", alwaysVisible);
        };
        VirtualRenderer2.prototype.$updateScrollBarV = function() {
          var scrollHeight = this.layerConfig.maxHeight;
          var scrollerHeight = this.$size.scrollerHeight;
          if (!this.$maxLines && this.$scrollPastEnd) {
            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;
            if (this.scrollTop > scrollHeight - scrollerHeight) {
              scrollHeight = this.scrollTop + scrollerHeight;
              this.scrollBarV.scrollTop = null;
            }
          }
          this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);
          this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
        };
        VirtualRenderer2.prototype.$updateScrollBarH = function() {
          this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);
          this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
        };
        VirtualRenderer2.prototype.freeze = function() {
          this.$frozen = true;
        };
        VirtualRenderer2.prototype.unfreeze = function() {
          this.$frozen = false;
        };
        VirtualRenderer2.prototype.$renderChanges = function(changes, force) {
          if (this.$changes) {
            changes |= this.$changes;
            this.$changes = 0;
          }
          if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {
            this.$changes |= changes;
            return;
          }
          if (this.$size.$dirty) {
            this.$changes |= changes;
            return this.onResize(true);
          }
          if (!this.lineHeight) {
            this.$textLayer.checkForSizeChanges();
          }
          this._signal("beforeRender", changes);
          if (this.session && this.session.$bidiHandler)
            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
          var config3 = this.layerConfig;
          if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {
            changes |= this.$computeLayerConfig() | this.$loop.clear();
            if (config3.firstRow != this.layerConfig.firstRow && config3.firstRowScreen == this.layerConfig.firstRowScreen) {
              var st = this.scrollTop + (config3.firstRow - Math.max(this.layerConfig.firstRow, 0)) * this.lineHeight;
              if (st > 0) {
                this.scrollTop = st;
                changes = changes | this.CHANGE_SCROLL;
                changes |= this.$computeLayerConfig() | this.$loop.clear();
              }
            }
            config3 = this.layerConfig;
            this.$updateScrollBarV();
            if (changes & this.CHANGE_H_SCROLL)
              this.$updateScrollBarH();
            dom.translate(this.content, -this.scrollLeft, -config3.offset);
            var width = config3.width + 2 * this.$padding + "px";
            var height = config3.minHeight + "px";
            dom.setStyle(this.content.style, "width", width);
            dom.setStyle(this.content.style, "height", height);
          }
          if (changes & this.CHANGE_H_SCROLL) {
            dom.translate(this.content, -this.scrollLeft, -config3.offset);
            this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller " : "ace_scroller ace_scroll-left ";
            if (this.enableKeyboardAccessibility)
              this.scroller.className += this.keyboardFocusClassName;
          }
          if (changes & this.CHANGE_FULL) {
            this.$changedLines = null;
            this.$textLayer.update(config3);
            if (this.$showGutter)
              this.$gutterLayer.update(config3);
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
            this.$markerBack.update(config3);
            this.$markerFront.update(config3);
            this.$cursorLayer.update(config3);
            this.$moveTextAreaToCursor();
            this._signal("afterRender", changes);
            return;
          }
          if (changes & this.CHANGE_SCROLL) {
            this.$changedLines = null;
            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
              this.$textLayer.update(config3);
            else
              this.$textLayer.scrollLines(config3);
            if (this.$showGutter) {
              if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)
                this.$gutterLayer.update(config3);
              else
                this.$gutterLayer.scrollLines(config3);
            }
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
            this.$markerBack.update(config3);
            this.$markerFront.update(config3);
            this.$cursorLayer.update(config3);
            this.$moveTextAreaToCursor();
            this._signal("afterRender", changes);
            return;
          }
          if (changes & this.CHANGE_TEXT) {
            this.$changedLines = null;
            this.$textLayer.update(config3);
            if (this.$showGutter)
              this.$gutterLayer.update(config3);
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
          } else if (changes & this.CHANGE_LINES) {
            if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter)
              this.$gutterLayer.update(config3);
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
          } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
            if (this.$showGutter)
              this.$gutterLayer.update(config3);
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
          } else if (changes & this.CHANGE_CURSOR) {
            if (this.$highlightGutterLine)
              this.$gutterLayer.updateLineHighlight(config3);
            if (this.$customScrollbar) {
              this.$scrollDecorator.$updateDecorators(config3);
            }
          }
          if (changes & this.CHANGE_CURSOR) {
            this.$cursorLayer.update(config3);
            this.$moveTextAreaToCursor();
          }
          if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
            this.$markerFront.update(config3);
          }
          if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
            this.$markerBack.update(config3);
          }
          this._signal("afterRender", changes);
        };
        VirtualRenderer2.prototype.$autosize = function() {
          var height = this.session.getScreenLength() * this.lineHeight;
          var maxHeight = this.$maxLines * this.lineHeight;
          var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);
          if (this.$horizScroll)
            desiredHeight += this.scrollBarH.getHeight();
          if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)
            desiredHeight = this.$maxPixelHeight;
          var hideScrollbars = desiredHeight <= 2 * this.lineHeight;
          var vScroll = !hideScrollbars && height > maxHeight;
          if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {
            if (vScroll != this.$vScroll) {
              this.$vScroll = vScroll;
              this.scrollBarV.setVisible(vScroll);
            }
            var w = this.container.clientWidth;
            this.container.style.height = desiredHeight + "px";
            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);
            this.desiredHeight = desiredHeight;
            this._signal("autosize");
          }
        };
        VirtualRenderer2.prototype.$computeLayerConfig = function() {
          var session = this.session;
          var size = this.$size;
          var hideScrollbars = size.height <= 2 * this.lineHeight;
          var screenLines = this.session.getScreenLength();
          var maxHeight = screenLines * this.lineHeight;
          var longestLine = this.$getLongestLine();
          var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);
          var hScrollChanged = this.$horizScroll !== horizScroll;
          if (hScrollChanged) {
            this.$horizScroll = horizScroll;
            this.scrollBarH.setVisible(horizScroll);
          }
          var vScrollBefore = this.$vScroll;
          if (this.$maxLines && this.lineHeight > 1)
            this.$autosize();
          var minHeight = size.scrollerHeight + this.lineHeight;
          var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
          maxHeight += scrollPastEnd;
          var sm = this.scrollMargin;
          this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));
          this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));
          var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);
          var vScrollChanged = vScrollBefore !== vScroll;
          if (vScrollChanged) {
            this.$vScroll = vScroll;
            this.scrollBarV.setVisible(vScroll);
          }
          var offset = this.scrollTop % this.lineHeight;
          var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
          var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));
          var lastRow = firstRow + lineCount;
          var firstRowScreen, firstRowHeight;
          var lineHeight = this.lineHeight;
          firstRow = session.screenToDocumentRow(firstRow, 0);
          var foldLine = session.getFoldLine(firstRow);
          if (foldLine) {
            firstRow = foldLine.start.row;
          }
          firstRowScreen = session.documentToScreenRow(firstRow, 0);
          firstRowHeight = session.getRowLength(firstRow) * lineHeight;
          lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
          minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;
          offset = this.scrollTop - firstRowScreen * lineHeight;
          var changes = 0;
          if (this.layerConfig.width != longestLine || hScrollChanged)
            changes = this.CHANGE_H_SCROLL;
          if (hScrollChanged || vScrollChanged) {
            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);
            this._signal("scrollbarVisibilityChanged");
            if (vScrollChanged)
              longestLine = this.$getLongestLine();
          }
          this.layerConfig = {
            width: longestLine,
            padding: this.$padding,
            firstRow,
            firstRowScreen,
            lastRow,
            lineHeight,
            characterWidth: this.characterWidth,
            minHeight,
            maxHeight,
            offset,
            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,
            height: this.$size.scrollerHeight
          };
          if (this.session.$bidiHandler)
            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);
          return changes;
        };
        VirtualRenderer2.prototype.$updateLines = function() {
          if (!this.$changedLines)
            return;
          var firstRow = this.$changedLines.firstRow;
          var lastRow = this.$changedLines.lastRow;
          this.$changedLines = null;
          var layerConfig = this.layerConfig;
          if (firstRow > layerConfig.lastRow + 1) {
            return;
          }
          if (lastRow < layerConfig.firstRow) {
            return;
          }
          if (lastRow === Infinity) {
            if (this.$showGutter)
              this.$gutterLayer.update(layerConfig);
            this.$textLayer.update(layerConfig);
            return;
          }
          this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
          return true;
        };
        VirtualRenderer2.prototype.$getLongestLine = function() {
          var charCount = this.session.getScreenWidth();
          if (this.showInvisibles && !this.session.$useWrapMode)
            charCount += 1;
          if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)
            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;
          return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
        };
        VirtualRenderer2.prototype.updateFrontMarkers = function() {
          this.$markerFront.setMarkers(this.session.getMarkers(true));
          this.$loop.schedule(this.CHANGE_MARKER_FRONT);
        };
        VirtualRenderer2.prototype.updateBackMarkers = function() {
          this.$markerBack.setMarkers(this.session.getMarkers());
          this.$loop.schedule(this.CHANGE_MARKER_BACK);
        };
        VirtualRenderer2.prototype.addGutterDecoration = function(row, className) {
          this.$gutterLayer.addGutterDecoration(row, className);
        };
        VirtualRenderer2.prototype.removeGutterDecoration = function(row, className) {
          this.$gutterLayer.removeGutterDecoration(row, className);
        };
        VirtualRenderer2.prototype.updateBreakpoints = function(rows) {
          this._rows = rows;
          this.$loop.schedule(this.CHANGE_GUTTER);
        };
        VirtualRenderer2.prototype.setAnnotations = function(annotations) {
          this.$gutterLayer.setAnnotations(annotations);
          this.$loop.schedule(this.CHANGE_GUTTER);
        };
        VirtualRenderer2.prototype.updateCursor = function() {
          this.$loop.schedule(this.CHANGE_CURSOR);
        };
        VirtualRenderer2.prototype.hideCursor = function() {
          this.$cursorLayer.hideCursor();
        };
        VirtualRenderer2.prototype.showCursor = function() {
          this.$cursorLayer.showCursor();
        };
        VirtualRenderer2.prototype.scrollSelectionIntoView = function(anchor, lead, offset) {
          this.scrollCursorIntoView(anchor, offset);
          this.scrollCursorIntoView(lead, offset);
        };
        VirtualRenderer2.prototype.scrollCursorIntoView = function(cursor, offset, $viewMargin) {
          if (this.$size.scrollerHeight === 0)
            return;
          var pos = this.$cursorLayer.getPixelPosition(cursor);
          var newLeft = pos.left;
          var newTop = pos.top;
          var topMargin = $viewMargin && $viewMargin.top || 0;
          var bottomMargin = $viewMargin && $viewMargin.bottom || 0;
          if (this.$scrollAnimation) {
            this.$stopAnimation = true;
          }
          var currentTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
          if (currentTop + topMargin > newTop) {
            if (offset && currentTop + topMargin > newTop + this.lineHeight)
              newTop -= offset * this.$size.scrollerHeight;
            if (newTop === 0)
              newTop = -this.scrollMargin.top;
            this.session.setScrollTop(newTop);
          } else if (currentTop + this.$size.scrollerHeight - bottomMargin < newTop + this.lineHeight) {
            if (offset && currentTop + this.$size.scrollerHeight - bottomMargin < newTop - this.lineHeight)
              newTop += offset * this.$size.scrollerHeight;
            this.session.setScrollTop(newTop + this.lineHeight + bottomMargin - this.$size.scrollerHeight);
          }
          var currentLeft = this.scrollLeft;
          var twoCharsWidth = 2 * this.layerConfig.characterWidth;
          if (newLeft - twoCharsWidth < currentLeft) {
            newLeft -= twoCharsWidth;
            if (newLeft < this.$padding + twoCharsWidth) {
              newLeft = -this.scrollMargin.left;
            }
            this.session.setScrollLeft(newLeft);
          } else {
            newLeft += twoCharsWidth;
            if (currentLeft + this.$size.scrollerWidth < newLeft + this.characterWidth) {
              this.session.setScrollLeft(Math.round(newLeft + this.characterWidth - this.$size.scrollerWidth));
            } else if (currentLeft <= this.$padding && newLeft - currentLeft < this.characterWidth) {
              this.session.setScrollLeft(0);
            }
          }
        };
        VirtualRenderer2.prototype.getScrollTop = function() {
          return this.session.getScrollTop();
        };
        VirtualRenderer2.prototype.getScrollLeft = function() {
          return this.session.getScrollLeft();
        };
        VirtualRenderer2.prototype.getScrollTopRow = function() {
          return this.scrollTop / this.lineHeight;
        };
        VirtualRenderer2.prototype.getScrollBottomRow = function() {
          return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
        };
        VirtualRenderer2.prototype.scrollToRow = function(row) {
          this.session.setScrollTop(row * this.lineHeight);
        };
        VirtualRenderer2.prototype.alignCursor = function(cursor, alignment) {
          if (typeof cursor == "number")
            cursor = { row: cursor, column: 0 };
          var pos = this.$cursorLayer.getPixelPosition(cursor);
          var h2 = this.$size.scrollerHeight - this.lineHeight;
          var offset = pos.top - h2 * (alignment || 0);
          this.session.setScrollTop(offset);
          return offset;
        };
        VirtualRenderer2.prototype.$calcSteps = function(fromValue, toValue) {
          var i = 0;
          var l = this.STEPS;
          var steps = [];
          var func = function(t, x_min, dx) {
            return dx * (Math.pow(t - 1, 3) + 1) + x_min;
          };
          for (i = 0; i < l; ++i)
            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));
          return steps;
        };
        VirtualRenderer2.prototype.scrollToLine = function(line, center, animate, callback) {
          var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });
          var offset = pos.top;
          if (center)
            offset -= this.$size.scrollerHeight / 2;
          var initialScroll = this.scrollTop;
          this.session.setScrollTop(offset);
          if (animate !== false)
            this.animateScrolling(initialScroll, callback);
        };
        VirtualRenderer2.prototype.animateScrolling = function(fromValue, callback) {
          var toValue = this.scrollTop;
          if (!this.$animatedScroll)
            return;
          var _self = this;
          if (fromValue == toValue)
            return;
          if (this.$scrollAnimation) {
            var oldSteps = this.$scrollAnimation.steps;
            if (oldSteps.length) {
              fromValue = oldSteps[0];
              if (fromValue == toValue)
                return;
            }
          }
          var steps = _self.$calcSteps(fromValue, toValue);
          this.$scrollAnimation = { from: fromValue, to: toValue, steps };
          clearInterval(this.$timer);
          _self.session.setScrollTop(steps.shift());
          _self.session.$scrollTop = toValue;
          function endAnimation() {
            _self.$timer = clearInterval(_self.$timer);
            _self.$scrollAnimation = null;
            _self.$stopAnimation = false;
            callback && callback();
          }
          this.$timer = setInterval(function() {
            if (_self.$stopAnimation) {
              endAnimation();
              return;
            }
            if (!_self.session)
              return clearInterval(_self.$timer);
            if (steps.length) {
              _self.session.setScrollTop(steps.shift());
              _self.session.$scrollTop = toValue;
            } else if (toValue != null) {
              _self.session.$scrollTop = -1;
              _self.session.setScrollTop(toValue);
              toValue = null;
            } else {
              endAnimation();
            }
          }, 10);
        };
        VirtualRenderer2.prototype.scrollToY = function(scrollTop) {
          if (this.scrollTop !== scrollTop) {
            this.$loop.schedule(this.CHANGE_SCROLL);
            this.scrollTop = scrollTop;
          }
        };
        VirtualRenderer2.prototype.scrollToX = function(scrollLeft) {
          if (this.scrollLeft !== scrollLeft)
            this.scrollLeft = scrollLeft;
          this.$loop.schedule(this.CHANGE_H_SCROLL);
        };
        VirtualRenderer2.prototype.scrollTo = function(x, y) {
          this.session.setScrollTop(y);
          this.session.setScrollLeft(x);
        };
        VirtualRenderer2.prototype.scrollBy = function(deltaX, deltaY) {
          deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
          deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
        };
        VirtualRenderer2.prototype.isScrollableBy = function(deltaX, deltaY) {
          if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)
            return true;
          if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)
            return true;
          if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)
            return true;
          if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right)
            return true;
        };
        VirtualRenderer2.prototype.pixelToScreenCoordinates = function(x, y) {
          var canvasPos;
          if (this.$hasCssTransforms) {
            canvasPos = { top: 0, left: 0 };
            var p = this.$fontMetrics.transformCoordinates([x, y]);
            x = p[1] - this.gutterWidth - this.margin.left;
            y = p[0];
          } else {
            canvasPos = this.scroller.getBoundingClientRect();
          }
          var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;
          var offset = offsetX / this.characterWidth;
          var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);
          var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);
          return { row, column: col, side: offset - col > 0 ? 1 : -1, offsetX };
        };
        VirtualRenderer2.prototype.screenToTextCoordinates = function(x, y) {
          var canvasPos;
          if (this.$hasCssTransforms) {
            canvasPos = { top: 0, left: 0 };
            var p = this.$fontMetrics.transformCoordinates([x, y]);
            x = p[1] - this.gutterWidth - this.margin.left;
            y = p[0];
          } else {
            canvasPos = this.scroller.getBoundingClientRect();
          }
          var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;
          var offset = offsetX / this.characterWidth;
          var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);
          var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);
          return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);
        };
        VirtualRenderer2.prototype.textToScreenCoordinates = function(row, column) {
          var canvasPos = this.scroller.getBoundingClientRect();
          var pos = this.session.documentToScreenPosition(row, column);
          var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));
          var y = pos.row * this.lineHeight;
          return {
            pageX: canvasPos.left + x - this.scrollLeft,
            pageY: canvasPos.top + y - this.scrollTop
          };
        };
        VirtualRenderer2.prototype.visualizeFocus = function() {
          dom.addCssClass(this.container, "ace_focus");
        };
        VirtualRenderer2.prototype.visualizeBlur = function() {
          dom.removeCssClass(this.container, "ace_focus");
        };
        VirtualRenderer2.prototype.showComposition = function(composition) {
          this.$composition = composition;
          if (!composition.cssText) {
            composition.cssText = this.textarea.style.cssText;
          }
          if (composition.useTextareaForIME == void 0)
            composition.useTextareaForIME = this.$useTextareaForIME;
          if (this.$useTextareaForIME) {
            dom.addCssClass(this.textarea, "ace_composition");
            this.textarea.style.cssText = "";
            this.$moveTextAreaToCursor();
            this.$cursorLayer.element.style.display = "none";
          } else {
            composition.markerId = this.session.addMarker(composition.markerRange, "ace_composition_marker", "text");
          }
        };
        VirtualRenderer2.prototype.setCompositionText = function(text) {
          var cursor = this.session.selection.cursor;
          this.addToken(text, "composition_placeholder", cursor.row, cursor.column);
          this.$moveTextAreaToCursor();
        };
        VirtualRenderer2.prototype.hideComposition = function() {
          if (!this.$composition)
            return;
          if (this.$composition.markerId)
            this.session.removeMarker(this.$composition.markerId);
          dom.removeCssClass(this.textarea, "ace_composition");
          this.textarea.style.cssText = this.$composition.cssText;
          var cursor = this.session.selection.cursor;
          this.removeExtraToken(cursor.row, cursor.column);
          this.$composition = null;
          this.$cursorLayer.element.style.display = "";
        };
        VirtualRenderer2.prototype.setGhostText = function(text, position) {
          var cursor = this.session.selection.cursor;
          var insertPosition = position || { row: cursor.row, column: cursor.column };
          this.removeGhostText();
          var textLines = text.split("\n");
          this.addToken(textLines[0], "ghost_text", insertPosition.row, insertPosition.column);
          this.$ghostText = {
            text,
            position: {
              row: insertPosition.row,
              column: insertPosition.column
            }
          };
          if (textLines.length > 1) {
            this.$ghostTextWidget = {
              text: textLines.slice(1).join("\n"),
              row: insertPosition.row,
              column: insertPosition.column,
              className: "ace_ghost_text"
            };
            this.session.widgetManager.addLineWidget(this.$ghostTextWidget);
            var pixelPosition = this.$cursorLayer.getPixelPosition(insertPosition, true);
            var el = this.container;
            var height = el.getBoundingClientRect().height;
            var ghostTextHeight = textLines.length * this.lineHeight;
            var fitsY = ghostTextHeight < height - pixelPosition.top;
            if (fitsY)
              return;
            if (ghostTextHeight < height) {
              this.scrollBy(0, (textLines.length - 1) * this.lineHeight);
            } else {
              this.scrollToRow(insertPosition.row);
            }
          }
        };
        VirtualRenderer2.prototype.removeGhostText = function() {
          if (!this.$ghostText)
            return;
          var position = this.$ghostText.position;
          this.removeExtraToken(position.row, position.column);
          if (this.$ghostTextWidget) {
            this.session.widgetManager.removeLineWidget(this.$ghostTextWidget);
            this.$ghostTextWidget = null;
          }
          this.$ghostText = null;
        };
        VirtualRenderer2.prototype.addToken = function(text, type, row, column) {
          var session = this.session;
          session.bgTokenizer.lines[row] = null;
          var newToken = { type, value: text };
          var tokens = session.getTokens(row);
          if (column == null || !tokens.length) {
            tokens.push(newToken);
          } else {
            var l = 0;
            for (var i = 0; i < tokens.length; i++) {
              var token = tokens[i];
              l += token.value.length;
              if (column <= l) {
                var diff = token.value.length - (l - column);
                var before = token.value.slice(0, diff);
                var after = token.value.slice(diff);
                tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });
                break;
              }
            }
          }
          this.updateLines(row, row);
        };
        VirtualRenderer2.prototype.removeExtraToken = function(row, column) {
          this.session.bgTokenizer.lines[row] = null;
          this.updateLines(row, row);
        };
        VirtualRenderer2.prototype.setTheme = function(theme, cb) {
          var _self = this;
          this.$themeId = theme;
          _self._dispatchEvent("themeChange", { theme });
          if (!theme || typeof theme == "string") {
            var moduleName = theme || this.$options.theme.initialValue;
            config2.loadModule(["theme", moduleName], afterLoad);
          } else {
            afterLoad(theme);
          }
          function afterLoad(module3) {
            if (_self.$themeId != theme)
              return cb && cb();
            if (!module3 || !module3.cssClass)
              throw new Error("couldn't load module " + theme + " or it didn't call define");
            if (module3.$id)
              _self.$themeId = module3.$id;
            dom.importCssString(module3.cssText, module3.cssClass, _self.container);
            if (_self.theme)
              dom.removeCssClass(_self.container, _self.theme.cssClass);
            var padding = "padding" in module3 ? module3.padding : "padding" in (_self.theme || {}) ? 4 : _self.$padding;
            if (_self.$padding && padding != _self.$padding)
              _self.setPadding(padding);
            _self.$theme = module3.cssClass;
            _self.theme = module3;
            dom.addCssClass(_self.container, module3.cssClass);
            dom.setCssClass(_self.container, "ace_dark", module3.isDark);
            if (_self.$size) {
              _self.$size.width = 0;
              _self.$updateSizeAsync();
            }
            _self._dispatchEvent("themeLoaded", { theme: module3 });
            cb && cb();
          }
        };
        VirtualRenderer2.prototype.getTheme = function() {
          return this.$themeId;
        };
        VirtualRenderer2.prototype.setStyle = function(style, include) {
          dom.setCssClass(this.container, style, include !== false);
        };
        VirtualRenderer2.prototype.unsetStyle = function(style) {
          dom.removeCssClass(this.container, style);
        };
        VirtualRenderer2.prototype.setCursorStyle = function(style) {
          dom.setStyle(this.scroller.style, "cursor", style);
        };
        VirtualRenderer2.prototype.setMouseCursor = function(cursorStyle) {
          dom.setStyle(this.scroller.style, "cursor", cursorStyle);
        };
        VirtualRenderer2.prototype.attachToShadowRoot = function() {
          dom.importCssString(editorCss, "ace_editor.css", this.container);
        };
        VirtualRenderer2.prototype.destroy = function() {
          this.freeze();
          this.$fontMetrics.destroy();
          this.$cursorLayer.destroy();
          this.removeAllListeners();
          this.container.textContent = "";
          this.setOption("useResizeObserver", false);
        };
        VirtualRenderer2.prototype.$updateCustomScrollbar = function(val) {
          var _self = this;
          this.$horizScroll = this.$vScroll = null;
          this.scrollBarV.element.remove();
          this.scrollBarH.element.remove();
          if (this.$scrollDecorator) {
            delete this.$scrollDecorator;
          }
          if (val === true) {
            this.scrollBarV = new VScrollBarCustom(this.container, this);
            this.scrollBarH = new HScrollBarCustom(this.container, this);
            this.scrollBarV.setHeight(this.$size.scrollerHeight);
            this.scrollBarH.setWidth(this.$size.scrollerWidth);
            this.scrollBarV.addEventListener("scroll", function(e2) {
              if (!_self.$scrollAnimation)
                _self.session.setScrollTop(e2.data - _self.scrollMargin.top);
            });
            this.scrollBarH.addEventListener("scroll", function(e2) {
              if (!_self.$scrollAnimation)
                _self.session.setScrollLeft(e2.data - _self.scrollMargin.left);
            });
            this.$scrollDecorator = new Decorator(this.scrollBarV, this);
            this.$scrollDecorator.$updateDecorators();
          } else {
            this.scrollBarV = new VScrollBar(this.container, this);
            this.scrollBarH = new HScrollBar(this.container, this);
            this.scrollBarV.addEventListener("scroll", function(e2) {
              if (!_self.$scrollAnimation)
                _self.session.setScrollTop(e2.data - _self.scrollMargin.top);
            });
            this.scrollBarH.addEventListener("scroll", function(e2) {
              if (!_self.$scrollAnimation)
                _self.session.setScrollLeft(e2.data - _self.scrollMargin.left);
            });
          }
        };
        VirtualRenderer2.prototype.$addResizeObserver = function() {
          if (!window.ResizeObserver || this.$resizeObserver)
            return;
          var self2 = this;
          this.$resizeTimer = lang.delayedCall(function() {
            if (!self2.destroyed)
              self2.onResize();
          }, 50);
          this.$resizeObserver = new window.ResizeObserver(function(e2) {
            var w = e2[0].contentRect.width;
            var h2 = e2[0].contentRect.height;
            if (Math.abs(self2.$size.width - w) > 1 || Math.abs(self2.$size.height - h2) > 1) {
              self2.$resizeTimer.delay();
            } else {
              self2.$resizeTimer.cancel();
            }
          });
          this.$resizeObserver.observe(this.container);
        };
        return VirtualRenderer2;
      }()
    );
    VirtualRenderer.prototype.CHANGE_CURSOR = 1;
    VirtualRenderer.prototype.CHANGE_MARKER = 2;
    VirtualRenderer.prototype.CHANGE_GUTTER = 4;
    VirtualRenderer.prototype.CHANGE_SCROLL = 8;
    VirtualRenderer.prototype.CHANGE_LINES = 16;
    VirtualRenderer.prototype.CHANGE_TEXT = 32;
    VirtualRenderer.prototype.CHANGE_SIZE = 64;
    VirtualRenderer.prototype.CHANGE_MARKER_BACK = 128;
    VirtualRenderer.prototype.CHANGE_MARKER_FRONT = 256;
    VirtualRenderer.prototype.CHANGE_FULL = 512;
    VirtualRenderer.prototype.CHANGE_H_SCROLL = 1024;
    VirtualRenderer.prototype.$changes = 0;
    VirtualRenderer.prototype.$padding = null;
    VirtualRenderer.prototype.$frozen = false;
    VirtualRenderer.prototype.STEPS = 8;
    oop.implement(VirtualRenderer.prototype, EventEmitter);
    config2.defineOptions(VirtualRenderer.prototype, "renderer", {
      useResizeObserver: {
        set: function(value2) {
          if (!value2 && this.$resizeObserver) {
            this.$resizeObserver.disconnect();
            this.$resizeTimer.cancel();
            this.$resizeTimer = this.$resizeObserver = null;
          } else if (value2 && !this.$resizeObserver) {
            this.$addResizeObserver();
          }
        }
      },
      animatedScroll: { initialValue: false },
      showInvisibles: {
        set: function(value2) {
          if (this.$textLayer.setShowInvisibles(value2))
            this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: false
      },
      showPrintMargin: {
        set: function() {
          this.$updatePrintMargin();
        },
        initialValue: true
      },
      printMarginColumn: {
        set: function() {
          this.$updatePrintMargin();
        },
        initialValue: 80
      },
      printMargin: {
        set: function(val) {
          if (typeof val == "number")
            this.$printMarginColumn = val;
          this.$showPrintMargin = !!val;
          this.$updatePrintMargin();
        },
        get: function() {
          return this.$showPrintMargin && this.$printMarginColumn;
        }
      },
      showGutter: {
        set: function(show) {
          this.$gutter.style.display = show ? "block" : "none";
          this.$loop.schedule(this.CHANGE_FULL);
          this.onGutterResize();
        },
        initialValue: true
      },
      useSvgGutterIcons: {
        set: function(value2) {
          this.$gutterLayer.$useSvgGutterIcons = value2;
        },
        initialValue: false
      },
      showFoldedAnnotations: {
        set: function(value2) {
          this.$gutterLayer.$showFoldedAnnotations = value2;
        },
        initialValue: false
      },
      fadeFoldWidgets: {
        set: function(show) {
          dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
        },
        initialValue: false
      },
      showFoldWidgets: {
        set: function(show) {
          this.$gutterLayer.setShowFoldWidgets(show);
          this.$loop.schedule(this.CHANGE_GUTTER);
        },
        initialValue: true
      },
      displayIndentGuides: {
        set: function(show) {
          if (this.$textLayer.setDisplayIndentGuides(show))
            this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: true
      },
      highlightIndentGuides: {
        set: function(show) {
          if (this.$textLayer.setHighlightIndentGuides(show) == true) {
            this.$textLayer.$highlightIndentGuide();
          } else {
            this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);
          }
        },
        initialValue: true
      },
      highlightGutterLine: {
        set: function(shouldHighlight) {
          this.$gutterLayer.setHighlightGutterLine(shouldHighlight);
          this.$loop.schedule(this.CHANGE_GUTTER);
        },
        initialValue: true
      },
      hScrollBarAlwaysVisible: {
        set: function(val) {
          if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
            this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
      },
      vScrollBarAlwaysVisible: {
        set: function(val) {
          if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)
            this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
      },
      fontSize: {
        set: function(size) {
          if (typeof size == "number")
            size = size + "px";
          this.container.style.fontSize = size;
          this.updateFontSize();
        },
        initialValue: 12
      },
      fontFamily: {
        set: function(name2) {
          this.container.style.fontFamily = name2;
          this.updateFontSize();
        }
      },
      maxLines: {
        set: function(val) {
          this.updateFull();
        }
      },
      minLines: {
        set: function(val) {
          if (!(this.$minLines < 562949953421311))
            this.$minLines = 0;
          this.updateFull();
        }
      },
      maxPixelHeight: {
        set: function(val) {
          this.updateFull();
        },
        initialValue: 0
      },
      scrollPastEnd: {
        set: function(val) {
          val = +val || 0;
          if (this.$scrollPastEnd == val)
            return;
          this.$scrollPastEnd = val;
          this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: 0,
        handlesSet: true
      },
      fixedWidthGutter: {
        set: function(val) {
          this.$gutterLayer.$fixedWidth = !!val;
          this.$loop.schedule(this.CHANGE_GUTTER);
        }
      },
      customScrollbar: {
        set: function(val) {
          this.$updateCustomScrollbar(val);
        },
        initialValue: false
      },
      theme: {
        set: function(val) {
          this.setTheme(val);
        },
        get: function() {
          return this.$themeId || this.theme;
        },
        initialValue: "./theme/textmate",
        handlesSet: true
      },
      hasCssTransforms: {},
      useTextareaForIME: {
        initialValue: !useragent.isMobile && !useragent.isIE
      }
    });
    exports2.VirtualRenderer = VirtualRenderer;
  });
  ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(require2, exports2, module2) {
    var oop = require2("../lib/oop");
    var net = require2("../lib/net");
    var EventEmitter = require2("../lib/event_emitter").EventEmitter;
    var config2 = require2("../config");
    function $workerBlob(workerUrl) {
      var script = "importScripts('" + net.qualifyURL(workerUrl) + "');";
      try {
        return new Blob([script], { "type": "application/javascript" });
      } catch (e2) {
        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
        var blobBuilder = new BlobBuilder();
        blobBuilder.append(script);
        return blobBuilder.getBlob("application/javascript");
      }
    }
    function createWorker(workerUrl) {
      if (typeof Worker == "undefined")
        return { postMessage: function() {
        }, terminate: function() {
        } };
      if (config2.get("loadWorkerFromBlob")) {
        var blob = $workerBlob(workerUrl);
        var URL = window.URL || window.webkitURL;
        var blobURL = URL.createObjectURL(blob);
        return new Worker(blobURL);
      }
      return new Worker(workerUrl);
    }
    var WorkerClient = function(worker) {
      if (!worker.postMessage)
        worker = this.$createWorkerFromOldConfig.apply(this, arguments);
      this.$worker = worker;
      this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
      this.changeListener = this.changeListener.bind(this);
      this.onMessage = this.onMessage.bind(this);
      this.callbackId = 1;
      this.callbacks = {};
      this.$worker.onmessage = this.onMessage;
    };
    (function() {
      oop.implement(this, EventEmitter);
      this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {
        if (require2.nameToUrl && !require2.toUrl)
          require2.toUrl = require2.nameToUrl;
        if (config2.get("packaged") || !require2.toUrl) {
          workerUrl = workerUrl || config2.moduleUrl(mod, "worker");
        } else {
          var normalizePath = this.$normalizePath;
          workerUrl = workerUrl || normalizePath(require2.toUrl("ace/worker/worker.js", null, "_"));
          var tlns = {};
          topLevelNamespaces.forEach(function(ns2) {
            tlns[ns2] = normalizePath(require2.toUrl(ns2, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
          });
        }
        this.$worker = createWorker(workerUrl);
        if (importScripts) {
          this.send("importScripts", importScripts);
        }
        this.$worker.postMessage({
          init: true,
          tlns,
          module: mod,
          classname
        });
        return this.$worker;
      };
      this.onMessage = function(e2) {
        var msg = e2.data;
        switch (msg.type) {
          case "event":
            this._signal(msg.name, { data: msg.data });
            break;
          case "call":
            var callback = this.callbacks[msg.id];
            if (callback) {
              callback(msg.data);
              delete this.callbacks[msg.id];
            }
            break;
          case "error":
            this.reportError(msg.data);
            break;
          case "log":
            window.console && console.log && console.log.apply(console, msg.data);
            break;
        }
      };
      this.reportError = function(err) {
        window.console && console.error && console.error(err);
      };
      this.$normalizePath = function(path) {
        return net.qualifyURL(path);
      };
      this.terminate = function() {
        this._signal("terminate", {});
        this.deltaQueue = null;
        this.$worker.terminate();
        this.$worker.onerror = function(e2) {
          e2.preventDefault();
        };
        this.$worker = null;
        if (this.$doc)
          this.$doc.off("change", this.changeListener);
        this.$doc = null;
      };
      this.send = function(cmd, args) {
        this.$worker.postMessage({ command: cmd, args });
      };
      this.call = function(cmd, args, callback) {
        if (callback) {
          var id = this.callbackId++;
          this.callbacks[id] = callback;
          args.push(id);
        }
        this.send(cmd, args);
      };
      this.emit = function(event2, data) {
        try {
          if (data.data && data.data.err)
            data.data.err = { message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code };
          this.$worker && this.$worker.postMessage({ event: event2, data: { data: data.data } });
        } catch (ex) {
          console.error(ex.stack);
        }
      };
      this.attachToDocument = function(doc) {
        if (this.$doc)
          this.terminate();
        this.$doc = doc;
        this.call("setValue", [doc.getValue()]);
        doc.on("change", this.changeListener, true);
      };
      this.changeListener = function(delta) {
        if (!this.deltaQueue) {
          this.deltaQueue = [];
          setTimeout(this.$sendDeltaQueue, 0);
        }
        if (delta.action == "insert")
          this.deltaQueue.push(delta.start, delta.lines);
        else
          this.deltaQueue.push(delta.start, delta.end);
      };
      this.$sendDeltaQueue = function() {
        var q = this.deltaQueue;
        if (!q)
          return;
        this.deltaQueue = null;
        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {
          this.call("setValue", [this.$doc.getValue()]);
        } else
          this.emit("change", { data: q });
      };
    }).call(WorkerClient.prototype);
    var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
      var main = null;
      var emitSync = false;
      var sender = Object.create(EventEmitter);
      var messageBuffer = [];
      var workerClient = new WorkerClient({
        messageBuffer,
        terminate: function() {
        },
        postMessage: function(e2) {
          messageBuffer.push(e2);
          if (!main)
            return;
          if (emitSync)
            setTimeout(processNext);
          else
            processNext();
        }
      });
      workerClient.setEmitSync = function(val) {
        emitSync = val;
      };
      var processNext = function() {
        var msg = messageBuffer.shift();
        if (msg.command)
          main[msg.command].apply(main, msg.args);
        else if (msg.event)
          sender._signal(msg.event, msg.data);
      };
      sender.postMessage = function(msg) {
        workerClient.onMessage({ data: msg });
      };
      sender.callback = function(data, callbackId) {
        this.postMessage({ type: "call", id: callbackId, data });
      };
      sender.emit = function(name2, data) {
        this.postMessage({ type: "event", name: name2, data });
      };
      config2.loadModule(["worker", mod], function(Main) {
        main = new Main[classname](sender);
        while (messageBuffer.length)
          processNext();
      });
      return workerClient;
    };
    exports2.UIWorkerClient = UIWorkerClient;
    exports2.WorkerClient = WorkerClient;
    exports2.createWorker = createWorker;
  });
  ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(require2, exports2, module2) {
    var Range = require2("./range").Range;
    var EventEmitter = require2("./lib/event_emitter").EventEmitter;
    var oop = require2("./lib/oop");
    var PlaceHolder = (
      /** @class */
      function() {
        function PlaceHolder2(session, length, pos, others, mainClass, othersClass) {
          var _self = this;
          this.length = length;
          this.session = session;
          this.doc = session.getDocument();
          this.mainClass = mainClass;
          this.othersClass = othersClass;
          this.$onUpdate = this.onUpdate.bind(this);
          this.doc.on("change", this.$onUpdate, true);
          this.$others = others;
          this.$onCursorChange = function() {
            setTimeout(function() {
              _self.onCursorChange();
            });
          };
          this.$pos = pos;
          var undoStack = session.getUndoManager().$undoStack || session.getUndoManager()["$undostack"] || { length: -1 };
          this.$undoStackDepth = undoStack.length;
          this.setup();
          session.selection.on("changeCursor", this.$onCursorChange);
        }
        PlaceHolder2.prototype.setup = function() {
          var _self = this;
          var doc = this.doc;
          var session = this.session;
          this.selectionBefore = session.selection.toJSON();
          if (session.selection.inMultiSelectMode)
            session.selection.toSingleRange();
          this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);
          var pos = this.pos;
          pos.$insertRight = true;
          pos.detach();
          pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
          this.others = [];
          this.$others.forEach(function(other) {
            var anchor = doc.createAnchor(other.row, other.column);
            anchor.$insertRight = true;
            anchor.detach();
            _self.others.push(anchor);
          });
          session.setUndoSelect(false);
        };
        PlaceHolder2.prototype.showOtherMarkers = function() {
          if (this.othersActive)
            return;
          var session = this.session;
          var _self = this;
          this.othersActive = true;
          this.others.forEach(function(anchor) {
            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);
          });
        };
        PlaceHolder2.prototype.hideOtherMarkers = function() {
          if (!this.othersActive)
            return;
          this.othersActive = false;
          for (var i = 0; i < this.others.length; i++) {
            this.session.removeMarker(this.others[i].markerId);
          }
        };
        PlaceHolder2.prototype.onUpdate = function(delta) {
          if (this.$updating)
            return this.updateAnchors(delta);
          var range = delta;
          if (range.start.row !== range.end.row)
            return;
          if (range.start.row !== this.pos.row)
            return;
          this.$updating = true;
          var lengthDiff = delta.action === "insert" ? range.end.column - range.start.column : range.start.column - range.end.column;
          var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;
          var distanceFromStart = range.start.column - this.pos.column;
          this.updateAnchors(delta);
          if (inMainRange)
            this.length += lengthDiff;
          if (inMainRange && !this.session.$fromUndo) {
            if (delta.action === "insert") {
              for (var i = this.others.length - 1; i >= 0; i--) {
                var otherPos = this.others[i];
                var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                this.doc.insertMergedLines(newPos, delta.lines);
              }
            } else if (delta.action === "remove") {
              for (var i = this.others.length - 1; i >= 0; i--) {
                var otherPos = this.others[i];
                var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
              }
            }
          }
          this.$updating = false;
          this.updateMarkers();
        };
        PlaceHolder2.prototype.updateAnchors = function(delta) {
          this.pos.onChange(delta);
          for (var i = this.others.length; i--; )
            this.others[i].onChange(delta);
          this.updateMarkers();
        };
        PlaceHolder2.prototype.updateMarkers = function() {
          if (this.$updating)
            return;
          var _self = this;
          var session = this.session;
          var updateMarker = function(pos, className) {
            session.removeMarker(pos.markerId);
            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);
          };
          updateMarker(this.pos, this.mainClass);
          for (var i = this.others.length; i--; )
            updateMarker(this.others[i], this.othersClass);
        };
        PlaceHolder2.prototype.onCursorChange = function(event2) {
          if (this.$updating || !this.session)
            return;
          var pos = this.session.selection.getCursor();
          if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
            this.showOtherMarkers();
            this._emit("cursorEnter", event2);
          } else {
            this.hideOtherMarkers();
            this._emit("cursorLeave", event2);
          }
        };
        PlaceHolder2.prototype.detach = function() {
          this.session.removeMarker(this.pos && this.pos.markerId);
          this.hideOtherMarkers();
          this.doc.off("change", this.$onUpdate);
          this.session.selection.off("changeCursor", this.$onCursorChange);
          this.session.setUndoSelect(true);
          this.session = null;
        };
        PlaceHolder2.prototype.cancel = function() {
          if (this.$undoStackDepth === -1)
            return;
          var undoManager = this.session.getUndoManager();
          var undosRequired = (undoManager.$undoStack || undoManager["$undostack"]).length - this.$undoStackDepth;
          for (var i = 0; i < undosRequired; i++) {
            undoManager.undo(this.session, true);
          }
          if (this.selectionBefore)
            this.session.selection.fromJSON(this.selectionBefore);
        };
        return PlaceHolder2;
      }()
    );
    oop.implement(PlaceHolder.prototype, EventEmitter);
    exports2.PlaceHolder = PlaceHolder;
  });
  ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require2, exports2, module2) {
    var event2 = require2("../lib/event");
    var useragent = require2("../lib/useragent");
    function isSamePoint(p1, p2) {
      return p1.row == p2.row && p1.column == p2.column;
    }
    function onMouseDown(e2) {
      var ev = e2.domEvent;
      var alt = ev.altKey;
      var shift = ev.shiftKey;
      var ctrl = ev.ctrlKey;
      var accel = e2.getAccelKey();
      var button2 = e2.getButton();
      if (ctrl && useragent.isMac)
        button2 = ev.button;
      if (e2.editor.inMultiSelectMode && button2 == 2) {
        e2.editor.textInput.onContextMenu(e2.domEvent);
        return;
      }
      if (!ctrl && !alt && !accel) {
        if (button2 === 0 && e2.editor.inMultiSelectMode)
          e2.editor.exitMultiSelectMode();
        return;
      }
      if (button2 !== 0)
        return;
      var editor = e2.editor;
      var selection = editor.selection;
      var isMultiSelect = editor.inMultiSelectMode;
      var pos = e2.getDocumentPosition();
      var cursor = selection.getCursor();
      var inSelection = e2.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);
      var mouseX = e2.x, mouseY = e2.y;
      var onMouseSelection = function(e3) {
        mouseX = e3.clientX;
        mouseY = e3.clientY;
      };
      var session = editor.session;
      var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
      var screenCursor = screenAnchor;
      var selectionMode;
      if (editor.$mouseHandler.$enableJumpToDef) {
        if (ctrl && alt || accel && alt)
          selectionMode = shift ? "block" : "add";
        else if (alt && editor.$blockSelectEnabled)
          selectionMode = "block";
      } else {
        if (accel && !alt) {
          selectionMode = "add";
          if (!isMultiSelect && shift)
            return;
        } else if (alt && editor.$blockSelectEnabled) {
          selectionMode = "block";
        }
      }
      if (selectionMode && useragent.isMac && ev.ctrlKey) {
        editor.$mouseHandler.cancelContextMenu();
      }
      if (selectionMode == "add") {
        if (!isMultiSelect && inSelection)
          return;
        if (!isMultiSelect) {
          var range = selection.toOrientedRange();
          editor.addSelectionMarker(range);
        }
        var oldRange = selection.rangeList.rangeAtPoint(pos);
        editor.inVirtualSelectionMode = true;
        if (shift) {
          oldRange = null;
          range = selection.ranges[0] || range;
          editor.removeSelectionMarker(range);
        }
        editor.once("mouseup", function() {
          var tmpSel = selection.toOrientedRange();
          if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
            selection.substractPoint(tmpSel.cursor);
          else {
            if (shift) {
              selection.substractPoint(range.cursor);
            } else if (range) {
              editor.removeSelectionMarker(range);
              selection.addRange(range);
            }
            selection.addRange(tmpSel);
          }
          editor.inVirtualSelectionMode = false;
        });
      } else if (selectionMode == "block") {
        e2.stop();
        editor.inVirtualSelectionMode = true;
        var initialRange;
        var rectSel = [];
        var blockSelect = function() {
          var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
          var cursor2 = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);
          if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor2, selection.lead))
            return;
          screenCursor = newCursor;
          editor.selection.moveToPosition(cursor2);
          editor.renderer.scrollCursorIntoView();
          editor.removeSelectionMarkers(rectSel);
          rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
          if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())
            rectSel[0] = editor.$mouseHandler.$clickSelection.clone();
          rectSel.forEach(editor.addSelectionMarker, editor);
          editor.updateSelectionMarkers();
        };
        if (isMultiSelect && !accel) {
          selection.toSingleRange();
        } else if (!isMultiSelect && accel) {
          initialRange = selection.toOrientedRange();
          editor.addSelectionMarker(initialRange);
        }
        if (shift)
          screenAnchor = session.documentToScreenPosition(selection.lead);
        else
          selection.moveToPosition(pos);
        screenCursor = { row: -1, column: -1 };
        var onMouseSelectionEnd = function(e3) {
          blockSelect();
          clearInterval(timerId);
          editor.removeSelectionMarkers(rectSel);
          if (!rectSel.length)
            rectSel = [selection.toOrientedRange()];
          if (initialRange) {
            editor.removeSelectionMarker(initialRange);
            selection.toSingleRange(initialRange);
          }
          for (var i = 0; i < rectSel.length; i++)
            selection.addRange(rectSel[i]);
          editor.inVirtualSelectionMode = false;
          editor.$mouseHandler.$clickSelection = null;
        };
        var onSelectionInterval = blockSelect;
        event2.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
        var timerId = setInterval(function() {
          onSelectionInterval();
        }, 20);
        return e2.preventDefault();
      }
    }
    exports2.onMouseDown = onMouseDown;
  });
  ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(require2, exports2, module2) {
    exports2.defaultCommands = [{
      name: "addCursorAbove",
      description: "Add cursor above",
      exec: function(editor) {
        editor.selectMoreLines(-1);
      },
      bindKey: { win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "addCursorBelow",
      description: "Add cursor below",
      exec: function(editor) {
        editor.selectMoreLines(1);
      },
      bindKey: { win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "addCursorAboveSkipCurrent",
      description: "Add cursor above (skip current)",
      exec: function(editor) {
        editor.selectMoreLines(-1, true);
      },
      bindKey: { win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "addCursorBelowSkipCurrent",
      description: "Add cursor below (skip current)",
      exec: function(editor) {
        editor.selectMoreLines(1, true);
      },
      bindKey: { win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "selectMoreBefore",
      description: "Select more before",
      exec: function(editor) {
        editor.selectMore(-1);
      },
      bindKey: { win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "selectMoreAfter",
      description: "Select more after",
      exec: function(editor) {
        editor.selectMore(1);
      },
      bindKey: { win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "selectNextBefore",
      description: "Select next before",
      exec: function(editor) {
        editor.selectMore(-1, true);
      },
      bindKey: { win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "selectNextAfter",
      description: "Select next after",
      exec: function(editor) {
        editor.selectMore(1, true);
      },
      bindKey: { win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right" },
      scrollIntoView: "cursor",
      readOnly: true
    }, {
      name: "toggleSplitSelectionIntoLines",
      description: "Split selection into lines",
      exec: function(editor) {
        if (editor.multiSelect.rangeCount > 1)
          editor.multiSelect.joinSelections();
        else
          editor.multiSelect.splitIntoLines();
      },
      bindKey: { win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L" },
      readOnly: true
    }, {
      name: "splitSelectionIntoLines",
      description: "Split into lines",
      exec: function(editor) {
        editor.multiSelect.splitIntoLines();
      },
      readOnly: true
    }, {
      name: "alignCursors",
      description: "Align cursors",
      exec: function(editor) {
        editor.alignCursors();
      },
      bindKey: { win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A" },
      scrollIntoView: "cursor"
    }, {
      name: "findAll",
      description: "Find all",
      exec: function(editor) {
        editor.findAll();
      },
      bindKey: { win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G" },
      scrollIntoView: "cursor",
      readOnly: true
    }];
    exports2.multiSelectCommands = [{
      name: "singleSelection",
      description: "Single selection",
      bindKey: "esc",
      exec: function(editor) {
        editor.exitMultiSelectMode();
      },
      scrollIntoView: "cursor",
      readOnly: true,
      isAvailable: function(editor) {
        return editor && editor.inMultiSelectMode;
      }
    }];
    var HashHandler = require2("../keyboard/hash_handler").HashHandler;
    exports2.keyboardHandler = new HashHandler(exports2.multiSelectCommands);
  });
  ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(require2, exports2, module2) {
    var RangeList = require2("./range_list").RangeList;
    var Range = require2("./range").Range;
    var Selection2 = require2("./selection").Selection;
    var onMouseDown = require2("./mouse/multi_select_handler").onMouseDown;
    var event2 = require2("./lib/event");
    var lang = require2("./lib/lang");
    var commands = require2("./commands/multi_select_commands");
    exports2.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
    var Search = require2("./search").Search;
    var search2 = new Search();
    function find2(session, needle, dir) {
      search2.$options.wrap = true;
      search2.$options.needle = needle;
      search2.$options.backwards = dir == -1;
      return search2.find(session);
    }
    var EditSession = require2("./edit_session").EditSession;
    (function() {
      this.getSelectionMarkers = function() {
        return this.$selectionMarkers;
      };
    }).call(EditSession.prototype);
    (function() {
      this.ranges = null;
      this.rangeList = null;
      this.addRange = function(range, $blockChangeEvents) {
        if (!range)
          return;
        if (!this.inMultiSelectMode && this.rangeCount === 0) {
          var oldRange = this.toOrientedRange();
          this.rangeList.add(oldRange);
          this.rangeList.add(range);
          if (this.rangeList.ranges.length != 2) {
            this.rangeList.removeAll();
            return $blockChangeEvents || this.fromOrientedRange(range);
          }
          this.rangeList.removeAll();
          this.rangeList.add(oldRange);
          this.$onAddRange(oldRange);
        }
        if (!range.cursor)
          range.cursor = range.end;
        var removed = this.rangeList.add(range);
        this.$onAddRange(range);
        if (removed.length)
          this.$onRemoveRange(removed);
        if (this.rangeCount > 1 && !this.inMultiSelectMode) {
          this._signal("multiSelect");
          this.inMultiSelectMode = true;
          this.session.$undoSelect = false;
          this.rangeList.attach(this.session);
        }
        return $blockChangeEvents || this.fromOrientedRange(range);
      };
      this.toSingleRange = function(range) {
        range = range || this.ranges[0];
        var removed = this.rangeList.removeAll();
        if (removed.length)
          this.$onRemoveRange(removed);
        range && this.fromOrientedRange(range);
      };
      this.substractPoint = function(pos) {
        var removed = this.rangeList.substractPoint(pos);
        if (removed) {
          this.$onRemoveRange(removed);
          return removed[0];
        }
      };
      this.mergeOverlappingRanges = function() {
        var removed = this.rangeList.merge();
        if (removed.length)
          this.$onRemoveRange(removed);
      };
      this.$onAddRange = function(range) {
        this.rangeCount = this.rangeList.ranges.length;
        this.ranges.unshift(range);
        this._signal("addRange", { range });
      };
      this.$onRemoveRange = function(removed) {
        this.rangeCount = this.rangeList.ranges.length;
        if (this.rangeCount == 1 && this.inMultiSelectMode) {
          var lastRange = this.rangeList.ranges.pop();
          removed.push(lastRange);
          this.rangeCount = 0;
        }
        for (var i = removed.length; i--; ) {
          var index2 = this.ranges.indexOf(removed[i]);
          this.ranges.splice(index2, 1);
        }
        this._signal("removeRange", { ranges: removed });
        if (this.rangeCount === 0 && this.inMultiSelectMode) {
          this.inMultiSelectMode = false;
          this._signal("singleSelect");
          this.session.$undoSelect = true;
          this.rangeList.detach(this.session);
        }
        lastRange = lastRange || this.ranges[0];
        if (lastRange && !lastRange.isEqual(this.getRange()))
          this.fromOrientedRange(lastRange);
      };
      this.$initRangeList = function() {
        if (this.rangeList)
          return;
        this.rangeList = new RangeList();
        this.ranges = [];
        this.rangeCount = 0;
      };
      this.getAllRanges = function() {
        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
      };
      this.splitIntoLines = function() {
        var ranges = this.ranges.length ? this.ranges : [this.getRange()];
        var newRanges = [];
        for (var i = 0; i < ranges.length; i++) {
          var range = ranges[i];
          var row = range.start.row;
          var endRow = range.end.row;
          if (row === endRow) {
            newRanges.push(range.clone());
          } else {
            newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));
            while (++row < endRow)
              newRanges.push(this.getLineRange(row, true));
            newRanges.push(new Range(endRow, 0, endRow, range.end.column));
          }
          if (i == 0 && !this.isBackwards())
            newRanges = newRanges.reverse();
        }
        this.toSingleRange();
        for (var i = newRanges.length; i--; )
          this.addRange(newRanges[i]);
      };
      this.joinSelections = function() {
        var ranges = this.rangeList.ranges;
        var lastRange = ranges[ranges.length - 1];
        var range = Range.fromPoints(ranges[0].start, lastRange.end);
        this.toSingleRange();
        this.setSelectionRange(range, lastRange.cursor == lastRange.start);
      };
      this.toggleBlockSelection = function() {
        if (this.rangeCount > 1) {
          var ranges = this.rangeList.ranges;
          var lastRange = ranges[ranges.length - 1];
          var range = Range.fromPoints(ranges[0].start, lastRange.end);
          this.toSingleRange();
          this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
          var cursor = this.session.documentToScreenPosition(this.cursor);
          var anchor = this.session.documentToScreenPosition(this.anchor);
          var rectSel = this.rectangularRangeBlock(cursor, anchor);
          rectSel.forEach(this.addRange, this);
        }
      };
      this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
        var rectSel = [];
        var xBackwards = screenCursor.column < screenAnchor.column;
        if (xBackwards) {
          var startColumn = screenCursor.column;
          var endColumn = screenAnchor.column;
          var startOffsetX = screenCursor.offsetX;
          var endOffsetX = screenAnchor.offsetX;
        } else {
          var startColumn = screenAnchor.column;
          var endColumn = screenCursor.column;
          var startOffsetX = screenAnchor.offsetX;
          var endOffsetX = screenCursor.offsetX;
        }
        var yBackwards = screenCursor.row < screenAnchor.row;
        if (yBackwards) {
          var startRow = screenCursor.row;
          var endRow = screenAnchor.row;
        } else {
          var startRow = screenAnchor.row;
          var endRow = screenCursor.row;
        }
        if (startColumn < 0)
          startColumn = 0;
        if (startRow < 0)
          startRow = 0;
        if (startRow == endRow)
          includeEmptyLines = true;
        var docEnd;
        for (var row = startRow; row <= endRow; row++) {
          var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));
          if (range.isEmpty()) {
            if (docEnd && isSamePoint(range.end, docEnd))
              break;
            docEnd = range.end;
          }
          range.cursor = xBackwards ? range.start : range.end;
          rectSel.push(range);
        }
        if (yBackwards)
          rectSel.reverse();
        if (!includeEmptyLines) {
          var end = rectSel.length - 1;
          while (rectSel[end].isEmpty() && end > 0)
            end--;
          if (end > 0) {
            var start = 0;
            while (rectSel[start].isEmpty())
              start++;
          }
          for (var i = end; i >= start; i--) {
            if (rectSel[i].isEmpty())
              rectSel.splice(i, 1);
          }
        }
        return rectSel;
      };
    }).call(Selection2.prototype);
    var Editor = require2("./editor").Editor;
    (function() {
      this.updateSelectionMarkers = function() {
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
      };
      this.addSelectionMarker = function(orientedRange) {
        if (!orientedRange.cursor)
          orientedRange.cursor = orientedRange.end;
        var style = this.getSelectionStyle();
        orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style);
        this.session.$selectionMarkers.push(orientedRange);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
        return orientedRange;
      };
      this.removeSelectionMarker = function(range) {
        if (!range.marker)
          return;
        this.session.removeMarker(range.marker);
        var index2 = this.session.$selectionMarkers.indexOf(range);
        if (index2 != -1)
          this.session.$selectionMarkers.splice(index2, 1);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
      };
      this.removeSelectionMarkers = function(ranges) {
        var markerList = this.session.$selectionMarkers;
        for (var i = ranges.length; i--; ) {
          var range = ranges[i];
          if (!range.marker)
            continue;
          this.session.removeMarker(range.marker);
          var index2 = markerList.indexOf(range);
          if (index2 != -1)
            markerList.splice(index2, 1);
        }
        this.session.selectionMarkerCount = markerList.length;
      };
      this.$onAddRange = function(e2) {
        this.addSelectionMarker(e2.range);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
      };
      this.$onRemoveRange = function(e2) {
        this.removeSelectionMarkers(e2.ranges);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
      };
      this.$onMultiSelect = function(e2) {
        if (this.inMultiSelectMode)
          return;
        this.inMultiSelectMode = true;
        this.setStyle("ace_multiselect");
        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
        this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
      };
      this.$onSingleSelect = function(e2) {
        if (this.session.multiSelect.inVirtualMode)
          return;
        this.inMultiSelectMode = false;
        this.unsetStyle("ace_multiselect");
        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);
        this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
        this._emit("changeSelection");
      };
      this.$onMultiSelectExec = function(e2) {
        var command = e2.command;
        var editor = e2.editor;
        if (!editor.multiSelect)
          return;
        if (!command.multiSelectAction) {
          var result2 = command.exec(editor, e2.args || {});
          editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
          editor.multiSelect.mergeOverlappingRanges();
        } else if (command.multiSelectAction == "forEach") {
          result2 = editor.forEachSelection(command, e2.args);
        } else if (command.multiSelectAction == "forEachLine") {
          result2 = editor.forEachSelection(command, e2.args, true);
        } else if (command.multiSelectAction == "single") {
          editor.exitMultiSelectMode();
          result2 = command.exec(editor, e2.args || {});
        } else {
          result2 = command.multiSelectAction(editor, e2.args || {});
        }
        return result2;
      };
      this.forEachSelection = function(cmd, args, options) {
        if (this.inVirtualSelectionMode)
          return;
        var keepOrder = options && options.keepOrder;
        var $byLines = options == true || options && options.$byLines;
        var session = this.session;
        var selection = this.selection;
        var rangeList = selection.rangeList;
        var ranges = (keepOrder ? selection : rangeList).ranges;
        var result2;
        if (!ranges.length)
          return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
        var reg2 = selection._eventRegistry;
        selection._eventRegistry = {};
        var tmpSel = new Selection2(session);
        this.inVirtualSelectionMode = true;
        for (var i = ranges.length; i--; ) {
          if ($byLines) {
            while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)
              i--;
          }
          tmpSel.fromOrientedRange(ranges[i]);
          tmpSel.index = i;
          this.selection = session.selection = tmpSel;
          var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
          if (!result2 && cmdResult !== void 0)
            result2 = cmdResult;
          tmpSel.toOrientedRange(ranges[i]);
        }
        tmpSel.detach();
        this.selection = session.selection = selection;
        this.inVirtualSelectionMode = false;
        selection._eventRegistry = reg2;
        selection.mergeOverlappingRanges();
        if (selection.ranges[0])
          selection.fromOrientedRange(selection.ranges[0]);
        var anim = this.renderer.$scrollAnimation;
        this.onCursorChange();
        this.onSelectionChange();
        if (anim && anim.from == anim.to)
          this.renderer.animateScrolling(anim.from);
        return result2;
      };
      this.exitMultiSelectMode = function() {
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
          return;
        this.multiSelect.toSingleRange();
      };
      this.getSelectedText = function() {
        var text = "";
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
          var ranges = this.multiSelect.rangeList.ranges;
          var buf = [];
          for (var i = 0; i < ranges.length; i++) {
            buf.push(this.session.getTextRange(ranges[i]));
          }
          var nl = this.session.getDocument().getNewLineCharacter();
          text = buf.join(nl);
          if (text.length == (buf.length - 1) * nl.length)
            text = "";
        } else if (!this.selection.isEmpty()) {
          text = this.session.getTextRange(this.getSelectionRange());
        }
        return text;
      };
      this.$checkMultiselectChange = function(e2, anchor) {
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
          var range = this.multiSelect.ranges[0];
          if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)
            return;
          var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;
          if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)
            this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
          else
            this.multiSelect.mergeOverlappingRanges();
        }
      };
      this.findAll = function(needle, options, additive) {
        options = options || {};
        options.needle = needle || options.needle;
        if (options.needle == void 0) {
          var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
          options.needle = this.session.getTextRange(range);
        }
        this.$search.set(options);
        var ranges = this.$search.findAll(this.session);
        if (!ranges.length)
          return 0;
        var selection = this.multiSelect;
        if (!additive)
          selection.toSingleRange(ranges[0]);
        for (var i = ranges.length; i--; )
          selection.addRange(ranges[i], true);
        if (range && selection.rangeList.rangeAtPoint(range.start))
          selection.addRange(range, true);
        return ranges.length;
      };
      this.selectMoreLines = function(dir, skip) {
        var range = this.selection.toOrientedRange();
        var isBackwards = range.cursor == range.end;
        var screenLead = this.session.documentToScreenPosition(range.cursor);
        if (this.selection.$desiredColumn)
          screenLead.column = this.selection.$desiredColumn;
        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);
        if (!range.isEmpty()) {
          var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
          var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
        } else {
          var anchor = lead;
        }
        if (isBackwards) {
          var newRange = Range.fromPoints(lead, anchor);
          newRange.cursor = newRange.start;
        } else {
          var newRange = Range.fromPoints(anchor, lead);
          newRange.cursor = newRange.end;
        }
        newRange.desiredColumn = screenLead.column;
        if (!this.selection.inMultiSelectMode) {
          this.selection.addRange(range);
        } else {
          if (skip)
            var toRemove = range.cursor;
        }
        this.selection.addRange(newRange);
        if (toRemove)
          this.selection.substractPoint(toRemove);
      };
      this.transposeSelections = function(dir) {
        var session = this.session;
        var sel = session.multiSelect;
        var all3 = sel.ranges;
        for (var i = all3.length; i--; ) {
          var range = all3[i];
          if (range.isEmpty()) {
            var tmp_1 = session.getWordRange(range.start.row, range.start.column);
            range.start.row = tmp_1.start.row;
            range.start.column = tmp_1.start.column;
            range.end.row = tmp_1.end.row;
            range.end.column = tmp_1.end.column;
          }
        }
        sel.mergeOverlappingRanges();
        var words = [];
        for (var i = all3.length; i--; ) {
          var range = all3[i];
          words.unshift(session.getTextRange(range));
        }
        if (dir < 0)
          words.unshift(words.pop());
        else
          words.push(words.shift());
        for (var i = all3.length; i--; ) {
          var range = all3[i];
          var tmp = range.clone();
          session.replace(range, words[i]);
          range.start.row = tmp.start.row;
          range.start.column = tmp.start.column;
        }
        sel.fromOrientedRange(sel.ranges[0]);
      };
      this.selectMore = function(dir, skip, stopAtFirst) {
        var session = this.session;
        var sel = session.multiSelect;
        var range = sel.toOrientedRange();
        if (range.isEmpty()) {
          range = session.getWordRange(range.start.row, range.start.column);
          range.cursor = dir == -1 ? range.start : range.end;
          this.multiSelect.addRange(range);
          if (stopAtFirst)
            return;
        }
        var needle = session.getTextRange(range);
        var newRange = find2(session, needle, dir);
        if (newRange) {
          newRange.cursor = dir == -1 ? newRange.start : newRange.end;
          this.session.unfold(newRange);
          this.multiSelect.addRange(newRange);
          this.renderer.scrollCursorIntoView(null, 0.5);
        }
        if (skip)
          this.multiSelect.substractPoint(range.cursor);
      };
      this.alignCursors = function() {
        var session = this.session;
        var sel = session.multiSelect;
        var ranges = sel.ranges;
        var row = -1;
        var sameRowRanges = ranges.filter(function(r) {
          if (r.cursor.row == row)
            return true;
          row = r.cursor.row;
        });
        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {
          var range = this.selection.getRange();
          var fr = range.start.row, lr = range.end.row;
          var guessRange = fr == lr;
          if (guessRange) {
            var max = this.session.getLength();
            var line;
            do {
              line = this.session.getLine(lr);
            } while (/[=:]/.test(line) && ++lr < max);
            do {
              line = this.session.getLine(fr);
            } while (/[=:]/.test(line) && --fr > 0);
            if (fr < 0)
              fr = 0;
            if (lr >= max)
              lr = max - 1;
          }
          var lines = this.session.removeFullLines(fr, lr);
          lines = this.$reAlignText(lines, guessRange);
          this.session.insert({ row: fr, column: 0 }, lines.join("\n") + "\n");
          if (!guessRange) {
            range.start.column = 0;
            range.end.column = lines[lines.length - 1].length;
          }
          this.selection.setRange(range);
        } else {
          sameRowRanges.forEach(function(r) {
            sel.substractPoint(r.cursor);
          });
          var maxCol = 0;
          var minSpace = Infinity;
          var spaceOffsets = ranges.map(function(r) {
            var p = r.cursor;
            var line2 = session.getLine(p.row);
            var spaceOffset = line2.substr(p.column).search(/\S/g);
            if (spaceOffset == -1)
              spaceOffset = 0;
            if (p.column > maxCol)
              maxCol = p.column;
            if (spaceOffset < minSpace)
              minSpace = spaceOffset;
            return spaceOffset;
          });
          ranges.forEach(function(r, i) {
            var p = r.cursor;
            var l = maxCol - p.column;
            var d = spaceOffsets[i] - minSpace;
            if (l > d)
              session.insert(p, lang.stringRepeat(" ", l - d));
            else
              session.remove(new Range(p.row, p.column, p.row, p.column - l + d));
            r.start.column = r.end.column = maxCol;
            r.start.row = r.end.row = p.row;
            r.cursor = r.end;
          });
          sel.fromOrientedRange(ranges[0]);
          this.renderer.updateCursor();
          this.renderer.updateBackMarkers();
        }
      };
      this.$reAlignText = function(lines, forceLeft) {
        var isLeftAligned = true, isRightAligned = true;
        var startW, textW, endW;
        return lines.map(function(line) {
          var m = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
          if (!m)
            return [line];
          if (startW == null) {
            startW = m[1].length;
            textW = m[2].length;
            endW = m[3].length;
            return m;
          }
          if (startW + textW + endW != m[1].length + m[2].length + m[3].length)
            isRightAligned = false;
          if (startW != m[1].length)
            isLeftAligned = false;
          if (startW > m[1].length)
            startW = m[1].length;
          if (textW < m[2].length)
            textW = m[2].length;
          if (endW > m[3].length)
            endW = m[3].length;
          return m;
        }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);
        function spaces(n) {
          return lang.stringRepeat(" ", n);
        }
        function alignLeft(m) {
          return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(textW - m[2].length + endW) + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function alignRight(m) {
          return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2] + spaces(endW) + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function unAlign(m) {
          return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(endW) + m[4].replace(/^([=:])\s+/, "$1 ");
        }
      };
    }).call(Editor.prototype);
    function isSamePoint(p1, p2) {
      return p1.row == p2.row && p1.column == p2.column;
    }
    exports2.onSessionChange = function(e2) {
      var session = e2.session;
      if (session && !session.multiSelect) {
        session.$selectionMarkers = [];
        session.selection.$initRangeList();
        session.multiSelect = session.selection;
      }
      this.multiSelect = session && session.multiSelect;
      var oldSession = e2.oldSession;
      if (oldSession) {
        oldSession.multiSelect.off("addRange", this.$onAddRange);
        oldSession.multiSelect.off("removeRange", this.$onRemoveRange);
        oldSession.multiSelect.off("multiSelect", this.$onMultiSelect);
        oldSession.multiSelect.off("singleSelect", this.$onSingleSelect);
        oldSession.multiSelect.lead.off("change", this.$checkMultiselectChange);
        oldSession.multiSelect.anchor.off("change", this.$checkMultiselectChange);
      }
      if (session) {
        session.multiSelect.on("addRange", this.$onAddRange);
        session.multiSelect.on("removeRange", this.$onRemoveRange);
        session.multiSelect.on("multiSelect", this.$onMultiSelect);
        session.multiSelect.on("singleSelect", this.$onSingleSelect);
        session.multiSelect.lead.on("change", this.$checkMultiselectChange);
        session.multiSelect.anchor.on("change", this.$checkMultiselectChange);
      }
      if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {
        if (session.selection.inMultiSelectMode)
          this.$onMultiSelect();
        else
          this.$onSingleSelect();
      }
    };
    function MultiSelect(editor) {
      if (editor.$multiselectOnSessionChange)
        return;
      editor.$onAddRange = editor.$onAddRange.bind(editor);
      editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
      editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
      editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);
      editor.$multiselectOnSessionChange = exports2.onSessionChange.bind(editor);
      editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);
      editor.$multiselectOnSessionChange(editor);
      editor.on("changeSession", editor.$multiselectOnSessionChange);
      editor.on("mousedown", onMouseDown);
      editor.commands.addCommands(commands.defaultCommands);
      addAltCursorListeners(editor);
    }
    function addAltCursorListeners(editor) {
      if (!editor.textInput)
        return;
      var el = editor.textInput.getElement();
      var altCursor = false;
      event2.addListener(el, "keydown", function(e2) {
        var altDown = e2.keyCode == 18 && !(e2.ctrlKey || e2.shiftKey || e2.metaKey);
        if (editor.$blockSelectEnabled && altDown) {
          if (!altCursor) {
            editor.renderer.setMouseCursor("crosshair");
            altCursor = true;
          }
        } else if (altCursor) {
          reset();
        }
      }, editor);
      event2.addListener(el, "keyup", reset, editor);
      event2.addListener(el, "blur", reset, editor);
      function reset(e2) {
        if (altCursor) {
          editor.renderer.setMouseCursor("");
          altCursor = false;
        }
      }
    }
    exports2.MultiSelect = MultiSelect;
    require2("./config").defineOptions(Editor.prototype, "editor", {
      enableMultiselect: {
        set: function(val) {
          MultiSelect(this);
          if (val) {
            this.on("mousedown", onMouseDown);
          } else {
            this.off("mousedown", onMouseDown);
          }
        },
        value: true
      },
      enableBlockSelect: {
        set: function(val) {
          this.$blockSelectEnabled = val;
        },
        value: true
      }
    });
  });
  ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(require2, exports2, module2) {
    var Range = require2("../../range").Range;
    var FoldMode = exports2.FoldMode = function() {
    };
    (function() {
      this.foldingStartMarker = null;
      this.foldingStopMarker = null;
      this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        if (this.foldingStartMarker.test(line))
          return "start";
        if (foldStyle == "markbeginend" && this.foldingStopMarker && this.foldingStopMarker.test(line))
          return "end";
        return "";
      };
      this.getFoldWidgetRange = function(session, foldStyle, row) {
        return null;
      };
      this.indentationBlock = function(session, row, column) {
        var re = /\S/;
        var line = session.getLine(row);
        var startLevel = line.search(re);
        if (startLevel == -1)
          return;
        var startColumn = column || line.length;
        var maxRow = session.getLength();
        var startRow = row;
        var endRow = row;
        while (++row < maxRow) {
          var level = session.getLine(row).search(re);
          if (level == -1)
            continue;
          if (level <= startLevel) {
            var token = session.getTokenAt(row, 0);
            if (!token || token.type !== "string")
              break;
          }
          endRow = row;
        }
        if (endRow > startRow) {
          var endColumn = session.getLine(endRow).length;
          return new Range(startRow, startColumn, endRow, endColumn);
        }
      };
      this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
        var start = { row, column: column + 1 };
        var end = session.$findClosingBracket(bracket, start, typeRe);
        if (!end)
          return;
        var fw = session.foldWidgets[end.row];
        if (fw == null)
          fw = session.getFoldWidget(end.row);
        if (fw == "start" && end.row > start.row) {
          end.row--;
          end.column = session.getLine(end.row).length;
        }
        return Range.fromPoints(start, end);
      };
      this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
        var end = { row, column };
        var start = session.$findOpeningBracket(bracket, end);
        if (!start)
          return;
        start.column++;
        end.column--;
        return Range.fromPoints(start, end);
      };
    }).call(FoldMode.prototype);
  });
  ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range", "ace/config"], function(require2, exports2, module2) {
    var LineWidgets = require2("../line_widgets").LineWidgets;
    var dom = require2("../lib/dom");
    var Range = require2("../range").Range;
    var nls = require2("../config").nls;
    function binarySearch(array, needle, comparator) {
      var first = 0;
      var last = array.length - 1;
      while (first <= last) {
        var mid = first + last >> 1;
        var c = comparator(needle, array[mid]);
        if (c > 0)
          first = mid + 1;
        else if (c < 0)
          last = mid - 1;
        else
          return mid;
      }
      return -(first + 1);
    }
    function findAnnotations(session, row, dir) {
      var annotations = session.getAnnotations().sort(Range.comparePoints);
      if (!annotations.length)
        return;
      var i = binarySearch(annotations, { row, column: -1 }, Range.comparePoints);
      if (i < 0)
        i = -i - 1;
      if (i >= annotations.length)
        i = dir > 0 ? 0 : annotations.length - 1;
      else if (i === 0 && dir < 0)
        i = annotations.length - 1;
      var annotation = annotations[i];
      if (!annotation || !dir)
        return;
      if (annotation.row === row) {
        do {
          annotation = annotations[i += dir];
        } while (annotation && annotation.row === row);
        if (!annotation)
          return annotations.slice();
      }
      var matched = [];
      row = annotation.row;
      do {
        matched[dir < 0 ? "unshift" : "push"](annotation);
        annotation = annotations[i += dir];
      } while (annotation && annotation.row == row);
      return matched.length && matched;
    }
    exports2.showErrorMarker = function(editor, dir) {
      var session = editor.session;
      if (!session.widgetManager) {
        session.widgetManager = new LineWidgets(session);
        session.widgetManager.attach(editor);
      }
      var pos = editor.getCursorPosition();
      var row = pos.row;
      var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w2) {
        return w2.type == "errorMarker";
      })[0];
      if (oldWidget) {
        oldWidget.destroy();
      } else {
        row -= dir;
      }
      var annotations = findAnnotations(session, row, dir);
      var gutterAnno;
      if (annotations) {
        var annotation = annotations[0];
        pos.column = (annotation.pos && typeof annotation.column != "number" ? annotation.pos.sc : annotation.column) || 0;
        pos.row = annotation.row;
        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];
      } else if (oldWidget) {
        return;
      } else {
        gutterAnno = {
          text: [nls("Looks good!")],
          className: "ace_ok"
        };
      }
      editor.session.unfold(pos.row);
      editor.selection.moveToPosition(pos);
      var w = {
        row: pos.row,
        fixedWidth: true,
        coverGutter: true,
        el: dom.createElement("div"),
        type: "errorMarker"
      };
      var el = w.el.appendChild(dom.createElement("div"));
      var arrow = w.el.appendChild(dom.createElement("div"));
      arrow.className = "error_widget_arrow " + gutterAnno.className;
      var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;
      arrow.style.left = left + editor.renderer.gutterWidth - 5 + "px";
      w.el.className = "error_widget_wrapper";
      el.className = "error_widget " + gutterAnno.className;
      el.innerHTML = gutterAnno.text.join("<br>");
      el.appendChild(dom.createElement("div"));
      var kb = function(_, hashId, keyString) {
        if (hashId === 0 && (keyString === "esc" || keyString === "return")) {
          w.destroy();
          return { command: "null" };
        }
      };
      w.destroy = function() {
        if (editor.$mouseHandler.isMousePressed)
          return;
        editor.keyBinding.removeKeyboardHandler(kb);
        session.widgetManager.removeLineWidget(w);
        editor.off("changeSelection", w.destroy);
        editor.off("changeSession", w.destroy);
        editor.off("mouseup", w.destroy);
        editor.off("change", w.destroy);
      };
      editor.keyBinding.addKeyboardHandler(kb);
      editor.on("changeSelection", w.destroy);
      editor.on("changeSession", w.destroy);
      editor.on("mouseup", w.destroy);
      editor.on("change", w.destroy);
      editor.session.widgetManager.addLineWidget(w);
      w.el.onmousedown = editor.focus.bind(editor);
      editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });
    };
    dom.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n", "error_marker.css", false);
  });
  ace.define("ace/ace", ["require", "exports", "module", "ace/lib/dom", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config", "ace/loader_build"], function(require2, exports2, module2) {
    require2("./loader_build")(exports2);
    var dom = require2("./lib/dom");
    var Range = require2("./range").Range;
    var Editor = require2("./editor").Editor;
    var EditSession = require2("./edit_session").EditSession;
    var UndoManager = require2("./undomanager").UndoManager;
    var Renderer = require2("./virtual_renderer").VirtualRenderer;
    require2("./worker/worker_client");
    require2("./keyboard/hash_handler");
    require2("./placeholder");
    require2("./multi_select");
    require2("./mode/folding/fold_mode");
    require2("./theme/textmate");
    require2("./ext/error_marker");
    exports2.config = require2("./config");
    exports2.edit = function(el, options) {
      if (typeof el == "string") {
        var _id = el;
        el = document.getElementById(_id);
        if (!el)
          throw new Error("ace.edit can't find div #" + _id);
      }
      if (el && el.env && el.env.editor instanceof Editor)
        return el.env.editor;
      var value2 = "";
      if (el && /input|textarea/i.test(el.tagName)) {
        var oldNode = el;
        value2 = oldNode.value;
        el = dom.createElement("pre");
        oldNode.parentNode.replaceChild(el, oldNode);
      } else if (el) {
        value2 = el.textContent;
        el.innerHTML = "";
      }
      var doc = exports2.createEditSession(value2);
      var editor = new Editor(new Renderer(el), doc, options);
      var env = {
        document: doc,
        editor,
        onResize: editor.resize.bind(editor, null)
      };
      if (oldNode)
        env.textarea = oldNode;
      editor.on("destroy", function() {
        env.editor.container.env = null;
      });
      editor.container.env = editor.env = env;
      return editor;
    };
    exports2.createEditSession = function(text, mode) {
      var doc = new EditSession(text, mode);
      doc.setUndoManager(new UndoManager());
      return doc;
    };
    exports2.Range = Range;
    exports2.Editor = Editor;
    exports2.EditSession = EditSession;
    exports2.UndoManager = UndoManager;
    exports2.VirtualRenderer = Renderer;
    exports2.version = exports2.config.version;
  });
  (function() {
    ace.require(["ace/ace"], function(a) {
      if (a) {
        a.config.init(true);
        a.define = ace.define;
      }
      var global2 = /* @__PURE__ */ function() {
        return this;
      }();
      if (!global2 && typeof window != "undefined")
        global2 = window;
      if (!global2 && typeof self != "undefined")
        global2 = self;
      if (!global2.ace)
        global2.ace = a;
      for (var key in a)
        if (a.hasOwnProperty(key))
          global2.ace[key] = a[key];
      global2.ace["default"] = global2.ace;
      if (module) {
        module.exports = global2.ace;
      }
    });
  })();
})(ace$2);
var aceExports = ace$2.exports;
const ace$1 = /* @__PURE__ */ getDefaultExportFromCjs(aceExports);
var themeSqlserver = { exports: {} };
(function(module, exports) {
  ace.define("ace/theme/sqlserver-css", ["require", "exports", "module"], function(e2, t, n) {
    n.exports = '.ace-sqlserver .ace_gutter {\n    background: #ebebeb;\n    color: #333;\n    overflow: hidden;\n}\n\n.ace-sqlserver .ace_print-margin {\n    width: 1px;\n    background: #e8e8e8;\n}\n\n.ace-sqlserver {\n    background-color: #FFFFFF;\n    color: black;\n}\n\n.ace-sqlserver .ace_identifier {\n    color: black;\n}\n\n.ace-sqlserver .ace_keyword {\n    color: #0000FF;\n}\n\n.ace-sqlserver .ace_numeric {\n    color: black;\n}\n\n.ace-sqlserver .ace_storage {\n    color: #11B7BE;\n}\n\n.ace-sqlserver .ace_keyword.ace_operator,\n.ace-sqlserver .ace_lparen,\n.ace-sqlserver .ace_rparen,\n.ace-sqlserver .ace_punctuation {\n    color: #808080;\n}\n\n.ace-sqlserver .ace_set.ace_statement {\n    color: #0000FF;\n    text-decoration: underline;\n}\n\n.ace-sqlserver .ace_cursor {\n    color: black;\n}\n\n.ace-sqlserver .ace_invisible {\n    color: rgb(191, 191, 191);\n}\n\n.ace-sqlserver .ace_constant.ace_buildin {\n    color: rgb(88, 72, 246);\n}\n\n.ace-sqlserver .ace_constant.ace_language {\n    color: #979797;\n}\n\n.ace-sqlserver .ace_constant.ace_library {\n    color: rgb(6, 150, 14);\n}\n\n.ace-sqlserver .ace_invalid {\n    background-color: rgb(153, 0, 0);\n    color: white;\n}\n\n.ace-sqlserver .ace_support.ace_function {\n    color: #FF00FF;\n}\n\n.ace-sqlserver .ace_support.ace_constant {\n    color: rgb(6, 150, 14);\n}\n\n.ace-sqlserver .ace_class {\n    color: #008080;\n}\n\n.ace-sqlserver .ace_support.ace_other {\n    color: #6D79DE;\n}\n\n.ace-sqlserver .ace_variable.ace_parameter {\n    font-style: italic;\n    color: #FD971F;\n}\n\n.ace-sqlserver .ace_comment {\n    color: #008000;\n}\n\n.ace-sqlserver .ace_constant.ace_numeric {\n    color: black;\n}\n\n.ace-sqlserver .ace_variable {\n    color: rgb(49, 132, 149);\n}\n\n.ace-sqlserver .ace_xml-pe {\n    color: rgb(104, 104, 91);\n}\n\n.ace-sqlserver .ace_support.ace_storedprocedure {\n    color: #800000;\n}\n\n.ace-sqlserver .ace_heading {\n    color: rgb(12, 7, 255);\n}\n\n.ace-sqlserver .ace_list {\n    color: rgb(185, 6, 144);\n}\n\n.ace-sqlserver .ace_marker-layer .ace_selection {\n    background: rgb(181, 213, 255);\n}\n\n.ace-sqlserver .ace_marker-layer .ace_step {\n    background: rgb(252, 255, 0);\n}\n\n.ace-sqlserver .ace_marker-layer .ace_stack {\n    background: rgb(164, 229, 101);\n}\n\n.ace-sqlserver .ace_marker-layer .ace_bracket {\n    margin: -1px 0 0 -1px;\n    border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-sqlserver .ace_marker-layer .ace_active-line {\n    background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-sqlserver .ace_gutter-active-line {\n    background-color: #dcdcdc;\n}\n\n.ace-sqlserver .ace_marker-layer .ace_selected-word {\n    background: rgb(250, 250, 255);\n    border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-sqlserver .ace_meta.ace_tag {\n    color: #0000FF;\n}\n\n.ace-sqlserver .ace_string.ace_regex {\n    color: #FF0000;\n}\n\n.ace-sqlserver .ace_string {\n    color: #FF0000;\n}\n\n.ace-sqlserver .ace_entity.ace_other.ace_attribute-name {\n    color: #994409;\n}\n\n.ace-sqlserver .ace_indent-guide {\n    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-sqlserver .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n} \n';
  }), ace.define("ace/theme/sqlserver", ["require", "exports", "module", "ace/theme/sqlserver-css", "ace/lib/dom"], function(e2, t, n) {
    t.isDark = false, t.cssClass = "ace-sqlserver", t.cssText = e2("./sqlserver-css");
    var r = e2("../lib/dom");
    r.importCssString(t.cssText, t.cssClass, false);
  });
  (function() {
    ace.require(["ace/theme/sqlserver"], function(m) {
      if (module) {
        module.exports = m;
      }
    });
  })();
})(themeSqlserver);
var modeJavascript = { exports: {} };
(function(module, exports) {
  ace.define("ace/mode/jsdoc_comment_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e2, t, n) {
    var r = e2("../lib/oop"), i = e2("./text_highlight_rules").TextHighlightRules, s = function() {
      this.$rules = { start: [{ token: ["comment.doc.tag", "comment.doc.text", "lparen.doc"], regex: "(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)", push: [{ token: "lparen.doc", regex: "{", push: [{ include: "doc-syntax" }, { token: "rparen.doc", regex: "}|(?=$)", next: "pop" }] }, { token: ["rparen.doc", "text.doc", "variable.parameter.doc", "lparen.doc", "variable.parameter.doc", "rparen.doc"], regex: /(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/, next: "pop" }, { token: "rparen.doc", regex: "}|(?=$)", next: "pop" }, { include: "doc-syntax" }, { defaultToken: "text.doc" }] }, { token: ["comment.doc.tag", "text.doc", "lparen.doc"], regex: "(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)", push: [{ token: "lparen.doc", regex: "{", push: [{ include: "doc-syntax" }, { token: "rparen.doc", regex: "}|(?=$)", next: "pop" }] }, { token: "rparen.doc", regex: "}|(?=$)", next: "pop" }, { include: "doc-syntax" }, { defaultToken: "text.doc" }] }, { token: ["comment.doc.tag", "text.doc", "variable.parameter.doc"], regex: '(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?' }, { token: ["comment.doc.tag", "text.doc", "variable.parameter.doc"], regex: "(@method)(\\s+)(\\w[\\w.\\(\\)]*)" }, { token: "comment.doc.tag", regex: "@access\\s+(?:private|public|protected)" }, { token: "comment.doc.tag", regex: "@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)" }, { token: "comment.doc.tag", regex: "@\\w+(?=\\s|$)" }, s.getTagRule(), { defaultToken: "comment.doc", caseInsensitive: true }], "doc-syntax": [{ token: "operator.doc", regex: /[|:]/ }, { token: "paren.doc", regex: /[\[\]]/ }] }, this.normalizeRules();
    };
    r.inherits(s, i), s.getTagRule = function(e3) {
      return { token: "comment.doc.tag.storage.type", regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b" };
    }, s.getStartRule = function(e3) {
      return { token: "comment.doc", regex: "\\/\\*(?=\\*)", next: e3 };
    }, s.getEndRule = function(e3) {
      return { token: "comment.doc", regex: "\\*\\/", next: e3 };
    }, t.JsDocCommentHighlightRules = s;
  }), ace.define("ace/mode/javascript_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/jsdoc_comment_highlight_rules", "ace/mode/text_highlight_rules"], function(e2, t, n) {
    function a() {
      var e3 = o.replace("\\d", "\\d\\-"), t2 = { onMatch: function(e4, t3, n3) {
        var r2 = e4.charAt(1) == "/" ? 2 : 1;
        if (r2 == 1)
          t3 != this.nextState ? n3.unshift(this.next, this.nextState, 0) : n3.unshift(this.next), n3[2]++;
        else if (r2 == 2 && t3 == this.nextState) {
          n3[1]--;
          if (!n3[1] || n3[1] < 0)
            n3.shift(), n3.shift();
        }
        return [{ type: "meta.tag.punctuation." + (r2 == 1 ? "" : "end-") + "tag-open.xml", value: e4.slice(0, r2) }, { type: "meta.tag.tag-name.xml", value: e4.substr(r2) }];
      }, regex: "</?" + e3, next: "jsxAttributes", nextState: "jsx" };
      this.$rules.start.unshift(t2);
      var n2 = { regex: "{", token: "paren.quasi.start", push: "start" };
      this.$rules.jsx = [n2, t2, { include: "reference" }, { defaultToken: "string" }], this.$rules.jsxAttributes = [{ token: "meta.tag.punctuation.tag-close.xml", regex: "/?>", onMatch: function(e4, t3, n3) {
        return t3 == n3[0] && n3.shift(), e4.length == 2 && (n3[0] == this.nextState && n3[1]--, (!n3[1] || n3[1] < 0) && n3.splice(0, 2)), this.next = n3[0] || "start", [{ type: this.token, value: e4 }];
      }, nextState: "jsx" }, n2, f("jsxAttributes"), { token: "entity.other.attribute-name.xml", regex: e3 }, { token: "keyword.operator.attribute-equals.xml", regex: "=" }, { token: "text.tag-whitespace.xml", regex: "\\s+" }, { token: "string.attribute-value.xml", regex: "'", stateName: "jsx_attr_q", push: [{ token: "string.attribute-value.xml", regex: "'", next: "pop" }, { include: "reference" }, { defaultToken: "string.attribute-value.xml" }] }, { token: "string.attribute-value.xml", regex: '"', stateName: "jsx_attr_qq", push: [{ token: "string.attribute-value.xml", regex: '"', next: "pop" }, { include: "reference" }, { defaultToken: "string.attribute-value.xml" }] }, t2], this.$rules.reference = [{ token: "constant.language.escape.reference.xml", regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)" }];
    }
    function f(e3) {
      return [{ token: "comment", regex: /\/\*/, next: [i.getTagRule(), { token: "comment", regex: "\\*\\/", next: e3 || "pop" }, { defaultToken: "comment", caseInsensitive: true }] }, { token: "comment", regex: "\\/\\/", next: [i.getTagRule(), { token: "comment", regex: "$|^", next: e3 || "pop" }, { defaultToken: "comment", caseInsensitive: true }] }];
    }
    var r = e2("../lib/oop"), i = e2("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules, s = e2("./text_highlight_rules").TextHighlightRules, o = "[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*", u = function(e3) {
      var t2 = this.createKeywordMapper({ "variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document", keyword: "const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor", "storage.type": "const|let|var|function", "constant.language": "null|Infinity|NaN|undefined", "support.function": "alert", "constant.language.boolean": "true|false" }, "identifier"), n2 = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void", r2 = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";
      this.$rules = { no_regex: [i.getStartRule("doc-start"), f("no_regex"), { token: "string", regex: "'(?=.)", next: "qstring" }, { token: "string", regex: '"(?=.)', next: "qqstring" }, { token: "constant.numeric", regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/ }, { token: "constant.numeric", regex: /(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/ }, { token: ["storage.type", "punctuation.operator", "support.function", "punctuation.operator", "entity.name.function", "text", "keyword.operator"], regex: "(" + o + ")(\\.)(prototype)(\\.)(" + o + ")(\\s*)(=)", next: "function_arguments" }, { token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"], regex: "(" + o + ")(\\.)(" + o + ")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()", next: "function_arguments" }, { token: ["entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"], regex: "(" + o + ")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()", next: "function_arguments" }, { token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen"], regex: "(" + o + ")(\\.)(" + o + ")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()", next: "function_arguments" }, { token: ["storage.type", "text", "entity.name.function", "text", "paren.lparen"], regex: "(function\\*?)(\\s+)(" + o + ")(\\s*)(\\()", next: "function_arguments" }, { token: ["entity.name.function", "text", "punctuation.operator", "text", "storage.type", "text", "paren.lparen"], regex: "(" + o + ")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()", next: "function_arguments" }, { token: ["text", "text", "storage.type", "text", "paren.lparen"], regex: "(:)(\\s*)(function\\*?)(\\s*)(\\()", next: "function_arguments" }, { token: "keyword", regex: `from(?=\\s*('|"))` }, { token: "keyword", regex: "(?:" + n2 + ")\\b", next: "start" }, { token: "support.constant", regex: /that\b/ }, { token: ["storage.type", "punctuation.operator", "support.function.firebug"], regex: /(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/ }, { token: t2, regex: o }, { token: "punctuation.operator", regex: /[.](?![.])/, next: "property" }, { token: "storage.type", regex: /=>/, next: "start" }, { token: "keyword.operator", regex: /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/, next: "start" }, { token: "punctuation.operator", regex: /[?:,;.]/, next: "start" }, { token: "paren.lparen", regex: /[\[({]/, next: "start" }, { token: "paren.rparen", regex: /[\])}]/ }, { token: "comment", regex: /^#!.*$/ }], property: [{ token: "text", regex: "\\s+" }, { token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen"], regex: "(" + o + ")(\\.)(" + o + ")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()", next: "function_arguments" }, { token: "punctuation.operator", regex: /[.](?![.])/ }, { token: "support.function", regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/ }, { token: "support.function.dom", regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/ }, { token: "support.constant", regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/ }, { token: "identifier", regex: o }, { regex: "", token: "empty", next: "no_regex" }], start: [i.getStartRule("doc-start"), f("start"), { token: "string.regexp", regex: "\\/", next: "regex" }, { token: "text", regex: "\\s+|^$", next: "start" }, { token: "empty", regex: "", next: "no_regex" }], regex: [{ token: "regexp.keyword.operator", regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)" }, { token: "string.regexp", regex: "/[sxngimy]*", next: "no_regex" }, { token: "invalid", regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/ }, { token: "constant.language.escape", regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/ }, { token: "constant.language.delimiter", regex: /\|/ }, { token: "constant.language.escape", regex: /\[\^?/, next: "regex_character_class" }, { token: "empty", regex: "$", next: "no_regex" }, { defaultToken: "string.regexp" }], regex_character_class: [{ token: "regexp.charclass.keyword.operator", regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)" }, { token: "constant.language.escape", regex: "]", next: "regex" }, { token: "constant.language.escape", regex: "-" }, { token: "empty", regex: "$", next: "no_regex" }, { defaultToken: "string.regexp.charachterclass" }], default_parameter: [{ token: "string", regex: "'(?=.)", push: [{ token: "string", regex: "'|$", next: "pop" }, { include: "qstring" }] }, { token: "string", regex: '"(?=.)', push: [{ token: "string", regex: '"|$', next: "pop" }, { include: "qqstring" }] }, { token: "constant.language", regex: "null|Infinity|NaN|undefined" }, { token: "constant.numeric", regex: /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/ }, { token: "constant.numeric", regex: /(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/ }, { token: "punctuation.operator", regex: ",", next: "function_arguments" }, { token: "text", regex: "\\s+" }, { token: "punctuation.operator", regex: "$" }, { token: "empty", regex: "", next: "no_regex" }], function_arguments: [f("function_arguments"), { token: "variable.parameter", regex: o }, { token: "punctuation.operator", regex: "," }, { token: "text", regex: "\\s+" }, { token: "punctuation.operator", regex: "$" }, { token: "empty", regex: "", next: "no_regex" }], qqstring: [{ token: "constant.language.escape", regex: r2 }, { token: "string", regex: "\\\\$", consumeLineEnd: true }, { token: "string", regex: '"|$', next: "no_regex" }, { defaultToken: "string" }], qstring: [{ token: "constant.language.escape", regex: r2 }, { token: "string", regex: "\\\\$", consumeLineEnd: true }, { token: "string", regex: "'|$", next: "no_regex" }, { defaultToken: "string" }] };
      if (!e3 || !e3.noES6)
        this.$rules.no_regex.unshift({ regex: "[{}]", onMatch: function(e4, t3, n3) {
          this.next = e4 == "{" ? this.nextState : "";
          if (e4 == "{" && n3.length)
            n3.unshift("start", t3);
          else if (e4 == "}" && n3.length) {
            n3.shift(), this.next = n3.shift();
            if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
              return "paren.quasi.end";
          }
          return e4 == "{" ? "paren.lparen" : "paren.rparen";
        }, nextState: "start" }, { token: "string.quasi.start", regex: /`/, push: [{ token: "constant.language.escape", regex: r2 }, { token: "paren.quasi.start", regex: /\${/, push: "start" }, { token: "string.quasi.end", regex: /`/, next: "pop" }, { defaultToken: "string.quasi" }] }, { token: ["variable.parameter", "text"], regex: "(" + o + ")(\\s*)(?=\\=>)" }, { token: "paren.lparen", regex: "(\\()(?=.+\\s*=>)", next: "function_arguments" }, { token: "variable.language", regex: "(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b" }), this.$rules.function_arguments.unshift({ token: "keyword.operator", regex: "=", next: "default_parameter" }, { token: "keyword.operator", regex: "\\.{3}" }), this.$rules.property.unshift({ token: "support.function", regex: "(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()" }, { token: "constant.language", regex: "(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b" }), (!e3 || e3.jsx != 0) && a.call(this);
      this.embedRules(i, "doc-", [i.getEndRule("no_regex")]), this.normalizeRules();
    };
    r.inherits(u, s), t.JavaScriptHighlightRules = u;
  }), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e2, t, n) {
    var r = e2("../range").Range, i = function() {
    };
    (function() {
      this.checkOutdent = function(e3, t2) {
        return /^\s+$/.test(e3) ? /^\s*\}/.test(t2) : false;
      }, this.autoOutdent = function(e3, t2) {
        var n2 = e3.getLine(t2), i2 = n2.match(/^(\s*\})/);
        if (!i2)
          return 0;
        var s = i2[1].length, o = e3.findMatchingBracket({ row: t2, column: s });
        if (!o || o.row == t2)
          return 0;
        var u = this.$getIndent(e3.getLine(o.row));
        e3.replace(new r(t2, 0, t2, s - 1), u);
      }, this.$getIndent = function(e3) {
        return e3.match(/^\s*/)[0];
      };
    }).call(i.prototype), t.MatchingBraceOutdent = i;
  }), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e2, t, n) {
    var r = e2("../../lib/oop"), i = e2("../../range").Range, s = e2("./fold_mode").FoldMode, o = t.FoldMode = function(e3) {
      e3 && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e3.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e3.end)));
    };
    r.inherits(o, s), (function() {
      this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e3, t2, n2) {
        var r2 = e3.getLine(n2);
        if (this.singleLineBlockCommentRe.test(r2) && !this.startRegionRe.test(r2) && !this.tripleStarBlockCommentRe.test(r2))
          return "";
        var i2 = this._getFoldWidgetBase(e3, t2, n2);
        return !i2 && this.startRegionRe.test(r2) ? "start" : i2;
      }, this.getFoldWidgetRange = function(e3, t2, n2, r2) {
        var i2 = e3.getLine(n2);
        if (this.startRegionRe.test(i2))
          return this.getCommentRegionBlock(e3, i2, n2);
        var s2 = i2.match(this.foldingStartMarker);
        if (s2) {
          var o2 = s2.index;
          if (s2[1])
            return this.openingBracketBlock(e3, s2[1], n2, o2);
          var u = e3.getCommentFoldRange(n2, o2 + s2[0].length, 1);
          return u && !u.isMultiLine() && (r2 ? u = this.getSectionRange(e3, n2) : t2 != "all" && (u = null)), u;
        }
        if (t2 === "markbegin")
          return;
        var s2 = i2.match(this.foldingStopMarker);
        if (s2) {
          var o2 = s2.index + s2[0].length;
          return s2[1] ? this.closingBracketBlock(e3, s2[1], n2, o2) : e3.getCommentFoldRange(n2, o2, -1);
        }
      }, this.getSectionRange = function(e3, t2) {
        var n2 = e3.getLine(t2), r2 = n2.search(/\S/), s2 = t2, o2 = n2.length;
        t2 += 1;
        var u = t2, a = e3.getLength();
        while (++t2 < a) {
          n2 = e3.getLine(t2);
          var f = n2.search(/\S/);
          if (f === -1)
            continue;
          if (r2 > f)
            break;
          var l = this.getFoldWidgetRange(e3, "all", t2);
          if (l) {
            if (l.start.row <= s2)
              break;
            if (l.isMultiLine())
              t2 = l.end.row;
            else if (r2 == f)
              break;
          }
          u = t2;
        }
        return new i(s2, o2, u, e3.getLine(u).length);
      }, this.getCommentRegionBlock = function(e3, t2, n2) {
        var r2 = t2.search(/\s*$/), s2 = e3.getLength(), o2 = n2, u = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, a = 1;
        while (++n2 < s2) {
          t2 = e3.getLine(n2);
          var f = u.exec(t2);
          if (!f)
            continue;
          f[1] ? a-- : a++;
          if (!a)
            break;
        }
        var l = n2;
        if (l > o2)
          return new i(o2, r2, l, t2.length);
      };
    }).call(o.prototype);
  }), ace.define("ace/mode/javascript", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle"], function(e2, t, n) {
    var r = e2("../lib/oop"), i = e2("./text").Mode, s = e2("./javascript_highlight_rules").JavaScriptHighlightRules, o = e2("./matching_brace_outdent").MatchingBraceOutdent, u = e2("../worker/worker_client").WorkerClient, a = e2("./behaviour/cstyle").CstyleBehaviour, f = e2("./folding/cstyle").FoldMode, l = function() {
      this.HighlightRules = s, this.$outdent = new o(), this.$behaviour = new a(), this.foldingRules = new f();
    };
    r.inherits(l, i), (function() {
      this.lineCommentStart = "//", this.blockComment = { start: "/*", end: "*/" }, this.$quotes = { '"': '"', "'": "'", "`": "`" }, this.$pairQuotesAfter = { "`": /\w/ }, this.getNextLineIndent = function(e3, t2, n2) {
        var r2 = this.$getIndent(t2), i2 = this.getTokenizer().getLineTokens(t2, e3), s2 = i2.tokens, o2 = i2.state;
        if (s2.length && s2[s2.length - 1].type == "comment")
          return r2;
        if (e3 == "start" || e3 == "no_regex") {
          var u2 = t2.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);
          u2 && (r2 += n2);
        } else if (e3 == "doc-start") {
          if (o2 == "start" || o2 == "no_regex")
            return "";
          var u2 = t2.match(/^\s*(\/?)\*/);
          u2 && (u2[1] && (r2 += " "), r2 += "* ");
        }
        return r2;
      }, this.checkOutdent = function(e3, t2, n2) {
        return this.$outdent.checkOutdent(t2, n2);
      }, this.autoOutdent = function(e3, t2, n2) {
        this.$outdent.autoOutdent(t2, n2);
      }, this.createWorker = function(e3) {
        var t2 = new u(["ace"], "ace/mode/javascript_worker", "JavaScriptWorker");
        return t2.attachToDocument(e3.getDocument()), t2.on("annotate", function(t3) {
          e3.setAnnotations(t3.data);
        }), t2.on("terminate", function() {
          e3.clearAnnotations();
        }), t2;
      }, this.$id = "ace/mode/javascript", this.snippetFileId = "ace/snippets/javascript";
    }).call(l.prototype), t.Mode = l;
  });
  (function() {
    ace.require(["ace/mode/javascript"], function(m) {
      if (module) {
        module.exports = m;
      }
    });
  })();
})(modeJavascript);
var modeJson = { exports: {} };
(function(module, exports) {
  ace.define("ace/mode/json_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e2, t, n) {
    var r = e2("../lib/oop"), i = e2("./text_highlight_rules").TextHighlightRules, s = function() {
      this.$rules = { start: [{ token: "variable", regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)' }, { token: "string", regex: '"', next: "string" }, { token: "constant.numeric", regex: "0[xX][0-9a-fA-F]+\\b" }, { token: "constant.numeric", regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b" }, { token: "constant.language.boolean", regex: "(?:true|false)\\b" }, { token: "text", regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']" }, { token: "comment", regex: "\\/\\/.*$" }, { token: "comment.start", regex: "\\/\\*", next: "comment" }, { token: "paren.lparen", regex: "[[({]" }, { token: "paren.rparen", regex: "[\\])}]" }, { token: "punctuation.operator", regex: /[,]/ }, { token: "text", regex: "\\s+" }], string: [{ token: "constant.language.escape", regex: /\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/ }, { token: "string", regex: '"|$', next: "start" }, { defaultToken: "string" }], comment: [{ token: "comment.end", regex: "\\*\\/", next: "start" }, { defaultToken: "comment" }] };
    };
    r.inherits(s, i), t.JsonHighlightRules = s;
  }), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e2, t, n) {
    var r = e2("../range").Range, i = function() {
    };
    (function() {
      this.checkOutdent = function(e3, t2) {
        return /^\s+$/.test(e3) ? /^\s*\}/.test(t2) : false;
      }, this.autoOutdent = function(e3, t2) {
        var n2 = e3.getLine(t2), i2 = n2.match(/^(\s*\})/);
        if (!i2)
          return 0;
        var s = i2[1].length, o = e3.findMatchingBracket({ row: t2, column: s });
        if (!o || o.row == t2)
          return 0;
        var u = this.$getIndent(e3.getLine(o.row));
        e3.replace(new r(t2, 0, t2, s - 1), u);
      }, this.$getIndent = function(e3) {
        return e3.match(/^\s*/)[0];
      };
    }).call(i.prototype), t.MatchingBraceOutdent = i;
  }), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e2, t, n) {
    var r = e2("../../lib/oop"), i = e2("../../range").Range, s = e2("./fold_mode").FoldMode, o = t.FoldMode = function(e3) {
      e3 && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e3.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e3.end)));
    };
    r.inherits(o, s), (function() {
      this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e3, t2, n2) {
        var r2 = e3.getLine(n2);
        if (this.singleLineBlockCommentRe.test(r2) && !this.startRegionRe.test(r2) && !this.tripleStarBlockCommentRe.test(r2))
          return "";
        var i2 = this._getFoldWidgetBase(e3, t2, n2);
        return !i2 && this.startRegionRe.test(r2) ? "start" : i2;
      }, this.getFoldWidgetRange = function(e3, t2, n2, r2) {
        var i2 = e3.getLine(n2);
        if (this.startRegionRe.test(i2))
          return this.getCommentRegionBlock(e3, i2, n2);
        var s2 = i2.match(this.foldingStartMarker);
        if (s2) {
          var o2 = s2.index;
          if (s2[1])
            return this.openingBracketBlock(e3, s2[1], n2, o2);
          var u = e3.getCommentFoldRange(n2, o2 + s2[0].length, 1);
          return u && !u.isMultiLine() && (r2 ? u = this.getSectionRange(e3, n2) : t2 != "all" && (u = null)), u;
        }
        if (t2 === "markbegin")
          return;
        var s2 = i2.match(this.foldingStopMarker);
        if (s2) {
          var o2 = s2.index + s2[0].length;
          return s2[1] ? this.closingBracketBlock(e3, s2[1], n2, o2) : e3.getCommentFoldRange(n2, o2, -1);
        }
      }, this.getSectionRange = function(e3, t2) {
        var n2 = e3.getLine(t2), r2 = n2.search(/\S/), s2 = t2, o2 = n2.length;
        t2 += 1;
        var u = t2, a = e3.getLength();
        while (++t2 < a) {
          n2 = e3.getLine(t2);
          var f = n2.search(/\S/);
          if (f === -1)
            continue;
          if (r2 > f)
            break;
          var l = this.getFoldWidgetRange(e3, "all", t2);
          if (l) {
            if (l.start.row <= s2)
              break;
            if (l.isMultiLine())
              t2 = l.end.row;
            else if (r2 == f)
              break;
          }
          u = t2;
        }
        return new i(s2, o2, u, e3.getLine(u).length);
      }, this.getCommentRegionBlock = function(e3, t2, n2) {
        var r2 = t2.search(/\s*$/), s2 = e3.getLength(), o2 = n2, u = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, a = 1;
        while (++n2 < s2) {
          t2 = e3.getLine(n2);
          var f = u.exec(t2);
          if (!f)
            continue;
          f[1] ? a-- : a++;
          if (!a)
            break;
        }
        var l = n2;
        if (l > o2)
          return new i(o2, r2, l, t2.length);
      };
    }).call(o.prototype);
  }), ace.define("ace/mode/json", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/json_highlight_rules", "ace/mode/matching_brace_outdent", "ace/mode/folding/cstyle", "ace/worker/worker_client"], function(e2, t, n) {
    var r = e2("../lib/oop"), i = e2("./text").Mode, s = e2("./json_highlight_rules").JsonHighlightRules, o = e2("./matching_brace_outdent").MatchingBraceOutdent, u = e2("./folding/cstyle").FoldMode, a = e2("../worker/worker_client").WorkerClient, f = function() {
      this.HighlightRules = s, this.$outdent = new o(), this.$behaviour = this.$defaultBehaviour, this.foldingRules = new u();
    };
    r.inherits(f, i), (function() {
      this.lineCommentStart = "//", this.blockComment = { start: "/*", end: "*/" }, this.getNextLineIndent = function(e3, t2, n2) {
        var r2 = this.$getIndent(t2);
        if (e3 == "start") {
          var i2 = t2.match(/^.*[\{\(\[]\s*$/);
          i2 && (r2 += n2);
        }
        return r2;
      }, this.checkOutdent = function(e3, t2, n2) {
        return this.$outdent.checkOutdent(t2, n2);
      }, this.autoOutdent = function(e3, t2, n2) {
        this.$outdent.autoOutdent(t2, n2);
      }, this.createWorker = function(e3) {
        var t2 = new a(["ace"], "ace/mode/json_worker", "JsonWorker");
        return t2.attachToDocument(e3.getDocument()), t2.on("annotate", function(t3) {
          e3.setAnnotations(t3.data);
        }), t2.on("terminate", function() {
          e3.clearAnnotations();
        }), t2;
      }, this.$id = "ace/mode/json";
    }).call(f.prototype), t.Mode = f;
  });
  (function() {
    ace.require(["ace/mode/json"], function(m) {
      if (module) {
        module.exports = m;
      }
    });
  })();
})(modeJson);
var modeCss = { exports: {} };
(function(module, exports) {
  ace.define("ace/mode/css_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text_highlight_rules"], function(e2, t, n) {
    var r = e2("../lib/oop");
    e2("../lib/lang");
    var s = e2("./text_highlight_rules").TextHighlightRules, o = t.supportType = "align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index", u = t.supportFunction = "rgb|rgba|url|attr|counter|counters", a = t.supportConstant = "absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom", f = t.supportConstantColor = "aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen", l = t.supportConstantFonts = "arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace", c = t.numRe = "\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))", h2 = t.pseudoElements = "(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b", p = t.pseudoClasses = "(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b", d = function() {
      var e3 = this.createKeywordMapper({ "support.function": u, "support.constant": a, "support.type": o, "support.constant.color": f, "support.constant.fonts": l }, "text", true);
      this.$rules = { start: [{ include: ["strings", "url", "comments"] }, { token: "paren.lparen", regex: "\\{", next: "ruleset" }, { token: "paren.rparen", regex: "\\}" }, { token: "string", regex: "@(?!viewport)", next: "media" }, { token: "keyword", regex: "#[a-z0-9-_]+" }, { token: "keyword", regex: "%" }, { token: "variable", regex: "\\.[a-z0-9-_]+" }, { token: "string", regex: ":[a-z0-9-_]+" }, { token: "constant.numeric", regex: c }, { token: "constant", regex: "[a-z0-9-_]+" }, { caseInsensitive: true }], media: [{ include: ["strings", "url", "comments"] }, { token: "paren.lparen", regex: "\\{", next: "start" }, { token: "paren.rparen", regex: "\\}", next: "start" }, { token: "string", regex: ";", next: "start" }, { token: "keyword", regex: "(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)" }], comments: [{ token: "comment", regex: "\\/\\*", push: [{ token: "comment", regex: "\\*\\/", next: "pop" }, { defaultToken: "comment" }] }], ruleset: [{ regex: "-(webkit|ms|moz|o)-", token: "text" }, { token: "punctuation.operator", regex: "[:;]" }, { token: "paren.rparen", regex: "\\}", next: "start" }, { include: ["strings", "url", "comments"] }, { token: ["constant.numeric", "keyword"], regex: "(" + c + ")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)" }, { token: "constant.numeric", regex: c }, { token: "constant.numeric", regex: "#[a-f0-9]{6}" }, { token: "constant.numeric", regex: "#[a-f0-9]{3}" }, { token: ["punctuation", "entity.other.attribute-name.pseudo-element.css"], regex: h2 }, { token: ["punctuation", "entity.other.attribute-name.pseudo-class.css"], regex: p }, { include: "url" }, { token: e3, regex: "\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*" }, { caseInsensitive: true }], url: [{ token: "support.function", regex: "(?:url(:?-prefix)?|domain|regexp)\\(", push: [{ token: "support.function", regex: "\\)", next: "pop" }, { defaultToken: "string" }] }], strings: [{ token: "string.start", regex: "'", push: [{ token: "string.end", regex: "'|$", next: "pop" }, { include: "escapes" }, { token: "constant.language.escape", regex: /\\$/, consumeLineEnd: true }, { defaultToken: "string" }] }, { token: "string.start", regex: '"', push: [{ token: "string.end", regex: '"|$', next: "pop" }, { include: "escapes" }, { token: "constant.language.escape", regex: /\\$/, consumeLineEnd: true }, { defaultToken: "string" }] }], escapes: [{ token: "constant.language.escape", regex: /\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/ }] }, this.normalizeRules();
    };
    r.inherits(d, s), t.CssHighlightRules = d;
  }), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e2, t, n) {
    var r = e2("../range").Range, i = function() {
    };
    (function() {
      this.checkOutdent = function(e3, t2) {
        return /^\s+$/.test(e3) ? /^\s*\}/.test(t2) : false;
      }, this.autoOutdent = function(e3, t2) {
        var n2 = e3.getLine(t2), i2 = n2.match(/^(\s*\})/);
        if (!i2)
          return 0;
        var s = i2[1].length, o = e3.findMatchingBracket({ row: t2, column: s });
        if (!o || o.row == t2)
          return 0;
        var u = this.$getIndent(e3.getLine(o.row));
        e3.replace(new r(t2, 0, t2, s - 1), u);
      }, this.$getIndent = function(e3) {
        return e3.match(/^\s*/)[0];
      };
    }).call(i.prototype), t.MatchingBraceOutdent = i;
  }), ace.define("ace/mode/css_completions", ["require", "exports", "module"], function(e2, t, n) {
    var r = { background: { "#$0": 1 }, "background-color": { "#$0": 1, transparent: 1, fixed: 1 }, "background-image": { "url('/$0')": 1 }, "background-repeat": { repeat: 1, "repeat-x": 1, "repeat-y": 1, "no-repeat": 1, inherit: 1 }, "background-position": { bottom: 2, center: 2, left: 2, right: 2, top: 2, inherit: 2 }, "background-attachment": { scroll: 1, fixed: 1 }, "background-size": { cover: 1, contain: 1 }, "background-clip": { "border-box": 1, "padding-box": 1, "content-box": 1 }, "background-origin": { "border-box": 1, "padding-box": 1, "content-box": 1 }, border: { "solid $0": 1, "dashed $0": 1, "dotted $0": 1, "#$0": 1 }, "border-color": { "#$0": 1 }, "border-style": { solid: 2, dashed: 2, dotted: 2, "double": 2, groove: 2, hidden: 2, inherit: 2, inset: 2, none: 2, outset: 2, ridged: 2 }, "border-collapse": { collapse: 1, separate: 1 }, bottom: { px: 1, em: 1, "%": 1 }, clear: { left: 1, right: 1, both: 1, none: 1 }, color: { "#$0": 1, "rgb(#$00,0,0)": 1 }, cursor: { "default": 1, pointer: 1, move: 1, text: 1, wait: 1, help: 1, progress: 1, "n-resize": 1, "ne-resize": 1, "e-resize": 1, "se-resize": 1, "s-resize": 1, "sw-resize": 1, "w-resize": 1, "nw-resize": 1 }, display: { none: 1, block: 1, inline: 1, "inline-block": 1, "table-cell": 1 }, "empty-cells": { show: 1, hide: 1 }, "float": { left: 1, right: 1, none: 1 }, "font-family": { Arial: 2, "Comic Sans MS": 2, Consolas: 2, "Courier New": 2, Courier: 2, Georgia: 2, Monospace: 2, "Sans-Serif": 2, "Segoe UI": 2, Tahoma: 2, "Times New Roman": 2, "Trebuchet MS": 2, Verdana: 1 }, "font-size": { px: 1, em: 1, "%": 1 }, "font-weight": { bold: 1, normal: 1 }, "font-style": { italic: 1, normal: 1 }, "font-variant": { normal: 1, "small-caps": 1 }, height: { px: 1, em: 1, "%": 1 }, left: { px: 1, em: 1, "%": 1 }, "letter-spacing": { normal: 1 }, "line-height": { normal: 1 }, "list-style-type": { none: 1, disc: 1, circle: 1, square: 1, decimal: 1, "decimal-leading-zero": 1, "lower-roman": 1, "upper-roman": 1, "lower-greek": 1, "lower-latin": 1, "upper-latin": 1, georgian: 1, "lower-alpha": 1, "upper-alpha": 1 }, margin: { px: 1, em: 1, "%": 1 }, "margin-right": { px: 1, em: 1, "%": 1 }, "margin-left": { px: 1, em: 1, "%": 1 }, "margin-top": { px: 1, em: 1, "%": 1 }, "margin-bottom": { px: 1, em: 1, "%": 1 }, "max-height": { px: 1, em: 1, "%": 1 }, "max-width": { px: 1, em: 1, "%": 1 }, "min-height": { px: 1, em: 1, "%": 1 }, "min-width": { px: 1, em: 1, "%": 1 }, overflow: { hidden: 1, visible: 1, auto: 1, scroll: 1 }, "overflow-x": { hidden: 1, visible: 1, auto: 1, scroll: 1 }, "overflow-y": { hidden: 1, visible: 1, auto: 1, scroll: 1 }, padding: { px: 1, em: 1, "%": 1 }, "padding-top": { px: 1, em: 1, "%": 1 }, "padding-right": { px: 1, em: 1, "%": 1 }, "padding-bottom": { px: 1, em: 1, "%": 1 }, "padding-left": { px: 1, em: 1, "%": 1 }, "page-break-after": { auto: 1, always: 1, avoid: 1, left: 1, right: 1 }, "page-break-before": { auto: 1, always: 1, avoid: 1, left: 1, right: 1 }, position: { absolute: 1, relative: 1, fixed: 1, "static": 1 }, right: { px: 1, em: 1, "%": 1 }, "table-layout": { fixed: 1, auto: 1 }, "text-decoration": { none: 1, underline: 1, "line-through": 1, blink: 1 }, "text-align": { left: 1, right: 1, center: 1, justify: 1 }, "text-transform": { capitalize: 1, uppercase: 1, lowercase: 1, none: 1 }, top: { px: 1, em: 1, "%": 1 }, "vertical-align": { top: 1, bottom: 1 }, visibility: { hidden: 1, visible: 1 }, "white-space": { nowrap: 1, normal: 1, pre: 1, "pre-line": 1, "pre-wrap": 1 }, width: { px: 1, em: 1, "%": 1 }, "word-spacing": { normal: 1 }, filter: { "alpha(opacity=$0100)": 1 }, "text-shadow": { "$02px 2px 2px #777": 1 }, "text-overflow": { "ellipsis-word": 1, clip: 1, ellipsis: 1 }, "-moz-border-radius": 1, "-moz-border-radius-topright": 1, "-moz-border-radius-bottomright": 1, "-moz-border-radius-topleft": 1, "-moz-border-radius-bottomleft": 1, "-webkit-border-radius": 1, "-webkit-border-top-right-radius": 1, "-webkit-border-top-left-radius": 1, "-webkit-border-bottom-right-radius": 1, "-webkit-border-bottom-left-radius": 1, "-moz-box-shadow": 1, "-webkit-box-shadow": 1, transform: { "rotate($00deg)": 1, "skew($00deg)": 1 }, "-moz-transform": { "rotate($00deg)": 1, "skew($00deg)": 1 }, "-webkit-transform": { "rotate($00deg)": 1, "skew($00deg)": 1 } }, i = function() {
    };
    (function() {
      this.completionsDefined = false, this.defineCompletions = function() {
        if (document) {
          var e3 = document.createElement("c").style;
          for (var t2 in e3) {
            if (typeof e3[t2] != "string")
              continue;
            var n2 = t2.replace(/[A-Z]/g, function(e4) {
              return "-" + e4.toLowerCase();
            });
            r.hasOwnProperty(n2) || (r[n2] = 1);
          }
        }
        this.completionsDefined = true;
      }, this.getCompletions = function(e3, t2, n2, r2) {
        this.completionsDefined || this.defineCompletions();
        if (e3 === "ruleset" || t2.$mode.$id == "ace/mode/scss") {
          var i2 = t2.getLine(n2.row).substr(0, n2.column), s = /\([^)]*$/.test(i2);
          return s && (i2 = i2.substr(i2.lastIndexOf("(") + 1)), /:[^;]+$/.test(i2) ? this.getPropertyValueCompletions(e3, t2, n2, r2) : this.getPropertyCompletions(e3, t2, n2, r2, s);
        }
        return [];
      }, this.getPropertyCompletions = function(e3, t2, n2, i2, s) {
        s = s || false;
        var o = Object.keys(r);
        return o.map(function(e4) {
          return { caption: e4, snippet: e4 + ": $0" + (s ? "" : ";"), meta: "property", score: 1e6 };
        });
      }, this.getPropertyValueCompletions = function(e3, t2, n2, i2) {
        var s = t2.getLine(n2.row).substr(0, n2.column), o = (/([\w\-]+):[^:]*$/.exec(s) || {})[1];
        if (!o)
          return [];
        var u = [];
        return o in r && typeof r[o] == "object" && (u = Object.keys(r[o])), u.map(function(e4) {
          return { caption: e4, snippet: e4, meta: "property value", score: 1e6 };
        });
      };
    }).call(i.prototype), t.CssCompletions = i;
  }), ace.define("ace/mode/behaviour/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/mode/behaviour/cstyle", "ace/token_iterator"], function(e2, t, n) {
    var r = e2("../../lib/oop");
    e2("../behaviour").Behaviour;
    var s = e2("./cstyle").CstyleBehaviour, o = e2("../../token_iterator").TokenIterator, u = function() {
      this.inherit(s), this.add("colon", "insertion", function(e3, t2, n2, r2, i) {
        if (i === ":" && n2.selection.isEmpty()) {
          var s2 = n2.getCursorPosition(), u2 = new o(r2, s2.row, s2.column), a = u2.getCurrentToken();
          a && a.value.match(/\s+/) && (a = u2.stepBackward());
          if (a && a.type === "support.type") {
            var f = r2.doc.getLine(s2.row), l = f.substring(s2.column, s2.column + 1);
            if (l === ":")
              return { text: "", selection: [1, 1] };
            if (/^(\s+[^;]|\s*$)/.test(f.substring(s2.column)))
              return { text: ":;", selection: [1, 1] };
          }
        }
      }), this.add("colon", "deletion", function(e3, t2, n2, r2, i) {
        var s2 = r2.doc.getTextRange(i);
        if (!i.isMultiLine() && s2 === ":") {
          var u2 = n2.getCursorPosition(), a = new o(r2, u2.row, u2.column), f = a.getCurrentToken();
          f && f.value.match(/\s+/) && (f = a.stepBackward());
          if (f && f.type === "support.type") {
            var l = r2.doc.getLine(i.start.row), c = l.substring(i.end.column, i.end.column + 1);
            if (c === ";")
              return i.end.column++, i;
          }
        }
      }), this.add("semicolon", "insertion", function(e3, t2, n2, r2, i) {
        if (i === ";" && n2.selection.isEmpty()) {
          var s2 = n2.getCursorPosition(), o2 = r2.doc.getLine(s2.row), u2 = o2.substring(s2.column, s2.column + 1);
          if (u2 === ";")
            return { text: "", selection: [1, 1] };
        }
      }), this.add("!important", "insertion", function(e3, t2, n2, r2, i) {
        if (i === "!" && n2.selection.isEmpty()) {
          var s2 = n2.getCursorPosition(), o2 = r2.doc.getLine(s2.row);
          if (/^\s*(;|}|$)/.test(o2.substring(s2.column)))
            return { text: "!important", selection: [10, 10] };
        }
      });
    };
    r.inherits(u, s), t.CssBehaviour = u;
  }), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e2, t, n) {
    var r = e2("../../lib/oop"), i = e2("../../range").Range, s = e2("./fold_mode").FoldMode, o = t.FoldMode = function(e3) {
      e3 && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e3.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e3.end)));
    };
    r.inherits(o, s), (function() {
      this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e3, t2, n2) {
        var r2 = e3.getLine(n2);
        if (this.singleLineBlockCommentRe.test(r2) && !this.startRegionRe.test(r2) && !this.tripleStarBlockCommentRe.test(r2))
          return "";
        var i2 = this._getFoldWidgetBase(e3, t2, n2);
        return !i2 && this.startRegionRe.test(r2) ? "start" : i2;
      }, this.getFoldWidgetRange = function(e3, t2, n2, r2) {
        var i2 = e3.getLine(n2);
        if (this.startRegionRe.test(i2))
          return this.getCommentRegionBlock(e3, i2, n2);
        var s2 = i2.match(this.foldingStartMarker);
        if (s2) {
          var o2 = s2.index;
          if (s2[1])
            return this.openingBracketBlock(e3, s2[1], n2, o2);
          var u = e3.getCommentFoldRange(n2, o2 + s2[0].length, 1);
          return u && !u.isMultiLine() && (r2 ? u = this.getSectionRange(e3, n2) : t2 != "all" && (u = null)), u;
        }
        if (t2 === "markbegin")
          return;
        var s2 = i2.match(this.foldingStopMarker);
        if (s2) {
          var o2 = s2.index + s2[0].length;
          return s2[1] ? this.closingBracketBlock(e3, s2[1], n2, o2) : e3.getCommentFoldRange(n2, o2, -1);
        }
      }, this.getSectionRange = function(e3, t2) {
        var n2 = e3.getLine(t2), r2 = n2.search(/\S/), s2 = t2, o2 = n2.length;
        t2 += 1;
        var u = t2, a = e3.getLength();
        while (++t2 < a) {
          n2 = e3.getLine(t2);
          var f = n2.search(/\S/);
          if (f === -1)
            continue;
          if (r2 > f)
            break;
          var l = this.getFoldWidgetRange(e3, "all", t2);
          if (l) {
            if (l.start.row <= s2)
              break;
            if (l.isMultiLine())
              t2 = l.end.row;
            else if (r2 == f)
              break;
          }
          u = t2;
        }
        return new i(s2, o2, u, e3.getLine(u).length);
      }, this.getCommentRegionBlock = function(e3, t2, n2) {
        var r2 = t2.search(/\s*$/), s2 = e3.getLength(), o2 = n2, u = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, a = 1;
        while (++n2 < s2) {
          t2 = e3.getLine(n2);
          var f = u.exec(t2);
          if (!f)
            continue;
          f[1] ? a-- : a++;
          if (!a)
            break;
        }
        var l = n2;
        if (l > o2)
          return new i(o2, r2, l, t2.length);
      };
    }).call(o.prototype);
  }), ace.define("ace/mode/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/css_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/css_completions", "ace/mode/behaviour/css", "ace/mode/folding/cstyle"], function(e2, t, n) {
    var r = e2("../lib/oop"), i = e2("./text").Mode, s = e2("./css_highlight_rules").CssHighlightRules, o = e2("./matching_brace_outdent").MatchingBraceOutdent, u = e2("../worker/worker_client").WorkerClient, a = e2("./css_completions").CssCompletions, f = e2("./behaviour/css").CssBehaviour, l = e2("./folding/cstyle").FoldMode, c = function() {
      this.HighlightRules = s, this.$outdent = new o(), this.$behaviour = new f(), this.$completer = new a(), this.foldingRules = new l();
    };
    r.inherits(c, i), (function() {
      this.foldingRules = "cStyle", this.blockComment = { start: "/*", end: "*/" }, this.getNextLineIndent = function(e3, t2, n2) {
        var r2 = this.$getIndent(t2), i2 = this.getTokenizer().getLineTokens(t2, e3).tokens;
        if (i2.length && i2[i2.length - 1].type == "comment")
          return r2;
        var s2 = t2.match(/^.*\{\s*$/);
        return s2 && (r2 += n2), r2;
      }, this.checkOutdent = function(e3, t2, n2) {
        return this.$outdent.checkOutdent(t2, n2);
      }, this.autoOutdent = function(e3, t2, n2) {
        this.$outdent.autoOutdent(t2, n2);
      }, this.getCompletions = function(e3, t2, n2, r2) {
        return this.$completer.getCompletions(e3, t2, n2, r2);
      }, this.createWorker = function(e3) {
        var t2 = new u(["ace"], "ace/mode/css_worker", "Worker");
        return t2.attachToDocument(e3.getDocument()), t2.on("annotate", function(t3) {
          e3.setAnnotations(t3.data);
        }), t2.on("terminate", function() {
          e3.clearAnnotations();
        }), t2;
      }, this.$id = "ace/mode/css", this.snippetFileId = "ace/snippets/css";
    }).call(c.prototype), t.Mode = c;
  });
  (function() {
    ace.require(["ace/mode/css"], function(m) {
      if (module) {
        module.exports = m;
      }
    });
  })();
})(modeCss);
var extLanguage_tools = { exports: {} };
(function(module, exports) {
  ace.define("ace/snippets", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event_emitter", "ace/lib/lang", "ace/range", "ace/range_list", "ace/keyboard/hash_handler", "ace/tokenizer", "ace/clipboard", "ace/editor"], function(e2, t, n) {
    function p(e3) {
      var t2 = (/* @__PURE__ */ new Date()).toLocaleString("en-us", e3);
      return t2.length == 1 ? "0" + t2 : t2;
    }
    var r = e2("./lib/dom"), i = e2("./lib/oop"), s = e2("./lib/event_emitter").EventEmitter, o = e2("./lib/lang"), u = e2("./range").Range, a = e2("./range_list").RangeList, f = e2("./keyboard/hash_handler").HashHandler, l = e2("./tokenizer").Tokenizer, c = e2("./clipboard"), h2 = { CURRENT_WORD: function(e3) {
      return e3.session.getTextRange(e3.session.getWordRange());
    }, SELECTION: function(e3, t2, n2) {
      var r2 = e3.session.getTextRange();
      return n2 ? r2.replace(/\n\r?([ \t]*\S)/g, "\n" + n2 + "$1") : r2;
    }, CURRENT_LINE: function(e3) {
      return e3.session.getLine(e3.getCursorPosition().row);
    }, PREV_LINE: function(e3) {
      return e3.session.getLine(e3.getCursorPosition().row - 1);
    }, LINE_INDEX: function(e3) {
      return e3.getCursorPosition().row;
    }, LINE_NUMBER: function(e3) {
      return e3.getCursorPosition().row + 1;
    }, SOFT_TABS: function(e3) {
      return e3.session.getUseSoftTabs() ? "YES" : "NO";
    }, TAB_SIZE: function(e3) {
      return e3.session.getTabSize();
    }, CLIPBOARD: function(e3) {
      return c.getText && c.getText();
    }, FILENAME: function(e3) {
      return /[^/\\]*$/.exec(this.FILEPATH(e3))[0];
    }, FILENAME_BASE: function(e3) {
      return /[^/\\]*$/.exec(this.FILEPATH(e3))[0].replace(/\.[^.]*$/, "");
    }, DIRECTORY: function(e3) {
      return this.FILEPATH(e3).replace(/[^/\\]*$/, "");
    }, FILEPATH: function(e3) {
      return "/not implemented.txt";
    }, WORKSPACE_NAME: function() {
      return "Unknown";
    }, FULLNAME: function() {
      return "Unknown";
    }, BLOCK_COMMENT_START: function(e3) {
      var t2 = e3.session.$mode || {};
      return t2.blockComment && t2.blockComment.start || "";
    }, BLOCK_COMMENT_END: function(e3) {
      var t2 = e3.session.$mode || {};
      return t2.blockComment && t2.blockComment.end || "";
    }, LINE_COMMENT: function(e3) {
      var t2 = e3.session.$mode || {};
      return t2.lineCommentStart || "";
    }, CURRENT_YEAR: p.bind(null, { year: "numeric" }), CURRENT_YEAR_SHORT: p.bind(null, { year: "2-digit" }), CURRENT_MONTH: p.bind(null, { month: "numeric" }), CURRENT_MONTH_NAME: p.bind(null, { month: "long" }), CURRENT_MONTH_NAME_SHORT: p.bind(null, { month: "short" }), CURRENT_DATE: p.bind(null, { day: "2-digit" }), CURRENT_DAY_NAME: p.bind(null, { weekday: "long" }), CURRENT_DAY_NAME_SHORT: p.bind(null, { weekday: "short" }), CURRENT_HOUR: p.bind(null, { hour: "2-digit", hour12: false }), CURRENT_MINUTE: p.bind(null, { minute: "2-digit" }), CURRENT_SECOND: p.bind(null, { second: "2-digit" }) };
    h2.SELECTED_TEXT = h2.SELECTION;
    var d = function() {
      function e3() {
        this.snippetMap = {}, this.snippetNameMap = {}, this.variables = h2;
      }
      return e3.prototype.getTokenizer = function() {
        return e3.$tokenizer || this.createTokenizer();
      }, e3.prototype.createTokenizer = function() {
        function t2(e4) {
          return e4 = e4.substr(1), /^\d+$/.test(e4) ? [{ tabstopId: parseInt(e4, 10) }] : [{ text: e4 }];
        }
        function n2(e4) {
          return "(?:[^\\\\" + e4 + "]|\\\\.)";
        }
        var r2 = { regex: "/(" + n2("/") + "+)/", onMatch: function(e4, t3, n3) {
          var r3 = n3[0];
          return r3.fmtString = true, r3.guard = e4.slice(1, -1), r3.flag = "", "";
        }, next: "formatString" };
        return e3.$tokenizer = new l({ start: [{ regex: /\\./, onMatch: function(e4, t3, n3) {
          var r3 = e4[1];
          return r3 == "}" && n3.length ? e4 = r3 : "`$\\".indexOf(r3) != -1 && (e4 = r3), [e4];
        } }, { regex: /}/, onMatch: function(e4, t3, n3) {
          return [n3.length ? n3.shift() : e4];
        } }, { regex: /\$(?:\d+|\w+)/, onMatch: t2 }, { regex: /\$\{[\dA-Z_a-z]+/, onMatch: function(e4, n3, r3) {
          var i2 = t2(e4.substr(1));
          return r3.unshift(i2[0]), i2;
        }, next: "snippetVar" }, { regex: /\n/, token: "newline", merge: false }], snippetVar: [{ regex: "\\|" + n2("\\|") + "*\\|", onMatch: function(e4, t3, n3) {
          var r3 = e4.slice(1, -1).replace(/\\[,|\\]|,/g, function(e5) {
            return e5.length == 2 ? e5[1] : "\0";
          }).split("\0").map(function(e5) {
            return { value: e5 };
          });
          return n3[0].choices = r3, [r3[0]];
        }, next: "start" }, r2, { regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "start" }], formatString: [{ regex: /:/, onMatch: function(e4, t3, n3) {
          return n3.length && n3[0].expectElse ? (n3[0].expectElse = false, n3[0].ifEnd = { elseEnd: n3[0] }, [n3[0].ifEnd]) : ":";
        } }, { regex: /\\./, onMatch: function(e4, t3, n3) {
          var r3 = e4[1];
          return r3 == "}" && n3.length ? e4 = r3 : "`$\\".indexOf(r3) != -1 ? e4 = r3 : r3 == "n" ? e4 = "\n" : r3 == "t" ? e4 = "	" : "ulULE".indexOf(r3) != -1 && (e4 = { changeCase: r3, local: r3 > "a" }), [e4];
        } }, { regex: "/\\w*}", onMatch: function(e4, t3, n3) {
          var r3 = n3.shift();
          return r3 && (r3.flag = e4.slice(1, -1)), this.next = r3 && r3.tabstopId ? "start" : "", [r3 || e4];
        }, next: "start" }, { regex: /\$(?:\d+|\w+)/, onMatch: function(e4, t3, n3) {
          return [{ text: e4.slice(1) }];
        } }, { regex: /\${\w+/, onMatch: function(e4, t3, n3) {
          var r3 = { text: e4.slice(2) };
          return n3.unshift(r3), [r3];
        }, next: "formatStringVar" }, { regex: /\n/, token: "newline", merge: false }, { regex: /}/, onMatch: function(e4, t3, n3) {
          var r3 = n3.shift();
          return this.next = r3 && r3.tabstopId ? "start" : "", [r3 || e4];
        }, next: "start" }], formatStringVar: [{ regex: /:\/\w+}/, onMatch: function(e4, t3, n3) {
          var r3 = n3[0];
          return r3.formatFunction = e4.slice(2, -1), [n3.shift()];
        }, next: "formatString" }, r2, { regex: /:[\?\-+]?/, onMatch: function(e4, t3, n3) {
          e4[1] == "+" && (n3[0].ifEnd = n3[0]), e4[1] == "?" && (n3[0].expectElse = true);
        }, next: "formatString" }, { regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "formatString" }] }), e3.$tokenizer;
      }, e3.prototype.tokenizeTmSnippet = function(e4, t2) {
        return this.getTokenizer().getLineTokens(e4, t2).tokens.map(function(e5) {
          return e5.value || e5;
        });
      }, e3.prototype.getVariableValue = function(e4, t2, n2) {
        if (/^\d+$/.test(t2))
          return (this.variables.__ || {})[t2] || "";
        if (/^[A-Z]\d+$/.test(t2))
          return (this.variables[t2[0] + "__"] || {})[t2.substr(1)] || "";
        t2 = t2.replace(/^TM_/, "");
        if (!this.variables.hasOwnProperty(t2))
          return "";
        var r2 = this.variables[t2];
        return typeof r2 == "function" && (r2 = this.variables[t2](e4, t2, n2)), r2 == null ? "" : r2;
      }, e3.prototype.tmStrFormat = function(e4, t2, n2) {
        if (!t2.fmt)
          return e4;
        var r2 = t2.flag || "", i2 = t2.guard;
        i2 = new RegExp(i2, r2.replace(/[^gim]/g, ""));
        var s2 = typeof t2.fmt == "string" ? this.tokenizeTmSnippet(t2.fmt, "formatString") : t2.fmt, o2 = this, u2 = e4.replace(i2, function() {
          var e5 = o2.variables.__;
          o2.variables.__ = [].slice.call(arguments);
          var t3 = o2.resolveVariables(s2, n2), r3 = "E";
          for (var i3 = 0; i3 < t3.length; i3++) {
            var u3 = t3[i3];
            if (typeof u3 == "object") {
              t3[i3] = "";
              if (u3.changeCase && u3.local) {
                var a2 = t3[i3 + 1];
                a2 && typeof a2 == "string" && (u3.changeCase == "u" ? t3[i3] = a2[0].toUpperCase() : t3[i3] = a2[0].toLowerCase(), t3[i3 + 1] = a2.substr(1));
              } else
                u3.changeCase && (r3 = u3.changeCase);
            } else
              r3 == "U" ? t3[i3] = u3.toUpperCase() : r3 == "L" && (t3[i3] = u3.toLowerCase());
          }
          return o2.variables.__ = e5, t3.join("");
        });
        return u2;
      }, e3.prototype.tmFormatFunction = function(e4, t2, n2) {
        return t2.formatFunction == "upcase" ? e4.toUpperCase() : t2.formatFunction == "downcase" ? e4.toLowerCase() : e4;
      }, e3.prototype.resolveVariables = function(e4, t2) {
        function f2(t3) {
          var n3 = e4.indexOf(t3, s2 + 1);
          n3 != -1 && (s2 = n3);
        }
        var n2 = [], r2 = "", i2 = true;
        for (var s2 = 0; s2 < e4.length; s2++) {
          var o2 = e4[s2];
          if (typeof o2 == "string") {
            n2.push(o2), o2 == "\n" ? (i2 = true, r2 = "") : i2 && (r2 = /^\t*/.exec(o2)[0], i2 = /\S/.test(o2));
            continue;
          }
          if (!o2)
            continue;
          i2 = false;
          if (o2.fmtString) {
            var u2 = e4.indexOf(o2, s2 + 1);
            u2 == -1 && (u2 = e4.length), o2.fmt = e4.slice(s2 + 1, u2), s2 = u2;
          }
          if (o2.text) {
            var a2 = this.getVariableValue(t2, o2.text, r2) + "";
            o2.fmtString && (a2 = this.tmStrFormat(a2, o2, t2)), o2.formatFunction && (a2 = this.tmFormatFunction(a2, o2, t2)), a2 && !o2.ifEnd ? (n2.push(a2), f2(o2)) : !a2 && o2.ifEnd && f2(o2.ifEnd);
          } else
            o2.elseEnd ? f2(o2.elseEnd) : o2.tabstopId != null ? n2.push(o2) : o2.changeCase != null && n2.push(o2);
        }
        return n2;
      }, e3.prototype.getDisplayTextForSnippet = function(e4, t2) {
        var n2 = v.call(this, e4, t2);
        return n2.text;
      }, e3.prototype.insertSnippetForSelection = function(e4, t2, n2) {
        n2 === void 0 && (n2 = {});
        var r2 = v.call(this, e4, t2, n2), i2 = e4.getSelectionRange(), s2 = e4.session.replace(i2, r2.text), o2 = new m(e4), u2 = e4.inVirtualSelectionMode && e4.selection.index;
        o2.addTabstops(r2.tabstops, i2.start, s2, u2);
      }, e3.prototype.insertSnippet = function(e4, t2, n2) {
        n2 === void 0 && (n2 = {});
        var r2 = this;
        if (e4.inVirtualSelectionMode)
          return r2.insertSnippetForSelection(e4, t2, n2);
        e4.forEachSelection(function() {
          r2.insertSnippetForSelection(e4, t2, n2);
        }, null, { keepOrder: true }), e4.tabstopManager && e4.tabstopManager.tabNext();
      }, e3.prototype.$getScope = function(e4) {
        var t2 = e4.session.$mode.$id || "";
        t2 = t2.split("/").pop();
        if (t2 === "html" || t2 === "php") {
          t2 === "php" && !e4.session.$mode.inlinePhp && (t2 = "html");
          var n2 = e4.getCursorPosition(), r2 = e4.session.getState(n2.row);
          typeof r2 == "object" && (r2 = r2[0]), r2.substring && (r2.substring(0, 3) == "js-" ? t2 = "javascript" : r2.substring(0, 4) == "css-" ? t2 = "css" : r2.substring(0, 4) == "php-" && (t2 = "php"));
        }
        return t2;
      }, e3.prototype.getActiveScopes = function(e4) {
        var t2 = this.$getScope(e4), n2 = [t2], r2 = this.snippetMap;
        return r2[t2] && r2[t2].includeScopes && n2.push.apply(n2, r2[t2].includeScopes), n2.push("_"), n2;
      }, e3.prototype.expandWithTab = function(e4, t2) {
        var n2 = this, r2 = e4.forEachSelection(function() {
          return n2.expandSnippetForSelection(e4, t2);
        }, null, { keepOrder: true });
        return r2 && e4.tabstopManager && e4.tabstopManager.tabNext(), r2;
      }, e3.prototype.expandSnippetForSelection = function(e4, t2) {
        var n2 = e4.getCursorPosition(), r2 = e4.session.getLine(n2.row), i2 = r2.substring(0, n2.column), s2 = r2.substr(n2.column), o2 = this.snippetMap, u2;
        return this.getActiveScopes(e4).some(function(e5) {
          var t3 = o2[e5];
          return t3 && (u2 = this.findMatchingSnippet(t3, i2, s2)), !!u2;
        }, this), u2 ? t2 && t2.dryRun ? true : (e4.session.doc.removeInLine(n2.row, n2.column - u2.replaceBefore.length, n2.column + u2.replaceAfter.length), this.variables.M__ = u2.matchBefore, this.variables.T__ = u2.matchAfter, this.insertSnippetForSelection(e4, u2.content), this.variables.M__ = this.variables.T__ = null, true) : false;
      }, e3.prototype.findMatchingSnippet = function(e4, t2, n2) {
        for (var r2 = e4.length; r2--; ) {
          var i2 = e4[r2];
          if (i2.startRe && !i2.startRe.test(t2))
            continue;
          if (i2.endRe && !i2.endRe.test(n2))
            continue;
          if (!i2.startRe && !i2.endRe)
            continue;
          return i2.matchBefore = i2.startRe ? i2.startRe.exec(t2) : [""], i2.matchAfter = i2.endRe ? i2.endRe.exec(n2) : [""], i2.replaceBefore = i2.triggerRe ? i2.triggerRe.exec(t2)[0] : "", i2.replaceAfter = i2.endTriggerRe ? i2.endTriggerRe.exec(n2)[0] : "", i2;
        }
      }, e3.prototype.register = function(e4, t2) {
        function s2(e5) {
          return e5 && !/^\^?\(.*\)\$?$|^\\b$/.test(e5) && (e5 = "(?:" + e5 + ")"), e5 || "";
        }
        function u2(e5, t3, n3) {
          return e5 = s2(e5), t3 = s2(t3), n3 ? (e5 = t3 + e5, e5 && e5[e5.length - 1] != "$" && (e5 += "$")) : (e5 += t3, e5 && e5[0] != "^" && (e5 = "^" + e5)), new RegExp(e5);
        }
        function a2(e5) {
          e5.scope || (e5.scope = t2 || "_"), t2 = e5.scope, n2[t2] || (n2[t2] = [], r2[t2] = {});
          var s3 = r2[t2];
          if (e5.name) {
            var a3 = s3[e5.name];
            a3 && i2.unregister(a3), s3[e5.name] = e5;
          }
          n2[t2].push(e5), e5.prefix && (e5.tabTrigger = e5.prefix), !e5.content && e5.body && (e5.content = Array.isArray(e5.body) ? e5.body.join("\n") : e5.body), e5.tabTrigger && !e5.trigger && (!e5.guard && /^\w/.test(e5.tabTrigger) && (e5.guard = "\\b"), e5.trigger = o.escapeRegExp(e5.tabTrigger));
          if (!e5.trigger && !e5.guard && !e5.endTrigger && !e5.endGuard)
            return;
          e5.startRe = u2(e5.trigger, e5.guard, true), e5.triggerRe = new RegExp(e5.trigger), e5.endRe = u2(e5.endTrigger, e5.endGuard, true), e5.endTriggerRe = new RegExp(e5.endTrigger);
        }
        var n2 = this.snippetMap, r2 = this.snippetNameMap, i2 = this;
        e4 || (e4 = []), Array.isArray(e4) ? e4.forEach(a2) : Object.keys(e4).forEach(function(t3) {
          a2(e4[t3]);
        }), this._signal("registerSnippets", { scope: t2 });
      }, e3.prototype.unregister = function(e4, t2) {
        function i2(e5) {
          var i3 = r2[e5.scope || t2];
          if (i3 && i3[e5.name]) {
            delete i3[e5.name];
            var s2 = n2[e5.scope || t2], o2 = s2 && s2.indexOf(e5);
            o2 >= 0 && s2.splice(o2, 1);
          }
        }
        var n2 = this.snippetMap, r2 = this.snippetNameMap;
        e4.content ? i2(e4) : Array.isArray(e4) && e4.forEach(i2);
      }, e3.prototype.parseSnippetFile = function(e4) {
        e4 = e4.replace(/\r/g, "");
        var t2 = [], n2 = {}, r2 = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm, i2;
        while (i2 = r2.exec(e4)) {
          if (i2[1])
            try {
              n2 = JSON.parse(i2[1]), t2.push(n2);
            } catch (s2) {
            }
          if (i2[4])
            n2.content = i2[4].replace(/^\t/gm, ""), t2.push(n2), n2 = {};
          else {
            var o2 = i2[2], u2 = i2[3];
            if (o2 == "regex") {
              var a2 = /\/((?:[^\/\\]|\\.)*)|$/g;
              n2.guard = a2.exec(u2)[1], n2.trigger = a2.exec(u2)[1], n2.endTrigger = a2.exec(u2)[1], n2.endGuard = a2.exec(u2)[1];
            } else
              o2 == "snippet" ? (n2.tabTrigger = u2.match(/^\S*/)[0], n2.name || (n2.name = u2)) : o2 && (n2[o2] = u2);
          }
        }
        return t2;
      }, e3.prototype.getSnippetByName = function(e4, t2) {
        var n2 = this.snippetNameMap, r2;
        return this.getActiveScopes(t2).some(function(t3) {
          var i2 = n2[t3];
          return i2 && (r2 = i2[e4]), !!r2;
        }, this), r2;
      }, e3;
    }();
    i.implement(d.prototype, s);
    var v = function(e3, t2, n2) {
      function l2(e4) {
        var t3 = [];
        for (var n3 = 0; n3 < e4.length; n3++) {
          var r3 = e4[n3];
          if (typeof r3 == "object") {
            if (f2[r3.tabstopId])
              continue;
            var i3 = e4.lastIndexOf(r3, n3 - 1);
            r3 = t3[i3] || { tabstopId: r3.tabstopId };
          }
          t3[n3] = r3;
        }
        return t3;
      }
      n2 === void 0 && (n2 = {});
      var r2 = e3.getCursorPosition(), i2 = e3.session.getLine(r2.row), s2 = e3.session.getTabString(), o2 = i2.match(/^\s*/)[0];
      r2.column < o2.length && (o2 = o2.slice(0, r2.column)), t2 = t2.replace(/\r/g, "");
      var u2 = this.tokenizeTmSnippet(t2);
      u2 = this.resolveVariables(u2, e3), u2 = u2.map(function(e4) {
        return e4 == "\n" && !n2.excludeExtraIndent ? e4 + o2 : typeof e4 == "string" ? e4.replace(/\t/g, s2) : e4;
      });
      var a2 = [];
      u2.forEach(function(e4, t3) {
        if (typeof e4 != "object")
          return;
        var n3 = e4.tabstopId, r3 = a2[n3];
        r3 || (r3 = a2[n3] = [], r3.index = n3, r3.value = "", r3.parents = {});
        if (r3.indexOf(e4) !== -1)
          return;
        e4.choices && !r3.choices && (r3.choices = e4.choices), r3.push(e4);
        var i3 = u2.indexOf(e4, t3 + 1);
        if (i3 === -1)
          return;
        var s3 = u2.slice(t3 + 1, i3), o3 = s3.some(function(e5) {
          return typeof e5 == "object";
        });
        o3 && !r3.value ? r3.value = s3 : s3.length && (!r3.value || typeof r3.value != "string") && (r3.value = s3.join(""));
      }), a2.forEach(function(e4) {
        e4.length = 0;
      });
      var f2 = {};
      for (var c2 = 0; c2 < u2.length; c2++) {
        var h3 = u2[c2];
        if (typeof h3 != "object")
          continue;
        var p2 = h3.tabstopId, d2 = a2[p2], v2 = u2.indexOf(h3, c2 + 1);
        if (f2[p2]) {
          f2[p2] === h3 && (delete f2[p2], Object.keys(f2).forEach(function(e4) {
            d2.parents[e4] = true;
          }));
          continue;
        }
        f2[p2] = h3;
        var m2 = d2.value;
        typeof m2 != "string" ? m2 = l2(m2) : h3.fmt && (m2 = this.tmStrFormat(m2, h3, e3)), u2.splice.apply(u2, [c2 + 1, Math.max(0, v2 - c2)].concat(m2, h3)), d2.indexOf(h3) === -1 && d2.push(h3);
      }
      var g2 = 0, y2 = 0, b2 = "";
      return u2.forEach(function(e4) {
        if (typeof e4 == "string") {
          var t3 = e4.split("\n");
          t3.length > 1 ? (y2 = t3[t3.length - 1].length, g2 += t3.length - 1) : y2 += e4.length, b2 += e4;
        } else
          e4 && (e4.start ? e4.end = { row: g2, column: y2 } : e4.start = { row: g2, column: y2 });
      }), { text: b2, tabstops: a2, tokens: u2 };
    }, m = function() {
      function e3(e4) {
        this.index = 0, this.ranges = [], this.tabstops = [];
        if (e4.tabstopManager)
          return e4.tabstopManager;
        e4.tabstopManager = this, this.$onChange = this.onChange.bind(this), this.$onChangeSelection = o.delayedCall(this.onChangeSelection.bind(this)).schedule, this.$onChangeSession = this.onChangeSession.bind(this), this.$onAfterExec = this.onAfterExec.bind(this), this.attach(e4);
      }
      return e3.prototype.attach = function(e4) {
        this.$openTabstops = null, this.selectedTabstop = null, this.editor = e4, this.session = e4.session, this.editor.on("change", this.$onChange), this.editor.on("changeSelection", this.$onChangeSelection), this.editor.on("changeSession", this.$onChangeSession), this.editor.commands.on("afterExec", this.$onAfterExec), this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
      }, e3.prototype.detach = function() {
        this.tabstops.forEach(this.removeTabstopMarkers, this), this.ranges.length = 0, this.tabstops.length = 0, this.selectedTabstop = null, this.editor.off("change", this.$onChange), this.editor.off("changeSelection", this.$onChangeSelection), this.editor.off("changeSession", this.$onChangeSession), this.editor.commands.off("afterExec", this.$onAfterExec), this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler), this.editor.tabstopManager = null, this.session = null, this.editor = null;
      }, e3.prototype.onChange = function(e4) {
        var t2 = e4.action[0] == "r", n2 = this.selectedTabstop || {}, r2 = n2.parents || {}, i2 = this.tabstops.slice();
        for (var s2 = 0; s2 < i2.length; s2++) {
          var o2 = i2[s2], u2 = o2 == n2 || r2[o2.index];
          o2.rangeList.$bias = u2 ? 0 : 1;
          if (e4.action == "remove" && o2 !== n2) {
            var a2 = o2.parents && o2.parents[n2.index], f2 = o2.rangeList.pointIndex(e4.start, a2);
            f2 = f2 < 0 ? -f2 - 1 : f2 + 1;
            var l2 = o2.rangeList.pointIndex(e4.end, a2);
            l2 = l2 < 0 ? -l2 - 1 : l2 - 1;
            var c2 = o2.rangeList.ranges.slice(f2, l2);
            for (var h3 = 0; h3 < c2.length; h3++)
              this.removeRange(c2[h3]);
          }
          o2.rangeList.$onChange(e4);
        }
        var p2 = this.session;
        !this.$inChange && t2 && p2.getLength() == 1 && !p2.getValue() && this.detach();
      }, e3.prototype.updateLinkedFields = function() {
        var e4 = this.selectedTabstop;
        if (!e4 || !e4.hasLinkedRanges || !e4.firstNonLinked)
          return;
        this.$inChange = true;
        var n2 = this.session, r2 = n2.getTextRange(e4.firstNonLinked);
        for (var i2 = 0; i2 < e4.length; i2++) {
          var s2 = e4[i2];
          if (!s2.linked)
            continue;
          var o2 = s2.original, u2 = t.snippetManager.tmStrFormat(r2, o2, this.editor);
          n2.replace(s2, u2);
        }
        this.$inChange = false;
      }, e3.prototype.onAfterExec = function(e4) {
        e4.command && !e4.command.readOnly && this.updateLinkedFields();
      }, e3.prototype.onChangeSelection = function() {
        if (!this.editor)
          return;
        var e4 = this.editor.selection.lead, t2 = this.editor.selection.anchor, n2 = this.editor.selection.isEmpty();
        for (var r2 = 0; r2 < this.ranges.length; r2++) {
          if (this.ranges[r2].linked)
            continue;
          var i2 = this.ranges[r2].contains(e4.row, e4.column), s2 = n2 || this.ranges[r2].contains(t2.row, t2.column);
          if (i2 && s2)
            return;
        }
        this.detach();
      }, e3.prototype.onChangeSession = function() {
        this.detach();
      }, e3.prototype.tabNext = function(e4) {
        var t2 = this.tabstops.length, n2 = this.index + (e4 || 1);
        n2 = Math.min(Math.max(n2, 1), t2), n2 == t2 && (n2 = 0), this.selectTabstop(n2), this.updateTabstopMarkers(), n2 === 0 && this.detach();
      }, e3.prototype.selectTabstop = function(e4) {
        this.$openTabstops = null;
        var t2 = this.tabstops[this.index];
        t2 && this.addTabstopMarkers(t2), this.index = e4, t2 = this.tabstops[this.index];
        if (!t2 || !t2.length)
          return;
        this.selectedTabstop = t2;
        var n2 = t2.firstNonLinked || t2;
        t2.choices && (n2.cursor = n2.start);
        if (!this.editor.inVirtualSelectionMode) {
          var r2 = this.editor.multiSelect;
          r2.toSingleRange(n2);
          for (var i2 = 0; i2 < t2.length; i2++) {
            if (t2.hasLinkedRanges && t2[i2].linked)
              continue;
            r2.addRange(t2[i2].clone(), true);
          }
        } else
          this.editor.selection.fromOrientedRange(n2);
        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler), this.selectedTabstop && this.selectedTabstop.choices && this.editor.execCommand("startAutocomplete", { matches: this.selectedTabstop.choices });
      }, e3.prototype.addTabstops = function(e4, t2, n2) {
        var r2 = this.useLink || !this.editor.getOption("enableMultiselect");
        this.$openTabstops || (this.$openTabstops = []);
        if (!e4[0]) {
          var i2 = u.fromPoints(n2, n2);
          y(i2.start, t2), y(i2.end, t2), e4[0] = [i2], e4[0].index = 0;
        }
        var s2 = this.index, o2 = [s2 + 1, 0], f2 = this.ranges, l2 = this.snippetId = (this.snippetId || 0) + 1;
        e4.forEach(function(e5, n3) {
          var i3 = this.$openTabstops[n3] || e5;
          i3.snippetId = l2;
          for (var s3 = 0; s3 < e5.length; s3++) {
            var c2 = e5[s3], h3 = u.fromPoints(c2.start, c2.end || c2.start);
            g(h3.start, t2), g(h3.end, t2), h3.original = c2, h3.tabstop = i3, f2.push(h3), i3 != e5 ? i3.unshift(h3) : i3[s3] = h3, c2.fmtString || i3.firstNonLinked && r2 ? (h3.linked = true, i3.hasLinkedRanges = true) : i3.firstNonLinked || (i3.firstNonLinked = h3);
          }
          i3.firstNonLinked || (i3.hasLinkedRanges = false), i3 === e5 && (o2.push(i3), this.$openTabstops[n3] = i3), this.addTabstopMarkers(i3), i3.rangeList = i3.rangeList || new a(), i3.rangeList.$bias = 0, i3.rangeList.addList(i3);
        }, this), o2.length > 2 && (this.tabstops.length && o2.push(o2.splice(2, 1)[0]), this.tabstops.splice.apply(this.tabstops, o2));
      }, e3.prototype.addTabstopMarkers = function(e4) {
        var t2 = this.session;
        e4.forEach(function(e5) {
          e5.markerId || (e5.markerId = t2.addMarker(e5, "ace_snippet-marker", "text"));
        });
      }, e3.prototype.removeTabstopMarkers = function(e4) {
        var t2 = this.session;
        e4.forEach(function(e5) {
          t2.removeMarker(e5.markerId), e5.markerId = null;
        });
      }, e3.prototype.updateTabstopMarkers = function() {
        if (!this.selectedTabstop)
          return;
        var e4 = this.selectedTabstop.snippetId;
        this.selectedTabstop.index === 0 && e4--, this.tabstops.forEach(function(t2) {
          t2.snippetId === e4 ? this.addTabstopMarkers(t2) : this.removeTabstopMarkers(t2);
        }, this);
      }, e3.prototype.removeRange = function(e4) {
        var t2 = e4.tabstop.indexOf(e4);
        t2 != -1 && e4.tabstop.splice(t2, 1), t2 = this.ranges.indexOf(e4), t2 != -1 && this.ranges.splice(t2, 1), t2 = e4.tabstop.rangeList.ranges.indexOf(e4), t2 != -1 && e4.tabstop.splice(t2, 1), this.session.removeMarker(e4.markerId), e4.tabstop.length || (t2 = this.tabstops.indexOf(e4.tabstop), t2 != -1 && this.tabstops.splice(t2, 1), this.tabstops.length || this.detach());
      }, e3;
    }();
    m.prototype.keyboardHandler = new f(), m.prototype.keyboardHandler.bindKeys({ Tab: function(e3) {
      if (t.snippetManager && t.snippetManager.expandWithTab(e3))
        return;
      e3.tabstopManager.tabNext(1), e3.renderer.scrollCursorIntoView();
    }, "Shift-Tab": function(e3) {
      e3.tabstopManager.tabNext(-1), e3.renderer.scrollCursorIntoView();
    }, Esc: function(e3) {
      e3.tabstopManager.detach();
    } });
    var g = function(e3, t2) {
      e3.row == 0 && (e3.column += t2.column), e3.row += t2.row;
    }, y = function(e3, t2) {
      e3.row == t2.row && (e3.column -= t2.column), e3.row -= t2.row;
    };
    r.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}", "snippets.css", false), t.snippetManager = new d();
    var b = e2("./editor").Editor;
    (function() {
      this.insertSnippet = function(e3, n2) {
        return t.snippetManager.insertSnippet(this, e3, n2);
      }, this.expandSnippet = function(e3) {
        return t.snippetManager.expandWithTab(this, e3);
      };
    }).call(b.prototype);
  }), ace.define("ace/autocomplete/popup", ["require", "exports", "module", "ace/virtual_renderer", "ace/editor", "ace/range", "ace/lib/event", "ace/lib/lang", "ace/lib/dom", "ace/config", "ace/lib/useragent"], function(e2, t, n) {
    var r = e2("../virtual_renderer").VirtualRenderer, i = e2("../editor").Editor, s = e2("../range").Range, o = e2("../lib/event"), u = e2("../lib/lang"), a = e2("../lib/dom"), f = e2("../config").nls, l = e2("./../lib/useragent"), c = function(e3) {
      return "suggest-aria-id:".concat(e3);
    }, h2 = l.isSafari ? "menu" : "listbox", p = l.isSafari ? "menuitem" : "option", d = l.isSafari ? "aria-current" : "aria-selected", v = function(e3) {
      var t2 = new r(e3);
      t2.$maxLines = 4;
      var n2 = new i(t2);
      return n2.setHighlightActiveLine(false), n2.setShowPrintMargin(false), n2.renderer.setShowGutter(false), n2.renderer.setHighlightGutterLine(false), n2.$mouseHandler.$focusTimeout = 0, n2.$highlightTagPending = true, n2;
    }, m = /* @__PURE__ */ function() {
      function e3(e4) {
        var t2 = a.createElement("div"), n2 = v(t2);
        e4 && e4.appendChild(t2), t2.style.display = "none", n2.renderer.content.style.cursor = "default", n2.renderer.setStyle("ace_autocomplete"), n2.renderer.$textLayer.element.setAttribute("role", h2), n2.renderer.$textLayer.element.setAttribute("aria-roledescription", f("Autocomplete suggestions")), n2.renderer.$textLayer.element.setAttribute("aria-label", f("Autocomplete suggestions")), n2.renderer.textarea.setAttribute("aria-hidden", "true"), n2.setOption("displayIndentGuides", false), n2.setOption("dragDelay", 150);
        var r2 = function() {
        };
        n2.focus = r2, n2.$isFocused = true, n2.renderer.$cursorLayer.restartTimer = r2, n2.renderer.$cursorLayer.element.style.opacity = "0", n2.renderer.$maxLines = 8, n2.renderer.$keepTextAreaAtCursor = false, n2.setHighlightActiveLine(false), n2.session.highlight(""), n2.session.$searchHighlight.clazz = "ace_highlight-marker", n2.on("mousedown", function(e5) {
          var t3 = e5.getDocumentPosition();
          n2.selection.moveToPosition(t3), m2.start.row = m2.end.row = t3.row, e5.stop();
        });
        var i2, l2 = new s(-1, 0, -1, Infinity), m2 = new s(-1, 0, -1, Infinity);
        m2.id = n2.session.addMarker(m2, "ace_active-line", "fullLine"), n2.setSelectOnHover = function(e5) {
          e5 ? l2.id && (n2.session.removeMarker(l2.id), l2.id = null) : l2.id = n2.session.addMarker(l2, "ace_line-hover", "fullLine");
        }, n2.setSelectOnHover(false), n2.on("mousemove", function(e5) {
          if (!i2) {
            i2 = e5;
            return;
          }
          if (i2.x == e5.x && i2.y == e5.y)
            return;
          i2 = e5, i2.scrollTop = n2.renderer.scrollTop, n2.isMouseOver = true;
          var t3 = i2.getDocumentPosition().row;
          l2.start.row != t3 && (l2.id || n2.setRow(t3), y(t3));
        }), n2.renderer.on("beforeRender", function() {
          if (i2 && l2.start.row != -1) {
            i2.$pos = null;
            var e5 = i2.getDocumentPosition().row;
            l2.id || n2.setRow(e5), y(e5, true);
          }
        }), n2.renderer.on("afterRender", function() {
          var e5 = n2.getRow(), t3 = n2.renderer.$textLayer, r3 = t3.element.childNodes[e5 - t3.config.firstRow], i3 = document.activeElement;
          r3 !== n2.selectedNode && n2.selectedNode && (a.removeCssClass(n2.selectedNode, "ace_selected"), i3.removeAttribute("aria-activedescendant"), n2.selectedNode.removeAttribute(d), n2.selectedNode.removeAttribute("id")), n2.selectedNode = r3;
          if (r3) {
            a.addCssClass(r3, "ace_selected");
            var s2 = c(e5);
            r3.id = s2, t3.element.setAttribute("aria-activedescendant", s2), i3.setAttribute("aria-activedescendant", s2), r3.setAttribute("role", p), r3.setAttribute("aria-roledescription", f("item")), r3.setAttribute("aria-label", n2.getData(e5).caption || n2.getData(e5).value), r3.setAttribute("aria-setsize", n2.data.length), r3.setAttribute("aria-posinset", e5 + 1), r3.setAttribute("aria-describedby", "doc-tooltip"), r3.setAttribute(d, "true");
          }
        });
        var g = function() {
          y(-1);
        }, y = function(e5, t3) {
          e5 !== l2.start.row && (l2.start.row = l2.end.row = e5, t3 || n2.session._emit("changeBackMarker"), n2._emit("changeHoverMarker"));
        };
        n2.getHoveredRow = function() {
          return l2.start.row;
        }, o.addListener(n2.container, "mouseout", function() {
          n2.isMouseOver = false, g();
        }), n2.on("hide", g), n2.on("changeSelection", g), n2.session.doc.getLength = function() {
          return n2.data.length;
        }, n2.session.doc.getLine = function(e5) {
          var t3 = n2.data[e5];
          return typeof t3 == "string" ? t3 : t3 && t3.value || "";
        };
        var b = n2.session.bgTokenizer;
        return b.$tokenizeRow = function(e5) {
          function s2(e6, n3) {
            e6 && r3.push({ type: (t3.className || "") + (n3 || ""), value: e6 });
          }
          var t3 = n2.data[e5], r3 = [];
          if (!t3)
            return r3;
          typeof t3 == "string" && (t3 = { value: t3 });
          var i3 = t3.caption || t3.value || t3.name, o2 = i3.toLowerCase(), u2 = (n2.filterText || "").toLowerCase(), a2 = 0, f2 = 0;
          for (var l3 = 0; l3 <= u2.length; l3++)
            if (l3 != f2 && (t3.matchMask & 1 << l3 || l3 == u2.length)) {
              var c2 = u2.slice(f2, l3);
              f2 = l3;
              var h3 = o2.indexOf(c2, a2);
              if (h3 == -1)
                continue;
              s2(i3.slice(a2, h3), ""), a2 = h3 + c2.length, s2(i3.slice(h3, a2), "completion-highlight");
            }
          return s2(i3.slice(a2, i3.length), ""), r3.push({ type: "completion-spacer", value: " " }), t3.meta && r3.push({ type: "completion-meta", value: t3.meta }), t3.message && r3.push({ type: "completion-message", value: t3.message }), r3;
        }, b.$updateOnChange = r2, b.start = r2, n2.session.$computeWidth = function() {
          return this.screenWidth = 0;
        }, n2.isOpen = false, n2.isTopdown = false, n2.autoSelect = true, n2.filterText = "", n2.isMouseOver = false, n2.data = [], n2.setData = function(e5, t3) {
          n2.filterText = t3 || "", n2.setValue(u.stringRepeat("\n", e5.length), -1), n2.data = e5 || [], n2.setRow(0);
        }, n2.getData = function(e5) {
          return n2.data[e5];
        }, n2.getRow = function() {
          return m2.start.row;
        }, n2.setRow = function(e5) {
          e5 = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, e5)), m2.start.row != e5 && (n2.selection.clearSelection(), m2.start.row = m2.end.row = e5 || 0, n2.session._emit("changeBackMarker"), n2.moveCursorTo(e5 || 0, 0), n2.isOpen && n2._signal("select"));
        }, n2.on("changeSelection", function() {
          n2.isOpen && n2.setRow(n2.selection.lead.row), n2.renderer.scrollCursorIntoView();
        }), n2.hide = function() {
          this.container.style.display = "none", n2.anchorPos = null, n2.anchor = null, n2.isOpen && (n2.isOpen = false, this._signal("hide"));
        }, n2.tryShow = function(e5, t3, r3, s2) {
          if (!s2 && n2.isOpen && n2.anchorPos && n2.anchor && n2.anchorPos.top === e5.top && n2.anchorPos.left === e5.left && n2.anchor === r3)
            return true;
          var o2 = this.container, u2 = window.innerHeight, a2 = window.innerWidth, f2 = this.renderer, l3 = f2.$maxLines * t3 * 1.4, c2 = { top: 0, bottom: 0, left: 0 }, h3 = u2 - e5.top - 3 * this.$borderSize - t3, p2 = e5.top - 3 * this.$borderSize;
          r3 || (p2 <= h3 || h3 >= l3 ? r3 = "bottom" : r3 = "top"), r3 === "top" ? (c2.bottom = e5.top - this.$borderSize, c2.top = c2.bottom - l3) : r3 === "bottom" && (c2.top = e5.top + t3 + this.$borderSize, c2.bottom = c2.top + l3);
          var d2 = c2.top >= 0 && c2.bottom <= u2;
          if (!s2 && !d2)
            return false;
          d2 ? f2.$maxPixelHeight = null : r3 === "top" ? f2.$maxPixelHeight = p2 : f2.$maxPixelHeight = h3, r3 === "top" ? (o2.style.top = "", o2.style.bottom = u2 - c2.bottom + "px", n2.isTopdown = false) : (o2.style.top = c2.top + "px", o2.style.bottom = "", n2.isTopdown = true), o2.style.display = "";
          var v2 = e5.left;
          return v2 + o2.offsetWidth > a2 && (v2 = a2 - o2.offsetWidth), o2.style.left = v2 + "px", o2.style.right = "", n2.isOpen || (n2.isOpen = true, this._signal("show"), i2 = null), n2.anchorPos = e5, n2.anchor = r3, true;
        }, n2.show = function(e5, t3, n3) {
          this.tryShow(e5, t3, n3 ? "bottom" : void 0, true);
        }, n2.goTo = function(e5) {
          var t3 = this.getRow(), n3 = this.session.getLength() - 1;
          switch (e5) {
            case "up":
              t3 = t3 <= 0 ? n3 : t3 - 1;
              break;
            case "down":
              t3 = t3 >= n3 ? -1 : t3 + 1;
              break;
            case "start":
              t3 = 0;
              break;
            case "end":
              t3 = n3;
          }
          this.setRow(t3);
        }, n2.getTextLeftOffset = function() {
          return this.$borderSize + this.renderer.$padding + this.$imageSize;
        }, n2.$imageSize = 0, n2.$borderSize = 1, n2;
      }
      return e3;
    }();
    a.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n', "autocompletion.css", false), t.AcePopup = m, t.$singleLineEditor = v, t.getAriaId = c;
  }), ace.define("ace/autocomplete/inline_screenreader", ["require", "exports", "module"], function(e2, t, n) {
    var r = function() {
      function e3(e4) {
        this.editor = e4, this.screenReaderDiv = document.createElement("div"), this.screenReaderDiv.classList.add("ace_screenreader-only"), this.editor.container.appendChild(this.screenReaderDiv);
      }
      return e3.prototype.setScreenReaderContent = function(e4) {
        !this.popup && this.editor.completer && this.editor.completer.popup && (this.popup = this.editor.completer.popup, this.popup.renderer.on("afterRender", (function() {
          var e5 = this.popup.getRow(), t3 = this.popup.renderer.$textLayer, n2 = t3.element.childNodes[e5 - t3.config.firstRow];
          if (n2) {
            var r2 = "doc-tooltip ";
            for (var i = 0; i < this._lines.length; i++)
              r2 += "ace-inline-screenreader-line-".concat(i, " ");
            n2.setAttribute("aria-describedby", r2);
          }
        }).bind(this)));
        while (this.screenReaderDiv.firstChild)
          this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);
        this._lines = e4.split(/\r\n|\r|\n/);
        var t2 = this.createCodeBlock();
        this.screenReaderDiv.appendChild(t2);
      }, e3.prototype.destroy = function() {
        this.screenReaderDiv.remove();
      }, e3.prototype.createCodeBlock = function() {
        var e4 = document.createElement("pre");
        e4.setAttribute("id", "ace-inline-screenreader");
        for (var t2 = 0; t2 < this._lines.length; t2++) {
          var n2 = document.createElement("code");
          n2.setAttribute("id", "ace-inline-screenreader-line-".concat(t2));
          var r2 = document.createTextNode(this._lines[t2]);
          n2.appendChild(r2), e4.appendChild(n2);
        }
        return e4;
      }, e3;
    }();
    t.AceInlineScreenReader = r;
  }), ace.define("ace/autocomplete/inline", ["require", "exports", "module", "ace/snippets", "ace/autocomplete/inline_screenreader"], function(e2, t, n) {
    var r = e2("../snippets").snippetManager, i = e2("./inline_screenreader").AceInlineScreenReader, s = function() {
      function e3() {
        this.editor = null;
      }
      return e3.prototype.show = function(e4, t2, n2) {
        n2 = n2 || "", e4 && this.editor && this.editor !== e4 && (this.hide(), this.editor = null, this.inlineScreenReader = null);
        if (!e4 || !t2)
          return false;
        this.inlineScreenReader || (this.inlineScreenReader = new i(e4));
        var s2 = t2.snippet ? r.getDisplayTextForSnippet(e4, t2.snippet) : t2.value;
        return t2.hideInlinePreview || !s2 || !s2.startsWith(n2) ? false : (this.editor = e4, this.inlineScreenReader.setScreenReaderContent(s2), s2 = s2.slice(n2.length), s2 === "" ? e4.removeGhostText() : e4.setGhostText(s2), true);
      }, e3.prototype.isOpen = function() {
        return this.editor ? !!this.editor.renderer.$ghostText : false;
      }, e3.prototype.hide = function() {
        return this.editor ? (this.editor.removeGhostText(), true) : false;
      }, e3.prototype.destroy = function() {
        this.hide(), this.editor = null, this.inlineScreenReader && (this.inlineScreenReader.destroy(), this.inlineScreenReader = null);
      }, e3;
    }();
    t.AceInline = s;
  }), ace.define("ace/autocomplete/util", ["require", "exports", "module"], function(e2, t, n) {
    t.parForEach = function(e3, t2, n2) {
      var r2 = 0, i = e3.length;
      i === 0 && n2();
      for (var s = 0; s < i; s++)
        t2(e3[s], function(e4, t3) {
          r2++, r2 === i && n2(e4, t3);
        });
    };
    var r = /[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;
    t.retrievePrecedingIdentifier = function(e3, t2, n2) {
      n2 = n2 || r;
      var i = [];
      for (var s = t2 - 1; s >= 0; s--) {
        if (!n2.test(e3[s]))
          break;
        i.push(e3[s]);
      }
      return i.reverse().join("");
    }, t.retrieveFollowingIdentifier = function(e3, t2, n2) {
      n2 = n2 || r;
      var i = [];
      for (var s = t2; s < e3.length; s++) {
        if (!n2.test(e3[s]))
          break;
        i.push(e3[s]);
      }
      return i;
    }, t.getCompletionPrefix = function(e3) {
      var t2 = e3.getCursorPosition(), n2 = e3.session.getLine(t2.row), r2;
      return e3.completers.forEach((function(e4) {
        e4.identifierRegexps && e4.identifierRegexps.forEach((function(e5) {
          !r2 && e5 && (r2 = this.retrievePrecedingIdentifier(n2, t2.column, e5));
        }).bind(this));
      }).bind(this)), r2 || this.retrievePrecedingIdentifier(n2, t2.column);
    }, t.triggerAutocomplete = function(e3, t2) {
      var t2 = t2 == null ? e3.session.getPrecedingCharacter() : t2;
      return e3.completers.some(function(e4) {
        if (e4.triggerCharacters && Array.isArray(e4.triggerCharacters))
          return e4.triggerCharacters.includes(t2);
      });
    };
  }), ace.define("ace/autocomplete", ["require", "exports", "module", "ace/keyboard/hash_handler", "ace/autocomplete/popup", "ace/autocomplete/inline", "ace/autocomplete/popup", "ace/autocomplete/util", "ace/lib/lang", "ace/lib/dom", "ace/snippets", "ace/config", "ace/lib/event", "ace/lib/scroll"], function(e2, t, n) {
    var r = e2("./keyboard/hash_handler").HashHandler, i = e2("./autocomplete/popup").AcePopup, s = e2("./autocomplete/inline").AceInline, o = e2("./autocomplete/popup").getAriaId, u = e2("./autocomplete/util"), a = e2("./lib/lang"), f = e2("./lib/dom"), l = e2("./snippets").snippetManager, c = e2("./config"), h2 = e2("./lib/event"), p = e2("./lib/scroll").preventParentScroll, d = function(e3, t2) {
      t2.completer && t2.completer.destroy();
    }, v = function() {
      function e3() {
        this.autoInsert = false, this.autoSelect = true, this.autoShown = false, this.exactMatch = false, this.inlineEnabled = false, this.keyboardHandler = new r(), this.keyboardHandler.bindKeys(this.commands), this.parentNode = null, this.setSelectOnHover = false, this.hasSeen = /* @__PURE__ */ new Set(), this.showLoadingState = false, this.stickySelectionDelay = 500, this.blurListener = this.blurListener.bind(this), this.changeListener = this.changeListener.bind(this), this.mousedownListener = this.mousedownListener.bind(this), this.mousewheelListener = this.mousewheelListener.bind(this), this.onLayoutChange = this.onLayoutChange.bind(this), this.changeTimer = a.delayedCall((function() {
          this.updateCompletions(true);
        }).bind(this)), this.tooltipTimer = a.delayedCall(this.updateDocTooltip.bind(this), 50), this.popupTimer = a.delayedCall(this.$updatePopupPosition.bind(this), 50), this.stickySelectionTimer = a.delayedCall((function() {
          this.stickySelection = true;
        }).bind(this), this.stickySelectionDelay), this.$firstOpenTimer = a.delayedCall((function() {
          var t2 = this.completionProvider && this.completionProvider.initialPosition;
          if (this.autoShown || this.popup && this.popup.isOpen || !t2 || this.editor.completers.length === 0)
            return;
          this.completions = new g(e3.completionsForLoading), this.openPopup(this.editor, t2.prefix, false), this.popup.renderer.setStyle("ace_loading", true);
        }).bind(this), this.stickySelectionDelay);
      }
      return Object.defineProperty(e3, "completionsForLoading", { get: function() {
        return [{ caption: c.nls("Loading..."), value: "" }];
      }, enumerable: false, configurable: true }), e3.prototype.$init = function() {
        return this.popup = new i(this.parentNode || document.body || document.documentElement), this.popup.on("click", (function(e4) {
          this.insertMatch(), e4.stop();
        }).bind(this)), this.popup.focus = this.editor.focus.bind(this.editor), this.popup.on("show", this.$onPopupShow.bind(this)), this.popup.on("hide", this.$onHidePopup.bind(this)), this.popup.on("select", this.$onPopupChange.bind(this)), h2.addListener(this.popup.container, "mouseout", this.mouseOutListener.bind(this)), this.popup.on("changeHoverMarker", this.tooltipTimer.bind(null, null)), this.popup.renderer.on("afterRender", this.$onPopupRender.bind(this)), this.popup;
      }, e3.prototype.$initInline = function() {
        if (!this.inlineEnabled || this.inlineRenderer)
          return;
        return this.inlineRenderer = new s(), this.inlineRenderer;
      }, e3.prototype.getPopup = function() {
        return this.popup || this.$init();
      }, e3.prototype.$onHidePopup = function() {
        this.inlineRenderer && this.inlineRenderer.hide(), this.hideDocTooltip(), this.stickySelectionTimer.cancel(), this.popupTimer.cancel(), this.stickySelection = false;
      }, e3.prototype.$seen = function(e4) {
        !this.hasSeen.has(e4) && e4 && e4.completer && e4.completer.onSeen && typeof e4.completer.onSeen == "function" && (e4.completer.onSeen(this.editor, e4), this.hasSeen.add(e4));
      }, e3.prototype.$onPopupChange = function(e4) {
        if (this.inlineRenderer && this.inlineEnabled) {
          var t2 = e4 ? null : this.popup.getData(this.popup.getRow());
          this.$updateGhostText(t2);
          if (this.popup.isMouseOver && this.setSelectOnHover) {
            this.tooltipTimer.call(null, null);
            return;
          }
          this.popupTimer.schedule(), this.tooltipTimer.schedule();
        } else
          this.popupTimer.call(null, null), this.tooltipTimer.call(null, null);
      }, e3.prototype.$updateGhostText = function(e4) {
        var t2 = this.base.row, n2 = this.base.column, r2 = this.editor.getCursorPosition().column, i2 = this.editor.session.getLine(t2).slice(n2, r2);
        this.inlineRenderer.show(this.editor, e4, i2) ? this.$seen(e4) : this.inlineRenderer.hide();
      }, e3.prototype.$onPopupRender = function() {
        var e4 = this.inlineRenderer && this.inlineEnabled;
        if (this.completions && this.completions.filtered && this.completions.filtered.length > 0)
          for (var t2 = this.popup.getFirstVisibleRow(); t2 <= this.popup.getLastVisibleRow(); t2++) {
            var n2 = this.popup.getData(t2);
            n2 && (!e4 || n2.hideInlinePreview) && this.$seen(n2);
          }
      }, e3.prototype.$onPopupShow = function(e4) {
        this.$onPopupChange(e4), this.stickySelection = false, this.stickySelectionDelay >= 0 && this.stickySelectionTimer.schedule(this.stickySelectionDelay);
      }, e3.prototype.observeLayoutChanges = function() {
        if (this.$elements || !this.editor)
          return;
        window.addEventListener("resize", this.onLayoutChange, { passive: true }), window.addEventListener("wheel", this.mousewheelListener);
        var e4 = this.editor.container.parentNode, t2 = [];
        while (e4)
          t2.push(e4), e4.addEventListener("scroll", this.onLayoutChange, { passive: true }), e4 = e4.parentNode;
        this.$elements = t2;
      }, e3.prototype.unObserveLayoutChanges = function() {
        var e4 = this;
        window.removeEventListener("resize", this.onLayoutChange, { passive: true }), window.removeEventListener("wheel", this.mousewheelListener), this.$elements && this.$elements.forEach(function(t2) {
          t2.removeEventListener("scroll", e4.onLayoutChange, { passive: true });
        }), this.$elements = null;
      }, e3.prototype.onLayoutChange = function() {
        if (!this.popup.isOpen)
          return this.unObserveLayoutChanges();
        this.$updatePopupPosition(), this.updateDocTooltip();
      }, e3.prototype.$updatePopupPosition = function() {
        var e4 = this.editor, t2 = e4.renderer, n2 = t2.layerConfig.lineHeight, r2 = t2.$cursorLayer.getPixelPosition(this.base, true);
        r2.left -= this.popup.getTextLeftOffset();
        var i2 = e4.container.getBoundingClientRect();
        r2.top += i2.top - t2.layerConfig.offset, r2.left += i2.left - e4.renderer.scrollLeft, r2.left += t2.gutterWidth;
        var s2 = { top: r2.top, left: r2.left };
        t2.$ghostText && t2.$ghostTextWidget && this.base.row === t2.$ghostText.position.row && (s2.top += t2.$ghostTextWidget.el.offsetHeight);
        var o2 = e4.container.getBoundingClientRect().bottom - n2, u2 = o2 < s2.top ? { top: o2, left: s2.left } : s2;
        if (this.popup.tryShow(u2, n2, "bottom"))
          return;
        if (this.popup.tryShow(r2, n2, "top"))
          return;
        this.popup.show(r2, n2);
      }, e3.prototype.openPopup = function(e4, t2, n2) {
        this.$firstOpenTimer.cancel(), this.popup || this.$init(), this.inlineEnabled && !this.inlineRenderer && this.$initInline(), this.popup.autoSelect = this.autoSelect, this.popup.setSelectOnHover(this.setSelectOnHover);
        var r2 = this.popup.getRow(), i2 = this.popup.data[r2];
        this.popup.setData(this.completions.filtered, this.completions.filterText), this.editor.textInput.setAriaOptions && this.editor.textInput.setAriaOptions({ activeDescendant: o(this.popup.getRow()), inline: this.inlineEnabled }), e4.keyBinding.addKeyboardHandler(this.keyboardHandler);
        var s2;
        this.stickySelection && (s2 = this.popup.data.indexOf(i2));
        if (!s2 || s2 === -1)
          s2 = 0;
        this.popup.setRow(this.autoSelect ? s2 : -1), s2 === r2 && i2 !== this.completions.filtered[s2] && this.$onPopupChange();
        var u2 = this.inlineRenderer && this.inlineEnabled;
        if (s2 === r2 && u2) {
          var a2 = this.popup.getData(this.popup.getRow());
          this.$updateGhostText(a2);
        }
        n2 || (this.popup.setTheme(e4.getTheme()), this.popup.setFontSize(e4.getFontSize()), this.$updatePopupPosition(), this.tooltipNode && this.updateDocTooltip()), this.changeTimer.cancel(), this.observeLayoutChanges();
      }, e3.prototype.detach = function() {
        this.editor && (this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler), this.editor.off("changeSelection", this.changeListener), this.editor.off("blur", this.blurListener), this.editor.off("mousedown", this.mousedownListener), this.editor.off("mousewheel", this.mousewheelListener)), this.$firstOpenTimer.cancel(), this.changeTimer.cancel(), this.hideDocTooltip(), this.completionProvider && this.completionProvider.detach(), this.popup && this.popup.isOpen && this.popup.hide(), this.popup && this.popup.renderer && this.popup.renderer.off("afterRender", this.$onPopupRender), this.base && this.base.detach(), this.activated = false, this.completionProvider = this.completions = this.base = null, this.unObserveLayoutChanges();
      }, e3.prototype.changeListener = function(e4) {
        var t2 = this.editor.selection.lead;
        (t2.row != this.base.row || t2.column < this.base.column) && this.detach(), this.activated ? this.changeTimer.schedule() : this.detach();
      }, e3.prototype.blurListener = function(e4) {
        var t2 = document.activeElement, n2 = this.editor.textInput.getElement(), r2 = e4.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e4.relatedTarget), i2 = this.popup && this.popup.container;
        t2 != n2 && t2.parentNode != i2 && !r2 && t2 != this.tooltipNode && e4.relatedTarget != n2 && this.detach();
      }, e3.prototype.mousedownListener = function(e4) {
        this.detach();
      }, e3.prototype.mousewheelListener = function(e4) {
        this.popup.isMouseOver || this.detach();
      }, e3.prototype.mouseOutListener = function(e4) {
        this.popup.isOpen && this.$updatePopupPosition();
      }, e3.prototype.goTo = function(e4) {
        this.popup.goTo(e4);
      }, e3.prototype.insertMatch = function(e4, t2) {
        e4 || (e4 = this.popup.getData(this.popup.getRow()));
        if (!e4)
          return false;
        if (e4.value === "")
          return this.detach();
        var n2 = this.completions, r2 = this.getCompletionProvider().insertMatch(this.editor, e4, n2.filterText, t2);
        return this.completions == n2 && this.detach(), r2;
      }, e3.prototype.showPopup = function(e4, t2) {
        this.editor && this.detach(), this.activated = true, this.editor = e4, e4.completer != this && (e4.completer && e4.completer.detach(), e4.completer = this), e4.on("changeSelection", this.changeListener), e4.on("blur", this.blurListener), e4.on("mousedown", this.mousedownListener), e4.on("mousewheel", this.mousewheelListener), this.updateCompletions(false, t2);
      }, e3.prototype.getCompletionProvider = function(e4) {
        return this.completionProvider || (this.completionProvider = new m(e4)), this.completionProvider;
      }, e3.prototype.gatherCompletions = function(e4, t2) {
        return this.getCompletionProvider().gatherCompletions(e4, t2);
      }, e3.prototype.updateCompletions = function(t2, n2) {
        if (t2 && this.base && this.completions) {
          var r2 = this.editor.getCursorPosition(), i2 = this.editor.session.getTextRange({ start: this.base, end: r2 });
          if (i2 == this.completions.filterText)
            return;
          this.completions.setFilter(i2);
          if (!this.completions.filtered.length)
            return this.detach();
          if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == i2 && !this.completions.filtered[0].snippet)
            return this.detach();
          this.openPopup(this.editor, i2, t2);
          return;
        }
        if (n2 && n2.matches) {
          var r2 = this.editor.getSelectionRange().start;
          return this.base = this.editor.session.doc.createAnchor(r2.row, r2.column), this.base.$insertRight = true, this.completions = new g(n2.matches), this.getCompletionProvider().completions = this.completions, this.openPopup(this.editor, "", t2);
        }
        var s2 = this.editor.getSession(), r2 = this.editor.getCursorPosition(), i2 = u.getCompletionPrefix(this.editor);
        this.base = s2.doc.createAnchor(r2.row, r2.column - i2.length), this.base.$insertRight = true;
        var o2 = { exactMatch: this.exactMatch, ignoreCaption: this.ignoreCaption };
        this.getCompletionProvider({ prefix: i2, pos: r2 }).provideCompletions(this.editor, o2, (function(n3, r3, i3) {
          var s3 = r3.filtered, o3 = u.getCompletionPrefix(this.editor);
          this.$firstOpenTimer.cancel();
          if (i3) {
            if (!s3.length) {
              var a2 = !this.autoShown && this.emptyMessage;
              typeof a2 == "function" && (a2 = this.emptyMessage(o3));
              if (a2) {
                var f2 = [{ caption: a2, value: "" }];
                this.completions = new g(f2), this.openPopup(this.editor, o3, t2), this.popup.renderer.setStyle("ace_loading", false);
                return;
              }
              return this.detach();
            }
            if (s3.length == 1 && s3[0].value == o3 && !s3[0].snippet)
              return this.detach();
            if (this.autoInsert && !this.autoShown && s3.length == 1)
              return this.insertMatch(s3[0]);
          }
          this.completions = !i3 && this.showLoadingState ? new g(e3.completionsForLoading.concat(s3), r3.filterText) : r3, this.openPopup(this.editor, o3, t2), this.popup.renderer.setStyle("ace_loading", !i3);
        }).bind(this)), this.showLoadingState && !this.autoShown && (!this.popup || !this.popup.isOpen) && this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);
      }, e3.prototype.cancelContextMenu = function() {
        this.editor.$mouseHandler.cancelContextMenu();
      }, e3.prototype.updateDocTooltip = function() {
        var e4 = this.popup, t2 = this.completions.filtered, n2 = t2 && (t2[e4.getHoveredRow()] || t2[e4.getRow()]), r2 = null;
        if (!n2 || !this.editor || !this.popup.isOpen)
          return this.hideDocTooltip();
        var i2 = this.editor.completers.length;
        for (var s2 = 0; s2 < i2; s2++) {
          var o2 = this.editor.completers[s2];
          if (o2.getDocTooltip && n2.completerId === o2.id) {
            r2 = o2.getDocTooltip(n2);
            break;
          }
        }
        !r2 && typeof n2 != "string" && (r2 = n2), typeof r2 == "string" && (r2 = { docText: r2 });
        if (!r2 || !r2.docHTML && !r2.docText)
          return this.hideDocTooltip();
        this.showDocTooltip(r2);
      }, e3.prototype.showDocTooltip = function(e4) {
        this.tooltipNode || (this.tooltipNode = f.createElement("div"), this.tooltipNode.style.margin = "0", this.tooltipNode.style.pointerEvents = "auto", this.tooltipNode.style.overscrollBehavior = "contain", this.tooltipNode.tabIndex = -1, this.tooltipNode.onblur = this.blurListener.bind(this), this.tooltipNode.onclick = this.onTooltipClick.bind(this), this.tooltipNode.id = "doc-tooltip", this.tooltipNode.setAttribute("role", "tooltip"), this.tooltipNode.addEventListener("wheel", p));
        var t2 = this.editor.renderer.theme;
        this.tooltipNode.className = "ace_tooltip ace_doc-tooltip " + (t2.isDark ? "ace_dark " : "") + (t2.cssClass || "");
        var n2 = this.tooltipNode;
        e4.docHTML ? n2.innerHTML = e4.docHTML : e4.docText && (n2.textContent = e4.docText), n2.parentNode || this.popup.container.appendChild(this.tooltipNode);
        var r2 = this.popup, i2 = r2.container.getBoundingClientRect();
        n2.style.top = r2.container.style.top, n2.style.bottom = r2.container.style.bottom, n2.style.display = "block", window.innerWidth - i2.right < 320 ? i2.left < 320 ? r2.isTopdown ? (n2.style.top = i2.bottom + "px", n2.style.left = i2.left + "px", n2.style.right = "", n2.style.bottom = "") : (n2.style.top = r2.container.offsetTop - n2.offsetHeight + "px", n2.style.left = i2.left + "px", n2.style.right = "", n2.style.bottom = "") : (n2.style.right = window.innerWidth - i2.left + "px", n2.style.left = "") : (n2.style.left = i2.right + 1 + "px", n2.style.right = "");
      }, e3.prototype.hideDocTooltip = function() {
        this.tooltipTimer.cancel();
        if (!this.tooltipNode)
          return;
        var e4 = this.tooltipNode;
        !this.editor.isFocused() && document.activeElement == e4 && this.editor.focus(), this.tooltipNode = null, e4.parentNode && e4.parentNode.removeChild(e4);
      }, e3.prototype.onTooltipClick = function(e4) {
        var t2 = e4.target;
        while (t2 && t2 != this.tooltipNode) {
          if (t2.nodeName == "A" && t2.href) {
            t2.rel = "noreferrer", t2.target = "_blank";
            break;
          }
          t2 = t2.parentNode;
        }
      }, e3.prototype.destroy = function() {
        this.detach();
        if (this.popup) {
          this.popup.destroy();
          var e4 = this.popup.container;
          e4 && e4.parentNode && e4.parentNode.removeChild(e4);
        }
        this.editor && this.editor.completer == this && (this.editor.off("destroy", d), this.editor.completer = null), this.inlineRenderer = this.popup = this.editor = null;
      }, e3;
    }();
    v.prototype.commands = { Up: function(e3) {
      e3.completer.goTo("up");
    }, Down: function(e3) {
      e3.completer.goTo("down");
    }, "Ctrl-Up|Ctrl-Home": function(e3) {
      e3.completer.goTo("start");
    }, "Ctrl-Down|Ctrl-End": function(e3) {
      e3.completer.goTo("end");
    }, Esc: function(e3) {
      e3.completer.detach();
    }, Return: function(e3) {
      return e3.completer.insertMatch();
    }, "Shift-Return": function(e3) {
      e3.completer.insertMatch(null, { deleteSuffix: true });
    }, Tab: function(e3) {
      var t2 = e3.completer.insertMatch();
      if (!!t2 || !!e3.tabstopManager)
        return t2;
      e3.completer.goTo("down");
    }, Backspace: function(e3) {
      e3.execCommand("backspace");
      var t2 = u.getCompletionPrefix(e3);
      !t2 && e3.completer && e3.completer.detach();
    }, PageUp: function(e3) {
      e3.completer.popup.gotoPageUp();
    }, PageDown: function(e3) {
      e3.completer.popup.gotoPageDown();
    } }, v.for = function(e3) {
      return e3.completer instanceof v ? e3.completer : (e3.completer && (e3.completer.destroy(), e3.completer = null), c.get("sharedPopups") ? (v.$sharedInstance || (v.$sharedInstance = new v()), e3.completer = v.$sharedInstance) : (e3.completer = new v(), e3.once("destroy", d)), e3.completer);
    }, v.startCommand = { name: "startAutocomplete", exec: function(e3, t2) {
      var n2 = v.for(e3);
      n2.autoInsert = false, n2.autoSelect = true, n2.autoShown = false, n2.showPopup(e3, t2), n2.cancelContextMenu();
    }, bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space" };
    var m = function() {
      function e3(e4) {
        this.initialPosition = e4, this.active = true;
      }
      return e3.prototype.insertByIndex = function(e4, t2, n2) {
        return !this.completions || !this.completions.filtered ? false : this.insertMatch(e4, this.completions.filtered[t2], n2);
      }, e3.prototype.insertMatch = function(e4, t2, n2) {
        if (!t2)
          return false;
        e4.startOperation({ command: { name: "insertMatch" } });
        if (t2.completer && t2.completer.insertMatch)
          t2.completer.insertMatch(e4, t2);
        else {
          if (!this.completions)
            return false;
          var r2 = this.completions.filterText.length, i2 = 0;
          t2.range && t2.range.start.row === t2.range.end.row && (r2 -= this.initialPosition.prefix.length, r2 += this.initialPosition.pos.column - t2.range.start.column, i2 += t2.range.end.column - this.initialPosition.pos.column);
          if (r2 || i2) {
            var s2;
            e4.selection.getAllRanges ? s2 = e4.selection.getAllRanges() : s2 = [e4.getSelectionRange()];
            for (var o2 = 0, u2; u2 = s2[o2]; o2++)
              u2.start.column -= r2, u2.end.column += i2, e4.session.remove(u2);
          }
          t2.snippet ? l.insertSnippet(e4, t2.snippet) : this.$insertString(e4, t2), t2.completer && t2.completer.onInsert && typeof t2.completer.onInsert == "function" && t2.completer.onInsert(e4, t2), t2.command && t2.command === "startAutocomplete" && e4.execCommand(t2.command);
        }
        return e4.endOperation(), true;
      }, e3.prototype.$insertString = function(e4, t2) {
        var n2 = t2.value || t2;
        e4.execCommand("insertstring", n2);
      }, e3.prototype.gatherCompletions = function(e4, t2) {
        var n2 = e4.getSession(), r2 = e4.getCursorPosition(), i2 = u.getCompletionPrefix(e4), s2 = [];
        this.completers = e4.completers;
        var o2 = e4.completers.length;
        return e4.completers.forEach(function(a2, f2) {
          a2.getCompletions(e4, n2, r2, i2, function(n3, r3) {
            a2.hideInlinePreview && (r3 = r3.map(function(e5) {
              return Object.assign(e5, { hideInlinePreview: a2.hideInlinePreview });
            })), !n3 && r3 && (s2 = s2.concat(r3)), t2(null, { prefix: u.getCompletionPrefix(e4), matches: s2, finished: --o2 === 0 });
          });
        }), true;
      }, e3.prototype.provideCompletions = function(e4, t2, n2) {
        var r2 = (function(e5) {
          var r3 = e5.prefix, i3 = e5.matches;
          this.completions = new g(i3), t2.exactMatch && (this.completions.exactMatch = true), t2.ignoreCaption && (this.completions.ignoreCaption = true), this.completions.setFilter(r3), (e5.finished || this.completions.filtered.length) && n2(null, this.completions, e5.finished);
        }).bind(this), i2 = true, s2 = null;
        this.gatherCompletions(e4, (function(e5, t3) {
          if (!this.active)
            return;
          e5 && (n2(e5, [], true), this.detach());
          var o3 = t3.prefix;
          if (o3.indexOf(t3.prefix) !== 0)
            return;
          if (i2) {
            s2 = t3;
            return;
          }
          r2(t3);
        }).bind(this)), i2 = false;
        if (s2) {
          var o2 = s2;
          s2 = null, r2(o2);
        }
      }, e3.prototype.detach = function() {
        this.active = false, this.completers && this.completers.forEach(function(e4) {
          typeof e4.cancel == "function" && e4.cancel();
        });
      }, e3;
    }(), g = function() {
      function e3(e4, t2) {
        this.all = e4, this.filtered = e4, this.filterText = t2 || "", this.exactMatch = false, this.ignoreCaption = false;
      }
      return e3.prototype.setFilter = function(e4) {
        if (e4.length > this.filterText && e4.lastIndexOf(this.filterText, 0) === 0)
          var t2 = this.filtered;
        else
          var t2 = this.all;
        this.filterText = e4, t2 = this.filterCompletions(t2, this.filterText), t2 = t2.sort(function(e5, t3) {
          return t3.exactMatch - e5.exactMatch || t3.$score - e5.$score || (e5.caption || e5.value).localeCompare(t3.caption || t3.value);
        });
        var n2 = null;
        t2 = t2.filter(function(e5) {
          var t3 = e5.snippet || e5.caption || e5.value;
          return t3 === n2 ? false : (n2 = t3, true);
        }), this.filtered = t2;
      }, e3.prototype.filterCompletions = function(e4, t2) {
        var n2 = [], r2 = t2.toUpperCase(), i2 = t2.toLowerCase();
        e:
          for (var s2 = 0, o2; o2 = e4[s2]; s2++) {
            var u2 = !this.ignoreCaption && o2.caption || o2.value || o2.snippet;
            if (!u2)
              continue;
            var a2 = -1, f2 = 0, l2 = 0, c2, h3;
            if (this.exactMatch) {
              if (t2 !== u2.substr(0, t2.length))
                continue e;
            } else {
              var p2 = u2.toLowerCase().indexOf(i2);
              if (p2 > -1)
                l2 = p2;
              else
                for (var d2 = 0; d2 < t2.length; d2++) {
                  var v2 = u2.indexOf(i2[d2], a2 + 1), m2 = u2.indexOf(r2[d2], a2 + 1);
                  c2 = v2 >= 0 ? m2 < 0 || v2 < m2 ? v2 : m2 : m2;
                  if (c2 < 0)
                    continue e;
                  h3 = c2 - a2 - 1, h3 > 0 && (a2 === -1 && (l2 += 10), l2 += h3, f2 |= 1 << d2), a2 = c2;
                }
            }
            o2.matchMask = f2, o2.exactMatch = l2 ? 0 : 1, o2.$score = (o2.score || 0) - l2, n2.push(o2);
          }
        return n2;
      }, e3;
    }();
    t.Autocomplete = v, t.CompletionProvider = m, t.FilteredList = g;
  }), ace.define("ace/autocomplete/text_completer", ["require", "exports", "module", "ace/range"], function(e2, t, n) {
    function s(e3, t2) {
      var n2 = e3.getTextRange(r.fromPoints({ row: 0, column: 0 }, t2));
      return n2.split(i).length - 1;
    }
    function o(e3, t2) {
      var n2 = s(e3, t2), r2 = e3.getValue().split(i), o2 = /* @__PURE__ */ Object.create(null), u = r2[n2];
      return r2.forEach(function(e4, t3) {
        if (!e4 || e4 === u)
          return;
        var i2 = Math.abs(n2 - t3), s2 = r2.length - i2;
        o2[e4] ? o2[e4] = Math.max(s2, o2[e4]) : o2[e4] = s2;
      }), o2;
    }
    var r = e2("../range").Range, i = /[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;
    t.getCompletions = function(e3, t2, n2, r2, i2) {
      var s2 = o(t2, n2), u = Object.keys(s2);
      i2(null, u.map(function(e4) {
        return { caption: e4, value: e4, score: s2[e4], meta: "local" };
      }));
    };
  }), ace.define("ace/ext/language_tools", ["require", "exports", "module", "ace/snippets", "ace/autocomplete", "ace/config", "ace/lib/lang", "ace/autocomplete/util", "ace/autocomplete/text_completer", "ace/editor", "ace/config"], function(e2, t, n) {
    var r = e2("../snippets").snippetManager, i = e2("../autocomplete").Autocomplete, s = e2("../config"), o = e2("../lib/lang"), u = e2("../autocomplete/util"), a = e2("../autocomplete/text_completer"), f = { getCompletions: function(e3, t2, n2, r2, i2) {
      if (t2.$mode.completer)
        return t2.$mode.completer.getCompletions(e3, t2, n2, r2, i2);
      var s2 = e3.session.getState(n2.row), o2 = t2.$mode.getCompletions(s2, t2, n2, r2);
      o2 = o2.map(function(e4) {
        return e4.completerId = f.id, e4;
      }), i2(null, o2);
    }, id: "keywordCompleter" }, l = function(e3) {
      var t2 = {};
      return e3.replace(/\${(\d+)(:(.*?))?}/g, function(e4, n2, r2, i2) {
        return t2[n2] = i2 || "";
      }).replace(/\$(\d+?)/g, function(e4, n2) {
        return t2[n2];
      });
    }, c = { getCompletions: function(e3, t2, n2, i2, s2) {
      var o2 = [], u2 = t2.getTokenAt(n2.row, n2.column);
      u2 && u2.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/) ? o2.push("html-tag") : o2 = r.getActiveScopes(e3);
      var a2 = r.snippetMap, f2 = [];
      o2.forEach(function(e4) {
        var t3 = a2[e4] || [];
        for (var n3 = t3.length; n3--; ) {
          var r2 = t3[n3], i3 = r2.name || r2.tabTrigger;
          if (!i3)
            continue;
          f2.push({ caption: i3, snippet: r2.content, meta: r2.tabTrigger && !r2.name ? r2.tabTrigger + "⇥ " : "snippet", completerId: c.id });
        }
      }, this), s2(null, f2);
    }, getDocTooltip: function(e3) {
      e3.snippet && !e3.docHTML && (e3.docHTML = ["<b>", o.escapeHTML(e3.caption), "</b>", "<hr></hr>", o.escapeHTML(l(e3.snippet))].join(""));
    }, id: "snippetCompleter" }, h2 = [c, a, f];
    t.setCompleters = function(e3) {
      h2.length = 0, e3 && h2.push.apply(h2, e3);
    }, t.addCompleter = function(e3) {
      h2.push(e3);
    }, t.textCompleter = a, t.keyWordCompleter = f, t.snippetCompleter = c;
    var p = { name: "expandSnippet", exec: function(e3) {
      return r.expandWithTab(e3);
    }, bindKey: "Tab" }, d = function(e3, t2) {
      v(t2.session.$mode);
    }, v = function(e3) {
      typeof e3 == "string" && (e3 = s.$modes[e3]);
      if (!e3)
        return;
      r.files || (r.files = {}), m(e3.$id, e3.snippetFileId), e3.modes && e3.modes.forEach(v);
    }, m = function(e3, t2) {
      if (!t2 || !e3 || r.files[e3])
        return;
      r.files[e3] = {}, s.loadModule(t2, function(t3) {
        if (!t3)
          return;
        r.files[e3] = t3, !t3.snippets && t3.snippetText && (t3.snippets = r.parseSnippetFile(t3.snippetText)), r.register(t3.snippets || [], t3.scope), t3.includeScopes && (r.snippetMap[t3.scope].includeScopes = t3.includeScopes, t3.includeScopes.forEach(function(e4) {
          v("ace/mode/" + e4);
        }));
      });
    }, g = function(e3) {
      var t2 = e3.editor, n2 = t2.completer && t2.completer.activated;
      if (e3.command.name === "backspace")
        n2 && !u.getCompletionPrefix(t2) && t2.completer.detach();
      else if (e3.command.name === "insertstring" && !n2) {
        y = e3;
        var r2 = e3.editor.$liveAutocompletionDelay;
        r2 ? b.delay(r2) : w(e3);
      }
    }, y, b = o.delayedCall(function() {
      w(y);
    }, 0), w = function(e3) {
      var t2 = e3.editor, n2 = u.getCompletionPrefix(t2), r2 = e3.args, s2 = u.triggerAutocomplete(t2, r2);
      if (n2 && n2.length >= t2.$liveAutocompletionThreshold || s2) {
        var o2 = i.for(t2);
        o2.autoShown = true, o2.showPopup(t2);
      }
    }, E = e2("../editor").Editor;
    e2("../config").defineOptions(E.prototype, "editor", { enableBasicAutocompletion: { set: function(e3) {
      e3 ? (this.completers || (this.completers = Array.isArray(e3) ? e3 : h2), this.commands.addCommand(i.startCommand)) : this.commands.removeCommand(i.startCommand);
    }, value: false }, enableLiveAutocompletion: { set: function(e3) {
      e3 ? (this.completers || (this.completers = Array.isArray(e3) ? e3 : h2), this.commands.on("afterExec", g)) : this.commands.off("afterExec", g);
    }, value: false }, liveAutocompletionDelay: { initialValue: 0 }, liveAutocompletionThreshold: { initialValue: 0 }, enableSnippets: { set: function(e3) {
      e3 ? (this.commands.addCommand(p), this.on("changeMode", d), d(null, this)) : (this.commands.removeCommand(p), this.off("changeMode", d));
    }, value: false } });
  });
  (function() {
    ace.require(["ace/ext/language_tools"], function(m) {
      if (module) {
        module.exports = m;
      }
    });
  })();
})(extLanguage_tools);
const VARIANT_FORM_VERSION = "3.1.6";
const ACE_BASE_PATH = "https://ks3-cn-beijing.ksyun.com/vform2021/ace-mini";
const _sfc_main$4t = {
  name: "CodeEditor",
  props: {
    modelValue: {
      type: String
      //required: true
    },
    readonly: {
      type: Boolean,
      default: false
    },
    mode: {
      type: String,
      default: "javascript"
    },
    userWorker: {
      //是否开启语法检查，默认开启
      type: Boolean,
      default: true
    }
  },
  emits: ["update:modelValue", "change", "blur"],
  mounted() {
    this.init();
  },
  data() {
    return {
      aceEditor: null,
      themePath: "ace/theme/sqlserver",
      // 不导入 webpack-resolver，该模块路径会报错
      modePath: "ace/mode/javascript",
      // 同上
      codeValue: this.modelValue
    };
  },
  watch: {
    //
    mode(val) {
      if (val) {
        this.init();
      }
    },
    readonly(val) {
      this.init();
    }
  },
  methods: {
    init(value2) {
      if (this.aceEditor) {
        this.aceEditor.destroy();
      }
      value2 = value2 || this.codeValue;
      this.$emit("update:modelValue", value2);
      ace$1.config.set("basePath", ACE_BASE_PATH);
      this.addAutoCompletion(ace$1);
      this.aceEditor = ace$1.edit(this.$refs.ace, {
        maxLines: 20,
        // 最大行数，超过会自动出现滚动条
        minLines: 5,
        // 最小行数，还未到最大行数时，编辑器会自动伸缩大小
        fontSize: 12,
        // 编辑器内字体大小
        theme: this.themePath,
        // 默认设置的主题
        mode: this.modePath,
        // 默认设置的语言模式
        tabSize: 2,
        // 制表符设置为2个空格大小
        readOnly: this.readonly,
        highlightActiveLine: true,
        value: value2
      });
      this.aceEditor.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true,
        // 设置代码片段提示
        enableLiveAutocompletion: true
        // 设置自动提示
      });
      if (this.mode === "json") {
        this.setJsonMode();
      } else if (this.mode === "css") {
        this.setCssMode();
      } else if (this.mode === "groovy") {
        this.setGroovyMode();
      }
      if (!this.userWorker) {
        this.aceEditor.getSession().setUseWorker(false);
      }
      this.aceEditor.getSession().on("change", (ev) => {
        this.$emit("update:modelValue", this.aceEditor.getValue());
        this.$emit("change", this.aceEditor.getValue());
      });
      this.aceEditor.getSession().on("blur", (ev) => {
        this.$emit("blur", this.aceEditor.getValue());
      });
    },
    addAutoCompletion(ace2) {
      const acData = [
        { meta: "VForm API", caption: "getWidgetRef", value: "getWidgetRef()", score: 1 },
        { meta: "VForm API", caption: "getFormRef", value: "getFormRef()", score: 1 },
        { meta: "VForm API", caption: "getParentFormRef", value: "getParentFormRef()", score: 1 }
        //TODO: 待补充！！
      ];
      const langTools = ace2.require("ace/ext/language_tools");
      langTools.addCompleter({
        getCompletions: function(editor, session, pos, prefix2, callback) {
          if (prefix2.length === 0) {
            return callback(null, []);
          } else {
            return callback(null, acData);
          }
        }
      });
    },
    setJsonMode() {
      this.aceEditor.getSession().setMode("ace/mode/json");
    },
    setCssMode() {
      this.aceEditor.getSession().setMode("ace/mode/css");
    },
    setGroovyMode() {
      this.aceEditor.getSession().setMode("ace/mode/groovy");
    },
    getEditorAnnotations() {
      return this.aceEditor.getSession().getAnnotations();
    },
    setValue(newValue) {
      this.init(newValue);
    },
    validateCode() {
      const codeHints = this.getEditorAnnotations();
      let syntaxErrorFlag = false;
      if (!!codeHints && codeHints.length > 0) {
        codeHints.forEach((chItem) => {
          if (chItem.type === "error") {
            syntaxErrorFlag = true;
          }
        });
        if (syntaxErrorFlag) {
          this.$message.error("语法存在错误,请检查");
          return false;
        }
      }
      return true;
    }
  }
};
const _hoisted_1$13 = { class: "ace-container" };
const _hoisted_2$A = {
  class: "ace-editor",
  ref: "ace"
};
function _sfc_render$4s(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$13, [
    createElementVNode("div", _hoisted_2$A, null, 512)
  ]);
}
const CodeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$4t, [["render", _sfc_render$4s], ["__scopeId", "data-v-09afdf8d"]]);
const _sfc_main$4s = {
  name: "code-editor-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper,
    CodeEditor
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$4r(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_code_editor = resolveComponent("code-editor");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_code_editor, {
        mode: $props.field.options.mode,
        readonly: $props.field.options.readonly || _ctx.isReadMode,
        modelValue: $data.fieldModel,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        ref: "fieldEditor",
        onBlur: _ctx.handleBlurCustomEvent,
        onChange: _ctx.handleChangeEvent
      }, null, 8, ["mode", "readonly", "modelValue", "onBlur", "onChange"])
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const codeEditorWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4s, [["render", _sfc_render$4r], ["__scopeId", "data-v-9dc605ea"]]);
const __vite_glob_0_4$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: codeEditorWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4r = {
  name: "color-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$12 = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$4q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([_ctx.isReadMode ? "readonly-mode-color" : ""])
      }, [
        createVNode(_component_a_input, {
          style: { "padding": "0", "width": "25px", "height": "25px" },
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          onChange: _ctx.handleChangeEvent,
          type: "color"
        }, null, 8, ["value", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$12, toDisplayString($data.fieldModel), 1)) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const colorWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4r, [["render", _sfc_render$4q], ["__scopeId", "data-v-bc7a87ea"]]);
const __vite_glob_0_5$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: colorWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4q = {
  name: "date-range-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    contentForReadMode() {
      if (!this.fieldModel) {
        return "--";
      } else {
        return this.fieldModel[0] + " - " + this.fieldModel[1];
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$11 = { class: "readonly-mode-field" };
function _sfc_render$4p(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_range_picker = resolveComponent("a-range-picker");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([
          !!$props.field.options.autoFullWidth ? "auto-full-width" : "",
          _ctx.isReadMode ? "readonly-mode-date-range" : ""
        ])
      }, [
        createVNode(_component_a_range_picker, {
          ref: "fieldEditor",
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          class: normalizeClass([!!$props.field.options.autoFullWidth ? "auto-full-width" : ""]),
          disabled: _ctx.handleDisabled(),
          readonly: $props.field.options.readonly,
          allowClear: $props.field.options.allowClear,
          "show-time": $props.field.options.showTime,
          format: $props.field.options.format,
          "value-format": $props.field.options.valueFormat,
          "start-placeholder": $props.field.options.startPlaceholder || _ctx.i18nt("render.hint.startDatePlaceholder"),
          "end-placeholder": $props.field.options.endPlaceholder || _ctx.i18nt("render.hint.endDatePlaceholder"),
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["value", "class", "disabled", "readonly", "allowClear", "show-time", "format", "value-format", "start-placeholder", "end-placeholder", "onFocus", "onBlur", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
          key: 0,
          placement: "topLeft",
          title: $data.fieldModel,
          overlayStyle: { zIndex: 1e3 }
        }, {
          default: withCtx(() => [
            createElementVNode("span", _hoisted_1$11, toDisplayString($options.contentForReadMode), 1)
          ]),
          _: 1
        }, 8, ["title"])) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const dateRangeWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4q, [["render", _sfc_render$4p], ["__scopeId", "data-v-a060361b"]]);
const __vite_glob_0_6$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateRangeWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4p = {
  name: "date-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$10 = { class: "readonly-mode-field" };
function _sfc_render$4o(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_date_picker = resolveComponent("a-date-picker");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([
          !!$props.field.options.autoFullWidth ? "auto-full-width" : "",
          _ctx.isReadMode ? "readonly-mode-date" : ""
        ])
      }, [
        createVNode(_component_a_date_picker, {
          size: $options.size,
          ref: "fieldEditor",
          picker: $props.field.options.type,
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          class: normalizeClass([!!$props.field.options.autoFullWidth ? "auto-full-width" : ""]),
          readonly: $props.field.options.readonly,
          disabled: _ctx.handleDisabled(),
          allowClear: $props.field.options.allowClear,
          "show-time": $props.field.options.showTime,
          format: $props.field.options.format,
          "value-format": $props.field.options.valueFormat,
          placeholder: $props.field.options.placeholder || _ctx.i18nt("render.hint.datePlaceholder"),
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["size", "picker", "value", "class", "readonly", "disabled", "allowClear", "show-time", "format", "value-format", "placeholder", "onFocus", "onBlur", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
          key: 0,
          placement: "topLeft",
          title: $data.fieldModel,
          overlayStyle: { zIndex: 1e3 }
        }, {
          default: withCtx(() => [
            createElementVNode("span", _hoisted_1$10, toDisplayString($data.fieldModel), 1)
          ]),
          _: 1
        }, 8, ["title"])) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const dateWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4p, [["render", _sfc_render$4o], ["__scopeId", "data-v-342bff54"]]);
const __vite_glob_0_7$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4o = {
  name: "divider-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$4n(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_static_content_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_divider, {
        ref: "fieldEditor",
        type: $props.field.options.direction,
        orientation: $props.field.options.contentPosition
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString($props.field.options.label), 1)
        ]),
        _: 1
      }, 8, ["type", "orientation"])
    ]),
    _: 1
  }, 8, ["designer", "field", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const dividerWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4o, [["render", _sfc_render$4n], ["__scopeId", "data-v-68feb2bf"]]);
const __vite_glob_0_8$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dividerWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4n = {
  name: "dropdown-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper
    // DownOutlined
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    handleMenuClick(menuItem) {
      const { onMenuClick } = this.field.options;
      if (onMenuClick) {
        const onMenuClickFn = new Function("menuItem", onMenuClick);
        return onMenuClickFn.call(this, menuItem);
      }
    }
  }
};
function _sfc_render$4m(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_menu_item = resolveComponent("a-menu-item");
  const _component_a_menu = resolveComponent("a-menu");
  const _component_DownOutlined = resolveComponent("DownOutlined");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_dropdown = resolveComponent("a-dropdown");
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_static_content_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "display-style": $props.field.options.displayStyle,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_dropdown, {
        ref: "fieldEditor",
        disabled: _ctx.handleDisabled(),
        placement: $props.field.options.placement
      }, {
        overlay: withCtx(() => [
          createVNode(_component_a_menu, { onClick: $options.handleMenuClick }, {
            default: withCtx(() => [
              (openBlock(true), createElementBlock(Fragment, null, renderList($props.field.options.menuList || [], (item) => {
                return openBlock(), createBlock(_component_a_menu_item, {
                  key: item.value
                }, {
                  default: withCtx(() => [
                    createTextVNode(toDisplayString(item.label), 1)
                  ]),
                  _: 2
                }, 1024);
              }), 128))
            ]),
            _: 1
          }, 8, ["onClick"])
        ]),
        default: withCtx(() => [
          createVNode(_component_a_button, {
            type: $props.field.options.type,
            size: $props.field.options.size,
            class: normalizeClass([$props.field.options.label === "" ? "hide-text-span" : "", "tpf-button"]),
            shape: $props.field.options.shape,
            danger: $props.field.options.danger,
            ghost: $props.field.options.ghost,
            disabled: _ctx.handleDisabled()
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString($props.field.options.label) + " ", 1),
              createVNode(_component_DownOutlined)
            ]),
            _: 1
          }, 8, ["type", "size", "class", "shape", "danger", "ghost", "disabled"])
        ]),
        _: 1
      }, 8, ["disabled", "placement"])
    ]),
    _: 1
  }, 8, ["designer", "field", "design-state", "display-style", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const dropdownWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4n, [["render", _sfc_render$4m], ["__scopeId", "data-v-c3bf543e"]]);
const __vite_glob_0_9$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dropdownWidget
}, Symbol.toStringTag, { value: "Module" }));
var FileSaver_min = { exports: {} };
(function(module, exports) {
  (function(a, b) {
    b();
  })(commonjsGlobal, function() {
    function b(a2, b2) {
      return "undefined" == typeof b2 ? b2 = { autoBom: false } : "object" != typeof b2 && (console.warn("Deprecated: Expected third argument to be a object"), b2 = { autoBom: !b2 }), b2.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a2.type) ? new Blob(["\uFEFF", a2], { type: a2.type }) : a2;
    }
    function c(a2, b2, c2) {
      var d2 = new XMLHttpRequest();
      d2.open("GET", a2), d2.responseType = "blob", d2.onload = function() {
        g(d2.response, b2, c2);
      }, d2.onerror = function() {
        console.error("could not download file");
      }, d2.send();
    }
    function d(a2) {
      var b2 = new XMLHttpRequest();
      b2.open("HEAD", a2, false);
      try {
        b2.send();
      } catch (a3) {
      }
      return 200 <= b2.status && 299 >= b2.status;
    }
    function e2(a2) {
      try {
        a2.dispatchEvent(new MouseEvent("click"));
      } catch (c2) {
        var b2 = document.createEvent("MouseEvents");
        b2.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), a2.dispatchEvent(b2);
      }
    }
    var f = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof commonjsGlobal && commonjsGlobal.global === commonjsGlobal ? commonjsGlobal : void 0, a = f.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent), g = f.saveAs || ("object" != typeof window || window !== f ? function() {
    } : "download" in HTMLAnchorElement.prototype && !a ? function(b2, g2, h2) {
      var i = f.URL || f.webkitURL, j = document.createElement("a");
      g2 = g2 || b2.name || "download", j.download = g2, j.rel = "noopener", "string" == typeof b2 ? (j.href = b2, j.origin === location.origin ? e2(j) : d(j.href) ? c(b2, g2, h2) : e2(j, j.target = "_blank")) : (j.href = i.createObjectURL(b2), setTimeout(function() {
        i.revokeObjectURL(j.href);
      }, 4e4), setTimeout(function() {
        e2(j);
      }, 0));
    } : "msSaveOrOpenBlob" in navigator ? function(f2, g2, h2) {
      if (g2 = g2 || f2.name || "download", "string" != typeof f2)
        navigator.msSaveOrOpenBlob(b(f2, h2), g2);
      else if (d(f2))
        c(f2, g2, h2);
      else {
        var i = document.createElement("a");
        i.href = f2, i.target = "_blank", setTimeout(function() {
          e2(i);
        });
      }
    } : function(b2, d2, e3, g2) {
      if (g2 = g2 || open("", "_blank"), g2 && (g2.document.title = g2.document.body.innerText = "downloading..."), "string" == typeof b2)
        return c(b2, d2, e3);
      var h2 = "application/octet-stream" === b2.type, i = /constructor/i.test(f.HTMLElement) || f.safari, j = /CriOS\/[\d]+/.test(navigator.userAgent);
      if ((j || h2 && i || a) && "undefined" != typeof FileReader) {
        var k = new FileReader();
        k.onloadend = function() {
          var a2 = k.result;
          a2 = j ? a2 : a2.replace(/^data:[^;]*;/, "data:attachment/file;"), g2 ? g2.location.href = a2 : location = a2, g2 = null;
        }, k.readAsDataURL(b2);
      } else {
        var l = f.URL || f.webkitURL, m = l.createObjectURL(b2);
        g2 ? g2.location = m : location.href = m, g2 = null, setTimeout(function() {
          l.revokeObjectURL(m);
        }, 4e4);
      }
    });
    f.saveAs = g.saveAs = g, module.exports = g;
  });
})(FileSaver_min);
var FileSaver_minExports = FileSaver_min.exports;
const useFilesystemApi = () => {
  const http2 = getHttp();
  const tmgc2Filesystem = "/api/tmgc2-filesystem/";
  const downloadFileObjectApi = async (params) => {
    const response = await http2.get(`${tmgc2Filesystem}/fileObject/downloadFileObject`, {
      params,
      responseType: "blob"
    });
    const fileName = window.decodeURI(response.headers["filename"]);
    FileSaver_minExports.saveAs(new Blob([response.data], { type: "application/vnd.ms-excel;" }), fileName);
  };
  return {
    /**
     * 上传文件获取 fileCode
     */
    uploadFileObject: (params) => {
      return http2.postForm(`${tmgc2Filesystem}/fileObject/uploadFileObject`, params, {
        timeout: 6e5
      });
    },
    /**
     * 根据 fileCode下载文件
     */
    downloadFileObject: downloadFileObjectApi,
    /**
     * 下载模版
     */
    downloadTemplateObject: async (params) => {
      const response = await http2.get(`${tmgc2Filesystem}/fileObject/downloadTemplateObject`, {
        params,
        responseType: "blob"
      });
      const fileName = window.decodeURI(response.headers["filename"]);
      FileSaver_minExports.saveAs(new Blob([response.data], { type: "application/vnd.ms-excel;" }), fileName);
    },
    /**
     * 展示文件
     * @param params
     * @returns
     */
    getPreviewFileUrl: (params) => {
      return http2.get(`${tmgc2Filesystem}/fileObject/getPreviewFileUrl`, {
        params
      });
    }
  };
};
function bound01(n, max) {
  if (isOnePointZero(n)) {
    n = "100%";
  }
  var isPercent = isPercentage(n);
  n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));
  if (isPercent) {
    n = parseInt(String(n * max), 10) / 100;
  }
  if (Math.abs(n - max) < 1e-6) {
    return 1;
  }
  if (max === 360) {
    n = (n < 0 ? n % max + max : n % max) / parseFloat(String(max));
  } else {
    n = n % max / parseFloat(String(max));
  }
  return n;
}
function isOnePointZero(n) {
  return typeof n === "string" && n.indexOf(".") !== -1 && parseFloat(n) === 1;
}
function isPercentage(n) {
  return typeof n === "string" && n.indexOf("%") !== -1;
}
function boundAlpha(a) {
  a = parseFloat(a);
  if (isNaN(a) || a < 0 || a > 1) {
    a = 1;
  }
  return a;
}
function convertToPercentage(n) {
  if (n <= 1) {
    return "".concat(Number(n) * 100, "%");
  }
  return n;
}
function pad2(c) {
  return c.length === 1 ? "0" + c : String(c);
}
function rgbToRgb(r, g, b) {
  return {
    r: bound01(r, 255) * 255,
    g: bound01(g, 255) * 255,
    b: bound01(b, 255) * 255
  };
}
function hue2rgb(p, q, t) {
  if (t < 0) {
    t += 1;
  }
  if (t > 1) {
    t -= 1;
  }
  if (t < 1 / 6) {
    return p + (q - p) * (6 * t);
  }
  if (t < 1 / 2) {
    return q;
  }
  if (t < 2 / 3) {
    return p + (q - p) * (2 / 3 - t) * 6;
  }
  return p;
}
function hslToRgb(h2, s, l) {
  var r;
  var g;
  var b;
  h2 = bound01(h2, 360);
  s = bound01(s, 100);
  l = bound01(l, 100);
  if (s === 0) {
    g = l;
    b = l;
    r = l;
  } else {
    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;
    r = hue2rgb(p, q, h2 + 1 / 3);
    g = hue2rgb(p, q, h2);
    b = hue2rgb(p, q, h2 - 1 / 3);
  }
  return { r: r * 255, g: g * 255, b: b * 255 };
}
function rgbToHsv(r, g, b) {
  r = bound01(r, 255);
  g = bound01(g, 255);
  b = bound01(b, 255);
  var max = Math.max(r, g, b);
  var min = Math.min(r, g, b);
  var h2 = 0;
  var v = max;
  var d = max - min;
  var s = max === 0 ? 0 : d / max;
  if (max === min) {
    h2 = 0;
  } else {
    switch (max) {
      case r:
        h2 = (g - b) / d + (g < b ? 6 : 0);
        break;
      case g:
        h2 = (b - r) / d + 2;
        break;
      case b:
        h2 = (r - g) / d + 4;
        break;
    }
    h2 /= 6;
  }
  return { h: h2, s, v };
}
function hsvToRgb(h2, s, v) {
  h2 = bound01(h2, 360) * 6;
  s = bound01(s, 100);
  v = bound01(v, 100);
  var i = Math.floor(h2);
  var f = h2 - i;
  var p = v * (1 - s);
  var q = v * (1 - f * s);
  var t = v * (1 - (1 - f) * s);
  var mod = i % 6;
  var r = [v, q, p, p, t, v][mod];
  var g = [t, v, v, q, p, p][mod];
  var b = [p, p, t, v, v, q][mod];
  return { r: r * 255, g: g * 255, b: b * 255 };
}
function rgbToHex(r, g, b, allow3Char) {
  var hex = [
    pad2(Math.round(r).toString(16)),
    pad2(Math.round(g).toString(16)),
    pad2(Math.round(b).toString(16))
  ];
  if (allow3Char && hex[0].startsWith(hex[0].charAt(1)) && hex[1].startsWith(hex[1].charAt(1)) && hex[2].startsWith(hex[2].charAt(1))) {
    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
  }
  return hex.join("");
}
function convertHexToDecimal(h2) {
  return parseIntFromHex(h2) / 255;
}
function parseIntFromHex(val) {
  return parseInt(val, 16);
}
var names = {
  aliceblue: "#f0f8ff",
  antiquewhite: "#faebd7",
  aqua: "#00ffff",
  aquamarine: "#7fffd4",
  azure: "#f0ffff",
  beige: "#f5f5dc",
  bisque: "#ffe4c4",
  black: "#000000",
  blanchedalmond: "#ffebcd",
  blue: "#0000ff",
  blueviolet: "#8a2be2",
  brown: "#a52a2a",
  burlywood: "#deb887",
  cadetblue: "#5f9ea0",
  chartreuse: "#7fff00",
  chocolate: "#d2691e",
  coral: "#ff7f50",
  cornflowerblue: "#6495ed",
  cornsilk: "#fff8dc",
  crimson: "#dc143c",
  cyan: "#00ffff",
  darkblue: "#00008b",
  darkcyan: "#008b8b",
  darkgoldenrod: "#b8860b",
  darkgray: "#a9a9a9",
  darkgreen: "#006400",
  darkgrey: "#a9a9a9",
  darkkhaki: "#bdb76b",
  darkmagenta: "#8b008b",
  darkolivegreen: "#556b2f",
  darkorange: "#ff8c00",
  darkorchid: "#9932cc",
  darkred: "#8b0000",
  darksalmon: "#e9967a",
  darkseagreen: "#8fbc8f",
  darkslateblue: "#483d8b",
  darkslategray: "#2f4f4f",
  darkslategrey: "#2f4f4f",
  darkturquoise: "#00ced1",
  darkviolet: "#9400d3",
  deeppink: "#ff1493",
  deepskyblue: "#00bfff",
  dimgray: "#696969",
  dimgrey: "#696969",
  dodgerblue: "#1e90ff",
  firebrick: "#b22222",
  floralwhite: "#fffaf0",
  forestgreen: "#228b22",
  fuchsia: "#ff00ff",
  gainsboro: "#dcdcdc",
  ghostwhite: "#f8f8ff",
  goldenrod: "#daa520",
  gold: "#ffd700",
  gray: "#808080",
  green: "#008000",
  greenyellow: "#adff2f",
  grey: "#808080",
  honeydew: "#f0fff0",
  hotpink: "#ff69b4",
  indianred: "#cd5c5c",
  indigo: "#4b0082",
  ivory: "#fffff0",
  khaki: "#f0e68c",
  lavenderblush: "#fff0f5",
  lavender: "#e6e6fa",
  lawngreen: "#7cfc00",
  lemonchiffon: "#fffacd",
  lightblue: "#add8e6",
  lightcoral: "#f08080",
  lightcyan: "#e0ffff",
  lightgoldenrodyellow: "#fafad2",
  lightgray: "#d3d3d3",
  lightgreen: "#90ee90",
  lightgrey: "#d3d3d3",
  lightpink: "#ffb6c1",
  lightsalmon: "#ffa07a",
  lightseagreen: "#20b2aa",
  lightskyblue: "#87cefa",
  lightslategray: "#778899",
  lightslategrey: "#778899",
  lightsteelblue: "#b0c4de",
  lightyellow: "#ffffe0",
  lime: "#00ff00",
  limegreen: "#32cd32",
  linen: "#faf0e6",
  magenta: "#ff00ff",
  maroon: "#800000",
  mediumaquamarine: "#66cdaa",
  mediumblue: "#0000cd",
  mediumorchid: "#ba55d3",
  mediumpurple: "#9370db",
  mediumseagreen: "#3cb371",
  mediumslateblue: "#7b68ee",
  mediumspringgreen: "#00fa9a",
  mediumturquoise: "#48d1cc",
  mediumvioletred: "#c71585",
  midnightblue: "#191970",
  mintcream: "#f5fffa",
  mistyrose: "#ffe4e1",
  moccasin: "#ffe4b5",
  navajowhite: "#ffdead",
  navy: "#000080",
  oldlace: "#fdf5e6",
  olive: "#808000",
  olivedrab: "#6b8e23",
  orange: "#ffa500",
  orangered: "#ff4500",
  orchid: "#da70d6",
  palegoldenrod: "#eee8aa",
  palegreen: "#98fb98",
  paleturquoise: "#afeeee",
  palevioletred: "#db7093",
  papayawhip: "#ffefd5",
  peachpuff: "#ffdab9",
  peru: "#cd853f",
  pink: "#ffc0cb",
  plum: "#dda0dd",
  powderblue: "#b0e0e6",
  purple: "#800080",
  rebeccapurple: "#663399",
  red: "#ff0000",
  rosybrown: "#bc8f8f",
  royalblue: "#4169e1",
  saddlebrown: "#8b4513",
  salmon: "#fa8072",
  sandybrown: "#f4a460",
  seagreen: "#2e8b57",
  seashell: "#fff5ee",
  sienna: "#a0522d",
  silver: "#c0c0c0",
  skyblue: "#87ceeb",
  slateblue: "#6a5acd",
  slategray: "#708090",
  slategrey: "#708090",
  snow: "#fffafa",
  springgreen: "#00ff7f",
  steelblue: "#4682b4",
  tan: "#d2b48c",
  teal: "#008080",
  thistle: "#d8bfd8",
  tomato: "#ff6347",
  turquoise: "#40e0d0",
  violet: "#ee82ee",
  wheat: "#f5deb3",
  white: "#ffffff",
  whitesmoke: "#f5f5f5",
  yellow: "#ffff00",
  yellowgreen: "#9acd32"
};
function inputToRGB(color2) {
  var rgb = { r: 0, g: 0, b: 0 };
  var a = 1;
  var s = null;
  var v = null;
  var l = null;
  var ok = false;
  var format2 = false;
  if (typeof color2 === "string") {
    color2 = stringInputToObject(color2);
  }
  if (typeof color2 === "object") {
    if (isValidCSSUnit(color2.r) && isValidCSSUnit(color2.g) && isValidCSSUnit(color2.b)) {
      rgb = rgbToRgb(color2.r, color2.g, color2.b);
      ok = true;
      format2 = String(color2.r).substr(-1) === "%" ? "prgb" : "rgb";
    } else if (isValidCSSUnit(color2.h) && isValidCSSUnit(color2.s) && isValidCSSUnit(color2.v)) {
      s = convertToPercentage(color2.s);
      v = convertToPercentage(color2.v);
      rgb = hsvToRgb(color2.h, s, v);
      ok = true;
      format2 = "hsv";
    } else if (isValidCSSUnit(color2.h) && isValidCSSUnit(color2.s) && isValidCSSUnit(color2.l)) {
      s = convertToPercentage(color2.s);
      l = convertToPercentage(color2.l);
      rgb = hslToRgb(color2.h, s, l);
      ok = true;
      format2 = "hsl";
    }
    if (Object.prototype.hasOwnProperty.call(color2, "a")) {
      a = color2.a;
    }
  }
  a = boundAlpha(a);
  return {
    ok,
    format: color2.format || format2,
    r: Math.min(255, Math.max(rgb.r, 0)),
    g: Math.min(255, Math.max(rgb.g, 0)),
    b: Math.min(255, Math.max(rgb.b, 0)),
    a
  };
}
var CSS_INTEGER = "[-\\+]?\\d+%?";
var CSS_NUMBER = "[-\\+]?\\d*\\.\\d+%?";
var CSS_UNIT = "(?:".concat(CSS_NUMBER, ")|(?:").concat(CSS_INTEGER, ")");
var PERMISSIVE_MATCH3 = "[\\s|\\(]+(".concat(CSS_UNIT, ")[,|\\s]+(").concat(CSS_UNIT, ")[,|\\s]+(").concat(CSS_UNIT, ")\\s*\\)?");
var PERMISSIVE_MATCH4 = "[\\s|\\(]+(".concat(CSS_UNIT, ")[,|\\s]+(").concat(CSS_UNIT, ")[,|\\s]+(").concat(CSS_UNIT, ")[,|\\s]+(").concat(CSS_UNIT, ")\\s*\\)?");
var matchers = {
  CSS_UNIT: new RegExp(CSS_UNIT),
  rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),
  rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),
  hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),
  hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),
  hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),
  hsva: new RegExp("hsva" + PERMISSIVE_MATCH4),
  hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
  hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
  hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
  hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
};
function stringInputToObject(color2) {
  color2 = color2.trim().toLowerCase();
  if (color2.length === 0) {
    return false;
  }
  var named = false;
  if (names[color2]) {
    color2 = names[color2];
    named = true;
  } else if (color2 === "transparent") {
    return { r: 0, g: 0, b: 0, a: 0, format: "name" };
  }
  var match = matchers.rgb.exec(color2);
  if (match) {
    return { r: match[1], g: match[2], b: match[3] };
  }
  match = matchers.rgba.exec(color2);
  if (match) {
    return { r: match[1], g: match[2], b: match[3], a: match[4] };
  }
  match = matchers.hsl.exec(color2);
  if (match) {
    return { h: match[1], s: match[2], l: match[3] };
  }
  match = matchers.hsla.exec(color2);
  if (match) {
    return { h: match[1], s: match[2], l: match[3], a: match[4] };
  }
  match = matchers.hsv.exec(color2);
  if (match) {
    return { h: match[1], s: match[2], v: match[3] };
  }
  match = matchers.hsva.exec(color2);
  if (match) {
    return { h: match[1], s: match[2], v: match[3], a: match[4] };
  }
  match = matchers.hex8.exec(color2);
  if (match) {
    return {
      r: parseIntFromHex(match[1]),
      g: parseIntFromHex(match[2]),
      b: parseIntFromHex(match[3]),
      a: convertHexToDecimal(match[4]),
      format: named ? "name" : "hex8"
    };
  }
  match = matchers.hex6.exec(color2);
  if (match) {
    return {
      r: parseIntFromHex(match[1]),
      g: parseIntFromHex(match[2]),
      b: parseIntFromHex(match[3]),
      format: named ? "name" : "hex"
    };
  }
  match = matchers.hex4.exec(color2);
  if (match) {
    return {
      r: parseIntFromHex(match[1] + match[1]),
      g: parseIntFromHex(match[2] + match[2]),
      b: parseIntFromHex(match[3] + match[3]),
      a: convertHexToDecimal(match[4] + match[4]),
      format: named ? "name" : "hex8"
    };
  }
  match = matchers.hex3.exec(color2);
  if (match) {
    return {
      r: parseIntFromHex(match[1] + match[1]),
      g: parseIntFromHex(match[2] + match[2]),
      b: parseIntFromHex(match[3] + match[3]),
      format: named ? "name" : "hex"
    };
  }
  return false;
}
function isValidCSSUnit(color2) {
  return Boolean(matchers.CSS_UNIT.exec(String(color2)));
}
var hueStep = 2;
var saturationStep = 0.16;
var saturationStep2 = 0.05;
var brightnessStep1 = 0.05;
var brightnessStep2 = 0.15;
var lightColorCount = 5;
var darkColorCount = 4;
var darkColorMap = [{
  index: 7,
  opacity: 0.15
}, {
  index: 6,
  opacity: 0.25
}, {
  index: 5,
  opacity: 0.3
}, {
  index: 5,
  opacity: 0.45
}, {
  index: 5,
  opacity: 0.65
}, {
  index: 5,
  opacity: 0.85
}, {
  index: 4,
  opacity: 0.9
}, {
  index: 3,
  opacity: 0.95
}, {
  index: 2,
  opacity: 0.97
}, {
  index: 1,
  opacity: 0.98
}];
function toHsv(_ref) {
  var r = _ref.r, g = _ref.g, b = _ref.b;
  var hsv = rgbToHsv(r, g, b);
  return {
    h: hsv.h * 360,
    s: hsv.s,
    v: hsv.v
  };
}
function toHex(_ref2) {
  var r = _ref2.r, g = _ref2.g, b = _ref2.b;
  return "#".concat(rgbToHex(r, g, b, false));
}
function mix(rgb1, rgb2, amount) {
  var p = amount / 100;
  var rgb = {
    r: (rgb2.r - rgb1.r) * p + rgb1.r,
    g: (rgb2.g - rgb1.g) * p + rgb1.g,
    b: (rgb2.b - rgb1.b) * p + rgb1.b
  };
  return rgb;
}
function getHue(hsv, i, light) {
  var hue;
  if (Math.round(hsv.h) >= 60 && Math.round(hsv.h) <= 240) {
    hue = light ? Math.round(hsv.h) - hueStep * i : Math.round(hsv.h) + hueStep * i;
  } else {
    hue = light ? Math.round(hsv.h) + hueStep * i : Math.round(hsv.h) - hueStep * i;
  }
  if (hue < 0) {
    hue += 360;
  } else if (hue >= 360) {
    hue -= 360;
  }
  return hue;
}
function getSaturation(hsv, i, light) {
  if (hsv.h === 0 && hsv.s === 0) {
    return hsv.s;
  }
  var saturation;
  if (light) {
    saturation = hsv.s - saturationStep * i;
  } else if (i === darkColorCount) {
    saturation = hsv.s + saturationStep;
  } else {
    saturation = hsv.s + saturationStep2 * i;
  }
  if (saturation > 1) {
    saturation = 1;
  }
  if (light && i === lightColorCount && saturation > 0.1) {
    saturation = 0.1;
  }
  if (saturation < 0.06) {
    saturation = 0.06;
  }
  return Number(saturation.toFixed(2));
}
function getValue(hsv, i, light) {
  var value2;
  if (light) {
    value2 = hsv.v + brightnessStep1 * i;
  } else {
    value2 = hsv.v - brightnessStep2 * i;
  }
  if (value2 > 1) {
    value2 = 1;
  }
  return Number(value2.toFixed(2));
}
function generate$1(color2) {
  var opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  var patterns = [];
  var pColor = inputToRGB(color2);
  for (var i = lightColorCount; i > 0; i -= 1) {
    var hsv = toHsv(pColor);
    var colorString = toHex(inputToRGB({
      h: getHue(hsv, i, true),
      s: getSaturation(hsv, i, true),
      v: getValue(hsv, i, true)
    }));
    patterns.push(colorString);
  }
  patterns.push(toHex(pColor));
  for (var _i = 1; _i <= darkColorCount; _i += 1) {
    var _hsv = toHsv(pColor);
    var _colorString = toHex(inputToRGB({
      h: getHue(_hsv, _i),
      s: getSaturation(_hsv, _i),
      v: getValue(_hsv, _i)
    }));
    patterns.push(_colorString);
  }
  if (opts.theme === "dark") {
    return darkColorMap.map(function(_ref3) {
      var index2 = _ref3.index, opacity = _ref3.opacity;
      var darkColorString = toHex(mix(inputToRGB(opts.backgroundColor || "#141414"), inputToRGB(patterns[index2]), opacity * 100));
      return darkColorString;
    });
  }
  return patterns;
}
var presetPrimaryColors = {
  red: "#F5222D",
  volcano: "#FA541C",
  orange: "#FA8C16",
  gold: "#FAAD14",
  yellow: "#FADB14",
  lime: "#A0D911",
  green: "#52C41A",
  cyan: "#13C2C2",
  blue: "#1890FF",
  geekblue: "#2F54EB",
  purple: "#722ED1",
  magenta: "#EB2F96",
  grey: "#666666"
};
var presetPalettes = {};
var presetDarkPalettes = {};
Object.keys(presetPrimaryColors).forEach(function(key) {
  presetPalettes[key] = generate$1(presetPrimaryColors[key]);
  presetPalettes[key].primary = presetPalettes[key][5];
  presetDarkPalettes[key] = generate$1(presetPrimaryColors[key], {
    theme: "dark",
    backgroundColor: "#141414"
  });
  presetDarkPalettes[key].primary = presetDarkPalettes[key][5];
});
var containers = [];
var styleElements = [];
var usage = "insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";
function createStyleElement() {
  var styleElement = document.createElement("style");
  styleElement.setAttribute("type", "text/css");
  return styleElement;
}
function insertCss(css2, options) {
  options = options || {};
  if (css2 === void 0) {
    throw new Error(usage);
  }
  var position = options.prepend === true ? "prepend" : "append";
  var container = options.container !== void 0 ? options.container : document.querySelector("head");
  var containerId = containers.indexOf(container);
  if (containerId === -1) {
    containerId = containers.push(container) - 1;
    styleElements[containerId] = {};
  }
  var styleElement;
  if (styleElements[containerId] !== void 0 && styleElements[containerId][position] !== void 0) {
    styleElement = styleElements[containerId][position];
  } else {
    styleElement = styleElements[containerId][position] = createStyleElement();
    if (position === "prepend") {
      container.insertBefore(styleElement, container.childNodes[0]);
    } else {
      container.appendChild(styleElement);
    }
  }
  if (css2.charCodeAt(0) === 65279) {
    css2 = css2.substr(1, css2.length);
  }
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText += css2;
  } else {
    styleElement.textContent += css2;
  }
  return styleElement;
}
function _objectSpread$5(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$6(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$6(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
function warn(valid, message2) {
  if (process.env.NODE_ENV !== "production" && !valid && console !== void 0) {
    console.error("Warning: ".concat(message2));
  }
}
function warning(valid, message2) {
  warn(valid, "[@ant-design/icons-vue] ".concat(message2));
}
function isIconDefinition(target) {
  return typeof target === "object" && typeof target.name === "string" && typeof target.theme === "string" && (typeof target.icon === "object" || typeof target.icon === "function");
}
function generate(node2, key, rootProps) {
  if (!rootProps) {
    return h(node2.tag, _objectSpread$5({
      key
    }, node2.attrs), (node2.children || []).map(function(child, index2) {
      return generate(child, "".concat(key, "-").concat(node2.tag, "-").concat(index2));
    }));
  }
  return h(node2.tag, _objectSpread$5({
    key
  }, rootProps, node2.attrs), (node2.children || []).map(function(child, index2) {
    return generate(child, "".concat(key, "-").concat(node2.tag, "-").concat(index2));
  }));
}
function getSecondaryColor(primaryColor) {
  return generate$1(primaryColor)[0];
}
function normalizeTwoToneColors(twoToneColor) {
  if (!twoToneColor) {
    return [];
  }
  return Array.isArray(twoToneColor) ? twoToneColor : [twoToneColor];
}
var iconStyles = "\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";
var cssInjectedFlag = false;
var useInsertStyles = function useInsertStyles2() {
  var styleStr = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : iconStyles;
  nextTick(function() {
    if (!cssInjectedFlag) {
      if (typeof window !== "undefined" && window.document && window.document.documentElement) {
        insertCss(styleStr, {
          prepend: true
        });
      }
      cssInjectedFlag = true;
    }
  });
};
var _excluded$2 = ["icon", "primaryColor", "secondaryColor"];
function _objectWithoutProperties$2(source, excluded) {
  if (source == null)
    return {};
  var target = _objectWithoutPropertiesLoose$2(source, excluded);
  var key, i;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0)
        continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key))
        continue;
      target[key] = source[key];
    }
  }
  return target;
}
function _objectWithoutPropertiesLoose$2(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
function _objectSpread$4(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$5(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$5(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
var twoToneColorPalette = {
  primaryColor: "#333",
  secondaryColor: "#E6E6E6",
  calculated: false
};
function setTwoToneColors(_ref) {
  var primaryColor = _ref.primaryColor, secondaryColor = _ref.secondaryColor;
  twoToneColorPalette.primaryColor = primaryColor;
  twoToneColorPalette.secondaryColor = secondaryColor || getSecondaryColor(primaryColor);
  twoToneColorPalette.calculated = !!secondaryColor;
}
function getTwoToneColors() {
  return _objectSpread$4({}, twoToneColorPalette);
}
var IconBase = function IconBase2(props, context) {
  var _props$context$attrs = _objectSpread$4({}, props, context.attrs), icon = _props$context$attrs.icon, primaryColor = _props$context$attrs.primaryColor, secondaryColor = _props$context$attrs.secondaryColor, restProps = _objectWithoutProperties$2(_props$context$attrs, _excluded$2);
  var colors = twoToneColorPalette;
  if (primaryColor) {
    colors = {
      primaryColor,
      secondaryColor: secondaryColor || getSecondaryColor(primaryColor)
    };
  }
  useInsertStyles();
  warning(isIconDefinition(icon), "icon should be icon definiton, but got ".concat(icon));
  if (!isIconDefinition(icon)) {
    return null;
  }
  var target = icon;
  if (target && typeof target.icon === "function") {
    target = _objectSpread$4({}, target, {
      icon: target.icon(colors.primaryColor, colors.secondaryColor)
    });
  }
  return generate(target.icon, "svg-".concat(target.name), _objectSpread$4({}, restProps, {
    "data-icon": target.name,
    width: "1em",
    height: "1em",
    fill: "currentColor",
    "aria-hidden": "true"
  }));
};
IconBase.props = {
  icon: Object,
  primaryColor: String,
  secondaryColor: String,
  focusable: String
};
IconBase.inheritAttrs = false;
IconBase.displayName = "IconBase";
IconBase.getTwoToneColors = getTwoToneColors;
IconBase.setTwoToneColors = setTwoToneColors;
const VueIcon = IconBase;
function _slicedToArray$1(arr, i) {
  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest$1();
}
function _nonIterableRest$1() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _unsupportedIterableToArray$1(o, minLen) {
  if (!o)
    return;
  if (typeof o === "string")
    return _arrayLikeToArray$1(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor)
    n = o.constructor.name;
  if (n === "Map" || n === "Set")
    return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray$1(o, minLen);
}
function _arrayLikeToArray$1(arr, len) {
  if (len == null || len > arr.length)
    len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
function _iterableToArrayLimit$1(arr, i) {
  var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
  if (_i == null)
    return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _s, _e;
  try {
    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);
      if (i && _arr.length === i)
        break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null)
        _i["return"]();
    } finally {
      if (_d)
        throw _e;
    }
  }
  return _arr;
}
function _arrayWithHoles$1(arr) {
  if (Array.isArray(arr))
    return arr;
}
function setTwoToneColor(twoToneColor) {
  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor), _normalizeTwoToneColo2 = _slicedToArray$1(_normalizeTwoToneColo, 2), primaryColor = _normalizeTwoToneColo2[0], secondaryColor = _normalizeTwoToneColo2[1];
  return VueIcon.setTwoToneColors({
    primaryColor,
    secondaryColor
  });
}
function getTwoToneColor() {
  var colors = VueIcon.getTwoToneColors();
  if (!colors.calculated) {
    return colors.primaryColor;
  }
  return [colors.primaryColor, colors.secondaryColor];
}
var _excluded$1 = ["class", "icon", "spin", "rotate", "tabindex", "twoToneColor", "onClick"];
function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
}
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o)
    return;
  if (typeof o === "string")
    return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor)
    n = o.constructor.name;
  if (n === "Map" || n === "Set")
    return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
    return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length)
    len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
function _iterableToArrayLimit(arr, i) {
  var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
  if (_i == null)
    return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _s, _e;
  try {
    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);
      if (i && _arr.length === i)
        break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null)
        _i["return"]();
    } finally {
      if (_d)
        throw _e;
    }
  }
  return _arr;
}
function _arrayWithHoles(arr) {
  if (Array.isArray(arr))
    return arr;
}
function _objectSpread$3(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$4(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$4(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
function _objectWithoutProperties$1(source, excluded) {
  if (source == null)
    return {};
  var target = _objectWithoutPropertiesLoose$1(source, excluded);
  var key, i;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0)
        continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key))
        continue;
      target[key] = source[key];
    }
  }
  return target;
}
function _objectWithoutPropertiesLoose$1(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
setTwoToneColor("#1890ff");
var Icon = function Icon2(props, context) {
  var _classObj;
  var _props$context$attrs = _objectSpread$3({}, props, context.attrs), cls = _props$context$attrs["class"], icon = _props$context$attrs.icon, spin = _props$context$attrs.spin, rotate2 = _props$context$attrs.rotate, tabindex = _props$context$attrs.tabindex, twoToneColor = _props$context$attrs.twoToneColor, onClick = _props$context$attrs.onClick, restProps = _objectWithoutProperties$1(_props$context$attrs, _excluded$1);
  var classObj = (_classObj = {
    anticon: true
  }, _defineProperty$4(_classObj, "anticon-".concat(icon.name), Boolean(icon.name)), _defineProperty$4(_classObj, cls, cls), _classObj);
  var svgClassString = spin === "" || !!spin || icon.name === "loading" ? "anticon-spin" : "";
  var iconTabIndex = tabindex;
  if (iconTabIndex === void 0 && onClick) {
    iconTabIndex = -1;
    restProps.tabindex = iconTabIndex;
  }
  var svgStyle = rotate2 ? {
    msTransform: "rotate(".concat(rotate2, "deg)"),
    transform: "rotate(".concat(rotate2, "deg)")
  } : void 0;
  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor), _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2), primaryColor = _normalizeTwoToneColo2[0], secondaryColor = _normalizeTwoToneColo2[1];
  return createVNode("span", _objectSpread$3({
    "role": "img",
    "aria-label": icon.name
  }, restProps, {
    "onClick": onClick,
    "class": classObj
  }), [createVNode(VueIcon, {
    "class": svgClassString,
    "icon": icon,
    "primaryColor": primaryColor,
    "secondaryColor": secondaryColor,
    "style": svgStyle
  }, null)]);
};
Icon.props = {
  spin: Boolean,
  rotate: Number,
  icon: Object,
  twoToneColor: String
};
Icon.displayName = "AntdIcon";
Icon.inheritAttrs = false;
Icon.getTwoToneColor = getTwoToneColor;
Icon.setTwoToneColor = setTwoToneColor;
const AntdIcon = Icon;
var DownOutlined$2 = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" } }] }, "name": "down", "theme": "outlined" };
const DownOutlinedSvg = DownOutlined$2;
function _objectSpread$2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$3(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$3(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
var DownOutlined = function DownOutlined2(props, context) {
  var p = _objectSpread$2({}, props, context.attrs);
  return createVNode(AntdIcon, _objectSpread$2({}, p, {
    "icon": DownOutlinedSvg
  }), null);
};
DownOutlined.displayName = "DownOutlined";
DownOutlined.inheritAttrs = false;
const DownOutlined$1 = DownOutlined;
var PaperClipOutlined$2 = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" } }] }, "name": "paper-clip", "theme": "outlined" };
const PaperClipOutlinedSvg = PaperClipOutlined$2;
function _objectSpread$1(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$2(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$2(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
var PaperClipOutlined = function PaperClipOutlined2(props, context) {
  var p = _objectSpread$1({}, props, context.attrs);
  return createVNode(AntdIcon, _objectSpread$1({}, p, {
    "icon": PaperClipOutlinedSvg
  }), null);
};
PaperClipOutlined.displayName = "PaperClipOutlined";
PaperClipOutlined.inheritAttrs = false;
const PaperClipOutlined$1 = PaperClipOutlined;
var UserOutlined$2 = { "icon": { "tag": "svg", "attrs": { "viewBox": "64 64 896 896", "focusable": "false" }, "children": [{ "tag": "path", "attrs": { "d": "M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z" } }] }, "name": "user", "theme": "outlined" };
const UserOutlinedSvg = UserOutlined$2;
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys2 = Object.keys(source);
    if (typeof Object.getOwnPropertySymbols === "function") {
      ownKeys2 = ownKeys2.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }
    ownKeys2.forEach(function(key) {
      _defineProperty$1(target, key, source[key]);
    });
  }
  return target;
}
function _defineProperty$1(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value2;
  }
  return obj;
}
var UserOutlined = function UserOutlined2(props, context) {
  var p = _objectSpread({}, props, context.attrs);
  return createVNode(AntdIcon, _objectSpread({}, p, {
    "icon": UserOutlinedSvg
  }), null);
};
UserOutlined.displayName = "UserOutlined";
UserOutlined.inheritAttrs = false;
const UserOutlined$1 = UserOutlined;
const filesystemApi = useFilesystemApi();
const _sfc_main$4m = {
  name: "file-upload-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    SvgIcon,
    FormItemWrapper
  },
  data() {
    return {
      loading: false,
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: [],
      rules: [],
      fileList: []
      //上传文件列表
    };
  },
  computed: {
    descCol() {
      const {
        accept,
        maxSize
      } = this.field.options;
      const acceptList = (accept || []).join(",");
      return [acceptList.length ? `支持扩展名${acceptList}` : "", maxSize ? `支持文件大小${maxSize}M` : ""].filter(Boolean);
    }
    // uploadBtnHidden() {
    //   return !this.fileList || this.fileList.length >= this.field.options.limit;
    // }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    iconRender({
      file
    }) {
      const fieldTypes = file.fileName.slice(file.fileName.lastIndexOf("."));
      if ([".xls", ".xlsx"].includes(fieldTypes.toLowerCase())) {
        return createVNode(SvgIcon, {
          "icon-class": "excel"
        }, null);
      }
      if ([".doc", ".docx"].includes(fieldTypes.toLowerCase())) {
        return createVNode(SvgIcon, {
          "icon-class": "word"
        }, null);
      }
      if ([".pdf"].includes(fieldTypes.toLowerCase())) {
        return createVNode(SvgIcon, {
          "icon-class": "pdf"
        }, null);
      }
      return createVNode(PaperClipOutlined$1, null, null);
    },
    onPreview(file) {
      filesystemApi.downloadFileObject({
        fileCode: file.fileCode
      });
    },
    handleOnBeforeUpload(file) {
      if (!!this.field.options.onBeforeUpload) {
        const bfFunc = new Function("file", this.field.options.onBeforeUpload);
        const result2 = bfFunc.call(this, file);
        if (typeof result2 === "boolean") {
          return result2;
        } else {
          return true;
        }
      }
      return true;
    },
    removeFile(file) {
      const findInx = this.fileList.findIndex((item) => item.uid === file.uid);
      this.fileList.splice(findInx, 1);
      this.handleChangeEvent(this.fileList);
    },
    async customRequest(upload) {
      const {
        accept,
        maxSize,
        limit,
        businessType,
        multiple
      } = this.field.options;
      const fileName = upload.file.name;
      const fieldTypesArr = accept.map((item) => item.toLowerCase());
      const fieldTypes = fileName.slice(fileName.lastIndexOf("."));
      const {
        message: message2
      } = await import("ant-design-vue");
      if (!fieldTypesArr.includes(fieldTypes.toLowerCase())) {
        return message2.error(`目前仅支持${accept}格式的文件`);
      }
      if (maxSize && upload.file.size > maxSize * 1024 * 1024) {
        message2.error(`文件大小不能超过${maxSize}M`);
        return;
      }
      if (limit && this.fileList.length >= limit) {
        message2.error("超出限制上传文件数");
        return;
      }
      const flag = this.handleOnBeforeUpload(upload);
      if (!flag)
        return;
      this.loading = true;
      try {
        const res = await filesystemApi.uploadFileObject({
          businessType,
          file: upload.file
        });
        const {
          fileName: name2
        } = res.data.object;
        if (limit > 1) {
          const findIndex2 = this.fileList.findIndex((item) => item.name === name2);
          if (findIndex2 > -1) {
            this.fileList.splice(findIndex2, 1);
          }
          if (this.fileList.length < limit) {
            this.fileList.push({
              ...res.data.object,
              name: name2
            });
          }
        } else {
          this.fileList = [{
            ...res.data.object,
            name: name2
          }];
        }
      } finally {
        this.handleChangeEvent(this.fileList);
        this.loading = false;
      }
    }
  }
};
const _hoisted_1$$ = {
  gutter: 20,
  style: { "flex-flow": "unset", "flex-direction": "column" }
};
const _hoisted_2$z = { key: 0 };
const _hoisted_3$q = { key: 1 };
function _sfc_render$4l(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_SvgIcon = resolveComponent("SvgIcon");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_upload = resolveComponent("a-upload");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_upload, {
        ref: "fieldEditor",
        disabled: _ctx.handleDisabled() || _ctx.isReadMode,
        class: normalizeClass(["dynamicPseudoAfter", ["tpf-upload", { isReadonly: _ctx.isReadMode }]]),
        multiple: $props.field.options.multiple,
        accept: $props.field.options.accept.join(","),
        "file-list": $data.fileList,
        customRequest: $options.customRequest,
        iconRender: $options.iconRender,
        onPreview: $options.onPreview,
        onRemove: $options.removeFile
      }, {
        default: withCtx(() => [
          createVNode(_component_a_space, {
            size: 10,
            align: "start"
          }, {
            default: withCtx(() => [
              createVNode(_component_a_button, {
                loading: $data.loading,
                class: "tpf-button",
                type: "primary",
                disabled: _ctx.handleDisabled()
              }, {
                default: withCtx(() => [
                  createVNode(_component_SvgIcon, { "icon-class": "daochu" }),
                  createTextVNode(" 上传文件 ")
                ]),
                _: 1
              }, 8, ["loading", "disabled"]),
              createElementVNode("div", _hoisted_1$$, [
                (openBlock(true), createElementBlock(Fragment, null, renderList($options.descCol, (item, inx) => {
                  return openBlock(), createElementBlock("div", { key: inx }, [
                    $options.descCol.length > 1 ? (openBlock(), createElementBlock("span", _hoisted_2$z, toDisplayString(inx + 1) + "、" + toDisplayString(item), 1)) : (openBlock(), createElementBlock("span", _hoisted_3$q, toDisplayString(item), 1))
                  ]);
                }), 128))
              ])
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["disabled", "class", "multiple", "accept", "file-list", "customRequest", "iconRender", "onPreview", "onRemove"])
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const fileUploadWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4m, [["render", _sfc_render$4l], ["__scopeId", "data-v-cc08a015"]]);
const __vite_glob_0_10$3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: fileUploadWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4l = {
  name: "html-text-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$_ = ["innerHTML"];
function _sfc_render$4k(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_static_content_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        ref: "fieldEditor",
        innerHTML: $props.field.options.htmlContent
      }, null, 8, _hoisted_1$_)
    ]),
    _: 1
  }, 8, ["designer", "field", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const htmlTextWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4l, [["render", _sfc_render$4k], ["__scopeId", "data-v-358286fd"]]);
const __vite_glob_0_12$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: htmlTextWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4k = {
  name: "input-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper,
    SvgIcon
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    inputType() {
      if (this.field.options.type === "number") {
        return "text";
      }
      return this.field.options.type;
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$Z = { class: "readonly-mode-field" };
function _sfc_render$4j(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_input, {
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        disabled: _ctx.handleDisabled(),
        readonly: $props.field.options.readonly,
        size: $options.size,
        class: "hide-spin-button",
        type: $options.inputType,
        "show-password": $props.field.options.showPassword,
        placeholder: $props.field.options.placeholder,
        allowClear: $props.field.options.allowClear,
        maxlength: $props.field.options.maxLength,
        showCount: $props.field.options.showCount,
        addonBefore: $props.field.options.addonBefore,
        addonAfter: $props.field.options.addonAfter,
        onFocus: _ctx.handleFocusCustomEvent,
        onBlur: _ctx.handleBlurCustomEvent,
        onInput: _ctx.handleInputCustomEvent,
        onChange: _ctx.handleChangeEvent
      }, createSlots({ _: 2 }, [
        $props.field.options.appendButton ? {
          name: "append",
          fn: withCtx(() => [
            createVNode(_component_a_button, {
              disabled: _ctx.handleDisabled() || $props.field.options.appendButtonDisabled,
              onClick: _ctx.emitAppendButtonClick
            }, {
              default: withCtx(() => [
                createVNode(_component_svg_icon, {
                  "icon-class": $props.field.options.buttonIcon
                }, null, 8, ["icon-class"])
              ]),
              _: 1
            }, 8, ["disabled", "onClick"])
          ]),
          key: "0"
        } : void 0
      ]), 1032, ["value", "disabled", "readonly", "size", "type", "show-password", "placeholder", "allowClear", "maxlength", "showCount", "addonBefore", "addonAfter", "onFocus", "onBlur", "onInput", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
        key: 0,
        placement: "topLeft",
        title: $data.fieldModel,
        overlayStyle: { zIndex: 1e3 }
      }, {
        default: withCtx(() => [
          createElementVNode("span", _hoisted_1$Z, toDisplayString($data.fieldModel), 1)
        ]),
        _: 1
      }, 8, ["title"])) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const inputWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4k, [["render", _sfc_render$4j], ["__scopeId", "data-v-141f5d9c"]]);
const __vite_glob_0_13$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: inputWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4j = {
  name: "number-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$Y = { class: "readonly-mode-field" };
function _sfc_render$4i(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_input_number, {
        ref: "fieldEditor",
        size: $options.size,
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        class: "full-width-input",
        disabled: _ctx.handleDisabled(),
        "controls-position": $props.field.options.controlsPosition,
        placeholder: $props.field.options.placeholder,
        min: $props.field.options.min,
        max: $props.field.options.max,
        precision: $props.field.options.precision,
        step: $props.field.options.step,
        onFocus: _ctx.handleFocusCustomEvent,
        onBlur: _ctx.handleBlurCustomEvent,
        onChange: _ctx.handleChangeEvent
      }, null, 8, ["size", "value", "disabled", "controls-position", "placeholder", "min", "max", "precision", "step", "onFocus", "onBlur", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
        key: 0,
        placement: "topLeft",
        title: $data.fieldModel,
        overlayStyle: { zIndex: 1e3 }
      }, {
        default: withCtx(() => [
          createElementVNode("span", _hoisted_1$Y, toDisplayString($data.fieldModel), 1)
        ]),
        _: 1
      }, 8, ["title"])) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const numberWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4j, [["render", _sfc_render$4i], ["__scopeId", "data-v-a0ea9354"]]);
const __vite_glob_0_14$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: numberWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4i = {
  name: "picture-upload-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper,
    SvgIcon
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: [],
      rules: [],
      uploadHeaders: {},
      uploadData: {
        key: ""
        //七牛云上传文件名
        //token: '',  //七牛云上传token
        //policy: '',  //又拍云上传policy
        //authorization: '',  //又拍云上传签名
      },
      fileList: [],
      //上传文件列表
      fileListBeforeRemove: [],
      //删除前的文件列表
      previewUrl: "",
      showPreviewDialogFlag: false
    };
  },
  computed: {
    realUploadURL() {
      const uploadURL = this.field.options.uploadURL;
      if (!!uploadURL && (uploadURL.indexOf("DSV.") > -1 || uploadURL.indexOf("DSV[") > -1)) {
        this.getGlobalDsv();
        return eval(this.field.options.uploadURL);
      }
      return this.field.options.uploadURL;
    },
    uploadBtnHidden() {
      return !this.fileList || this.fileList.length >= this.field.options.limit;
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    console.log("thjis", this);
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    handlePictureExceed() {
      const uploadLimit = this.field.options.limit;
      this.$message.warning(
        this.i18nt("render.hint.uploadExceed").replace("${uploadLimit}", uploadLimit)
      );
    },
    handlePicturePreview(file) {
      this.previewUrl = file.url;
      this.showPreviewDialogFlag = true;
    },
    beforePictureUpload(file) {
      let fileTypeCheckResult = false;
      if (!!this.field.options && !!this.field.options.fileTypes) {
        const uploadFileTypes = this.field.options.fileTypes;
        if (uploadFileTypes.length > 0) {
          fileTypeCheckResult = uploadFileTypes.some((ft) => {
            return file.type === "image/" + ft;
          });
        }
      }
      if (!fileTypeCheckResult) {
        this.$message.error(this.i18nt("render.hint.unsupportedFileType") + file.type);
        return false;
      }
      let fileSizeCheckResult = false;
      let uploadFileMaxSize = 5;
      if (!!this.field.options && !!this.field.options.fileMaxSize) {
        uploadFileMaxSize = this.field.options.fileMaxSize;
      }
      fileSizeCheckResult = file.size / 1024 / 1024 <= uploadFileMaxSize;
      if (!fileSizeCheckResult) {
        this.$message.error(this.$("render.hint.fileSizeExceed") + uploadFileMaxSize + "MB");
        return false;
      }
      this.uploadData.key = file.name;
      return this.handleOnBeforeUpload(file);
    },
    handleOnBeforeUpload(file) {
      if (!!this.field.options.onBeforeUpload) {
        const bfFunc = new Function("file", this.field.options.onBeforeUpload);
        const result2 = bfFunc.call(this, file);
        if (typeof result2 === "boolean") {
          return result2;
        } else {
          return true;
        }
      }
      return true;
    },
    updateFieldModelAndEmitDataChangeForUpload(fileList, customResult, defaultResult) {
      this.fieldModel = this.fieldModel || [];
      const oldValue = deepClone(this.fieldModel);
      if (!!customResult && !!customResult.name && !!customResult.url) {
        this.fieldModel.push({
          name: customResult.name,
          url: customResult.url
        });
      } else if (!!defaultResult && !!defaultResult.name && !!defaultResult.url) {
        this.fieldModel.push({
          name: defaultResult.name,
          url: defaultResult.url
        });
      } else {
        this.fieldModel = deepClone(fileList);
      }
      this.syncUpdateFormModel(this.fieldModel);
      this.emitFieldDataChange(this.fieldModel, oldValue);
    },
    handlePictureUpload(res, file, fileList) {
      if (file.status === "success") {
        let customResult = null;
        if (!!this.field.options.onUploadSuccess) {
          const customFn = new Function(
            "result",
            "file",
            "fileList",
            this.field.options.onUploadSuccess
          );
          customResult = customFn.call(this, res, file, fileList);
        }
        this.updateFieldModelAndEmitDataChangeForUpload(fileList, customResult, res);
        this.fileList = deepClone(fileList);
      }
    },
    updateFieldModelAndEmitDataChangeForRemove(file, fileList) {
      const oldValue = deepClone(this.fieldModel);
      let foundFileIdx = -1;
      this.fileListBeforeRemove.map((fi, idx) => {
        if (fi.name === file.name && (fi.url === file.url || !!fi.uid && fi.uid === file.uid)) {
          foundFileIdx = idx;
        }
      });
      if (foundFileIdx > -1) {
        this.fieldModel.splice(foundFileIdx, 1);
      }
      this.syncUpdateFormModel(this.fieldModel);
      this.emitFieldDataChange(this.fieldModel, oldValue);
    },
    handleBeforeRemove(file, fileList) {
      this.fileListBeforeRemove = deepClone(fileList);
    },
    handlePictureRemove(file, fileList) {
      this.updateFieldModelAndEmitDataChangeForRemove(file, fileList);
      this.fileList = deepClone(fileList);
      if (!!this.field.options.onFileRemove) {
        const customFn = new Function("file", "fileList", this.field.options.onFileRemove);
        customFn.call(this, file, fileList);
      }
    },
    handleUploadError(err, file, fileList) {
      if (!!this.field.options.onUploadError) {
        const customFn = new Function(
          "error",
          "file",
          "fileList",
          this.field.options.onUploadError
        );
        customFn.call(this, err, file, fileList);
      } else {
        this.$message({
          message: this.i18nt("render.hint.uploadError") + err,
          duration: 3e3,
          type: "error"
        });
      }
    }
  }
};
const _hoisted_1$X = {
  key: 0,
  class: "el-upload__tip"
};
const _hoisted_2$y = { class: "uploader-icon" };
const _hoisted_3$p = ["src"];
function _sfc_render$4h(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_upload = resolveComponent("a-upload");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_upload, {
        ref: "fieldEditor",
        disabled: _ctx.handleDisabled() || _ctx.isReadMode,
        action: $options.realUploadURL,
        headers: $data.uploadHeaders,
        data: $data.uploadData,
        "with-credentials": $props.field.options.withCredentials,
        multiple: $props.field.options.multipleSelect,
        "file-list": $data.fileList,
        "show-file-list": $props.field.options.showFileList,
        "list-type": "picture-card",
        class: normalizeClass({ hideUploadDiv: $options.uploadBtnHidden || _ctx.isReadMode }),
        limit: $props.field.options.limit,
        "on-exceed": $options.handlePictureExceed,
        "on-preview": $options.handlePicturePreview,
        "before-upload": $options.beforePictureUpload,
        "on-success": $options.handlePictureUpload,
        "on-error": $options.handleUploadError,
        "before-remove": $options.handleBeforeRemove,
        "on-remove": $options.handlePictureRemove
      }, {
        tip: withCtx(() => [
          !!$props.field.options.uploadTip ? (openBlock(), createElementBlock("div", _hoisted_1$X, toDisplayString($props.field.options.uploadTip), 1)) : createCommentVNode("", true)
        ]),
        default: withCtx(() => [
          createElementVNode("div", _hoisted_2$y, [
            createVNode(_component_svg_icon, { "icon-class": "el-plus" })
          ])
        ]),
        _: 1
      }, 8, ["disabled", "action", "headers", "data", "with-credentials", "multiple", "file-list", "show-file-list", "class", "limit", "on-exceed", "on-preview", "before-upload", "on-success", "on-error", "before-remove", "on-remove"]),
      createVNode(_component_a_modal, {
        title: "",
        visible: $data.showPreviewDialogFlag,
        "onUpdate:visible": _cache[0] || (_cache[0] = ($event) => $data.showPreviewDialogFlag = $event),
        "append-to-body": "",
        width: "60%",
        "show-close": true,
        "custom-class": "drag-dialog small-padding-dialog",
        "close-on-click-modal": true,
        "close-on-press-escape": true,
        "destroy-on-close": true
      }, {
        default: withCtx(() => [
          createElementVNode("img", {
            src: $data.previewUrl,
            style: { "width": "100%" },
            alt: ""
          }, null, 8, _hoisted_3$p)
        ]),
        _: 1
      }, 8, ["visible"])
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const pictureUploadWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4i, [["render", _sfc_render$4h], ["__scopeId", "data-v-5165908b"]]);
const __vite_glob_0_15$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: pictureUploadWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4h = {
  name: "radio-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      let s = "default";
      if (!!this.field.options && !!this.field.options.size) {
        s = this.field.options.size;
      } else if (!!this.designer) {
        s = this.designer.formConfig.size || "default";
      } else {
        s = this.formConfig.size || "default";
      }
      return s === "middle" ? "default" : s;
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initOptionItems();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$W = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$4g(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio = resolveComponent("a-radio");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_radio_group, {
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        size: $options.size,
        disabled: _ctx.handleDisabled(),
        style: normalizeStyle({ display: $props.field.options.displayStyle + " !important" }),
        onChange: _ctx.handleChangeEvent
      }, {
        default: withCtx(() => [
          !!$props.field.options.buttonStyle ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($props.field.options.optionItems, (item, index2) => {
            return openBlock(), createBlock(_component_a_radio_button, {
              key: index2,
              value: item[$props.field.options.valueKey],
              disabled: item.disabled,
              border: $props.field.options.border,
              style: normalizeStyle({ display: $props.field.options.displayStyle })
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(item[$props.field.options.labelKey]), 1)
              ]),
              _: 2
            }, 1032, ["value", "disabled", "border", "style"]);
          }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList($props.field.options.optionItems, (item, index2) => {
            return openBlock(), createBlock(_component_a_radio, {
              key: index2,
              value: item[$props.field.options.valueKey],
              disabled: item.disabled,
              border: $props.field.options.border,
              style: normalizeStyle({ display: $props.field.options.displayStyle })
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(item[$props.field.options.labelKey]), 1)
              ]),
              _: 2
            }, 1032, ["value", "disabled", "border", "style"]);
          }), 128))
        ]),
        _: 1
      }, 8, ["value", "size", "disabled", "style", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$W, toDisplayString(_ctx.optionLabel), 1)) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const radioWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4h, [["render", _sfc_render$4g], ["__scopeId", "data-v-8739bdf9"]]);
const __vite_glob_0_16$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: radioWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4g = {
  name: "rate-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$4f(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_rate = resolveComponent("a-rate");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_rate, {
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        disabled: _ctx.handleDisabled(),
        allowClear: $props.field.options.allowClear,
        count: $props.field.options.count,
        "allow-half": $props.field.options.allowHalf,
        onChange: _ctx.handleChangeEvent
      }, null, 8, ["value", "disabled", "allowClear", "count", "allow-half", "onChange"])
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const rateWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4g, [["render", _sfc_render$4f], ["__scopeId", "data-v-c64f78a6"]]);
const __vite_glob_0_17$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rateWidget
}, Symbol.toStringTag, { value: "Module" }));
var quill = { exports: {} };
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
    module.exports = factory();
  })(typeof self !== "undefined" ? self : commonjsGlobal, function() {
    return (
      /******/
      function(modules2) {
        var installedModules = {};
        function __webpack_require__(moduleId) {
          if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
          }
          var module2 = installedModules[moduleId] = {
            /******/
            i: moduleId,
            /******/
            l: false,
            /******/
            exports: {}
            /******/
          };
          modules2[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
          module2.l = true;
          return module2.exports;
        }
        __webpack_require__.m = modules2;
        __webpack_require__.c = installedModules;
        __webpack_require__.d = function(exports2, name2, getter2) {
          if (!__webpack_require__.o(exports2, name2)) {
            Object.defineProperty(exports2, name2, {
              /******/
              configurable: false,
              /******/
              enumerable: true,
              /******/
              get: getter2
              /******/
            });
          }
        };
        __webpack_require__.n = function(module2) {
          var getter2 = module2 && module2.__esModule ? (
            /******/
            function getDefault() {
              return module2["default"];
            }
          ) : (
            /******/
            function getModuleExports() {
              return module2;
            }
          );
          __webpack_require__.d(getter2, "a", getter2);
          return getter2;
        };
        __webpack_require__.o = function(object, property) {
          return Object.prototype.hasOwnProperty.call(object, property);
        };
        __webpack_require__.p = "";
        return __webpack_require__(__webpack_require__.s = 109);
      }([
        /* 0 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", { value: true });
          var container_1 = __webpack_require__(17);
          var format_1 = __webpack_require__(18);
          var leaf_1 = __webpack_require__(19);
          var scroll_1 = __webpack_require__(45);
          var inline_1 = __webpack_require__(46);
          var block_1 = __webpack_require__(47);
          var embed_1 = __webpack_require__(48);
          var text_1 = __webpack_require__(49);
          var attributor_1 = __webpack_require__(12);
          var class_1 = __webpack_require__(32);
          var style_1 = __webpack_require__(33);
          var store_1 = __webpack_require__(31);
          var Registry2 = __webpack_require__(1);
          var Parchment = {
            Scope: Registry2.Scope,
            create: Registry2.create,
            find: Registry2.find,
            query: Registry2.query,
            register: Registry2.register,
            Container: container_1.default,
            Format: format_1.default,
            Leaf: leaf_1.default,
            Embed: embed_1.default,
            Scroll: scroll_1.default,
            Block: block_1.default,
            Inline: inline_1.default,
            Text: text_1.default,
            Attributor: {
              Attribute: attributor_1.default,
              Class: class_1.default,
              Style: style_1.default,
              Store: store_1.default
            }
          };
          exports2.default = Parchment;
        },
        /* 1 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var ParchmentError = (
            /** @class */
            function(_super) {
              __extends(ParchmentError2, _super);
              function ParchmentError2(message2) {
                var _this = this;
                message2 = "[Parchment] " + message2;
                _this = _super.call(this, message2) || this;
                _this.message = message2;
                _this.name = _this.constructor.name;
                return _this;
              }
              return ParchmentError2;
            }(Error)
          );
          exports2.ParchmentError = ParchmentError;
          var attributes = {};
          var classes2 = {};
          var tags = {};
          var types2 = {};
          exports2.DATA_KEY = "__blot";
          var Scope;
          (function(Scope2) {
            Scope2[Scope2["TYPE"] = 3] = "TYPE";
            Scope2[Scope2["LEVEL"] = 12] = "LEVEL";
            Scope2[Scope2["ATTRIBUTE"] = 13] = "ATTRIBUTE";
            Scope2[Scope2["BLOT"] = 14] = "BLOT";
            Scope2[Scope2["INLINE"] = 7] = "INLINE";
            Scope2[Scope2["BLOCK"] = 11] = "BLOCK";
            Scope2[Scope2["BLOCK_BLOT"] = 10] = "BLOCK_BLOT";
            Scope2[Scope2["INLINE_BLOT"] = 6] = "INLINE_BLOT";
            Scope2[Scope2["BLOCK_ATTRIBUTE"] = 9] = "BLOCK_ATTRIBUTE";
            Scope2[Scope2["INLINE_ATTRIBUTE"] = 5] = "INLINE_ATTRIBUTE";
            Scope2[Scope2["ANY"] = 15] = "ANY";
          })(Scope = exports2.Scope || (exports2.Scope = {}));
          function create2(input2, value2) {
            var match = query2(input2);
            if (match == null) {
              throw new ParchmentError("Unable to create " + input2 + " blot");
            }
            var BlotClass = match;
            var node2 = (
              // @ts-ignore
              input2 instanceof Node || input2["nodeType"] === Node.TEXT_NODE ? input2 : BlotClass.create(value2)
            );
            return new BlotClass(node2, value2);
          }
          exports2.create = create2;
          function find2(node2, bubble) {
            if (bubble === void 0) {
              bubble = false;
            }
            if (node2 == null)
              return null;
            if (node2[exports2.DATA_KEY] != null)
              return node2[exports2.DATA_KEY].blot;
            if (bubble)
              return find2(node2.parentNode, bubble);
            return null;
          }
          exports2.find = find2;
          function query2(query3, scope) {
            if (scope === void 0) {
              scope = Scope.ANY;
            }
            var match;
            if (typeof query3 === "string") {
              match = types2[query3] || attributes[query3];
            } else if (query3 instanceof Text || query3["nodeType"] === Node.TEXT_NODE) {
              match = types2["text"];
            } else if (typeof query3 === "number") {
              if (query3 & Scope.LEVEL & Scope.BLOCK) {
                match = types2["block"];
              } else if (query3 & Scope.LEVEL & Scope.INLINE) {
                match = types2["inline"];
              }
            } else if (query3 instanceof HTMLElement) {
              var names2 = (query3.getAttribute("class") || "").split(/\s+/);
              for (var i in names2) {
                match = classes2[names2[i]];
                if (match)
                  break;
              }
              match = match || tags[query3.tagName];
            }
            if (match == null)
              return null;
            if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)
              return match;
            return null;
          }
          exports2.query = query2;
          function register() {
            var Definitions = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              Definitions[_i] = arguments[_i];
            }
            if (Definitions.length > 1) {
              return Definitions.map(function(d) {
                return register(d);
              });
            }
            var Definition = Definitions[0];
            if (typeof Definition.blotName !== "string" && typeof Definition.attrName !== "string") {
              throw new ParchmentError("Invalid definition");
            } else if (Definition.blotName === "abstract") {
              throw new ParchmentError("Cannot register abstract class");
            }
            types2[Definition.blotName || Definition.attrName] = Definition;
            if (typeof Definition.keyName === "string") {
              attributes[Definition.keyName] = Definition;
            } else {
              if (Definition.className != null) {
                classes2[Definition.className] = Definition;
              }
              if (Definition.tagName != null) {
                if (Array.isArray(Definition.tagName)) {
                  Definition.tagName = Definition.tagName.map(function(tagName) {
                    return tagName.toUpperCase();
                  });
                } else {
                  Definition.tagName = Definition.tagName.toUpperCase();
                }
                var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];
                tagNames.forEach(function(tag) {
                  if (tags[tag] == null || Definition.className == null) {
                    tags[tag] = Definition;
                  }
                });
              }
            }
            return Definition;
          }
          exports2.register = register;
        },
        /* 2 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var diff = __webpack_require__(51);
          var equal = __webpack_require__(11);
          var extend2 = __webpack_require__(3);
          var op = __webpack_require__(20);
          var NULL_CHARACTER = String.fromCharCode(0);
          var Delta = function(ops) {
            if (Array.isArray(ops)) {
              this.ops = ops;
            } else if (ops != null && Array.isArray(ops.ops)) {
              this.ops = ops.ops;
            } else {
              this.ops = [];
            }
          };
          Delta.prototype.insert = function(text, attributes) {
            var newOp = {};
            if (text.length === 0)
              return this;
            newOp.insert = text;
            if (attributes != null && typeof attributes === "object" && Object.keys(attributes).length > 0) {
              newOp.attributes = attributes;
            }
            return this.push(newOp);
          };
          Delta.prototype["delete"] = function(length) {
            if (length <= 0)
              return this;
            return this.push({ "delete": length });
          };
          Delta.prototype.retain = function(length, attributes) {
            if (length <= 0)
              return this;
            var newOp = { retain: length };
            if (attributes != null && typeof attributes === "object" && Object.keys(attributes).length > 0) {
              newOp.attributes = attributes;
            }
            return this.push(newOp);
          };
          Delta.prototype.push = function(newOp) {
            var index2 = this.ops.length;
            var lastOp = this.ops[index2 - 1];
            newOp = extend2(true, {}, newOp);
            if (typeof lastOp === "object") {
              if (typeof newOp["delete"] === "number" && typeof lastOp["delete"] === "number") {
                this.ops[index2 - 1] = { "delete": lastOp["delete"] + newOp["delete"] };
                return this;
              }
              if (typeof lastOp["delete"] === "number" && newOp.insert != null) {
                index2 -= 1;
                lastOp = this.ops[index2 - 1];
                if (typeof lastOp !== "object") {
                  this.ops.unshift(newOp);
                  return this;
                }
              }
              if (equal(newOp.attributes, lastOp.attributes)) {
                if (typeof newOp.insert === "string" && typeof lastOp.insert === "string") {
                  this.ops[index2 - 1] = { insert: lastOp.insert + newOp.insert };
                  if (typeof newOp.attributes === "object")
                    this.ops[index2 - 1].attributes = newOp.attributes;
                  return this;
                } else if (typeof newOp.retain === "number" && typeof lastOp.retain === "number") {
                  this.ops[index2 - 1] = { retain: lastOp.retain + newOp.retain };
                  if (typeof newOp.attributes === "object")
                    this.ops[index2 - 1].attributes = newOp.attributes;
                  return this;
                }
              }
            }
            if (index2 === this.ops.length) {
              this.ops.push(newOp);
            } else {
              this.ops.splice(index2, 0, newOp);
            }
            return this;
          };
          Delta.prototype.chop = function() {
            var lastOp = this.ops[this.ops.length - 1];
            if (lastOp && lastOp.retain && !lastOp.attributes) {
              this.ops.pop();
            }
            return this;
          };
          Delta.prototype.filter = function(predicate) {
            return this.ops.filter(predicate);
          };
          Delta.prototype.forEach = function(predicate) {
            this.ops.forEach(predicate);
          };
          Delta.prototype.map = function(predicate) {
            return this.ops.map(predicate);
          };
          Delta.prototype.partition = function(predicate) {
            var passed = [], failed = [];
            this.forEach(function(op2) {
              var target = predicate(op2) ? passed : failed;
              target.push(op2);
            });
            return [passed, failed];
          };
          Delta.prototype.reduce = function(predicate, initial) {
            return this.ops.reduce(predicate, initial);
          };
          Delta.prototype.changeLength = function() {
            return this.reduce(function(length, elem) {
              if (elem.insert) {
                return length + op.length(elem);
              } else if (elem.delete) {
                return length - elem.delete;
              }
              return length;
            }, 0);
          };
          Delta.prototype.length = function() {
            return this.reduce(function(length, elem) {
              return length + op.length(elem);
            }, 0);
          };
          Delta.prototype.slice = function(start, end) {
            start = start || 0;
            if (typeof end !== "number")
              end = Infinity;
            var ops = [];
            var iter = op.iterator(this.ops);
            var index2 = 0;
            while (index2 < end && iter.hasNext()) {
              var nextOp;
              if (index2 < start) {
                nextOp = iter.next(start - index2);
              } else {
                nextOp = iter.next(end - index2);
                ops.push(nextOp);
              }
              index2 += op.length(nextOp);
            }
            return new Delta(ops);
          };
          Delta.prototype.compose = function(other) {
            var thisIter = op.iterator(this.ops);
            var otherIter = op.iterator(other.ops);
            var ops = [];
            var firstOther = otherIter.peek();
            if (firstOther != null && typeof firstOther.retain === "number" && firstOther.attributes == null) {
              var firstLeft = firstOther.retain;
              while (thisIter.peekType() === "insert" && thisIter.peekLength() <= firstLeft) {
                firstLeft -= thisIter.peekLength();
                ops.push(thisIter.next());
              }
              if (firstOther.retain - firstLeft > 0) {
                otherIter.next(firstOther.retain - firstLeft);
              }
            }
            var delta = new Delta(ops);
            while (thisIter.hasNext() || otherIter.hasNext()) {
              if (otherIter.peekType() === "insert") {
                delta.push(otherIter.next());
              } else if (thisIter.peekType() === "delete") {
                delta.push(thisIter.next());
              } else {
                var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
                var thisOp = thisIter.next(length);
                var otherOp = otherIter.next(length);
                if (typeof otherOp.retain === "number") {
                  var newOp = {};
                  if (typeof thisOp.retain === "number") {
                    newOp.retain = length;
                  } else {
                    newOp.insert = thisOp.insert;
                  }
                  var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === "number");
                  if (attributes)
                    newOp.attributes = attributes;
                  delta.push(newOp);
                  if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {
                    var rest = new Delta(thisIter.rest());
                    return delta.concat(rest).chop();
                  }
                } else if (typeof otherOp["delete"] === "number" && typeof thisOp.retain === "number") {
                  delta.push(otherOp);
                }
              }
            }
            return delta.chop();
          };
          Delta.prototype.concat = function(other) {
            var delta = new Delta(this.ops.slice());
            if (other.ops.length > 0) {
              delta.push(other.ops[0]);
              delta.ops = delta.ops.concat(other.ops.slice(1));
            }
            return delta;
          };
          Delta.prototype.diff = function(other, index2) {
            if (this.ops === other.ops) {
              return new Delta();
            }
            var strings = [this, other].map(function(delta2) {
              return delta2.map(function(op2) {
                if (op2.insert != null) {
                  return typeof op2.insert === "string" ? op2.insert : NULL_CHARACTER;
                }
                var prep = delta2 === other ? "on" : "with";
                throw new Error("diff() called " + prep + " non-document");
              }).join("");
            });
            var delta = new Delta();
            var diffResult = diff(strings[0], strings[1], index2);
            var thisIter = op.iterator(this.ops);
            var otherIter = op.iterator(other.ops);
            diffResult.forEach(function(component) {
              var length = component[1].length;
              while (length > 0) {
                var opLength = 0;
                switch (component[0]) {
                  case diff.INSERT:
                    opLength = Math.min(otherIter.peekLength(), length);
                    delta.push(otherIter.next(opLength));
                    break;
                  case diff.DELETE:
                    opLength = Math.min(length, thisIter.peekLength());
                    thisIter.next(opLength);
                    delta["delete"](opLength);
                    break;
                  case diff.EQUAL:
                    opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);
                    var thisOp = thisIter.next(opLength);
                    var otherOp = otherIter.next(opLength);
                    if (equal(thisOp.insert, otherOp.insert)) {
                      delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));
                    } else {
                      delta.push(otherOp)["delete"](opLength);
                    }
                    break;
                }
                length -= opLength;
              }
            });
            return delta.chop();
          };
          Delta.prototype.eachLine = function(predicate, newline) {
            newline = newline || "\n";
            var iter = op.iterator(this.ops);
            var line = new Delta();
            var i = 0;
            while (iter.hasNext()) {
              if (iter.peekType() !== "insert")
                return;
              var thisOp = iter.peek();
              var start = op.length(thisOp) - iter.peekLength();
              var index2 = typeof thisOp.insert === "string" ? thisOp.insert.indexOf(newline, start) - start : -1;
              if (index2 < 0) {
                line.push(iter.next());
              } else if (index2 > 0) {
                line.push(iter.next(index2));
              } else {
                if (predicate(line, iter.next(1).attributes || {}, i) === false) {
                  return;
                }
                i += 1;
                line = new Delta();
              }
            }
            if (line.length() > 0) {
              predicate(line, {}, i);
            }
          };
          Delta.prototype.transform = function(other, priority) {
            priority = !!priority;
            if (typeof other === "number") {
              return this.transformPosition(other, priority);
            }
            var thisIter = op.iterator(this.ops);
            var otherIter = op.iterator(other.ops);
            var delta = new Delta();
            while (thisIter.hasNext() || otherIter.hasNext()) {
              if (thisIter.peekType() === "insert" && (priority || otherIter.peekType() !== "insert")) {
                delta.retain(op.length(thisIter.next()));
              } else if (otherIter.peekType() === "insert") {
                delta.push(otherIter.next());
              } else {
                var length = Math.min(thisIter.peekLength(), otherIter.peekLength());
                var thisOp = thisIter.next(length);
                var otherOp = otherIter.next(length);
                if (thisOp["delete"]) {
                  continue;
                } else if (otherOp["delete"]) {
                  delta.push(otherOp);
                } else {
                  delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));
                }
              }
            }
            return delta.chop();
          };
          Delta.prototype.transformPosition = function(index2, priority) {
            priority = !!priority;
            var thisIter = op.iterator(this.ops);
            var offset = 0;
            while (thisIter.hasNext() && offset <= index2) {
              var length = thisIter.peekLength();
              var nextType = thisIter.peekType();
              thisIter.next();
              if (nextType === "delete") {
                index2 -= Math.min(length, index2 - offset);
                continue;
              } else if (nextType === "insert" && (offset < index2 || !priority)) {
                index2 += length;
              }
              offset += length;
            }
            return index2;
          };
          module2.exports = Delta;
        },
        /* 3 */
        /***/
        function(module2, exports2) {
          var hasOwn = Object.prototype.hasOwnProperty;
          var toStr = Object.prototype.toString;
          var defineProperty2 = Object.defineProperty;
          var gOPD = Object.getOwnPropertyDescriptor;
          var isArray2 = function isArray3(arr) {
            if (typeof Array.isArray === "function") {
              return Array.isArray(arr);
            }
            return toStr.call(arr) === "[object Array]";
          };
          var isPlainObject2 = function isPlainObject3(obj) {
            if (!obj || toStr.call(obj) !== "[object Object]") {
              return false;
            }
            var hasOwnConstructor = hasOwn.call(obj, "constructor");
            var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, "isPrototypeOf");
            if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {
              return false;
            }
            var key;
            for (key in obj) {
            }
            return typeof key === "undefined" || hasOwn.call(obj, key);
          };
          var setProperty = function setProperty2(target, options) {
            if (defineProperty2 && options.name === "__proto__") {
              defineProperty2(target, options.name, {
                enumerable: true,
                configurable: true,
                value: options.newValue,
                writable: true
              });
            } else {
              target[options.name] = options.newValue;
            }
          };
          var getProperty = function getProperty2(obj, name2) {
            if (name2 === "__proto__") {
              if (!hasOwn.call(obj, name2)) {
                return void 0;
              } else if (gOPD) {
                return gOPD(obj, name2).value;
              }
            }
            return obj[name2];
          };
          module2.exports = function extend2() {
            var options, name2, src, copy, copyIsArray, clone2;
            var target = arguments[0];
            var i = 1;
            var length = arguments.length;
            var deep = false;
            if (typeof target === "boolean") {
              deep = target;
              target = arguments[1] || {};
              i = 2;
            }
            if (target == null || typeof target !== "object" && typeof target !== "function") {
              target = {};
            }
            for (; i < length; ++i) {
              options = arguments[i];
              if (options != null) {
                for (name2 in options) {
                  src = getProperty(target, name2);
                  copy = getProperty(options, name2);
                  if (target !== copy) {
                    if (deep && copy && (isPlainObject2(copy) || (copyIsArray = isArray2(copy)))) {
                      if (copyIsArray) {
                        copyIsArray = false;
                        clone2 = src && isArray2(src) ? src : [];
                      } else {
                        clone2 = src && isPlainObject2(src) ? src : {};
                      }
                      setProperty(target, { name: name2, newValue: extend2(deep, clone2, copy) });
                    } else if (typeof copy !== "undefined") {
                      setProperty(target, { name: name2, newValue: copy });
                    }
                  }
                }
              }
            }
            return target;
          };
        },
        /* 4 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.BlockEmbed = exports2.bubbleFormats = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _break = __webpack_require__(16);
          var _break2 = _interopRequireDefault(_break);
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var NEWLINE_LENGTH = 1;
          var BlockEmbed = function(_Parchment$Embed) {
            _inherits(BlockEmbed2, _Parchment$Embed);
            function BlockEmbed2() {
              _classCallCheck(this, BlockEmbed2);
              return _possibleConstructorReturn(this, (BlockEmbed2.__proto__ || Object.getPrototypeOf(BlockEmbed2)).apply(this, arguments));
            }
            _createClass(BlockEmbed2, [{
              key: "attach",
              value: function attach() {
                _get(BlockEmbed2.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed2.prototype), "attach", this).call(this);
                this.attributes = new _parchment2.default.Attributor.Store(this.domNode);
              }
            }, {
              key: "delta",
              value: function delta() {
                return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));
              }
            }, {
              key: "format",
              value: function format2(name2, value2) {
                var attribute = _parchment2.default.query(name2, _parchment2.default.Scope.BLOCK_ATTRIBUTE);
                if (attribute != null) {
                  this.attributes.attribute(attribute, value2);
                }
              }
            }, {
              key: "formatAt",
              value: function formatAt(index2, length, name2, value2) {
                this.format(name2, value2);
              }
            }, {
              key: "insertAt",
              value: function insertAt(index2, value2, def) {
                if (typeof value2 === "string" && value2.endsWith("\n")) {
                  var block = _parchment2.default.create(Block.blotName);
                  this.parent.insertBefore(block, index2 === 0 ? this : this.next);
                  block.insertAt(0, value2.slice(0, -1));
                } else {
                  _get(BlockEmbed2.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed2.prototype), "insertAt", this).call(this, index2, value2, def);
                }
              }
            }]);
            return BlockEmbed2;
          }(_parchment2.default.Embed);
          BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;
          var Block = function(_Parchment$Block) {
            _inherits(Block2, _Parchment$Block);
            function Block2(domNode) {
              _classCallCheck(this, Block2);
              var _this2 = _possibleConstructorReturn(this, (Block2.__proto__ || Object.getPrototypeOf(Block2)).call(this, domNode));
              _this2.cache = {};
              return _this2;
            }
            _createClass(Block2, [{
              key: "delta",
              value: function delta() {
                if (this.cache.delta == null) {
                  this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function(delta2, leaf) {
                    if (leaf.length() === 0) {
                      return delta2;
                    } else {
                      return delta2.insert(leaf.value(), bubbleFormats(leaf));
                    }
                  }, new _quillDelta2.default()).insert("\n", bubbleFormats(this));
                }
                return this.cache.delta;
              }
            }, {
              key: "deleteAt",
              value: function deleteAt(index2, length) {
                _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "deleteAt", this).call(this, index2, length);
                this.cache = {};
              }
            }, {
              key: "formatAt",
              value: function formatAt(index2, length, name2, value2) {
                if (length <= 0)
                  return;
                if (_parchment2.default.query(name2, _parchment2.default.Scope.BLOCK)) {
                  if (index2 + length === this.length()) {
                    this.format(name2, value2);
                  }
                } else {
                  _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "formatAt", this).call(this, index2, Math.min(length, this.length() - index2 - 1), name2, value2);
                }
                this.cache = {};
              }
            }, {
              key: "insertAt",
              value: function insertAt(index2, value2, def) {
                if (def != null)
                  return _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "insertAt", this).call(this, index2, value2, def);
                if (value2.length === 0)
                  return;
                var lines = value2.split("\n");
                var text = lines.shift();
                if (text.length > 0) {
                  if (index2 < this.length() - 1 || this.children.tail == null) {
                    _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "insertAt", this).call(this, Math.min(index2, this.length() - 1), text);
                  } else {
                    this.children.tail.insertAt(this.children.tail.length(), text);
                  }
                  this.cache = {};
                }
                var block = this;
                lines.reduce(function(index3, line) {
                  block = block.split(index3, true);
                  block.insertAt(0, line);
                  return line.length;
                }, index2 + text.length);
              }
            }, {
              key: "insertBefore",
              value: function insertBefore(blot, ref2) {
                var head = this.children.head;
                _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "insertBefore", this).call(this, blot, ref2);
                if (head instanceof _break2.default) {
                  head.remove();
                }
                this.cache = {};
              }
            }, {
              key: "length",
              value: function length() {
                if (this.cache.length == null) {
                  this.cache.length = _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "length", this).call(this) + NEWLINE_LENGTH;
                }
                return this.cache.length;
              }
            }, {
              key: "moveChildren",
              value: function moveChildren(target, ref2) {
                _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "moveChildren", this).call(this, target, ref2);
                this.cache = {};
              }
            }, {
              key: "optimize",
              value: function optimize(context) {
                _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "optimize", this).call(this, context);
                this.cache = {};
              }
            }, {
              key: "path",
              value: function path(index2) {
                return _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "path", this).call(this, index2, true);
              }
            }, {
              key: "removeChild",
              value: function removeChild(child) {
                _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "removeChild", this).call(this, child);
                this.cache = {};
              }
            }, {
              key: "split",
              value: function split(index2) {
                var force = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                if (force && (index2 === 0 || index2 >= this.length() - NEWLINE_LENGTH)) {
                  var clone2 = this.clone();
                  if (index2 === 0) {
                    this.parent.insertBefore(clone2, this);
                    return this;
                  } else {
                    this.parent.insertBefore(clone2, this.next);
                    return clone2;
                  }
                } else {
                  var next = _get(Block2.prototype.__proto__ || Object.getPrototypeOf(Block2.prototype), "split", this).call(this, index2, force);
                  this.cache = {};
                  return next;
                }
              }
            }]);
            return Block2;
          }(_parchment2.default.Block);
          Block.blotName = "block";
          Block.tagName = "P";
          Block.defaultChild = "break";
          Block.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];
          function bubbleFormats(blot) {
            var formats = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            if (blot == null)
              return formats;
            if (typeof blot.formats === "function") {
              formats = (0, _extend2.default)(formats, blot.formats());
            }
            if (blot.parent == null || blot.parent.blotName == "scroll" || blot.parent.statics.scope !== blot.statics.scope) {
              return formats;
            }
            return bubbleFormats(blot.parent, formats);
          }
          exports2.bubbleFormats = bubbleFormats;
          exports2.BlockEmbed = BlockEmbed;
          exports2.default = Block;
        },
        /* 5 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.overload = exports2.expandConfig = void 0;
          var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
            return typeof obj;
          } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
          };
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          __webpack_require__(50);
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _editor = __webpack_require__(14);
          var _editor2 = _interopRequireDefault(_editor);
          var _emitter3 = __webpack_require__(8);
          var _emitter4 = _interopRequireDefault(_emitter3);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _selection = __webpack_require__(15);
          var _selection2 = _interopRequireDefault(_selection);
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          var _theme = __webpack_require__(34);
          var _theme2 = _interopRequireDefault(_theme);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var debug = (0, _logger2.default)("quill");
          var Quill2 = function() {
            _createClass(Quill3, null, [{
              key: "debug",
              value: function debug2(limit) {
                if (limit === true) {
                  limit = "log";
                }
                _logger2.default.level(limit);
              }
            }, {
              key: "find",
              value: function find2(node2) {
                return node2.__quill || _parchment2.default.find(node2);
              }
            }, {
              key: "import",
              value: function _import(name2) {
                if (this.imports[name2] == null) {
                  debug.error("Cannot import " + name2 + ". Are you sure it was registered?");
                }
                return this.imports[name2];
              }
            }, {
              key: "register",
              value: function register(path, target) {
                var _this = this;
                var overwrite = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
                if (typeof path !== "string") {
                  var name2 = path.attrName || path.blotName;
                  if (typeof name2 === "string") {
                    this.register("formats/" + name2, path, target);
                  } else {
                    Object.keys(path).forEach(function(key) {
                      _this.register(key, path[key], target);
                    });
                  }
                } else {
                  if (this.imports[path] != null && !overwrite) {
                    debug.warn("Overwriting " + path + " with", target);
                  }
                  this.imports[path] = target;
                  if ((path.startsWith("blots/") || path.startsWith("formats/")) && target.blotName !== "abstract") {
                    _parchment2.default.register(target);
                  } else if (path.startsWith("modules") && typeof target.register === "function") {
                    target.register();
                  }
                }
              }
            }]);
            function Quill3(container) {
              var _this2 = this;
              var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
              _classCallCheck(this, Quill3);
              this.options = expandConfig(container, options);
              this.container = this.options.container;
              if (this.container == null) {
                return debug.error("Invalid Quill container", container);
              }
              if (this.options.debug) {
                Quill3.debug(this.options.debug);
              }
              var html = this.container.innerHTML.trim();
              this.container.classList.add("ql-container");
              this.container.innerHTML = "";
              this.container.__quill = this;
              this.root = this.addContainer("ql-editor");
              this.root.classList.add("ql-blank");
              this.root.setAttribute("data-gramm", false);
              this.scrollingContainer = this.options.scrollingContainer || this.root;
              this.emitter = new _emitter4.default();
              this.scroll = _parchment2.default.create(this.root, {
                emitter: this.emitter,
                whitelist: this.options.formats
              });
              this.editor = new _editor2.default(this.scroll);
              this.selection = new _selection2.default(this.scroll, this.emitter);
              this.theme = new this.options.theme(this, this.options);
              this.keyboard = this.theme.addModule("keyboard");
              this.clipboard = this.theme.addModule("clipboard");
              this.history = this.theme.addModule("history");
              this.theme.init();
              this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function(type) {
                if (type === _emitter4.default.events.TEXT_CHANGE) {
                  _this2.root.classList.toggle("ql-blank", _this2.editor.isBlank());
                }
              });
              this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function(source, mutations) {
                var range = _this2.selection.lastRange;
                var index2 = range && range.length === 0 ? range.index : void 0;
                modify.call(_this2, function() {
                  return _this2.editor.update(null, mutations, index2);
                }, source);
              });
              var contents = this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">` + html + "<p><br></p></div>");
              this.setContents(contents);
              this.history.clear();
              if (this.options.placeholder) {
                this.root.setAttribute("data-placeholder", this.options.placeholder);
              }
              if (this.options.readOnly) {
                this.disable();
              }
            }
            _createClass(Quill3, [{
              key: "addContainer",
              value: function addContainer(container) {
                var refNode = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
                if (typeof container === "string") {
                  var className = container;
                  container = document.createElement("div");
                  container.classList.add(className);
                }
                this.container.insertBefore(container, refNode);
                return container;
              }
            }, {
              key: "blur",
              value: function blur() {
                this.selection.setRange(null);
              }
            }, {
              key: "deleteText",
              value: function deleteText(index2, length, source) {
                var _this3 = this;
                var _overload = overload(index2, length, source);
                var _overload2 = _slicedToArray2(_overload, 4);
                index2 = _overload2[0];
                length = _overload2[1];
                source = _overload2[3];
                return modify.call(this, function() {
                  return _this3.editor.deleteText(index2, length);
                }, source, index2, -1 * length);
              }
            }, {
              key: "disable",
              value: function disable() {
                this.enable(false);
              }
            }, {
              key: "enable",
              value: function enable() {
                var enabled = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
                this.scroll.enable(enabled);
                this.container.classList.toggle("ql-disabled", !enabled);
              }
            }, {
              key: "focus",
              value: function focus() {
                var scrollTop = this.scrollingContainer.scrollTop;
                this.selection.focus();
                this.scrollingContainer.scrollTop = scrollTop;
                this.scrollIntoView();
              }
            }, {
              key: "format",
              value: function format2(name2, value2) {
                var _this4 = this;
                var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _emitter4.default.sources.API;
                return modify.call(this, function() {
                  var range = _this4.getSelection(true);
                  var change = new _quillDelta2.default();
                  if (range == null) {
                    return change;
                  } else if (_parchment2.default.query(name2, _parchment2.default.Scope.BLOCK)) {
                    change = _this4.editor.formatLine(range.index, range.length, _defineProperty2({}, name2, value2));
                  } else if (range.length === 0) {
                    _this4.selection.format(name2, value2);
                    return change;
                  } else {
                    change = _this4.editor.formatText(range.index, range.length, _defineProperty2({}, name2, value2));
                  }
                  _this4.setSelection(range, _emitter4.default.sources.SILENT);
                  return change;
                }, source);
              }
            }, {
              key: "formatLine",
              value: function formatLine(index2, length, name2, value2, source) {
                var _this5 = this;
                var formats = void 0;
                var _overload3 = overload(index2, length, name2, value2, source);
                var _overload4 = _slicedToArray2(_overload3, 4);
                index2 = _overload4[0];
                length = _overload4[1];
                formats = _overload4[2];
                source = _overload4[3];
                return modify.call(this, function() {
                  return _this5.editor.formatLine(index2, length, formats);
                }, source, index2, 0);
              }
            }, {
              key: "formatText",
              value: function formatText(index2, length, name2, value2, source) {
                var _this6 = this;
                var formats = void 0;
                var _overload5 = overload(index2, length, name2, value2, source);
                var _overload6 = _slicedToArray2(_overload5, 4);
                index2 = _overload6[0];
                length = _overload6[1];
                formats = _overload6[2];
                source = _overload6[3];
                return modify.call(this, function() {
                  return _this6.editor.formatText(index2, length, formats);
                }, source, index2, 0);
              }
            }, {
              key: "getBounds",
              value: function getBounds(index2) {
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                var bounds = void 0;
                if (typeof index2 === "number") {
                  bounds = this.selection.getBounds(index2, length);
                } else {
                  bounds = this.selection.getBounds(index2.index, index2.length);
                }
                var containerBounds = this.container.getBoundingClientRect();
                return {
                  bottom: bounds.bottom - containerBounds.top,
                  height: bounds.height,
                  left: bounds.left - containerBounds.left,
                  right: bounds.right - containerBounds.left,
                  top: bounds.top - containerBounds.top,
                  width: bounds.width
                };
              }
            }, {
              key: "getContents",
              value: function getContents() {
                var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - index2;
                var _overload7 = overload(index2, length);
                var _overload8 = _slicedToArray2(_overload7, 2);
                index2 = _overload8[0];
                length = _overload8[1];
                return this.editor.getContents(index2, length);
              }
            }, {
              key: "getFormat",
              value: function getFormat() {
                var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.getSelection(true);
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                if (typeof index2 === "number") {
                  return this.editor.getFormat(index2, length);
                } else {
                  return this.editor.getFormat(index2.index, index2.length);
                }
              }
            }, {
              key: "getIndex",
              value: function getIndex(blot) {
                return blot.offset(this.scroll);
              }
            }, {
              key: "getLength",
              value: function getLength() {
                return this.scroll.length();
              }
            }, {
              key: "getLeaf",
              value: function getLeaf(index2) {
                return this.scroll.leaf(index2);
              }
            }, {
              key: "getLine",
              value: function getLine(index2) {
                return this.scroll.line(index2);
              }
            }, {
              key: "getLines",
              value: function getLines() {
                var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
                if (typeof index2 !== "number") {
                  return this.scroll.lines(index2.index, index2.length);
                } else {
                  return this.scroll.lines(index2, length);
                }
              }
            }, {
              key: "getModule",
              value: function getModule(name2) {
                return this.theme.modules[name2];
              }
            }, {
              key: "getSelection",
              value: function getSelection() {
                var focus = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
                if (focus)
                  this.focus();
                this.update();
                return this.selection.getRange()[0];
              }
            }, {
              key: "getText",
              value: function getText() {
                var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - index2;
                var _overload9 = overload(index2, length);
                var _overload10 = _slicedToArray2(_overload9, 2);
                index2 = _overload10[0];
                length = _overload10[1];
                return this.editor.getText(index2, length);
              }
            }, {
              key: "hasFocus",
              value: function hasFocus() {
                return this.selection.hasFocus();
              }
            }, {
              key: "insertEmbed",
              value: function insertEmbed(index2, embed, value2) {
                var _this7 = this;
                var source = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : Quill3.sources.API;
                return modify.call(this, function() {
                  return _this7.editor.insertEmbed(index2, embed, value2);
                }, source, index2);
              }
            }, {
              key: "insertText",
              value: function insertText(index2, text, name2, value2, source) {
                var _this8 = this;
                var formats = void 0;
                var _overload11 = overload(index2, 0, name2, value2, source);
                var _overload12 = _slicedToArray2(_overload11, 4);
                index2 = _overload12[0];
                formats = _overload12[2];
                source = _overload12[3];
                return modify.call(this, function() {
                  return _this8.editor.insertText(index2, text, formats);
                }, source, index2, text.length);
              }
            }, {
              key: "isEnabled",
              value: function isEnabled() {
                return !this.container.classList.contains("ql-disabled");
              }
            }, {
              key: "off",
              value: function off2() {
                return this.emitter.off.apply(this.emitter, arguments);
              }
            }, {
              key: "on",
              value: function on2() {
                return this.emitter.on.apply(this.emitter, arguments);
              }
            }, {
              key: "once",
              value: function once() {
                return this.emitter.once.apply(this.emitter, arguments);
              }
            }, {
              key: "pasteHTML",
              value: function pasteHTML(index2, html, source) {
                this.clipboard.dangerouslyPasteHTML(index2, html, source);
              }
            }, {
              key: "removeFormat",
              value: function removeFormat(index2, length, source) {
                var _this9 = this;
                var _overload13 = overload(index2, length, source);
                var _overload14 = _slicedToArray2(_overload13, 4);
                index2 = _overload14[0];
                length = _overload14[1];
                source = _overload14[3];
                return modify.call(this, function() {
                  return _this9.editor.removeFormat(index2, length);
                }, source, index2);
              }
            }, {
              key: "scrollIntoView",
              value: function scrollIntoView() {
                this.selection.scrollIntoView(this.scrollingContainer);
              }
            }, {
              key: "setContents",
              value: function setContents(delta) {
                var _this10 = this;
                var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                return modify.call(this, function() {
                  delta = new _quillDelta2.default(delta);
                  var length = _this10.getLength();
                  var deleted = _this10.editor.deleteText(0, length);
                  var applied = _this10.editor.applyDelta(delta);
                  var lastOp = applied.ops[applied.ops.length - 1];
                  if (lastOp != null && typeof lastOp.insert === "string" && lastOp.insert[lastOp.insert.length - 1] === "\n") {
                    _this10.editor.deleteText(_this10.getLength() - 1, 1);
                    applied.delete(1);
                  }
                  var ret = deleted.compose(applied);
                  return ret;
                }, source);
              }
            }, {
              key: "setSelection",
              value: function setSelection(index2, length, source) {
                if (index2 == null) {
                  this.selection.setRange(null, length || Quill3.sources.API);
                } else {
                  var _overload15 = overload(index2, length, source);
                  var _overload16 = _slicedToArray2(_overload15, 4);
                  index2 = _overload16[0];
                  length = _overload16[1];
                  source = _overload16[3];
                  this.selection.setRange(new _selection.Range(index2, length), source);
                  if (source !== _emitter4.default.sources.SILENT) {
                    this.selection.scrollIntoView(this.scrollingContainer);
                  }
                }
              }
            }, {
              key: "setText",
              value: function setText(text) {
                var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                var delta = new _quillDelta2.default().insert(text);
                return this.setContents(delta, source);
              }
            }, {
              key: "update",
              value: function update() {
                var source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _emitter4.default.sources.USER;
                var change = this.scroll.update(source);
                this.selection.update(source);
                return change;
              }
            }, {
              key: "updateContents",
              value: function updateContents(delta) {
                var _this11 = this;
                var source = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : _emitter4.default.sources.API;
                return modify.call(this, function() {
                  delta = new _quillDelta2.default(delta);
                  return _this11.editor.applyDelta(delta, source);
                }, source, true);
              }
            }]);
            return Quill3;
          }();
          Quill2.DEFAULTS = {
            bounds: null,
            formats: null,
            modules: {},
            placeholder: "",
            readOnly: false,
            scrollingContainer: null,
            strict: true,
            theme: "default"
          };
          Quill2.events = _emitter4.default.events;
          Quill2.sources = _emitter4.default.sources;
          Quill2.version = "1.3.7";
          Quill2.imports = {
            "delta": _quillDelta2.default,
            "parchment": _parchment2.default,
            "core/module": _module2.default,
            "core/theme": _theme2.default
          };
          function expandConfig(container, userConfig) {
            userConfig = (0, _extend2.default)(true, {
              container,
              modules: {
                clipboard: true,
                keyboard: true,
                history: true
              }
            }, userConfig);
            if (!userConfig.theme || userConfig.theme === Quill2.DEFAULTS.theme) {
              userConfig.theme = _theme2.default;
            } else {
              userConfig.theme = Quill2.import("themes/" + userConfig.theme);
              if (userConfig.theme == null) {
                throw new Error("Invalid theme " + userConfig.theme + ". Did you register it?");
              }
            }
            var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);
            [themeConfig, userConfig].forEach(function(config2) {
              config2.modules = config2.modules || {};
              Object.keys(config2.modules).forEach(function(module3) {
                if (config2.modules[module3] === true) {
                  config2.modules[module3] = {};
                }
              });
            });
            var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));
            var moduleConfig = moduleNames.reduce(function(config2, name2) {
              var moduleClass = Quill2.import("modules/" + name2);
              if (moduleClass == null) {
                debug.error("Cannot load " + name2 + " module. Are you sure you registered it?");
              } else {
                config2[name2] = moduleClass.DEFAULTS || {};
              }
              return config2;
            }, {});
            if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {
              userConfig.modules.toolbar = {
                container: userConfig.modules.toolbar
              };
            }
            userConfig = (0, _extend2.default)(true, {}, Quill2.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);
            ["bounds", "container", "scrollingContainer"].forEach(function(key) {
              if (typeof userConfig[key] === "string") {
                userConfig[key] = document.querySelector(userConfig[key]);
              }
            });
            userConfig.modules = Object.keys(userConfig.modules).reduce(function(config2, name2) {
              if (userConfig.modules[name2]) {
                config2[name2] = userConfig.modules[name2];
              }
              return config2;
            }, {});
            return userConfig;
          }
          function modify(modifier, source, index2, shift) {
            if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {
              return new _quillDelta2.default();
            }
            var range = index2 == null ? null : this.getSelection();
            var oldDelta = this.editor.delta;
            var change = modifier();
            if (range != null) {
              if (index2 === true)
                index2 = range.index;
              if (shift == null) {
                range = shiftRange(range, change, source);
              } else if (shift !== 0) {
                range = shiftRange(range, index2, shift, source);
              }
              this.setSelection(range, _emitter4.default.sources.SILENT);
            }
            if (change.length() > 0) {
              var _emitter;
              var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];
              (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
              if (source !== _emitter4.default.sources.SILENT) {
                var _emitter2;
                (_emitter2 = this.emitter).emit.apply(_emitter2, args);
              }
            }
            return change;
          }
          function overload(index2, length, name2, value2, source) {
            var formats = {};
            if (typeof index2.index === "number" && typeof index2.length === "number") {
              if (typeof length !== "number") {
                source = value2, value2 = name2, name2 = length, length = index2.length, index2 = index2.index;
              } else {
                length = index2.length, index2 = index2.index;
              }
            } else if (typeof length !== "number") {
              source = value2, value2 = name2, name2 = length, length = 0;
            }
            if ((typeof name2 === "undefined" ? "undefined" : _typeof2(name2)) === "object") {
              formats = name2;
              source = value2;
            } else if (typeof name2 === "string") {
              if (value2 != null) {
                formats[name2] = value2;
              } else {
                source = name2;
              }
            }
            source = source || _emitter4.default.sources.API;
            return [index2, length, formats, source];
          }
          function shiftRange(range, index2, length, source) {
            if (range == null)
              return null;
            var start = void 0, end = void 0;
            if (index2 instanceof _quillDelta2.default) {
              var _map = [range.index, range.index + range.length].map(function(pos) {
                return index2.transformPosition(pos, source !== _emitter4.default.sources.USER);
              });
              var _map2 = _slicedToArray2(_map, 2);
              start = _map2[0];
              end = _map2[1];
            } else {
              var _map3 = [range.index, range.index + range.length].map(function(pos) {
                if (pos < index2 || pos === index2 && source === _emitter4.default.sources.USER)
                  return pos;
                if (length >= 0) {
                  return pos + length;
                } else {
                  return Math.max(index2, pos + length);
                }
              });
              var _map4 = _slicedToArray2(_map3, 2);
              start = _map4[0];
              end = _map4[1];
            }
            return new _selection.Range(start, end - start);
          }
          exports2.expandConfig = expandConfig;
          exports2.overload = overload;
          exports2.default = Quill2;
        },
        /* 6 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Inline = function(_Parchment$Inline) {
            _inherits(Inline2, _Parchment$Inline);
            function Inline2() {
              _classCallCheck(this, Inline2);
              return _possibleConstructorReturn(this, (Inline2.__proto__ || Object.getPrototypeOf(Inline2)).apply(this, arguments));
            }
            _createClass(Inline2, [{
              key: "formatAt",
              value: function formatAt(index2, length, name2, value2) {
                if (Inline2.compare(this.statics.blotName, name2) < 0 && _parchment2.default.query(name2, _parchment2.default.Scope.BLOT)) {
                  var blot = this.isolate(index2, length);
                  if (value2) {
                    blot.wrap(name2, value2);
                  }
                } else {
                  _get(Inline2.prototype.__proto__ || Object.getPrototypeOf(Inline2.prototype), "formatAt", this).call(this, index2, length, name2, value2);
                }
              }
            }, {
              key: "optimize",
              value: function optimize(context) {
                _get(Inline2.prototype.__proto__ || Object.getPrototypeOf(Inline2.prototype), "optimize", this).call(this, context);
                if (this.parent instanceof Inline2 && Inline2.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
                  var parent = this.parent.isolate(this.offset(), this.length());
                  this.moveChildren(parent);
                  parent.wrap(this);
                }
              }
            }], [{
              key: "compare",
              value: function compare(self2, other) {
                var selfIndex = Inline2.order.indexOf(self2);
                var otherIndex = Inline2.order.indexOf(other);
                if (selfIndex >= 0 || otherIndex >= 0) {
                  return selfIndex - otherIndex;
                } else if (self2 === other) {
                  return 0;
                } else if (self2 < other) {
                  return -1;
                } else {
                  return 1;
                }
              }
            }]);
            return Inline2;
          }(_parchment2.default.Inline);
          Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];
          Inline.order = [
            "cursor",
            "inline",
            // Must be lower
            "underline",
            "strike",
            "italic",
            "bold",
            "script",
            "link",
            "code"
            // Must be higher
          ];
          exports2.default = Inline;
        },
        /* 7 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var TextBlot = function(_Parchment$Text) {
            _inherits(TextBlot2, _Parchment$Text);
            function TextBlot2() {
              _classCallCheck(this, TextBlot2);
              return _possibleConstructorReturn(this, (TextBlot2.__proto__ || Object.getPrototypeOf(TextBlot2)).apply(this, arguments));
            }
            return TextBlot2;
          }(_parchment2.default.Text);
          exports2.default = TextBlot;
        },
        /* 8 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _eventemitter = __webpack_require__(54);
          var _eventemitter2 = _interopRequireDefault(_eventemitter);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var debug = (0, _logger2.default)("quill:events");
          var EVENTS = ["selectionchange", "mousedown", "mouseup", "click"];
          EVENTS.forEach(function(eventName) {
            document.addEventListener(eventName, function() {
              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }
              [].slice.call(document.querySelectorAll(".ql-container")).forEach(function(node2) {
                if (node2.__quill && node2.__quill.emitter) {
                  var _node$__quill$emitter;
                  (_node$__quill$emitter = node2.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);
                }
              });
            });
          });
          var Emitter = function(_EventEmitter) {
            _inherits(Emitter2, _EventEmitter);
            function Emitter2() {
              _classCallCheck(this, Emitter2);
              var _this = _possibleConstructorReturn(this, (Emitter2.__proto__ || Object.getPrototypeOf(Emitter2)).call(this));
              _this.listeners = {};
              _this.on("error", debug.error);
              return _this;
            }
            _createClass(Emitter2, [{
              key: "emit",
              value: function emit() {
                debug.log.apply(debug, arguments);
                _get(Emitter2.prototype.__proto__ || Object.getPrototypeOf(Emitter2.prototype), "emit", this).apply(this, arguments);
              }
            }, {
              key: "handleDOM",
              value: function handleDOM(event2) {
                for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                  args[_key2 - 1] = arguments[_key2];
                }
                (this.listeners[event2.type] || []).forEach(function(_ref) {
                  var node2 = _ref.node, handler = _ref.handler;
                  if (event2.target === node2 || node2.contains(event2.target)) {
                    handler.apply(void 0, [event2].concat(args));
                  }
                });
              }
            }, {
              key: "listenDOM",
              value: function listenDOM(eventName, node2, handler) {
                if (!this.listeners[eventName]) {
                  this.listeners[eventName] = [];
                }
                this.listeners[eventName].push({ node: node2, handler });
              }
            }]);
            return Emitter2;
          }(_eventemitter2.default);
          Emitter.events = {
            EDITOR_CHANGE: "editor-change",
            SCROLL_BEFORE_UPDATE: "scroll-before-update",
            SCROLL_OPTIMIZE: "scroll-optimize",
            SCROLL_UPDATE: "scroll-update",
            SELECTION_CHANGE: "selection-change",
            TEXT_CHANGE: "text-change"
          };
          Emitter.sources = {
            API: "api",
            SILENT: "silent",
            USER: "user"
          };
          exports2.default = Emitter;
        },
        /* 9 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Module = function Module2(quill2) {
            var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
            _classCallCheck(this, Module2);
            this.quill = quill2;
            this.options = options;
          };
          Module.DEFAULTS = {};
          exports2.default = Module;
        },
        /* 10 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var levels = ["error", "warn", "log", "info"];
          var level = "warn";
          function debug(method) {
            if (levels.indexOf(method) <= levels.indexOf(level)) {
              var _console;
              for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                args[_key - 1] = arguments[_key];
              }
              (_console = console)[method].apply(_console, args);
            }
          }
          function namespace(ns2) {
            return levels.reduce(function(logger, method) {
              logger[method] = debug.bind(console, method, ns2);
              return logger;
            }, {});
          }
          debug.level = namespace.level = function(newLevel) {
            level = newLevel;
          };
          exports2.default = namespace;
        },
        /* 11 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var pSlice = Array.prototype.slice;
          var objectKeys = __webpack_require__(52);
          var isArguments = __webpack_require__(53);
          var deepEqual = module2.exports = function(actual, expected, opts) {
            if (!opts)
              opts = {};
            if (actual === expected) {
              return true;
            } else if (actual instanceof Date && expected instanceof Date) {
              return actual.getTime() === expected.getTime();
            } else if (!actual || !expected || typeof actual != "object" && typeof expected != "object") {
              return opts.strict ? actual === expected : actual == expected;
            } else {
              return objEquiv(actual, expected, opts);
            }
          };
          function isUndefinedOrNull(value2) {
            return value2 === null || value2 === void 0;
          }
          function isBuffer2(x) {
            if (!x || typeof x !== "object" || typeof x.length !== "number")
              return false;
            if (typeof x.copy !== "function" || typeof x.slice !== "function") {
              return false;
            }
            if (x.length > 0 && typeof x[0] !== "number")
              return false;
            return true;
          }
          function objEquiv(a, b, opts) {
            var i, key;
            if (isUndefinedOrNull(a) || isUndefinedOrNull(b))
              return false;
            if (a.prototype !== b.prototype)
              return false;
            if (isArguments(a)) {
              if (!isArguments(b)) {
                return false;
              }
              a = pSlice.call(a);
              b = pSlice.call(b);
              return deepEqual(a, b, opts);
            }
            if (isBuffer2(a)) {
              if (!isBuffer2(b)) {
                return false;
              }
              if (a.length !== b.length)
                return false;
              for (i = 0; i < a.length; i++) {
                if (a[i] !== b[i])
                  return false;
              }
              return true;
            }
            try {
              var ka = objectKeys(a), kb = objectKeys(b);
            } catch (e2) {
              return false;
            }
            if (ka.length != kb.length)
              return false;
            ka.sort();
            kb.sort();
            for (i = ka.length - 1; i >= 0; i--) {
              if (ka[i] != kb[i])
                return false;
            }
            for (i = ka.length - 1; i >= 0; i--) {
              key = ka[i];
              if (!deepEqual(a[key], b[key], opts))
                return false;
            }
            return typeof a === typeof b;
          }
        },
        /* 12 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", { value: true });
          var Registry2 = __webpack_require__(1);
          var Attributor = (
            /** @class */
            function() {
              function Attributor2(attrName, keyName, options) {
                if (options === void 0) {
                  options = {};
                }
                this.attrName = attrName;
                this.keyName = keyName;
                var attributeBit = Registry2.Scope.TYPE & Registry2.Scope.ATTRIBUTE;
                if (options.scope != null) {
                  this.scope = options.scope & Registry2.Scope.LEVEL | attributeBit;
                } else {
                  this.scope = Registry2.Scope.ATTRIBUTE;
                }
                if (options.whitelist != null)
                  this.whitelist = options.whitelist;
              }
              Attributor2.keys = function(node2) {
                return [].map.call(node2.attributes, function(item) {
                  return item.name;
                });
              };
              Attributor2.prototype.add = function(node2, value2) {
                if (!this.canAdd(node2, value2))
                  return false;
                node2.setAttribute(this.keyName, value2);
                return true;
              };
              Attributor2.prototype.canAdd = function(node2, value2) {
                var match = Registry2.query(node2, Registry2.Scope.BLOT & (this.scope | Registry2.Scope.TYPE));
                if (match == null)
                  return false;
                if (this.whitelist == null)
                  return true;
                if (typeof value2 === "string") {
                  return this.whitelist.indexOf(value2.replace(/["']/g, "")) > -1;
                } else {
                  return this.whitelist.indexOf(value2) > -1;
                }
              };
              Attributor2.prototype.remove = function(node2) {
                node2.removeAttribute(this.keyName);
              };
              Attributor2.prototype.value = function(node2) {
                var value2 = node2.getAttribute(this.keyName);
                if (this.canAdd(node2, value2) && value2) {
                  return value2;
                }
                return "";
              };
              return Attributor2;
            }()
          );
          exports2.default = Attributor;
        },
        /* 13 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.Code = void 0;
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Code = function(_Inline) {
            _inherits(Code2, _Inline);
            function Code2() {
              _classCallCheck(this, Code2);
              return _possibleConstructorReturn(this, (Code2.__proto__ || Object.getPrototypeOf(Code2)).apply(this, arguments));
            }
            return Code2;
          }(_inline2.default);
          Code.blotName = "code";
          Code.tagName = "CODE";
          var CodeBlock = function(_Block) {
            _inherits(CodeBlock2, _Block);
            function CodeBlock2() {
              _classCallCheck(this, CodeBlock2);
              return _possibleConstructorReturn(this, (CodeBlock2.__proto__ || Object.getPrototypeOf(CodeBlock2)).apply(this, arguments));
            }
            _createClass(CodeBlock2, [{
              key: "delta",
              value: function delta() {
                var _this3 = this;
                var text = this.domNode.textContent;
                if (text.endsWith("\n")) {
                  text = text.slice(0, -1);
                }
                return text.split("\n").reduce(function(delta2, frag) {
                  return delta2.insert(frag).insert("\n", _this3.formats());
                }, new _quillDelta2.default());
              }
            }, {
              key: "format",
              value: function format2(name2, value2) {
                if (name2 === this.statics.blotName && value2)
                  return;
                var _descendant = this.descendant(_text2.default, this.length() - 1), _descendant2 = _slicedToArray2(_descendant, 1), text = _descendant2[0];
                if (text != null) {
                  text.deleteAt(text.length() - 1, 1);
                }
                _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "format", this).call(this, name2, value2);
              }
            }, {
              key: "formatAt",
              value: function formatAt(index2, length, name2, value2) {
                if (length === 0)
                  return;
                if (_parchment2.default.query(name2, _parchment2.default.Scope.BLOCK) == null || name2 === this.statics.blotName && value2 === this.statics.formats(this.domNode)) {
                  return;
                }
                var nextNewline = this.newlineIndex(index2);
                if (nextNewline < 0 || nextNewline >= index2 + length)
                  return;
                var prevNewline = this.newlineIndex(index2, true) + 1;
                var isolateLength = nextNewline - prevNewline + 1;
                var blot = this.isolate(prevNewline, isolateLength);
                var next = blot.next;
                blot.format(name2, value2);
                if (next instanceof CodeBlock2) {
                  next.formatAt(0, index2 - prevNewline + length - isolateLength, name2, value2);
                }
              }
            }, {
              key: "insertAt",
              value: function insertAt(index2, value2, def) {
                if (def != null)
                  return;
                var _descendant3 = this.descendant(_text2.default, index2), _descendant4 = _slicedToArray2(_descendant3, 2), text = _descendant4[0], offset = _descendant4[1];
                text.insertAt(offset, value2);
              }
            }, {
              key: "length",
              value: function length() {
                var length2 = this.domNode.textContent.length;
                if (!this.domNode.textContent.endsWith("\n")) {
                  return length2 + 1;
                }
                return length2;
              }
            }, {
              key: "newlineIndex",
              value: function newlineIndex(searchIndex) {
                var reverse = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                if (!reverse) {
                  var offset = this.domNode.textContent.slice(searchIndex).indexOf("\n");
                  return offset > -1 ? searchIndex + offset : -1;
                } else {
                  return this.domNode.textContent.slice(0, searchIndex).lastIndexOf("\n");
                }
              }
            }, {
              key: "optimize",
              value: function optimize(context) {
                if (!this.domNode.textContent.endsWith("\n")) {
                  this.appendChild(_parchment2.default.create("text", "\n"));
                }
                _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "optimize", this).call(this, context);
                var next = this.next;
                if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {
                  next.optimize(context);
                  next.moveChildren(this);
                  next.remove();
                }
              }
            }, {
              key: "replace",
              value: function replace(target) {
                _get(CodeBlock2.prototype.__proto__ || Object.getPrototypeOf(CodeBlock2.prototype), "replace", this).call(this, target);
                [].slice.call(this.domNode.querySelectorAll("*")).forEach(function(node2) {
                  var blot = _parchment2.default.find(node2);
                  if (blot == null) {
                    node2.parentNode.removeChild(node2);
                  } else if (blot instanceof _parchment2.default.Embed) {
                    blot.remove();
                  } else {
                    blot.unwrap();
                  }
                });
              }
            }], [{
              key: "create",
              value: function create2(value2) {
                var domNode = _get(CodeBlock2.__proto__ || Object.getPrototypeOf(CodeBlock2), "create", this).call(this, value2);
                domNode.setAttribute("spellcheck", false);
                return domNode;
              }
            }, {
              key: "formats",
              value: function formats() {
                return true;
              }
            }]);
            return CodeBlock2;
          }(_block2.default);
          CodeBlock.blotName = "code-block";
          CodeBlock.tagName = "PRE";
          CodeBlock.TAB = "  ";
          exports2.Code = Code;
          exports2.default = CodeBlock;
        },
        /* 14 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
            return typeof obj;
          } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
          };
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _op = __webpack_require__(20);
          var _op2 = _interopRequireDefault(_op);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _code = __webpack_require__(13);
          var _code2 = _interopRequireDefault(_code);
          var _cursor = __webpack_require__(24);
          var _cursor2 = _interopRequireDefault(_cursor);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          var _break = __webpack_require__(16);
          var _break2 = _interopRequireDefault(_break);
          var _clone = __webpack_require__(21);
          var _clone2 = _interopRequireDefault(_clone);
          var _deepEqual = __webpack_require__(11);
          var _deepEqual2 = _interopRequireDefault(_deepEqual);
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var ASCII = /^[ -~]*$/;
          var Editor = function() {
            function Editor2(scroll) {
              _classCallCheck(this, Editor2);
              this.scroll = scroll;
              this.delta = this.getDelta();
            }
            _createClass(Editor2, [{
              key: "applyDelta",
              value: function applyDelta(delta) {
                var _this = this;
                var consumeNextNewline = false;
                this.scroll.update();
                var scrollLength = this.scroll.length();
                this.scroll.batchStart();
                delta = normalizeDelta(delta);
                delta.reduce(function(index2, op) {
                  var length = op.retain || op.delete || op.insert.length || 1;
                  var attributes = op.attributes || {};
                  if (op.insert != null) {
                    if (typeof op.insert === "string") {
                      var text = op.insert;
                      if (text.endsWith("\n") && consumeNextNewline) {
                        consumeNextNewline = false;
                        text = text.slice(0, -1);
                      }
                      if (index2 >= scrollLength && !text.endsWith("\n")) {
                        consumeNextNewline = true;
                      }
                      _this.scroll.insertAt(index2, text);
                      var _scroll$line = _this.scroll.line(index2), _scroll$line2 = _slicedToArray2(_scroll$line, 2), line = _scroll$line2[0], offset = _scroll$line2[1];
                      var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));
                      if (line instanceof _block2.default) {
                        var _line$descendant = line.descendant(_parchment2.default.Leaf, offset), _line$descendant2 = _slicedToArray2(_line$descendant, 1), leaf = _line$descendant2[0];
                        formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));
                      }
                      attributes = _op2.default.attributes.diff(formats, attributes) || {};
                    } else if (_typeof2(op.insert) === "object") {
                      var key = Object.keys(op.insert)[0];
                      if (key == null)
                        return index2;
                      _this.scroll.insertAt(index2, key, op.insert[key]);
                    }
                    scrollLength += length;
                  }
                  Object.keys(attributes).forEach(function(name2) {
                    _this.scroll.formatAt(index2, length, name2, attributes[name2]);
                  });
                  return index2 + length;
                }, 0);
                delta.reduce(function(index2, op) {
                  if (typeof op.delete === "number") {
                    _this.scroll.deleteAt(index2, op.delete);
                    return index2;
                  }
                  return index2 + (op.retain || op.insert.length || 1);
                }, 0);
                this.scroll.batchEnd();
                return this.update(delta);
              }
            }, {
              key: "deleteText",
              value: function deleteText(index2, length) {
                this.scroll.deleteAt(index2, length);
                return this.update(new _quillDelta2.default().retain(index2).delete(length));
              }
            }, {
              key: "formatLine",
              value: function formatLine(index2, length) {
                var _this2 = this;
                var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                this.scroll.update();
                Object.keys(formats).forEach(function(format2) {
                  if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format2])
                    return;
                  var lines = _this2.scroll.lines(index2, Math.max(length, 1));
                  var lengthRemaining = length;
                  lines.forEach(function(line) {
                    var lineLength = line.length();
                    if (!(line instanceof _code2.default)) {
                      line.format(format2, formats[format2]);
                    } else {
                      var codeIndex = index2 - line.offset(_this2.scroll);
                      var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;
                      line.formatAt(codeIndex, codeLength, format2, formats[format2]);
                    }
                    lengthRemaining -= lineLength;
                  });
                });
                this.scroll.optimize();
                return this.update(new _quillDelta2.default().retain(index2).retain(length, (0, _clone2.default)(formats)));
              }
            }, {
              key: "formatText",
              value: function formatText(index2, length) {
                var _this3 = this;
                var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                Object.keys(formats).forEach(function(format2) {
                  _this3.scroll.formatAt(index2, length, format2, formats[format2]);
                });
                return this.update(new _quillDelta2.default().retain(index2).retain(length, (0, _clone2.default)(formats)));
              }
            }, {
              key: "getContents",
              value: function getContents(index2, length) {
                return this.delta.slice(index2, index2 + length);
              }
            }, {
              key: "getDelta",
              value: function getDelta() {
                return this.scroll.lines().reduce(function(delta, line) {
                  return delta.concat(line.delta());
                }, new _quillDelta2.default());
              }
            }, {
              key: "getFormat",
              value: function getFormat(index2) {
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                var lines = [], leaves = [];
                if (length === 0) {
                  this.scroll.path(index2).forEach(function(path) {
                    var _path = _slicedToArray2(path, 1), blot = _path[0];
                    if (blot instanceof _block2.default) {
                      lines.push(blot);
                    } else if (blot instanceof _parchment2.default.Leaf) {
                      leaves.push(blot);
                    }
                  });
                } else {
                  lines = this.scroll.lines(index2, length);
                  leaves = this.scroll.descendants(_parchment2.default.Leaf, index2, length);
                }
                var formatsArr = [lines, leaves].map(function(blots) {
                  if (blots.length === 0)
                    return {};
                  var formats = (0, _block.bubbleFormats)(blots.shift());
                  while (Object.keys(formats).length > 0) {
                    var blot = blots.shift();
                    if (blot == null)
                      return formats;
                    formats = combineFormats((0, _block.bubbleFormats)(blot), formats);
                  }
                  return formats;
                });
                return _extend2.default.apply(_extend2.default, formatsArr);
              }
            }, {
              key: "getText",
              value: function getText(index2, length) {
                return this.getContents(index2, length).filter(function(op) {
                  return typeof op.insert === "string";
                }).map(function(op) {
                  return op.insert;
                }).join("");
              }
            }, {
              key: "insertEmbed",
              value: function insertEmbed(index2, embed, value2) {
                this.scroll.insertAt(index2, embed, value2);
                return this.update(new _quillDelta2.default().retain(index2).insert(_defineProperty2({}, embed, value2)));
              }
            }, {
              key: "insertText",
              value: function insertText(index2, text) {
                var _this4 = this;
                var formats = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                text = text.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
                this.scroll.insertAt(index2, text);
                Object.keys(formats).forEach(function(format2) {
                  _this4.scroll.formatAt(index2, text.length, format2, formats[format2]);
                });
                return this.update(new _quillDelta2.default().retain(index2).insert(text, (0, _clone2.default)(formats)));
              }
            }, {
              key: "isBlank",
              value: function isBlank() {
                if (this.scroll.children.length == 0)
                  return true;
                if (this.scroll.children.length > 1)
                  return false;
                var block = this.scroll.children.head;
                if (block.statics.blotName !== _block2.default.blotName)
                  return false;
                if (block.children.length > 1)
                  return false;
                return block.children.head instanceof _break2.default;
              }
            }, {
              key: "removeFormat",
              value: function removeFormat(index2, length) {
                var text = this.getText(index2, length);
                var _scroll$line3 = this.scroll.line(index2 + length), _scroll$line4 = _slicedToArray2(_scroll$line3, 2), line = _scroll$line4[0], offset = _scroll$line4[1];
                var suffixLength = 0, suffix = new _quillDelta2.default();
                if (line != null) {
                  if (!(line instanceof _code2.default)) {
                    suffixLength = line.length() - offset;
                  } else {
                    suffixLength = line.newlineIndex(offset) - offset + 1;
                  }
                  suffix = line.delta().slice(offset, offset + suffixLength - 1).insert("\n");
                }
                var contents = this.getContents(index2, length + suffixLength);
                var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));
                var delta = new _quillDelta2.default().retain(index2).concat(diff);
                return this.applyDelta(delta);
              }
            }, {
              key: "update",
              value: function update(change) {
                var mutations = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
                var cursorIndex = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
                var oldDelta = this.delta;
                if (mutations.length === 1 && mutations[0].type === "characterData" && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {
                  var textBlot = _parchment2.default.find(mutations[0].target);
                  var formats = (0, _block.bubbleFormats)(textBlot);
                  var index2 = textBlot.offset(this.scroll);
                  var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, "");
                  var oldText = new _quillDelta2.default().insert(oldValue);
                  var newText = new _quillDelta2.default().insert(textBlot.value());
                  var diffDelta = new _quillDelta2.default().retain(index2).concat(oldText.diff(newText, cursorIndex));
                  change = diffDelta.reduce(function(delta, op) {
                    if (op.insert) {
                      return delta.insert(op.insert, formats);
                    } else {
                      return delta.push(op);
                    }
                  }, new _quillDelta2.default());
                  this.delta = oldDelta.compose(change);
                } else {
                  this.delta = this.getDelta();
                  if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {
                    change = oldDelta.diff(this.delta, cursorIndex);
                  }
                }
                return change;
              }
            }]);
            return Editor2;
          }();
          function combineFormats(formats, combined) {
            return Object.keys(combined).reduce(function(merged, name2) {
              if (formats[name2] == null)
                return merged;
              if (combined[name2] === formats[name2]) {
                merged[name2] = combined[name2];
              } else if (Array.isArray(combined[name2])) {
                if (combined[name2].indexOf(formats[name2]) < 0) {
                  merged[name2] = combined[name2].concat([formats[name2]]);
                }
              } else {
                merged[name2] = [combined[name2], formats[name2]];
              }
              return merged;
            }, {});
          }
          function normalizeDelta(delta) {
            return delta.reduce(function(delta2, op) {
              if (op.insert === 1) {
                var attributes = (0, _clone2.default)(op.attributes);
                delete attributes["image"];
                return delta2.insert({ image: op.attributes.image }, attributes);
              }
              if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {
                op = (0, _clone2.default)(op);
                if (op.attributes.list) {
                  op.attributes.list = "ordered";
                } else {
                  op.attributes.list = "bullet";
                  delete op.attributes.bullet;
                }
              }
              if (typeof op.insert === "string") {
                var text = op.insert.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
                return delta2.insert(text, op.attributes);
              }
              return delta2.push(op);
            }, new _quillDelta2.default());
          }
          exports2.default = Editor;
        },
        /* 15 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.Range = void 0;
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _clone = __webpack_require__(21);
          var _clone2 = _interopRequireDefault(_clone);
          var _deepEqual = __webpack_require__(11);
          var _deepEqual2 = _interopRequireDefault(_deepEqual);
          var _emitter3 = __webpack_require__(8);
          var _emitter4 = _interopRequireDefault(_emitter3);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _toConsumableArray(arr) {
            if (Array.isArray(arr)) {
              for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
                arr2[i] = arr[i];
              }
              return arr2;
            } else {
              return Array.from(arr);
            }
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var debug = (0, _logger2.default)("quill:selection");
          var Range = function Range2(index2) {
            var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
            _classCallCheck(this, Range2);
            this.index = index2;
            this.length = length;
          };
          var Selection2 = function() {
            function Selection3(scroll, emitter2) {
              var _this = this;
              _classCallCheck(this, Selection3);
              this.emitter = emitter2;
              this.scroll = scroll;
              this.composing = false;
              this.mouseDown = false;
              this.root = this.scroll.domNode;
              this.cursor = _parchment2.default.create("cursor", this);
              this.lastRange = this.savedRange = new Range(0, 0);
              this.handleComposition();
              this.handleDragging();
              this.emitter.listenDOM("selectionchange", document, function() {
                if (!_this.mouseDown) {
                  setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);
                }
              });
              this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function(type, delta) {
                if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {
                  _this.update(_emitter4.default.sources.SILENT);
                }
              });
              this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function() {
                if (!_this.hasFocus())
                  return;
                var native = _this.getNativeRange();
                if (native == null)
                  return;
                if (native.start.node === _this.cursor.textNode)
                  return;
                _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function() {
                  try {
                    _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);
                  } catch (ignored) {
                  }
                });
              });
              this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function(mutations, context) {
                if (context.range) {
                  var _context$range = context.range, startNode = _context$range.startNode, startOffset = _context$range.startOffset, endNode = _context$range.endNode, endOffset = _context$range.endOffset;
                  _this.setNativeRange(startNode, startOffset, endNode, endOffset);
                }
              });
              this.update(_emitter4.default.sources.SILENT);
            }
            _createClass(Selection3, [{
              key: "handleComposition",
              value: function handleComposition() {
                var _this2 = this;
                this.root.addEventListener("compositionstart", function() {
                  _this2.composing = true;
                });
                this.root.addEventListener("compositionend", function() {
                  _this2.composing = false;
                  if (_this2.cursor.parent) {
                    var range = _this2.cursor.restore();
                    if (!range)
                      return;
                    setTimeout(function() {
                      _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);
                    }, 1);
                  }
                });
              }
            }, {
              key: "handleDragging",
              value: function handleDragging() {
                var _this3 = this;
                this.emitter.listenDOM("mousedown", document.body, function() {
                  _this3.mouseDown = true;
                });
                this.emitter.listenDOM("mouseup", document.body, function() {
                  _this3.mouseDown = false;
                  _this3.update(_emitter4.default.sources.USER);
                });
              }
            }, {
              key: "focus",
              value: function focus() {
                if (this.hasFocus())
                  return;
                this.root.focus();
                this.setRange(this.savedRange);
              }
            }, {
              key: "format",
              value: function format2(_format, value2) {
                if (this.scroll.whitelist != null && !this.scroll.whitelist[_format])
                  return;
                this.scroll.update();
                var nativeRange = this.getNativeRange();
                if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK))
                  return;
                if (nativeRange.start.node !== this.cursor.textNode) {
                  var blot = _parchment2.default.find(nativeRange.start.node, false);
                  if (blot == null)
                    return;
                  if (blot instanceof _parchment2.default.Leaf) {
                    var after = blot.split(nativeRange.start.offset);
                    blot.parent.insertBefore(this.cursor, after);
                  } else {
                    blot.insertBefore(this.cursor, nativeRange.start.node);
                  }
                  this.cursor.attach();
                }
                this.cursor.format(_format, value2);
                this.scroll.optimize();
                this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);
                this.update();
              }
            }, {
              key: "getBounds",
              value: function getBounds(index2) {
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
                var scrollLength = this.scroll.length();
                index2 = Math.min(index2, scrollLength - 1);
                length = Math.min(index2 + length, scrollLength - 1) - index2;
                var node2 = void 0, _scroll$leaf = this.scroll.leaf(index2), _scroll$leaf2 = _slicedToArray2(_scroll$leaf, 2), leaf = _scroll$leaf2[0], offset = _scroll$leaf2[1];
                if (leaf == null)
                  return null;
                var _leaf$position = leaf.position(offset, true);
                var _leaf$position2 = _slicedToArray2(_leaf$position, 2);
                node2 = _leaf$position2[0];
                offset = _leaf$position2[1];
                var range = document.createRange();
                if (length > 0) {
                  range.setStart(node2, offset);
                  var _scroll$leaf3 = this.scroll.leaf(index2 + length);
                  var _scroll$leaf4 = _slicedToArray2(_scroll$leaf3, 2);
                  leaf = _scroll$leaf4[0];
                  offset = _scroll$leaf4[1];
                  if (leaf == null)
                    return null;
                  var _leaf$position3 = leaf.position(offset, true);
                  var _leaf$position4 = _slicedToArray2(_leaf$position3, 2);
                  node2 = _leaf$position4[0];
                  offset = _leaf$position4[1];
                  range.setEnd(node2, offset);
                  return range.getBoundingClientRect();
                } else {
                  var side = "left";
                  var rect = void 0;
                  if (node2 instanceof Text) {
                    if (offset < node2.data.length) {
                      range.setStart(node2, offset);
                      range.setEnd(node2, offset + 1);
                    } else {
                      range.setStart(node2, offset - 1);
                      range.setEnd(node2, offset);
                      side = "right";
                    }
                    rect = range.getBoundingClientRect();
                  } else {
                    rect = leaf.domNode.getBoundingClientRect();
                    if (offset > 0)
                      side = "right";
                  }
                  return {
                    bottom: rect.top + rect.height,
                    height: rect.height,
                    left: rect[side],
                    right: rect[side],
                    top: rect.top,
                    width: 0
                  };
                }
              }
            }, {
              key: "getNativeRange",
              value: function getNativeRange() {
                var selection = document.getSelection();
                if (selection == null || selection.rangeCount <= 0)
                  return null;
                var nativeRange = selection.getRangeAt(0);
                if (nativeRange == null)
                  return null;
                var range = this.normalizeNative(nativeRange);
                debug.info("getNativeRange", range);
                return range;
              }
            }, {
              key: "getRange",
              value: function getRange() {
                var normalized = this.getNativeRange();
                if (normalized == null)
                  return [null, null];
                var range = this.normalizedToRange(normalized);
                return [range, normalized];
              }
            }, {
              key: "hasFocus",
              value: function hasFocus() {
                return document.activeElement === this.root;
              }
            }, {
              key: "normalizedToRange",
              value: function normalizedToRange(range) {
                var _this4 = this;
                var positions = [[range.start.node, range.start.offset]];
                if (!range.native.collapsed) {
                  positions.push([range.end.node, range.end.offset]);
                }
                var indexes = positions.map(function(position) {
                  var _position = _slicedToArray2(position, 2), node2 = _position[0], offset = _position[1];
                  var blot = _parchment2.default.find(node2, true);
                  var index2 = blot.offset(_this4.scroll);
                  if (offset === 0) {
                    return index2;
                  } else if (blot instanceof _parchment2.default.Container) {
                    return index2 + blot.length();
                  } else {
                    return index2 + blot.index(node2, offset);
                  }
                });
                var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);
                var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));
                return new Range(start, end - start);
              }
            }, {
              key: "normalizeNative",
              value: function normalizeNative(nativeRange) {
                if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {
                  return null;
                }
                var range = {
                  start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },
                  end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },
                  native: nativeRange
                };
                [range.start, range.end].forEach(function(position) {
                  var node2 = position.node, offset = position.offset;
                  while (!(node2 instanceof Text) && node2.childNodes.length > 0) {
                    if (node2.childNodes.length > offset) {
                      node2 = node2.childNodes[offset];
                      offset = 0;
                    } else if (node2.childNodes.length === offset) {
                      node2 = node2.lastChild;
                      offset = node2 instanceof Text ? node2.data.length : node2.childNodes.length + 1;
                    } else {
                      break;
                    }
                  }
                  position.node = node2, position.offset = offset;
                });
                return range;
              }
            }, {
              key: "rangeToNative",
              value: function rangeToNative(range) {
                var _this5 = this;
                var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];
                var args = [];
                var scrollLength = this.scroll.length();
                indexes.forEach(function(index2, i) {
                  index2 = Math.min(scrollLength - 1, index2);
                  var node2 = void 0, _scroll$leaf5 = _this5.scroll.leaf(index2), _scroll$leaf6 = _slicedToArray2(_scroll$leaf5, 2), leaf = _scroll$leaf6[0], offset = _scroll$leaf6[1];
                  var _leaf$position5 = leaf.position(offset, i !== 0);
                  var _leaf$position6 = _slicedToArray2(_leaf$position5, 2);
                  node2 = _leaf$position6[0];
                  offset = _leaf$position6[1];
                  args.push(node2, offset);
                });
                if (args.length < 2) {
                  args = args.concat(args);
                }
                return args;
              }
            }, {
              key: "scrollIntoView",
              value: function scrollIntoView(scrollingContainer) {
                var range = this.lastRange;
                if (range == null)
                  return;
                var bounds = this.getBounds(range.index, range.length);
                if (bounds == null)
                  return;
                var limit = this.scroll.length() - 1;
                var _scroll$line = this.scroll.line(Math.min(range.index, limit)), _scroll$line2 = _slicedToArray2(_scroll$line, 1), first = _scroll$line2[0];
                var last = first;
                if (range.length > 0) {
                  var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));
                  var _scroll$line4 = _slicedToArray2(_scroll$line3, 1);
                  last = _scroll$line4[0];
                }
                if (first == null || last == null)
                  return;
                var scrollBounds = scrollingContainer.getBoundingClientRect();
                if (bounds.top < scrollBounds.top) {
                  scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;
                } else if (bounds.bottom > scrollBounds.bottom) {
                  scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;
                }
              }
            }, {
              key: "setNativeRange",
              value: function setNativeRange(startNode, startOffset) {
                var endNode = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : startNode;
                var endOffset = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : startOffset;
                var force = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;
                debug.info("setNativeRange", startNode, startOffset, endNode, endOffset);
                if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {
                  return;
                }
                var selection = document.getSelection();
                if (selection == null)
                  return;
                if (startNode != null) {
                  if (!this.hasFocus())
                    this.root.focus();
                  var native = (this.getNativeRange() || {}).native;
                  if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {
                    if (startNode.tagName == "BR") {
                      startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);
                      startNode = startNode.parentNode;
                    }
                    if (endNode.tagName == "BR") {
                      endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);
                      endNode = endNode.parentNode;
                    }
                    var range = document.createRange();
                    range.setStart(startNode, startOffset);
                    range.setEnd(endNode, endOffset);
                    selection.removeAllRanges();
                    selection.addRange(range);
                  }
                } else {
                  selection.removeAllRanges();
                  this.root.blur();
                  document.body.focus();
                }
              }
            }, {
              key: "setRange",
              value: function setRange(range) {
                var force = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _emitter4.default.sources.API;
                if (typeof force === "string") {
                  source = force;
                  force = false;
                }
                debug.info("setRange", range);
                if (range != null) {
                  var args = this.rangeToNative(range);
                  this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));
                } else {
                  this.setNativeRange(null);
                }
                this.update(source);
              }
            }, {
              key: "update",
              value: function update() {
                var source = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : _emitter4.default.sources.USER;
                var oldRange = this.lastRange;
                var _getRange = this.getRange(), _getRange2 = _slicedToArray2(_getRange, 2), lastRange = _getRange2[0], nativeRange = _getRange2[1];
                this.lastRange = lastRange;
                if (this.lastRange != null) {
                  this.savedRange = this.lastRange;
                }
                if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {
                  var _emitter;
                  if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {
                    this.cursor.restore();
                  }
                  var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];
                  (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));
                  if (source !== _emitter4.default.sources.SILENT) {
                    var _emitter2;
                    (_emitter2 = this.emitter).emit.apply(_emitter2, args);
                  }
                }
              }
            }]);
            return Selection3;
          }();
          function contains(parent, descendant) {
            try {
              descendant.parentNode;
            } catch (e2) {
              return false;
            }
            if (descendant instanceof Text) {
              descendant = descendant.parentNode;
            }
            return parent.contains(descendant);
          }
          exports2.Range = Range;
          exports2.default = Selection2;
        },
        /* 16 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Break = function(_Parchment$Embed) {
            _inherits(Break2, _Parchment$Embed);
            function Break2() {
              _classCallCheck(this, Break2);
              return _possibleConstructorReturn(this, (Break2.__proto__ || Object.getPrototypeOf(Break2)).apply(this, arguments));
            }
            _createClass(Break2, [{
              key: "insertInto",
              value: function insertInto(parent, ref2) {
                if (parent.children.length === 0) {
                  _get(Break2.prototype.__proto__ || Object.getPrototypeOf(Break2.prototype), "insertInto", this).call(this, parent, ref2);
                } else {
                  this.remove();
                }
              }
            }, {
              key: "length",
              value: function length() {
                return 0;
              }
            }, {
              key: "value",
              value: function value2() {
                return "";
              }
            }], [{
              key: "value",
              value: function value2() {
                return void 0;
              }
            }]);
            return Break2;
          }(_parchment2.default.Embed);
          Break.blotName = "break";
          Break.tagName = "BR";
          exports2.default = Break;
        },
        /* 17 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var linked_list_1 = __webpack_require__(44);
          var shadow_1 = __webpack_require__(30);
          var Registry2 = __webpack_require__(1);
          var ContainerBlot = (
            /** @class */
            function(_super) {
              __extends(ContainerBlot2, _super);
              function ContainerBlot2(domNode) {
                var _this = _super.call(this, domNode) || this;
                _this.build();
                return _this;
              }
              ContainerBlot2.prototype.appendChild = function(other) {
                this.insertBefore(other);
              };
              ContainerBlot2.prototype.attach = function() {
                _super.prototype.attach.call(this);
                this.children.forEach(function(child) {
                  child.attach();
                });
              };
              ContainerBlot2.prototype.build = function() {
                var _this = this;
                this.children = new linked_list_1.default();
                [].slice.call(this.domNode.childNodes).reverse().forEach(function(node2) {
                  try {
                    var child = makeBlot(node2);
                    _this.insertBefore(child, _this.children.head || void 0);
                  } catch (err) {
                    if (err instanceof Registry2.ParchmentError)
                      return;
                    else
                      throw err;
                  }
                });
              };
              ContainerBlot2.prototype.deleteAt = function(index2, length) {
                if (index2 === 0 && length === this.length()) {
                  return this.remove();
                }
                this.children.forEachAt(index2, length, function(child, offset, length2) {
                  child.deleteAt(offset, length2);
                });
              };
              ContainerBlot2.prototype.descendant = function(criteria, index2) {
                var _a = this.children.find(index2), child = _a[0], offset = _a[1];
                if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {
                  return [child, offset];
                } else if (child instanceof ContainerBlot2) {
                  return child.descendant(criteria, offset);
                } else {
                  return [null, -1];
                }
              };
              ContainerBlot2.prototype.descendants = function(criteria, index2, length) {
                if (index2 === void 0) {
                  index2 = 0;
                }
                if (length === void 0) {
                  length = Number.MAX_VALUE;
                }
                var descendants = [];
                var lengthLeft = length;
                this.children.forEachAt(index2, length, function(child, index3, length2) {
                  if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {
                    descendants.push(child);
                  }
                  if (child instanceof ContainerBlot2) {
                    descendants = descendants.concat(child.descendants(criteria, index3, lengthLeft));
                  }
                  lengthLeft -= length2;
                });
                return descendants;
              };
              ContainerBlot2.prototype.detach = function() {
                this.children.forEach(function(child) {
                  child.detach();
                });
                _super.prototype.detach.call(this);
              };
              ContainerBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                this.children.forEachAt(index2, length, function(child, offset, length2) {
                  child.formatAt(offset, length2, name2, value2);
                });
              };
              ContainerBlot2.prototype.insertAt = function(index2, value2, def) {
                var _a = this.children.find(index2), child = _a[0], offset = _a[1];
                if (child) {
                  child.insertAt(offset, value2, def);
                } else {
                  var blot = def == null ? Registry2.create("text", value2) : Registry2.create(value2, def);
                  this.appendChild(blot);
                }
              };
              ContainerBlot2.prototype.insertBefore = function(childBlot, refBlot) {
                if (this.statics.allowedChildren != null && !this.statics.allowedChildren.some(function(child) {
                  return childBlot instanceof child;
                })) {
                  throw new Registry2.ParchmentError("Cannot insert " + childBlot.statics.blotName + " into " + this.statics.blotName);
                }
                childBlot.insertInto(this, refBlot);
              };
              ContainerBlot2.prototype.length = function() {
                return this.children.reduce(function(memo, child) {
                  return memo + child.length();
                }, 0);
              };
              ContainerBlot2.prototype.moveChildren = function(targetParent, refNode) {
                this.children.forEach(function(child) {
                  targetParent.insertBefore(child, refNode);
                });
              };
              ContainerBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                if (this.children.length === 0) {
                  if (this.statics.defaultChild != null) {
                    var child = Registry2.create(this.statics.defaultChild);
                    this.appendChild(child);
                    child.optimize(context);
                  } else {
                    this.remove();
                  }
                }
              };
              ContainerBlot2.prototype.path = function(index2, inclusive) {
                if (inclusive === void 0) {
                  inclusive = false;
                }
                var _a = this.children.find(index2, inclusive), child = _a[0], offset = _a[1];
                var position = [[this, index2]];
                if (child instanceof ContainerBlot2) {
                  return position.concat(child.path(offset, inclusive));
                } else if (child != null) {
                  position.push([child, offset]);
                }
                return position;
              };
              ContainerBlot2.prototype.removeChild = function(child) {
                this.children.remove(child);
              };
              ContainerBlot2.prototype.replace = function(target) {
                if (target instanceof ContainerBlot2) {
                  target.moveChildren(this);
                }
                _super.prototype.replace.call(this, target);
              };
              ContainerBlot2.prototype.split = function(index2, force) {
                if (force === void 0) {
                  force = false;
                }
                if (!force) {
                  if (index2 === 0)
                    return this;
                  if (index2 === this.length())
                    return this.next;
                }
                var after = this.clone();
                this.parent.insertBefore(after, this.next);
                this.children.forEachAt(index2, this.length(), function(child, offset, length) {
                  child = child.split(offset, force);
                  after.appendChild(child);
                });
                return after;
              };
              ContainerBlot2.prototype.unwrap = function() {
                this.moveChildren(this.parent, this.next);
                this.remove();
              };
              ContainerBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                var addedNodes = [];
                var removedNodes = [];
                mutations.forEach(function(mutation) {
                  if (mutation.target === _this.domNode && mutation.type === "childList") {
                    addedNodes.push.apply(addedNodes, mutation.addedNodes);
                    removedNodes.push.apply(removedNodes, mutation.removedNodes);
                  }
                });
                removedNodes.forEach(function(node2) {
                  if (node2.parentNode != null && // @ts-ignore
                  node2.tagName !== "IFRAME" && document.body.compareDocumentPosition(node2) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
                    return;
                  }
                  var blot = Registry2.find(node2);
                  if (blot == null)
                    return;
                  if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {
                    blot.detach();
                  }
                });
                addedNodes.filter(function(node2) {
                  return node2.parentNode == _this.domNode;
                }).sort(function(a, b) {
                  if (a === b)
                    return 0;
                  if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {
                    return 1;
                  }
                  return -1;
                }).forEach(function(node2) {
                  var refBlot = null;
                  if (node2.nextSibling != null) {
                    refBlot = Registry2.find(node2.nextSibling);
                  }
                  var blot = makeBlot(node2);
                  if (blot.next != refBlot || blot.next == null) {
                    if (blot.parent != null) {
                      blot.parent.removeChild(_this);
                    }
                    _this.insertBefore(blot, refBlot || void 0);
                  }
                });
              };
              return ContainerBlot2;
            }(shadow_1.default)
          );
          function makeBlot(node2) {
            var blot = Registry2.find(node2);
            if (blot == null) {
              try {
                blot = Registry2.create(node2);
              } catch (e2) {
                blot = Registry2.create(Registry2.Scope.INLINE);
                [].slice.call(node2.childNodes).forEach(function(child) {
                  blot.domNode.appendChild(child);
                });
                if (node2.parentNode) {
                  node2.parentNode.replaceChild(blot.domNode, node2);
                }
                blot.attach();
              }
            }
            return blot;
          }
          exports2.default = ContainerBlot;
        },
        /* 18 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var attributor_1 = __webpack_require__(12);
          var store_1 = __webpack_require__(31);
          var container_1 = __webpack_require__(17);
          var Registry2 = __webpack_require__(1);
          var FormatBlot = (
            /** @class */
            function(_super) {
              __extends(FormatBlot2, _super);
              function FormatBlot2(domNode) {
                var _this = _super.call(this, domNode) || this;
                _this.attributes = new store_1.default(_this.domNode);
                return _this;
              }
              FormatBlot2.formats = function(domNode) {
                if (typeof this.tagName === "string") {
                  return true;
                } else if (Array.isArray(this.tagName)) {
                  return domNode.tagName.toLowerCase();
                }
                return void 0;
              };
              FormatBlot2.prototype.format = function(name2, value2) {
                var format2 = Registry2.query(name2);
                if (format2 instanceof attributor_1.default) {
                  this.attributes.attribute(format2, value2);
                } else if (value2) {
                  if (format2 != null && (name2 !== this.statics.blotName || this.formats()[name2] !== value2)) {
                    this.replaceWith(name2, value2);
                  }
                }
              };
              FormatBlot2.prototype.formats = function() {
                var formats = this.attributes.values();
                var format2 = this.statics.formats(this.domNode);
                if (format2 != null) {
                  formats[this.statics.blotName] = format2;
                }
                return formats;
              };
              FormatBlot2.prototype.replaceWith = function(name2, value2) {
                var replacement = _super.prototype.replaceWith.call(this, name2, value2);
                this.attributes.copy(replacement);
                return replacement;
              };
              FormatBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                _super.prototype.update.call(this, mutations, context);
                if (mutations.some(function(mutation) {
                  return mutation.target === _this.domNode && mutation.type === "attributes";
                })) {
                  this.attributes.build();
                }
              };
              FormatBlot2.prototype.wrap = function(name2, value2) {
                var wrapper = _super.prototype.wrap.call(this, name2, value2);
                if (wrapper instanceof FormatBlot2 && wrapper.statics.scope === this.statics.scope) {
                  this.attributes.move(wrapper);
                }
                return wrapper;
              };
              return FormatBlot2;
            }(container_1.default)
          );
          exports2.default = FormatBlot;
        },
        /* 19 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var shadow_1 = __webpack_require__(30);
          var Registry2 = __webpack_require__(1);
          var LeafBlot = (
            /** @class */
            function(_super) {
              __extends(LeafBlot2, _super);
              function LeafBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              LeafBlot2.value = function(domNode) {
                return true;
              };
              LeafBlot2.prototype.index = function(node2, offset) {
                if (this.domNode === node2 || this.domNode.compareDocumentPosition(node2) & Node.DOCUMENT_POSITION_CONTAINED_BY) {
                  return Math.min(offset, 1);
                }
                return -1;
              };
              LeafBlot2.prototype.position = function(index2, inclusive) {
                var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);
                if (index2 > 0)
                  offset += 1;
                return [this.parent.domNode, offset];
              };
              LeafBlot2.prototype.value = function() {
                var _a;
                return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;
              };
              LeafBlot2.scope = Registry2.Scope.INLINE_BLOT;
              return LeafBlot2;
            }(shadow_1.default)
          );
          exports2.default = LeafBlot;
        },
        /* 20 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var equal = __webpack_require__(11);
          var extend2 = __webpack_require__(3);
          var lib = {
            attributes: {
              compose: function(a, b, keepNull) {
                if (typeof a !== "object")
                  a = {};
                if (typeof b !== "object")
                  b = {};
                var attributes = extend2(true, {}, b);
                if (!keepNull) {
                  attributes = Object.keys(attributes).reduce(function(copy, key2) {
                    if (attributes[key2] != null) {
                      copy[key2] = attributes[key2];
                    }
                    return copy;
                  }, {});
                }
                for (var key in a) {
                  if (a[key] !== void 0 && b[key] === void 0) {
                    attributes[key] = a[key];
                  }
                }
                return Object.keys(attributes).length > 0 ? attributes : void 0;
              },
              diff: function(a, b) {
                if (typeof a !== "object")
                  a = {};
                if (typeof b !== "object")
                  b = {};
                var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function(attributes2, key) {
                  if (!equal(a[key], b[key])) {
                    attributes2[key] = b[key] === void 0 ? null : b[key];
                  }
                  return attributes2;
                }, {});
                return Object.keys(attributes).length > 0 ? attributes : void 0;
              },
              transform: function(a, b, priority) {
                if (typeof a !== "object")
                  return b;
                if (typeof b !== "object")
                  return void 0;
                if (!priority)
                  return b;
                var attributes = Object.keys(b).reduce(function(attributes2, key) {
                  if (a[key] === void 0)
                    attributes2[key] = b[key];
                  return attributes2;
                }, {});
                return Object.keys(attributes).length > 0 ? attributes : void 0;
              }
            },
            iterator: function(ops) {
              return new Iterator(ops);
            },
            length: function(op) {
              if (typeof op["delete"] === "number") {
                return op["delete"];
              } else if (typeof op.retain === "number") {
                return op.retain;
              } else {
                return typeof op.insert === "string" ? op.insert.length : 1;
              }
            }
          };
          function Iterator(ops) {
            this.ops = ops;
            this.index = 0;
            this.offset = 0;
          }
          Iterator.prototype.hasNext = function() {
            return this.peekLength() < Infinity;
          };
          Iterator.prototype.next = function(length) {
            if (!length)
              length = Infinity;
            var nextOp = this.ops[this.index];
            if (nextOp) {
              var offset = this.offset;
              var opLength = lib.length(nextOp);
              if (length >= opLength - offset) {
                length = opLength - offset;
                this.index += 1;
                this.offset = 0;
              } else {
                this.offset += length;
              }
              if (typeof nextOp["delete"] === "number") {
                return { "delete": length };
              } else {
                var retOp = {};
                if (nextOp.attributes) {
                  retOp.attributes = nextOp.attributes;
                }
                if (typeof nextOp.retain === "number") {
                  retOp.retain = length;
                } else if (typeof nextOp.insert === "string") {
                  retOp.insert = nextOp.insert.substr(offset, length);
                } else {
                  retOp.insert = nextOp.insert;
                }
                return retOp;
              }
            } else {
              return { retain: Infinity };
            }
          };
          Iterator.prototype.peek = function() {
            return this.ops[this.index];
          };
          Iterator.prototype.peekLength = function() {
            if (this.ops[this.index]) {
              return lib.length(this.ops[this.index]) - this.offset;
            } else {
              return Infinity;
            }
          };
          Iterator.prototype.peekType = function() {
            if (this.ops[this.index]) {
              if (typeof this.ops[this.index]["delete"] === "number") {
                return "delete";
              } else if (typeof this.ops[this.index].retain === "number") {
                return "retain";
              } else {
                return "insert";
              }
            }
            return "retain";
          };
          Iterator.prototype.rest = function() {
            if (!this.hasNext()) {
              return [];
            } else if (this.offset === 0) {
              return this.ops.slice(this.index);
            } else {
              var offset = this.offset;
              var index2 = this.index;
              var next = this.next();
              var rest = this.ops.slice(this.index);
              this.offset = offset;
              this.index = index2;
              return [next].concat(rest);
            }
          };
          module2.exports = lib;
        },
        /* 21 */
        /***/
        function(module2, exports2) {
          var clone2 = function() {
            function _instanceof(obj, type) {
              return type != null && obj instanceof type;
            }
            var nativeMap;
            try {
              nativeMap = Map;
            } catch (_) {
              nativeMap = function() {
              };
            }
            var nativeSet;
            try {
              nativeSet = Set;
            } catch (_) {
              nativeSet = function() {
              };
            }
            var nativePromise;
            try {
              nativePromise = Promise;
            } catch (_) {
              nativePromise = function() {
              };
            }
            function clone3(parent, circular, depth, prototype2, includeNonEnumerable) {
              if (typeof circular === "object") {
                depth = circular.depth;
                prototype2 = circular.prototype;
                includeNonEnumerable = circular.includeNonEnumerable;
                circular = circular.circular;
              }
              var allParents = [];
              var allChildren = [];
              var useBuffer = typeof Buffer != "undefined";
              if (typeof circular == "undefined")
                circular = true;
              if (typeof depth == "undefined")
                depth = Infinity;
              function _clone(parent2, depth2) {
                if (parent2 === null)
                  return null;
                if (depth2 === 0)
                  return parent2;
                var child;
                var proto;
                if (typeof parent2 != "object") {
                  return parent2;
                }
                if (_instanceof(parent2, nativeMap)) {
                  child = new nativeMap();
                } else if (_instanceof(parent2, nativeSet)) {
                  child = new nativeSet();
                } else if (_instanceof(parent2, nativePromise)) {
                  child = new nativePromise(function(resolve, reject) {
                    parent2.then(function(value2) {
                      resolve(_clone(value2, depth2 - 1));
                    }, function(err) {
                      reject(_clone(err, depth2 - 1));
                    });
                  });
                } else if (clone3.__isArray(parent2)) {
                  child = [];
                } else if (clone3.__isRegExp(parent2)) {
                  child = new RegExp(parent2.source, __getRegExpFlags(parent2));
                  if (parent2.lastIndex)
                    child.lastIndex = parent2.lastIndex;
                } else if (clone3.__isDate(parent2)) {
                  child = new Date(parent2.getTime());
                } else if (useBuffer && Buffer.isBuffer(parent2)) {
                  if (Buffer.allocUnsafe) {
                    child = Buffer.allocUnsafe(parent2.length);
                  } else {
                    child = new Buffer(parent2.length);
                  }
                  parent2.copy(child);
                  return child;
                } else if (_instanceof(parent2, Error)) {
                  child = Object.create(parent2);
                } else {
                  if (typeof prototype2 == "undefined") {
                    proto = Object.getPrototypeOf(parent2);
                    child = Object.create(proto);
                  } else {
                    child = Object.create(prototype2);
                    proto = prototype2;
                  }
                }
                if (circular) {
                  var index2 = allParents.indexOf(parent2);
                  if (index2 != -1) {
                    return allChildren[index2];
                  }
                  allParents.push(parent2);
                  allChildren.push(child);
                }
                if (_instanceof(parent2, nativeMap)) {
                  parent2.forEach(function(value2, key) {
                    var keyChild = _clone(key, depth2 - 1);
                    var valueChild = _clone(value2, depth2 - 1);
                    child.set(keyChild, valueChild);
                  });
                }
                if (_instanceof(parent2, nativeSet)) {
                  parent2.forEach(function(value2) {
                    var entryChild = _clone(value2, depth2 - 1);
                    child.add(entryChild);
                  });
                }
                for (var i in parent2) {
                  var attrs;
                  if (proto) {
                    attrs = Object.getOwnPropertyDescriptor(proto, i);
                  }
                  if (attrs && attrs.set == null) {
                    continue;
                  }
                  child[i] = _clone(parent2[i], depth2 - 1);
                }
                if (Object.getOwnPropertySymbols) {
                  var symbols = Object.getOwnPropertySymbols(parent2);
                  for (var i = 0; i < symbols.length; i++) {
                    var symbol = symbols[i];
                    var descriptor = Object.getOwnPropertyDescriptor(parent2, symbol);
                    if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {
                      continue;
                    }
                    child[symbol] = _clone(parent2[symbol], depth2 - 1);
                    if (!descriptor.enumerable) {
                      Object.defineProperty(child, symbol, {
                        enumerable: false
                      });
                    }
                  }
                }
                if (includeNonEnumerable) {
                  var allPropertyNames = Object.getOwnPropertyNames(parent2);
                  for (var i = 0; i < allPropertyNames.length; i++) {
                    var propertyName = allPropertyNames[i];
                    var descriptor = Object.getOwnPropertyDescriptor(parent2, propertyName);
                    if (descriptor && descriptor.enumerable) {
                      continue;
                    }
                    child[propertyName] = _clone(parent2[propertyName], depth2 - 1);
                    Object.defineProperty(child, propertyName, {
                      enumerable: false
                    });
                  }
                }
                return child;
              }
              return _clone(parent, depth);
            }
            clone3.clonePrototype = function clonePrototype(parent) {
              if (parent === null)
                return null;
              var c = function() {
              };
              c.prototype = parent;
              return new c();
            };
            function __objToStr(o) {
              return Object.prototype.toString.call(o);
            }
            clone3.__objToStr = __objToStr;
            function __isDate(o) {
              return typeof o === "object" && __objToStr(o) === "[object Date]";
            }
            clone3.__isDate = __isDate;
            function __isArray(o) {
              return typeof o === "object" && __objToStr(o) === "[object Array]";
            }
            clone3.__isArray = __isArray;
            function __isRegExp(o) {
              return typeof o === "object" && __objToStr(o) === "[object RegExp]";
            }
            clone3.__isRegExp = __isRegExp;
            function __getRegExpFlags(re) {
              var flags = "";
              if (re.global)
                flags += "g";
              if (re.ignoreCase)
                flags += "i";
              if (re.multiline)
                flags += "m";
              return flags;
            }
            clone3.__getRegExpFlags = __getRegExpFlags;
            return clone3;
          }();
          if (typeof module2 === "object" && module2.exports) {
            module2.exports = clone2;
          }
        },
        /* 22 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _emitter = __webpack_require__(8);
          var _emitter2 = _interopRequireDefault(_emitter);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          var _break = __webpack_require__(16);
          var _break2 = _interopRequireDefault(_break);
          var _code = __webpack_require__(13);
          var _code2 = _interopRequireDefault(_code);
          var _container = __webpack_require__(25);
          var _container2 = _interopRequireDefault(_container);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          function isLine(blot) {
            return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;
          }
          var Scroll = function(_Parchment$Scroll) {
            _inherits(Scroll2, _Parchment$Scroll);
            function Scroll2(domNode, config2) {
              _classCallCheck(this, Scroll2);
              var _this = _possibleConstructorReturn(this, (Scroll2.__proto__ || Object.getPrototypeOf(Scroll2)).call(this, domNode));
              _this.emitter = config2.emitter;
              if (Array.isArray(config2.whitelist)) {
                _this.whitelist = config2.whitelist.reduce(function(whitelist, format2) {
                  whitelist[format2] = true;
                  return whitelist;
                }, {});
              }
              _this.domNode.addEventListener("DOMNodeInserted", function() {
              });
              _this.optimize();
              _this.enable();
              return _this;
            }
            _createClass(Scroll2, [{
              key: "batchStart",
              value: function batchStart() {
                this.batch = true;
              }
            }, {
              key: "batchEnd",
              value: function batchEnd() {
                this.batch = false;
                this.optimize();
              }
            }, {
              key: "deleteAt",
              value: function deleteAt(index2, length) {
                var _line = this.line(index2), _line2 = _slicedToArray2(_line, 2), first = _line2[0], offset = _line2[1];
                var _line3 = this.line(index2 + length), _line4 = _slicedToArray2(_line3, 1), last = _line4[0];
                _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "deleteAt", this).call(this, index2, length);
                if (last != null && first !== last && offset > 0) {
                  if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {
                    this.optimize();
                    return;
                  }
                  if (first instanceof _code2.default) {
                    var newlineIndex = first.newlineIndex(first.length(), true);
                    if (newlineIndex > -1) {
                      first = first.split(newlineIndex + 1);
                      if (first === last) {
                        this.optimize();
                        return;
                      }
                    }
                  } else if (last instanceof _code2.default) {
                    var _newlineIndex = last.newlineIndex(0);
                    if (_newlineIndex > -1) {
                      last.split(_newlineIndex + 1);
                    }
                  }
                  var ref2 = last.children.head instanceof _break2.default ? null : last.children.head;
                  first.moveChildren(last, ref2);
                  first.remove();
                }
                this.optimize();
              }
            }, {
              key: "enable",
              value: function enable() {
                var enabled = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
                this.domNode.setAttribute("contenteditable", enabled);
              }
            }, {
              key: "formatAt",
              value: function formatAt(index2, length, format2, value2) {
                if (this.whitelist != null && !this.whitelist[format2])
                  return;
                _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "formatAt", this).call(this, index2, length, format2, value2);
                this.optimize();
              }
            }, {
              key: "insertAt",
              value: function insertAt(index2, value2, def) {
                if (def != null && this.whitelist != null && !this.whitelist[value2])
                  return;
                if (index2 >= this.length()) {
                  if (def == null || _parchment2.default.query(value2, _parchment2.default.Scope.BLOCK) == null) {
                    var blot = _parchment2.default.create(this.statics.defaultChild);
                    this.appendChild(blot);
                    if (def == null && value2.endsWith("\n")) {
                      value2 = value2.slice(0, -1);
                    }
                    blot.insertAt(0, value2, def);
                  } else {
                    var embed = _parchment2.default.create(value2, def);
                    this.appendChild(embed);
                  }
                } else {
                  _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "insertAt", this).call(this, index2, value2, def);
                }
                this.optimize();
              }
            }, {
              key: "insertBefore",
              value: function insertBefore(blot, ref2) {
                if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {
                  var wrapper = _parchment2.default.create(this.statics.defaultChild);
                  wrapper.appendChild(blot);
                  blot = wrapper;
                }
                _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "insertBefore", this).call(this, blot, ref2);
              }
            }, {
              key: "leaf",
              value: function leaf(index2) {
                return this.path(index2).pop() || [null, -1];
              }
            }, {
              key: "line",
              value: function line(index2) {
                if (index2 === this.length()) {
                  return this.line(index2 - 1);
                }
                return this.descendant(isLine, index2);
              }
            }, {
              key: "lines",
              value: function lines() {
                var index2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
                var length = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
                var getLines = function getLines2(blot, index3, length2) {
                  var lines2 = [], lengthLeft = length2;
                  blot.children.forEachAt(index3, length2, function(child, index4, length3) {
                    if (isLine(child)) {
                      lines2.push(child);
                    } else if (child instanceof _parchment2.default.Container) {
                      lines2 = lines2.concat(getLines2(child, index4, lengthLeft));
                    }
                    lengthLeft -= length3;
                  });
                  return lines2;
                };
                return getLines(this, index2, length);
              }
            }, {
              key: "optimize",
              value: function optimize() {
                var mutations = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
                var context = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                if (this.batch === true)
                  return;
                _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "optimize", this).call(this, mutations, context);
                if (mutations.length > 0) {
                  this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);
                }
              }
            }, {
              key: "path",
              value: function path(index2) {
                return _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "path", this).call(this, index2).slice(1);
              }
            }, {
              key: "update",
              value: function update(mutations) {
                if (this.batch === true)
                  return;
                var source = _emitter2.default.sources.USER;
                if (typeof mutations === "string") {
                  source = mutations;
                }
                if (!Array.isArray(mutations)) {
                  mutations = this.observer.takeRecords();
                }
                if (mutations.length > 0) {
                  this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);
                }
                _get(Scroll2.prototype.__proto__ || Object.getPrototypeOf(Scroll2.prototype), "update", this).call(this, mutations.concat([]));
                if (mutations.length > 0) {
                  this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);
                }
              }
            }]);
            return Scroll2;
          }(_parchment2.default.Scroll);
          Scroll.blotName = "scroll";
          Scroll.className = "ql-editor";
          Scroll.tagName = "DIV";
          Scroll.defaultChild = "block";
          Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];
          exports2.default = Scroll;
        },
        /* 23 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.SHORTKEY = exports2.default = void 0;
          var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
            return typeof obj;
          } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
          };
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _clone = __webpack_require__(21);
          var _clone2 = _interopRequireDefault(_clone);
          var _deepEqual = __webpack_require__(11);
          var _deepEqual2 = _interopRequireDefault(_deepEqual);
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _op = __webpack_require__(20);
          var _op2 = _interopRequireDefault(_op);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var debug = (0, _logger2.default)("quill:keyboard");
          var SHORTKEY = /Mac/i.test(navigator.platform) ? "metaKey" : "ctrlKey";
          var Keyboard = function(_Module) {
            _inherits(Keyboard2, _Module);
            _createClass(Keyboard2, null, [{
              key: "match",
              value: function match(evt, binding) {
                binding = normalize(binding);
                if (["altKey", "ctrlKey", "metaKey", "shiftKey"].some(function(key) {
                  return !!binding[key] !== evt[key] && binding[key] !== null;
                })) {
                  return false;
                }
                return binding.key === (evt.which || evt.keyCode);
              }
            }]);
            function Keyboard2(quill2, options) {
              _classCallCheck(this, Keyboard2);
              var _this = _possibleConstructorReturn(this, (Keyboard2.__proto__ || Object.getPrototypeOf(Keyboard2)).call(this, quill2, options));
              _this.bindings = {};
              Object.keys(_this.options.bindings).forEach(function(name2) {
                if (name2 === "list autofill" && quill2.scroll.whitelist != null && !quill2.scroll.whitelist["list"]) {
                  return;
                }
                if (_this.options.bindings[name2]) {
                  _this.addBinding(_this.options.bindings[name2]);
                }
              });
              _this.addBinding({ key: Keyboard2.keys.ENTER, shiftKey: null }, handleEnter);
              _this.addBinding({ key: Keyboard2.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function() {
              });
              if (/Firefox/i.test(navigator.userAgent)) {
                _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: true }, handleBackspace);
                _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: true }, handleDelete);
              } else {
                _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);
                _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);
              }
              _this.addBinding({ key: Keyboard2.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);
              _this.addBinding({ key: Keyboard2.keys.DELETE }, { collapsed: false }, handleDeleteRange);
              _this.addBinding({ key: Keyboard2.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);
              _this.listen();
              return _this;
            }
            _createClass(Keyboard2, [{
              key: "addBinding",
              value: function addBinding(key) {
                var context = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                var handler = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
                var binding = normalize(key);
                if (binding == null || binding.key == null) {
                  return debug.warn("Attempted to add invalid keyboard binding", binding);
                }
                if (typeof context === "function") {
                  context = { handler: context };
                }
                if (typeof handler === "function") {
                  handler = { handler };
                }
                binding = (0, _extend2.default)(binding, context, handler);
                this.bindings[binding.key] = this.bindings[binding.key] || [];
                this.bindings[binding.key].push(binding);
              }
            }, {
              key: "listen",
              value: function listen() {
                var _this2 = this;
                this.quill.root.addEventListener("keydown", function(evt) {
                  if (evt.defaultPrevented)
                    return;
                  var which = evt.which || evt.keyCode;
                  var bindings = (_this2.bindings[which] || []).filter(function(binding) {
                    return Keyboard2.match(evt, binding);
                  });
                  if (bindings.length === 0)
                    return;
                  var range = _this2.quill.getSelection();
                  if (range == null || !_this2.quill.hasFocus())
                    return;
                  var _quill$getLine = _this2.quill.getLine(range.index), _quill$getLine2 = _slicedToArray2(_quill$getLine, 2), line = _quill$getLine2[0], offset = _quill$getLine2[1];
                  var _quill$getLeaf = _this2.quill.getLeaf(range.index), _quill$getLeaf2 = _slicedToArray2(_quill$getLeaf, 2), leafStart = _quill$getLeaf2[0], offsetStart = _quill$getLeaf2[1];
                  var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length), _ref2 = _slicedToArray2(_ref, 2), leafEnd = _ref2[0], offsetEnd = _ref2[1];
                  var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : "";
                  var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : "";
                  var curContext = {
                    collapsed: range.length === 0,
                    empty: range.length === 0 && line.length() <= 1,
                    format: _this2.quill.getFormat(range),
                    offset,
                    prefix: prefixText,
                    suffix: suffixText
                  };
                  var prevented = bindings.some(function(binding) {
                    if (binding.collapsed != null && binding.collapsed !== curContext.collapsed)
                      return false;
                    if (binding.empty != null && binding.empty !== curContext.empty)
                      return false;
                    if (binding.offset != null && binding.offset !== curContext.offset)
                      return false;
                    if (Array.isArray(binding.format)) {
                      if (binding.format.every(function(name2) {
                        return curContext.format[name2] == null;
                      })) {
                        return false;
                      }
                    } else if (_typeof2(binding.format) === "object") {
                      if (!Object.keys(binding.format).every(function(name2) {
                        if (binding.format[name2] === true)
                          return curContext.format[name2] != null;
                        if (binding.format[name2] === false)
                          return curContext.format[name2] == null;
                        return (0, _deepEqual2.default)(binding.format[name2], curContext.format[name2]);
                      })) {
                        return false;
                      }
                    }
                    if (binding.prefix != null && !binding.prefix.test(curContext.prefix))
                      return false;
                    if (binding.suffix != null && !binding.suffix.test(curContext.suffix))
                      return false;
                    return binding.handler.call(_this2, range, curContext) !== true;
                  });
                  if (prevented) {
                    evt.preventDefault();
                  }
                });
              }
            }]);
            return Keyboard2;
          }(_module2.default);
          Keyboard.keys = {
            BACKSPACE: 8,
            TAB: 9,
            ENTER: 13,
            ESCAPE: 27,
            LEFT: 37,
            UP: 38,
            RIGHT: 39,
            DOWN: 40,
            DELETE: 46
          };
          Keyboard.DEFAULTS = {
            bindings: {
              "bold": makeFormatHandler("bold"),
              "italic": makeFormatHandler("italic"),
              "underline": makeFormatHandler("underline"),
              "indent": {
                // highlight tab or tab at beginning of list, indent or blockquote
                key: Keyboard.keys.TAB,
                format: ["blockquote", "indent", "list"],
                handler: function handler(range, context) {
                  if (context.collapsed && context.offset !== 0)
                    return true;
                  this.quill.format("indent", "+1", _quill2.default.sources.USER);
                }
              },
              "outdent": {
                key: Keyboard.keys.TAB,
                shiftKey: true,
                format: ["blockquote", "indent", "list"],
                // highlight tab or tab at beginning of list, indent or blockquote
                handler: function handler(range, context) {
                  if (context.collapsed && context.offset !== 0)
                    return true;
                  this.quill.format("indent", "-1", _quill2.default.sources.USER);
                }
              },
              "outdent backspace": {
                key: Keyboard.keys.BACKSPACE,
                collapsed: true,
                shiftKey: null,
                metaKey: null,
                ctrlKey: null,
                altKey: null,
                format: ["indent", "list"],
                offset: 0,
                handler: function handler(range, context) {
                  if (context.format.indent != null) {
                    this.quill.format("indent", "-1", _quill2.default.sources.USER);
                  } else if (context.format.list != null) {
                    this.quill.format("list", false, _quill2.default.sources.USER);
                  }
                }
              },
              "indent code-block": makeCodeBlockHandler(true),
              "outdent code-block": makeCodeBlockHandler(false),
              "remove tab": {
                key: Keyboard.keys.TAB,
                shiftKey: true,
                collapsed: true,
                prefix: /\t$/,
                handler: function handler(range) {
                  this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);
                }
              },
              "tab": {
                key: Keyboard.keys.TAB,
                handler: function handler(range) {
                  this.quill.history.cutoff();
                  var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert("	");
                  this.quill.updateContents(delta, _quill2.default.sources.USER);
                  this.quill.history.cutoff();
                  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                }
              },
              "list empty enter": {
                key: Keyboard.keys.ENTER,
                collapsed: true,
                format: ["list"],
                empty: true,
                handler: function handler(range, context) {
                  this.quill.format("list", false, _quill2.default.sources.USER);
                  if (context.format.indent) {
                    this.quill.format("indent", false, _quill2.default.sources.USER);
                  }
                }
              },
              "checklist enter": {
                key: Keyboard.keys.ENTER,
                collapsed: true,
                format: { list: "checked" },
                handler: function handler(range) {
                  var _quill$getLine3 = this.quill.getLine(range.index), _quill$getLine4 = _slicedToArray2(_quill$getLine3, 2), line = _quill$getLine4[0], offset = _quill$getLine4[1];
                  var formats = (0, _extend2.default)({}, line.formats(), { list: "checked" });
                  var delta = new _quillDelta2.default().retain(range.index).insert("\n", formats).retain(line.length() - offset - 1).retain(1, { list: "unchecked" });
                  this.quill.updateContents(delta, _quill2.default.sources.USER);
                  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                  this.quill.scrollIntoView();
                }
              },
              "header enter": {
                key: Keyboard.keys.ENTER,
                collapsed: true,
                format: ["header"],
                suffix: /^$/,
                handler: function handler(range, context) {
                  var _quill$getLine5 = this.quill.getLine(range.index), _quill$getLine6 = _slicedToArray2(_quill$getLine5, 2), line = _quill$getLine6[0], offset = _quill$getLine6[1];
                  var delta = new _quillDelta2.default().retain(range.index).insert("\n", context.format).retain(line.length() - offset - 1).retain(1, { header: null });
                  this.quill.updateContents(delta, _quill2.default.sources.USER);
                  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
                  this.quill.scrollIntoView();
                }
              },
              "list autofill": {
                key: " ",
                collapsed: true,
                format: { list: false },
                prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,
                handler: function handler(range, context) {
                  var length = context.prefix.length;
                  var _quill$getLine7 = this.quill.getLine(range.index), _quill$getLine8 = _slicedToArray2(_quill$getLine7, 2), line = _quill$getLine8[0], offset = _quill$getLine8[1];
                  if (offset > length)
                    return true;
                  var value2 = void 0;
                  switch (context.prefix.trim()) {
                    case "[]":
                    case "[ ]":
                      value2 = "unchecked";
                      break;
                    case "[x]":
                      value2 = "checked";
                      break;
                    case "-":
                    case "*":
                      value2 = "bullet";
                      break;
                    default:
                      value2 = "ordered";
                  }
                  this.quill.insertText(range.index, " ", _quill2.default.sources.USER);
                  this.quill.history.cutoff();
                  var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value2 });
                  this.quill.updateContents(delta, _quill2.default.sources.USER);
                  this.quill.history.cutoff();
                  this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);
                }
              },
              "code exit": {
                key: Keyboard.keys.ENTER,
                collapsed: true,
                format: ["code-block"],
                prefix: /\n\n$/,
                suffix: /^\s+$/,
                handler: function handler(range) {
                  var _quill$getLine9 = this.quill.getLine(range.index), _quill$getLine10 = _slicedToArray2(_quill$getLine9, 2), line = _quill$getLine10[0], offset = _quill$getLine10[1];
                  var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { "code-block": null }).delete(1);
                  this.quill.updateContents(delta, _quill2.default.sources.USER);
                }
              },
              "embed left": makeEmbedArrowHandler(Keyboard.keys.LEFT, false),
              "embed left shift": makeEmbedArrowHandler(Keyboard.keys.LEFT, true),
              "embed right": makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),
              "embed right shift": makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)
            }
          };
          function makeEmbedArrowHandler(key, shiftKey) {
            var _ref3;
            var where = key === Keyboard.keys.LEFT ? "prefix" : "suffix";
            return _ref3 = {
              key,
              shiftKey,
              altKey: null
            }, _defineProperty2(_ref3, where, /^$/), _defineProperty2(_ref3, "handler", function handler(range) {
              var index2 = range.index;
              if (key === Keyboard.keys.RIGHT) {
                index2 += range.length + 1;
              }
              var _quill$getLeaf3 = this.quill.getLeaf(index2), _quill$getLeaf4 = _slicedToArray2(_quill$getLeaf3, 1), leaf = _quill$getLeaf4[0];
              if (!(leaf instanceof _parchment2.default.Embed))
                return true;
              if (key === Keyboard.keys.LEFT) {
                if (shiftKey) {
                  this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);
                } else {
                  this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);
                }
              } else {
                if (shiftKey) {
                  this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);
                } else {
                  this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);
                }
              }
              return false;
            }), _ref3;
          }
          function handleBackspace(range, context) {
            if (range.index === 0 || this.quill.getLength() <= 1)
              return;
            var _quill$getLine11 = this.quill.getLine(range.index), _quill$getLine12 = _slicedToArray2(_quill$getLine11, 1), line = _quill$getLine12[0];
            var formats = {};
            if (context.offset === 0) {
              var _quill$getLine13 = this.quill.getLine(range.index - 1), _quill$getLine14 = _slicedToArray2(_quill$getLine13, 1), prev = _quill$getLine14[0];
              if (prev != null && prev.length() > 1) {
                var curFormats = line.formats();
                var prevFormats = this.quill.getFormat(range.index - 1, 1);
                formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};
              }
            }
            var length = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(context.prefix) ? 2 : 1;
            this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);
            if (Object.keys(formats).length > 0) {
              this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);
            }
            this.quill.focus();
          }
          function handleDelete(range, context) {
            var length = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(context.suffix) ? 2 : 1;
            if (range.index >= this.quill.getLength() - length)
              return;
            var formats = {}, nextLength = 0;
            var _quill$getLine15 = this.quill.getLine(range.index), _quill$getLine16 = _slicedToArray2(_quill$getLine15, 1), line = _quill$getLine16[0];
            if (context.offset >= line.length() - 1) {
              var _quill$getLine17 = this.quill.getLine(range.index + 1), _quill$getLine18 = _slicedToArray2(_quill$getLine17, 1), next = _quill$getLine18[0];
              if (next) {
                var curFormats = line.formats();
                var nextFormats = this.quill.getFormat(range.index, 1);
                formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};
                nextLength = next.length();
              }
            }
            this.quill.deleteText(range.index, length, _quill2.default.sources.USER);
            if (Object.keys(formats).length > 0) {
              this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);
            }
          }
          function handleDeleteRange(range) {
            var lines = this.quill.getLines(range);
            var formats = {};
            if (lines.length > 1) {
              var firstFormats = lines[0].formats();
              var lastFormats = lines[lines.length - 1].formats();
              formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};
            }
            this.quill.deleteText(range, _quill2.default.sources.USER);
            if (Object.keys(formats).length > 0) {
              this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);
            }
            this.quill.setSelection(range.index, _quill2.default.sources.SILENT);
            this.quill.focus();
          }
          function handleEnter(range, context) {
            var _this3 = this;
            if (range.length > 0) {
              this.quill.scroll.deleteAt(range.index, range.length);
            }
            var lineFormats = Object.keys(context.format).reduce(function(lineFormats2, format2) {
              if (_parchment2.default.query(format2, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format2])) {
                lineFormats2[format2] = context.format[format2];
              }
              return lineFormats2;
            }, {});
            this.quill.insertText(range.index, "\n", lineFormats, _quill2.default.sources.USER);
            this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);
            this.quill.focus();
            Object.keys(context.format).forEach(function(name2) {
              if (lineFormats[name2] != null)
                return;
              if (Array.isArray(context.format[name2]))
                return;
              if (name2 === "link")
                return;
              _this3.quill.format(name2, context.format[name2], _quill2.default.sources.USER);
            });
          }
          function makeCodeBlockHandler(indent) {
            return {
              key: Keyboard.keys.TAB,
              shiftKey: !indent,
              format: { "code-block": true },
              handler: function handler(range) {
                var CodeBlock = _parchment2.default.query("code-block");
                var index2 = range.index, length = range.length;
                var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index2), _quill$scroll$descend2 = _slicedToArray2(_quill$scroll$descend, 2), block = _quill$scroll$descend2[0], offset = _quill$scroll$descend2[1];
                if (block == null)
                  return;
                var scrollIndex = this.quill.getIndex(block);
                var start = block.newlineIndex(offset, true) + 1;
                var end = block.newlineIndex(scrollIndex + offset + length);
                var lines = block.domNode.textContent.slice(start, end).split("\n");
                offset = 0;
                lines.forEach(function(line, i) {
                  if (indent) {
                    block.insertAt(start + offset, CodeBlock.TAB);
                    offset += CodeBlock.TAB.length;
                    if (i === 0) {
                      index2 += CodeBlock.TAB.length;
                    } else {
                      length += CodeBlock.TAB.length;
                    }
                  } else if (line.startsWith(CodeBlock.TAB)) {
                    block.deleteAt(start + offset, CodeBlock.TAB.length);
                    offset -= CodeBlock.TAB.length;
                    if (i === 0) {
                      index2 -= CodeBlock.TAB.length;
                    } else {
                      length -= CodeBlock.TAB.length;
                    }
                  }
                  offset += line.length + 1;
                });
                this.quill.update(_quill2.default.sources.USER);
                this.quill.setSelection(index2, length, _quill2.default.sources.SILENT);
              }
            };
          }
          function makeFormatHandler(format2) {
            return {
              key: format2[0].toUpperCase(),
              shortKey: true,
              handler: function handler(range, context) {
                this.quill.format(format2, !context.format[format2], _quill2.default.sources.USER);
              }
            };
          }
          function normalize(binding) {
            if (typeof binding === "string" || typeof binding === "number") {
              return normalize({ key: binding });
            }
            if ((typeof binding === "undefined" ? "undefined" : _typeof2(binding)) === "object") {
              binding = (0, _clone2.default)(binding, false);
            }
            if (typeof binding.key === "string") {
              if (Keyboard.keys[binding.key.toUpperCase()] != null) {
                binding.key = Keyboard.keys[binding.key.toUpperCase()];
              } else if (binding.key.length === 1) {
                binding.key = binding.key.toUpperCase().charCodeAt(0);
              } else {
                return null;
              }
            }
            if (binding.shortKey) {
              binding[SHORTKEY] = binding.shortKey;
              delete binding.shortKey;
            }
            return binding;
          }
          exports2.default = Keyboard;
          exports2.SHORTKEY = SHORTKEY;
        },
        /* 24 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Cursor = function(_Parchment$Embed) {
            _inherits(Cursor2, _Parchment$Embed);
            _createClass(Cursor2, null, [{
              key: "value",
              value: function value2() {
                return void 0;
              }
            }]);
            function Cursor2(domNode, selection) {
              _classCallCheck(this, Cursor2);
              var _this = _possibleConstructorReturn(this, (Cursor2.__proto__ || Object.getPrototypeOf(Cursor2)).call(this, domNode));
              _this.selection = selection;
              _this.textNode = document.createTextNode(Cursor2.CONTENTS);
              _this.domNode.appendChild(_this.textNode);
              _this._length = 0;
              return _this;
            }
            _createClass(Cursor2, [{
              key: "detach",
              value: function detach() {
                if (this.parent != null)
                  this.parent.removeChild(this);
              }
            }, {
              key: "format",
              value: function format2(name2, value2) {
                if (this._length !== 0) {
                  return _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "format", this).call(this, name2, value2);
                }
                var target = this, index2 = 0;
                while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {
                  index2 += target.offset(target.parent);
                  target = target.parent;
                }
                if (target != null) {
                  this._length = Cursor2.CONTENTS.length;
                  target.optimize();
                  target.formatAt(index2, Cursor2.CONTENTS.length, name2, value2);
                  this._length = 0;
                }
              }
            }, {
              key: "index",
              value: function index2(node2, offset) {
                if (node2 === this.textNode)
                  return 0;
                return _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "index", this).call(this, node2, offset);
              }
            }, {
              key: "length",
              value: function length() {
                return this._length;
              }
            }, {
              key: "position",
              value: function position() {
                return [this.textNode, this.textNode.data.length];
              }
            }, {
              key: "remove",
              value: function remove2() {
                _get(Cursor2.prototype.__proto__ || Object.getPrototypeOf(Cursor2.prototype), "remove", this).call(this);
                this.parent = null;
              }
            }, {
              key: "restore",
              value: function restore() {
                if (this.selection.composing || this.parent == null)
                  return;
                var textNode = this.textNode;
                var range = this.selection.getNativeRange();
                var restoreText = void 0, start = void 0, end = void 0;
                if (range != null && range.start.node === textNode && range.end.node === textNode) {
                  var _ref = [textNode, range.start.offset, range.end.offset];
                  restoreText = _ref[0];
                  start = _ref[1];
                  end = _ref[2];
                }
                while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {
                  this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
                }
                if (this.textNode.data !== Cursor2.CONTENTS) {
                  var text = this.textNode.data.split(Cursor2.CONTENTS).join("");
                  if (this.next instanceof _text2.default) {
                    restoreText = this.next.domNode;
                    this.next.insertAt(0, text);
                    this.textNode.data = Cursor2.CONTENTS;
                  } else {
                    this.textNode.data = text;
                    this.parent.insertBefore(_parchment2.default.create(this.textNode), this);
                    this.textNode = document.createTextNode(Cursor2.CONTENTS);
                    this.domNode.appendChild(this.textNode);
                  }
                }
                this.remove();
                if (start != null) {
                  var _map = [start, end].map(function(offset) {
                    return Math.max(0, Math.min(restoreText.data.length, offset - 1));
                  });
                  var _map2 = _slicedToArray2(_map, 2);
                  start = _map2[0];
                  end = _map2[1];
                  return {
                    startNode: restoreText,
                    startOffset: start,
                    endNode: restoreText,
                    endOffset: end
                  };
                }
              }
            }, {
              key: "update",
              value: function update(mutations, context) {
                var _this2 = this;
                if (mutations.some(function(mutation) {
                  return mutation.type === "characterData" && mutation.target === _this2.textNode;
                })) {
                  var range = this.restore();
                  if (range)
                    context.range = range;
                }
              }
            }, {
              key: "value",
              value: function value2() {
                return "";
              }
            }]);
            return Cursor2;
          }(_parchment2.default.Embed);
          Cursor.blotName = "cursor";
          Cursor.className = "ql-cursor";
          Cursor.tagName = "span";
          Cursor.CONTENTS = "\uFEFF";
          exports2.default = Cursor;
        },
        /* 25 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Container = function(_Parchment$Container) {
            _inherits(Container2, _Parchment$Container);
            function Container2() {
              _classCallCheck(this, Container2);
              return _possibleConstructorReturn(this, (Container2.__proto__ || Object.getPrototypeOf(Container2)).apply(this, arguments));
            }
            return Container2;
          }(_parchment2.default.Container);
          Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];
          exports2.default = Container;
        },
        /* 26 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.ColorStyle = exports2.ColorClass = exports2.ColorAttributor = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ColorAttributor = function(_Parchment$Attributor) {
            _inherits(ColorAttributor2, _Parchment$Attributor);
            function ColorAttributor2() {
              _classCallCheck(this, ColorAttributor2);
              return _possibleConstructorReturn(this, (ColorAttributor2.__proto__ || Object.getPrototypeOf(ColorAttributor2)).apply(this, arguments));
            }
            _createClass(ColorAttributor2, [{
              key: "value",
              value: function value2(domNode) {
                var value3 = _get(ColorAttributor2.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor2.prototype), "value", this).call(this, domNode);
                if (!value3.startsWith("rgb("))
                  return value3;
                value3 = value3.replace(/^[^\d]+/, "").replace(/[^\d]+$/, "");
                return "#" + value3.split(",").map(function(component) {
                  return ("00" + parseInt(component).toString(16)).slice(-2);
                }).join("");
              }
            }]);
            return ColorAttributor2;
          }(_parchment2.default.Attributor.Style);
          var ColorClass = new _parchment2.default.Attributor.Class("color", "ql-color", {
            scope: _parchment2.default.Scope.INLINE
          });
          var ColorStyle = new ColorAttributor("color", "color", {
            scope: _parchment2.default.Scope.INLINE
          });
          exports2.ColorAttributor = ColorAttributor;
          exports2.ColorClass = ColorClass;
          exports2.ColorStyle = ColorStyle;
        },
        /* 27 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.sanitize = exports2.default = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Link = function(_Inline) {
            _inherits(Link2, _Inline);
            function Link2() {
              _classCallCheck(this, Link2);
              return _possibleConstructorReturn(this, (Link2.__proto__ || Object.getPrototypeOf(Link2)).apply(this, arguments));
            }
            _createClass(Link2, [{
              key: "format",
              value: function format2(name2, value2) {
                if (name2 !== this.statics.blotName || !value2)
                  return _get(Link2.prototype.__proto__ || Object.getPrototypeOf(Link2.prototype), "format", this).call(this, name2, value2);
                value2 = this.constructor.sanitize(value2);
                this.domNode.setAttribute("href", value2);
              }
            }], [{
              key: "create",
              value: function create2(value2) {
                var node2 = _get(Link2.__proto__ || Object.getPrototypeOf(Link2), "create", this).call(this, value2);
                value2 = this.sanitize(value2);
                node2.setAttribute("href", value2);
                node2.setAttribute("rel", "noopener noreferrer");
                node2.setAttribute("target", "_blank");
                return node2;
              }
            }, {
              key: "formats",
              value: function formats(domNode) {
                return domNode.getAttribute("href");
              }
            }, {
              key: "sanitize",
              value: function sanitize(url) {
                return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;
              }
            }]);
            return Link2;
          }(_inline2.default);
          Link.blotName = "link";
          Link.tagName = "A";
          Link.SANITIZED_URL = "about:blank";
          Link.PROTOCOL_WHITELIST = ["http", "https", "mailto", "tel"];
          function _sanitize(url, protocols) {
            var anchor = document.createElement("a");
            anchor.href = url;
            var protocol = anchor.href.slice(0, anchor.href.indexOf(":"));
            return protocols.indexOf(protocol) > -1;
          }
          exports2.default = Link;
          exports2.sanitize = _sanitize;
        },
        /* 28 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
            return typeof obj;
          } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
          };
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _keyboard = __webpack_require__(23);
          var _keyboard2 = _interopRequireDefault(_keyboard);
          var _dropdown = __webpack_require__(107);
          var _dropdown2 = _interopRequireDefault(_dropdown);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var optionsCounter = 0;
          function toggleAriaAttribute(element, attribute) {
            element.setAttribute(attribute, !(element.getAttribute(attribute) === "true"));
          }
          var Picker = function() {
            function Picker2(select2) {
              var _this = this;
              _classCallCheck(this, Picker2);
              this.select = select2;
              this.container = document.createElement("span");
              this.buildPicker();
              this.select.style.display = "none";
              this.select.parentNode.insertBefore(this.container, this.select);
              this.label.addEventListener("mousedown", function() {
                _this.togglePicker();
              });
              this.label.addEventListener("keydown", function(event2) {
                switch (event2.keyCode) {
                  case _keyboard2.default.keys.ENTER:
                    _this.togglePicker();
                    break;
                  case _keyboard2.default.keys.ESCAPE:
                    _this.escape();
                    event2.preventDefault();
                    break;
                }
              });
              this.select.addEventListener("change", this.update.bind(this));
            }
            _createClass(Picker2, [{
              key: "togglePicker",
              value: function togglePicker() {
                this.container.classList.toggle("ql-expanded");
                toggleAriaAttribute(this.label, "aria-expanded");
                toggleAriaAttribute(this.options, "aria-hidden");
              }
            }, {
              key: "buildItem",
              value: function buildItem(option2) {
                var _this2 = this;
                var item = document.createElement("span");
                item.tabIndex = "0";
                item.setAttribute("role", "button");
                item.classList.add("ql-picker-item");
                if (option2.hasAttribute("value")) {
                  item.setAttribute("data-value", option2.getAttribute("value"));
                }
                if (option2.textContent) {
                  item.setAttribute("data-label", option2.textContent);
                }
                item.addEventListener("click", function() {
                  _this2.selectItem(item, true);
                });
                item.addEventListener("keydown", function(event2) {
                  switch (event2.keyCode) {
                    case _keyboard2.default.keys.ENTER:
                      _this2.selectItem(item, true);
                      event2.preventDefault();
                      break;
                    case _keyboard2.default.keys.ESCAPE:
                      _this2.escape();
                      event2.preventDefault();
                      break;
                  }
                });
                return item;
              }
            }, {
              key: "buildLabel",
              value: function buildLabel() {
                var label = document.createElement("span");
                label.classList.add("ql-picker-label");
                label.innerHTML = _dropdown2.default;
                label.tabIndex = "0";
                label.setAttribute("role", "button");
                label.setAttribute("aria-expanded", "false");
                this.container.appendChild(label);
                return label;
              }
            }, {
              key: "buildOptions",
              value: function buildOptions() {
                var _this3 = this;
                var options = document.createElement("span");
                options.classList.add("ql-picker-options");
                options.setAttribute("aria-hidden", "true");
                options.tabIndex = "-1";
                options.id = "ql-picker-options-" + optionsCounter;
                optionsCounter += 1;
                this.label.setAttribute("aria-controls", options.id);
                this.options = options;
                [].slice.call(this.select.options).forEach(function(option2) {
                  var item = _this3.buildItem(option2);
                  options.appendChild(item);
                  if (option2.selected === true) {
                    _this3.selectItem(item);
                  }
                });
                this.container.appendChild(options);
              }
            }, {
              key: "buildPicker",
              value: function buildPicker() {
                var _this4 = this;
                [].slice.call(this.select.attributes).forEach(function(item) {
                  _this4.container.setAttribute(item.name, item.value);
                });
                this.container.classList.add("ql-picker");
                this.label = this.buildLabel();
                this.buildOptions();
              }
            }, {
              key: "escape",
              value: function escape2() {
                var _this5 = this;
                this.close();
                setTimeout(function() {
                  return _this5.label.focus();
                }, 1);
              }
            }, {
              key: "close",
              value: function close() {
                this.container.classList.remove("ql-expanded");
                this.label.setAttribute("aria-expanded", "false");
                this.options.setAttribute("aria-hidden", "true");
              }
            }, {
              key: "selectItem",
              value: function selectItem(item) {
                var trigger = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
                var selected = this.container.querySelector(".ql-selected");
                if (item === selected)
                  return;
                if (selected != null) {
                  selected.classList.remove("ql-selected");
                }
                if (item == null)
                  return;
                item.classList.add("ql-selected");
                this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);
                if (item.hasAttribute("data-value")) {
                  this.label.setAttribute("data-value", item.getAttribute("data-value"));
                } else {
                  this.label.removeAttribute("data-value");
                }
                if (item.hasAttribute("data-label")) {
                  this.label.setAttribute("data-label", item.getAttribute("data-label"));
                } else {
                  this.label.removeAttribute("data-label");
                }
                if (trigger) {
                  if (typeof Event === "function") {
                    this.select.dispatchEvent(new Event("change"));
                  } else if ((typeof Event === "undefined" ? "undefined" : _typeof2(Event)) === "object") {
                    var event2 = document.createEvent("Event");
                    event2.initEvent("change", true, true);
                    this.select.dispatchEvent(event2);
                  }
                  this.close();
                }
              }
            }, {
              key: "update",
              value: function update() {
                var option2 = void 0;
                if (this.select.selectedIndex > -1) {
                  var item = this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];
                  option2 = this.select.options[this.select.selectedIndex];
                  this.selectItem(item);
                } else {
                  this.selectItem(null);
                }
                var isActive = option2 != null && option2 !== this.select.querySelector("option[selected]");
                this.label.classList.toggle("ql-active", isActive);
              }
            }]);
            return Picker2;
          }();
          exports2.default = Picker;
        },
        /* 29 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          var _break = __webpack_require__(16);
          var _break2 = _interopRequireDefault(_break);
          var _container = __webpack_require__(25);
          var _container2 = _interopRequireDefault(_container);
          var _cursor = __webpack_require__(24);
          var _cursor2 = _interopRequireDefault(_cursor);
          var _embed = __webpack_require__(35);
          var _embed2 = _interopRequireDefault(_embed);
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          var _scroll = __webpack_require__(22);
          var _scroll2 = _interopRequireDefault(_scroll);
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          var _clipboard = __webpack_require__(55);
          var _clipboard2 = _interopRequireDefault(_clipboard);
          var _history = __webpack_require__(42);
          var _history2 = _interopRequireDefault(_history);
          var _keyboard = __webpack_require__(23);
          var _keyboard2 = _interopRequireDefault(_keyboard);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          _quill2.default.register({
            "blots/block": _block2.default,
            "blots/block/embed": _block.BlockEmbed,
            "blots/break": _break2.default,
            "blots/container": _container2.default,
            "blots/cursor": _cursor2.default,
            "blots/embed": _embed2.default,
            "blots/inline": _inline2.default,
            "blots/scroll": _scroll2.default,
            "blots/text": _text2.default,
            "modules/clipboard": _clipboard2.default,
            "modules/history": _history2.default,
            "modules/keyboard": _keyboard2.default
          });
          _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);
          exports2.default = _quill2.default;
        },
        /* 30 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", { value: true });
          var Registry2 = __webpack_require__(1);
          var ShadowBlot = (
            /** @class */
            function() {
              function ShadowBlot2(domNode) {
                this.domNode = domNode;
                this.domNode[Registry2.DATA_KEY] = { blot: this };
              }
              Object.defineProperty(ShadowBlot2.prototype, "statics", {
                // Hack for accessing inherited static methods
                get: function() {
                  return this.constructor;
                },
                enumerable: true,
                configurable: true
              });
              ShadowBlot2.create = function(value2) {
                if (this.tagName == null) {
                  throw new Registry2.ParchmentError("Blot definition missing tagName");
                }
                var node2;
                if (Array.isArray(this.tagName)) {
                  if (typeof value2 === "string") {
                    value2 = value2.toUpperCase();
                    if (parseInt(value2).toString() === value2) {
                      value2 = parseInt(value2);
                    }
                  }
                  if (typeof value2 === "number") {
                    node2 = document.createElement(this.tagName[value2 - 1]);
                  } else if (this.tagName.indexOf(value2) > -1) {
                    node2 = document.createElement(value2);
                  } else {
                    node2 = document.createElement(this.tagName[0]);
                  }
                } else {
                  node2 = document.createElement(this.tagName);
                }
                if (this.className) {
                  node2.classList.add(this.className);
                }
                return node2;
              };
              ShadowBlot2.prototype.attach = function() {
                if (this.parent != null) {
                  this.scroll = this.parent.scroll;
                }
              };
              ShadowBlot2.prototype.clone = function() {
                var domNode = this.domNode.cloneNode(false);
                return Registry2.create(domNode);
              };
              ShadowBlot2.prototype.detach = function() {
                if (this.parent != null)
                  this.parent.removeChild(this);
                delete this.domNode[Registry2.DATA_KEY];
              };
              ShadowBlot2.prototype.deleteAt = function(index2, length) {
                var blot = this.isolate(index2, length);
                blot.remove();
              };
              ShadowBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                var blot = this.isolate(index2, length);
                if (Registry2.query(name2, Registry2.Scope.BLOT) != null && value2) {
                  blot.wrap(name2, value2);
                } else if (Registry2.query(name2, Registry2.Scope.ATTRIBUTE) != null) {
                  var parent = Registry2.create(this.statics.scope);
                  blot.wrap(parent);
                  parent.format(name2, value2);
                }
              };
              ShadowBlot2.prototype.insertAt = function(index2, value2, def) {
                var blot = def == null ? Registry2.create("text", value2) : Registry2.create(value2, def);
                var ref2 = this.split(index2);
                this.parent.insertBefore(blot, ref2);
              };
              ShadowBlot2.prototype.insertInto = function(parentBlot, refBlot) {
                if (refBlot === void 0) {
                  refBlot = null;
                }
                if (this.parent != null) {
                  this.parent.children.remove(this);
                }
                var refDomNode = null;
                parentBlot.children.insertBefore(this, refBlot);
                if (refBlot != null) {
                  refDomNode = refBlot.domNode;
                }
                if (this.domNode.parentNode != parentBlot.domNode || this.domNode.nextSibling != refDomNode) {
                  parentBlot.domNode.insertBefore(this.domNode, refDomNode);
                }
                this.parent = parentBlot;
                this.attach();
              };
              ShadowBlot2.prototype.isolate = function(index2, length) {
                var target = this.split(index2);
                target.split(length);
                return target;
              };
              ShadowBlot2.prototype.length = function() {
                return 1;
              };
              ShadowBlot2.prototype.offset = function(root) {
                if (root === void 0) {
                  root = this.parent;
                }
                if (this.parent == null || this == root)
                  return 0;
                return this.parent.children.offset(this) + this.parent.offset(root);
              };
              ShadowBlot2.prototype.optimize = function(context) {
                if (this.domNode[Registry2.DATA_KEY] != null) {
                  delete this.domNode[Registry2.DATA_KEY].mutations;
                }
              };
              ShadowBlot2.prototype.remove = function() {
                if (this.domNode.parentNode != null) {
                  this.domNode.parentNode.removeChild(this.domNode);
                }
                this.detach();
              };
              ShadowBlot2.prototype.replace = function(target) {
                if (target.parent == null)
                  return;
                target.parent.insertBefore(this, target.next);
                target.remove();
              };
              ShadowBlot2.prototype.replaceWith = function(name2, value2) {
                var replacement = typeof name2 === "string" ? Registry2.create(name2, value2) : name2;
                replacement.replace(this);
                return replacement;
              };
              ShadowBlot2.prototype.split = function(index2, force) {
                return index2 === 0 ? this : this.next;
              };
              ShadowBlot2.prototype.update = function(mutations, context) {
              };
              ShadowBlot2.prototype.wrap = function(name2, value2) {
                var wrapper = typeof name2 === "string" ? Registry2.create(name2, value2) : name2;
                if (this.parent != null) {
                  this.parent.insertBefore(wrapper, this.next);
                }
                wrapper.appendChild(this);
                return wrapper;
              };
              ShadowBlot2.blotName = "abstract";
              return ShadowBlot2;
            }()
          );
          exports2.default = ShadowBlot;
        },
        /* 31 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", { value: true });
          var attributor_1 = __webpack_require__(12);
          var class_1 = __webpack_require__(32);
          var style_1 = __webpack_require__(33);
          var Registry2 = __webpack_require__(1);
          var AttributorStore = (
            /** @class */
            function() {
              function AttributorStore2(domNode) {
                this.attributes = {};
                this.domNode = domNode;
                this.build();
              }
              AttributorStore2.prototype.attribute = function(attribute, value2) {
                if (value2) {
                  if (attribute.add(this.domNode, value2)) {
                    if (attribute.value(this.domNode) != null) {
                      this.attributes[attribute.attrName] = attribute;
                    } else {
                      delete this.attributes[attribute.attrName];
                    }
                  }
                } else {
                  attribute.remove(this.domNode);
                  delete this.attributes[attribute.attrName];
                }
              };
              AttributorStore2.prototype.build = function() {
                var _this = this;
                this.attributes = {};
                var attributes = attributor_1.default.keys(this.domNode);
                var classes2 = class_1.default.keys(this.domNode);
                var styles = style_1.default.keys(this.domNode);
                attributes.concat(classes2).concat(styles).forEach(function(name2) {
                  var attr2 = Registry2.query(name2, Registry2.Scope.ATTRIBUTE);
                  if (attr2 instanceof attributor_1.default) {
                    _this.attributes[attr2.attrName] = attr2;
                  }
                });
              };
              AttributorStore2.prototype.copy = function(target) {
                var _this = this;
                Object.keys(this.attributes).forEach(function(key) {
                  var value2 = _this.attributes[key].value(_this.domNode);
                  target.format(key, value2);
                });
              };
              AttributorStore2.prototype.move = function(target) {
                var _this = this;
                this.copy(target);
                Object.keys(this.attributes).forEach(function(key) {
                  _this.attributes[key].remove(_this.domNode);
                });
                this.attributes = {};
              };
              AttributorStore2.prototype.values = function() {
                var _this = this;
                return Object.keys(this.attributes).reduce(function(attributes, name2) {
                  attributes[name2] = _this.attributes[name2].value(_this.domNode);
                  return attributes;
                }, {});
              };
              return AttributorStore2;
            }()
          );
          exports2.default = AttributorStore;
        },
        /* 32 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var attributor_1 = __webpack_require__(12);
          function match(node2, prefix2) {
            var className = node2.getAttribute("class") || "";
            return className.split(/\s+/).filter(function(name2) {
              return name2.indexOf(prefix2 + "-") === 0;
            });
          }
          var ClassAttributor = (
            /** @class */
            function(_super) {
              __extends(ClassAttributor2, _super);
              function ClassAttributor2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              ClassAttributor2.keys = function(node2) {
                return (node2.getAttribute("class") || "").split(/\s+/).map(function(name2) {
                  return name2.split("-").slice(0, -1).join("-");
                });
              };
              ClassAttributor2.prototype.add = function(node2, value2) {
                if (!this.canAdd(node2, value2))
                  return false;
                this.remove(node2);
                node2.classList.add(this.keyName + "-" + value2);
                return true;
              };
              ClassAttributor2.prototype.remove = function(node2) {
                var matches2 = match(node2, this.keyName);
                matches2.forEach(function(name2) {
                  node2.classList.remove(name2);
                });
                if (node2.classList.length === 0) {
                  node2.removeAttribute("class");
                }
              };
              ClassAttributor2.prototype.value = function(node2) {
                var result2 = match(node2, this.keyName)[0] || "";
                var value2 = result2.slice(this.keyName.length + 1);
                return this.canAdd(node2, value2) ? value2 : "";
              };
              return ClassAttributor2;
            }(attributor_1.default)
          );
          exports2.default = ClassAttributor;
        },
        /* 33 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var attributor_1 = __webpack_require__(12);
          function camelize(name2) {
            var parts = name2.split("-");
            var rest = parts.slice(1).map(function(part) {
              return part[0].toUpperCase() + part.slice(1);
            }).join("");
            return parts[0] + rest;
          }
          var StyleAttributor = (
            /** @class */
            function(_super) {
              __extends(StyleAttributor2, _super);
              function StyleAttributor2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              StyleAttributor2.keys = function(node2) {
                return (node2.getAttribute("style") || "").split(";").map(function(value2) {
                  var arr = value2.split(":");
                  return arr[0].trim();
                });
              };
              StyleAttributor2.prototype.add = function(node2, value2) {
                if (!this.canAdd(node2, value2))
                  return false;
                node2.style[camelize(this.keyName)] = value2;
                return true;
              };
              StyleAttributor2.prototype.remove = function(node2) {
                node2.style[camelize(this.keyName)] = "";
                if (!node2.getAttribute("style")) {
                  node2.removeAttribute("style");
                }
              };
              StyleAttributor2.prototype.value = function(node2) {
                var value2 = node2.style[camelize(this.keyName)];
                return this.canAdd(node2, value2) ? value2 : "";
              };
              return StyleAttributor2;
            }(attributor_1.default)
          );
          exports2.default = StyleAttributor;
        },
        /* 34 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Theme = function() {
            function Theme2(quill2, options) {
              _classCallCheck(this, Theme2);
              this.quill = quill2;
              this.options = options;
              this.modules = {};
            }
            _createClass(Theme2, [{
              key: "init",
              value: function init() {
                var _this = this;
                Object.keys(this.options.modules).forEach(function(name2) {
                  if (_this.modules[name2] == null) {
                    _this.addModule(name2);
                  }
                });
              }
            }, {
              key: "addModule",
              value: function addModule(name2) {
                var moduleClass = this.quill.constructor.import("modules/" + name2);
                this.modules[name2] = new moduleClass(this.quill, this.options.modules[name2] || {});
                return this.modules[name2];
              }
            }]);
            return Theme2;
          }();
          Theme.DEFAULTS = {
            modules: {}
          };
          Theme.themes = {
            "default": Theme
          };
          exports2.default = Theme;
        },
        /* 35 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _text = __webpack_require__(7);
          var _text2 = _interopRequireDefault(_text);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var GUARD_TEXT = "\uFEFF";
          var Embed = function(_Parchment$Embed) {
            _inherits(Embed2, _Parchment$Embed);
            function Embed2(node2) {
              _classCallCheck(this, Embed2);
              var _this = _possibleConstructorReturn(this, (Embed2.__proto__ || Object.getPrototypeOf(Embed2)).call(this, node2));
              _this.contentNode = document.createElement("span");
              _this.contentNode.setAttribute("contenteditable", false);
              [].slice.call(_this.domNode.childNodes).forEach(function(childNode) {
                _this.contentNode.appendChild(childNode);
              });
              _this.leftGuard = document.createTextNode(GUARD_TEXT);
              _this.rightGuard = document.createTextNode(GUARD_TEXT);
              _this.domNode.appendChild(_this.leftGuard);
              _this.domNode.appendChild(_this.contentNode);
              _this.domNode.appendChild(_this.rightGuard);
              return _this;
            }
            _createClass(Embed2, [{
              key: "index",
              value: function index2(node2, offset) {
                if (node2 === this.leftGuard)
                  return 0;
                if (node2 === this.rightGuard)
                  return 1;
                return _get(Embed2.prototype.__proto__ || Object.getPrototypeOf(Embed2.prototype), "index", this).call(this, node2, offset);
              }
            }, {
              key: "restore",
              value: function restore(node2) {
                var range = void 0, textNode = void 0;
                var text = node2.data.split(GUARD_TEXT).join("");
                if (node2 === this.leftGuard) {
                  if (this.prev instanceof _text2.default) {
                    var prevLength = this.prev.length();
                    this.prev.insertAt(prevLength, text);
                    range = {
                      startNode: this.prev.domNode,
                      startOffset: prevLength + text.length
                    };
                  } else {
                    textNode = document.createTextNode(text);
                    this.parent.insertBefore(_parchment2.default.create(textNode), this);
                    range = {
                      startNode: textNode,
                      startOffset: text.length
                    };
                  }
                } else if (node2 === this.rightGuard) {
                  if (this.next instanceof _text2.default) {
                    this.next.insertAt(0, text);
                    range = {
                      startNode: this.next.domNode,
                      startOffset: text.length
                    };
                  } else {
                    textNode = document.createTextNode(text);
                    this.parent.insertBefore(_parchment2.default.create(textNode), this.next);
                    range = {
                      startNode: textNode,
                      startOffset: text.length
                    };
                  }
                }
                node2.data = GUARD_TEXT;
                return range;
              }
            }, {
              key: "update",
              value: function update(mutations, context) {
                var _this2 = this;
                mutations.forEach(function(mutation) {
                  if (mutation.type === "characterData" && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {
                    var range = _this2.restore(mutation.target);
                    if (range)
                      context.range = range;
                  }
                });
              }
            }]);
            return Embed2;
          }(_parchment2.default.Embed);
          exports2.default = Embed;
        },
        /* 36 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.AlignStyle = exports2.AlignClass = exports2.AlignAttribute = void 0;
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          var config2 = {
            scope: _parchment2.default.Scope.BLOCK,
            whitelist: ["right", "center", "justify"]
          };
          var AlignAttribute = new _parchment2.default.Attributor.Attribute("align", "align", config2);
          var AlignClass = new _parchment2.default.Attributor.Class("align", "ql-align", config2);
          var AlignStyle = new _parchment2.default.Attributor.Style("align", "text-align", config2);
          exports2.AlignAttribute = AlignAttribute;
          exports2.AlignClass = AlignClass;
          exports2.AlignStyle = AlignStyle;
        },
        /* 37 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.BackgroundStyle = exports2.BackgroundClass = void 0;
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _color = __webpack_require__(26);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          var BackgroundClass = new _parchment2.default.Attributor.Class("background", "ql-bg", {
            scope: _parchment2.default.Scope.INLINE
          });
          var BackgroundStyle = new _color.ColorAttributor("background", "background-color", {
            scope: _parchment2.default.Scope.INLINE
          });
          exports2.BackgroundClass = BackgroundClass;
          exports2.BackgroundStyle = BackgroundStyle;
        },
        /* 38 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.DirectionStyle = exports2.DirectionClass = exports2.DirectionAttribute = void 0;
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          var config2 = {
            scope: _parchment2.default.Scope.BLOCK,
            whitelist: ["rtl"]
          };
          var DirectionAttribute = new _parchment2.default.Attributor.Attribute("direction", "dir", config2);
          var DirectionClass = new _parchment2.default.Attributor.Class("direction", "ql-direction", config2);
          var DirectionStyle = new _parchment2.default.Attributor.Style("direction", "direction", config2);
          exports2.DirectionAttribute = DirectionAttribute;
          exports2.DirectionClass = DirectionClass;
          exports2.DirectionStyle = DirectionStyle;
        },
        /* 39 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.FontClass = exports2.FontStyle = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var config2 = {
            scope: _parchment2.default.Scope.INLINE,
            whitelist: ["serif", "monospace"]
          };
          var FontClass = new _parchment2.default.Attributor.Class("font", "ql-font", config2);
          var FontStyleAttributor = function(_Parchment$Attributor) {
            _inherits(FontStyleAttributor2, _Parchment$Attributor);
            function FontStyleAttributor2() {
              _classCallCheck(this, FontStyleAttributor2);
              return _possibleConstructorReturn(this, (FontStyleAttributor2.__proto__ || Object.getPrototypeOf(FontStyleAttributor2)).apply(this, arguments));
            }
            _createClass(FontStyleAttributor2, [{
              key: "value",
              value: function value2(node2) {
                return _get(FontStyleAttributor2.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor2.prototype), "value", this).call(this, node2).replace(/["']/g, "");
              }
            }]);
            return FontStyleAttributor2;
          }(_parchment2.default.Attributor.Style);
          var FontStyle = new FontStyleAttributor("font", "font-family", config2);
          exports2.FontStyle = FontStyle;
          exports2.FontClass = FontClass;
        },
        /* 40 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.SizeStyle = exports2.SizeClass = void 0;
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          var SizeClass = new _parchment2.default.Attributor.Class("size", "ql-size", {
            scope: _parchment2.default.Scope.INLINE,
            whitelist: ["small", "large", "huge"]
          });
          var SizeStyle = new _parchment2.default.Attributor.Style("size", "font-size", {
            scope: _parchment2.default.Scope.INLINE,
            whitelist: ["10px", "18px", "32px"]
          });
          exports2.SizeClass = SizeClass;
          exports2.SizeStyle = SizeStyle;
        },
        /* 41 */
        /***/
        function(module2, exports2, __webpack_require__) {
          module2.exports = {
            "align": {
              "": __webpack_require__(76),
              "center": __webpack_require__(77),
              "right": __webpack_require__(78),
              "justify": __webpack_require__(79)
            },
            "background": __webpack_require__(80),
            "blockquote": __webpack_require__(81),
            "bold": __webpack_require__(82),
            "clean": __webpack_require__(83),
            "code": __webpack_require__(58),
            "code-block": __webpack_require__(58),
            "color": __webpack_require__(84),
            "direction": {
              "": __webpack_require__(85),
              "rtl": __webpack_require__(86)
            },
            "float": {
              "center": __webpack_require__(87),
              "full": __webpack_require__(88),
              "left": __webpack_require__(89),
              "right": __webpack_require__(90)
            },
            "formula": __webpack_require__(91),
            "header": {
              "1": __webpack_require__(92),
              "2": __webpack_require__(93)
            },
            "italic": __webpack_require__(94),
            "image": __webpack_require__(95),
            "indent": {
              "+1": __webpack_require__(96),
              "-1": __webpack_require__(97)
            },
            "link": __webpack_require__(98),
            "list": {
              "ordered": __webpack_require__(99),
              "bullet": __webpack_require__(100),
              "check": __webpack_require__(101)
            },
            "script": {
              "sub": __webpack_require__(102),
              "super": __webpack_require__(103)
            },
            "strike": __webpack_require__(104),
            "underline": __webpack_require__(105),
            "video": __webpack_require__(106)
          };
        },
        /* 42 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.getLastChangeIndex = exports2.default = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var History = function(_Module) {
            _inherits(History2, _Module);
            function History2(quill2, options) {
              _classCallCheck(this, History2);
              var _this = _possibleConstructorReturn(this, (History2.__proto__ || Object.getPrototypeOf(History2)).call(this, quill2, options));
              _this.lastRecorded = 0;
              _this.ignoreChange = false;
              _this.clear();
              _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function(eventName, delta, oldDelta, source) {
                if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange)
                  return;
                if (!_this.options.userOnly || source === _quill2.default.sources.USER) {
                  _this.record(delta, oldDelta);
                } else {
                  _this.transform(delta);
                }
              });
              _this.quill.keyboard.addBinding({ key: "Z", shortKey: true }, _this.undo.bind(_this));
              _this.quill.keyboard.addBinding({ key: "Z", shortKey: true, shiftKey: true }, _this.redo.bind(_this));
              if (/Win/i.test(navigator.platform)) {
                _this.quill.keyboard.addBinding({ key: "Y", shortKey: true }, _this.redo.bind(_this));
              }
              return _this;
            }
            _createClass(History2, [{
              key: "change",
              value: function change(source, dest) {
                if (this.stack[source].length === 0)
                  return;
                var delta = this.stack[source].pop();
                this.stack[dest].push(delta);
                this.lastRecorded = 0;
                this.ignoreChange = true;
                this.quill.updateContents(delta[source], _quill2.default.sources.USER);
                this.ignoreChange = false;
                var index2 = getLastChangeIndex(delta[source]);
                this.quill.setSelection(index2);
              }
            }, {
              key: "clear",
              value: function clear2() {
                this.stack = { undo: [], redo: [] };
              }
            }, {
              key: "cutoff",
              value: function cutoff() {
                this.lastRecorded = 0;
              }
            }, {
              key: "record",
              value: function record(changeDelta, oldDelta) {
                if (changeDelta.ops.length === 0)
                  return;
                this.stack.redo = [];
                var undoDelta = this.quill.getContents().diff(oldDelta);
                var timestamp = Date.now();
                if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {
                  var delta = this.stack.undo.pop();
                  undoDelta = undoDelta.compose(delta.undo);
                  changeDelta = delta.redo.compose(changeDelta);
                } else {
                  this.lastRecorded = timestamp;
                }
                this.stack.undo.push({
                  redo: changeDelta,
                  undo: undoDelta
                });
                if (this.stack.undo.length > this.options.maxStack) {
                  this.stack.undo.shift();
                }
              }
            }, {
              key: "redo",
              value: function redo() {
                this.change("redo", "undo");
              }
            }, {
              key: "transform",
              value: function transform2(delta) {
                this.stack.undo.forEach(function(change) {
                  change.undo = delta.transform(change.undo, true);
                  change.redo = delta.transform(change.redo, true);
                });
                this.stack.redo.forEach(function(change) {
                  change.undo = delta.transform(change.undo, true);
                  change.redo = delta.transform(change.redo, true);
                });
              }
            }, {
              key: "undo",
              value: function undo() {
                this.change("undo", "redo");
              }
            }]);
            return History2;
          }(_module2.default);
          History.DEFAULTS = {
            delay: 1e3,
            maxStack: 100,
            userOnly: false
          };
          function endsWithNewlineChange(delta) {
            var lastOp = delta.ops[delta.ops.length - 1];
            if (lastOp == null)
              return false;
            if (lastOp.insert != null) {
              return typeof lastOp.insert === "string" && lastOp.insert.endsWith("\n");
            }
            if (lastOp.attributes != null) {
              return Object.keys(lastOp.attributes).some(function(attr2) {
                return _parchment2.default.query(attr2, _parchment2.default.Scope.BLOCK) != null;
              });
            }
            return false;
          }
          function getLastChangeIndex(delta) {
            var deleteLength = delta.reduce(function(length, op) {
              length += op.delete || 0;
              return length;
            }, 0);
            var changeIndex = delta.length() - deleteLength;
            if (endsWithNewlineChange(delta)) {
              changeIndex -= 1;
            }
            return changeIndex;
          }
          exports2.default = History;
          exports2.getLastChangeIndex = getLastChangeIndex;
        },
        /* 43 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.BaseTooltip = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _emitter = __webpack_require__(8);
          var _emitter2 = _interopRequireDefault(_emitter);
          var _keyboard = __webpack_require__(23);
          var _keyboard2 = _interopRequireDefault(_keyboard);
          var _theme = __webpack_require__(34);
          var _theme2 = _interopRequireDefault(_theme);
          var _colorPicker = __webpack_require__(59);
          var _colorPicker2 = _interopRequireDefault(_colorPicker);
          var _iconPicker = __webpack_require__(60);
          var _iconPicker2 = _interopRequireDefault(_iconPicker);
          var _picker = __webpack_require__(28);
          var _picker2 = _interopRequireDefault(_picker);
          var _tooltip = __webpack_require__(61);
          var _tooltip2 = _interopRequireDefault(_tooltip);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ALIGNS = [false, "center", "right", "justify"];
          var COLORS = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"];
          var FONTS = [false, "serif", "monospace"];
          var HEADERS = ["1", "2", "3", false];
          var SIZES = ["small", false, "large", "huge"];
          var BaseTheme = function(_Theme) {
            _inherits(BaseTheme2, _Theme);
            function BaseTheme2(quill2, options) {
              _classCallCheck(this, BaseTheme2);
              var _this = _possibleConstructorReturn(this, (BaseTheme2.__proto__ || Object.getPrototypeOf(BaseTheme2)).call(this, quill2, options));
              var listener = function listener2(e2) {
                if (!document.body.contains(quill2.root)) {
                  return document.body.removeEventListener("click", listener2);
                }
                if (_this.tooltip != null && !_this.tooltip.root.contains(e2.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {
                  _this.tooltip.hide();
                }
                if (_this.pickers != null) {
                  _this.pickers.forEach(function(picker) {
                    if (!picker.container.contains(e2.target)) {
                      picker.close();
                    }
                  });
                }
              };
              quill2.emitter.listenDOM("click", document.body, listener);
              return _this;
            }
            _createClass(BaseTheme2, [{
              key: "addModule",
              value: function addModule(name2) {
                var module3 = _get(BaseTheme2.prototype.__proto__ || Object.getPrototypeOf(BaseTheme2.prototype), "addModule", this).call(this, name2);
                if (name2 === "toolbar") {
                  this.extendToolbar(module3);
                }
                return module3;
              }
            }, {
              key: "buildButtons",
              value: function buildButtons(buttons, icons) {
                buttons.forEach(function(button2) {
                  var className = button2.getAttribute("class") || "";
                  className.split(/\s+/).forEach(function(name2) {
                    if (!name2.startsWith("ql-"))
                      return;
                    name2 = name2.slice("ql-".length);
                    if (icons[name2] == null)
                      return;
                    if (name2 === "direction") {
                      button2.innerHTML = icons[name2][""] + icons[name2]["rtl"];
                    } else if (typeof icons[name2] === "string") {
                      button2.innerHTML = icons[name2];
                    } else {
                      var value2 = button2.value || "";
                      if (value2 != null && icons[name2][value2]) {
                        button2.innerHTML = icons[name2][value2];
                      }
                    }
                  });
                });
              }
            }, {
              key: "buildPickers",
              value: function buildPickers(selects, icons) {
                var _this2 = this;
                this.pickers = selects.map(function(select2) {
                  if (select2.classList.contains("ql-align")) {
                    if (select2.querySelector("option") == null) {
                      fillSelect(select2, ALIGNS);
                    }
                    return new _iconPicker2.default(select2, icons.align);
                  } else if (select2.classList.contains("ql-background") || select2.classList.contains("ql-color")) {
                    var format2 = select2.classList.contains("ql-background") ? "background" : "color";
                    if (select2.querySelector("option") == null) {
                      fillSelect(select2, COLORS, format2 === "background" ? "#ffffff" : "#000000");
                    }
                    return new _colorPicker2.default(select2, icons[format2]);
                  } else {
                    if (select2.querySelector("option") == null) {
                      if (select2.classList.contains("ql-font")) {
                        fillSelect(select2, FONTS);
                      } else if (select2.classList.contains("ql-header")) {
                        fillSelect(select2, HEADERS);
                      } else if (select2.classList.contains("ql-size")) {
                        fillSelect(select2, SIZES);
                      }
                    }
                    return new _picker2.default(select2);
                  }
                });
                var update = function update2() {
                  _this2.pickers.forEach(function(picker) {
                    picker.update();
                  });
                };
                this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);
              }
            }]);
            return BaseTheme2;
          }(_theme2.default);
          BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {
            modules: {
              toolbar: {
                handlers: {
                  formula: function formula() {
                    this.quill.theme.tooltip.edit("formula");
                  },
                  image: function image() {
                    var _this3 = this;
                    var fileInput = this.container.querySelector("input.ql-image[type=file]");
                    if (fileInput == null) {
                      fileInput = document.createElement("input");
                      fileInput.setAttribute("type", "file");
                      fileInput.setAttribute("accept", "image/png, image/gif, image/jpeg, image/bmp, image/x-icon");
                      fileInput.classList.add("ql-image");
                      fileInput.addEventListener("change", function() {
                        if (fileInput.files != null && fileInput.files[0] != null) {
                          var reader = new FileReader();
                          reader.onload = function(e2) {
                            var range = _this3.quill.getSelection(true);
                            _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e2.target.result }), _emitter2.default.sources.USER);
                            _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);
                            fileInput.value = "";
                          };
                          reader.readAsDataURL(fileInput.files[0]);
                        }
                      });
                      this.container.appendChild(fileInput);
                    }
                    fileInput.click();
                  },
                  video: function video() {
                    this.quill.theme.tooltip.edit("video");
                  }
                }
              }
            }
          });
          var BaseTooltip = function(_Tooltip) {
            _inherits(BaseTooltip2, _Tooltip);
            function BaseTooltip2(quill2, boundsContainer) {
              _classCallCheck(this, BaseTooltip2);
              var _this4 = _possibleConstructorReturn(this, (BaseTooltip2.__proto__ || Object.getPrototypeOf(BaseTooltip2)).call(this, quill2, boundsContainer));
              _this4.textbox = _this4.root.querySelector('input[type="text"]');
              _this4.listen();
              return _this4;
            }
            _createClass(BaseTooltip2, [{
              key: "listen",
              value: function listen() {
                var _this5 = this;
                this.textbox.addEventListener("keydown", function(event2) {
                  if (_keyboard2.default.match(event2, "enter")) {
                    _this5.save();
                    event2.preventDefault();
                  } else if (_keyboard2.default.match(event2, "escape")) {
                    _this5.cancel();
                    event2.preventDefault();
                  }
                });
              }
            }, {
              key: "cancel",
              value: function cancel() {
                this.hide();
              }
            }, {
              key: "edit",
              value: function edit2() {
                var mode = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "link";
                var preview = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
                this.root.classList.remove("ql-hidden");
                this.root.classList.add("ql-editing");
                if (preview != null) {
                  this.textbox.value = preview;
                } else if (mode !== this.root.getAttribute("data-mode")) {
                  this.textbox.value = "";
                }
                this.position(this.quill.getBounds(this.quill.selection.savedRange));
                this.textbox.select();
                this.textbox.setAttribute("placeholder", this.textbox.getAttribute("data-" + mode) || "");
                this.root.setAttribute("data-mode", mode);
              }
            }, {
              key: "restoreFocus",
              value: function restoreFocus() {
                var scrollTop = this.quill.scrollingContainer.scrollTop;
                this.quill.focus();
                this.quill.scrollingContainer.scrollTop = scrollTop;
              }
            }, {
              key: "save",
              value: function save2() {
                var value2 = this.textbox.value;
                switch (this.root.getAttribute("data-mode")) {
                  case "link": {
                    var scrollTop = this.quill.root.scrollTop;
                    if (this.linkRange) {
                      this.quill.formatText(this.linkRange, "link", value2, _emitter2.default.sources.USER);
                      delete this.linkRange;
                    } else {
                      this.restoreFocus();
                      this.quill.format("link", value2, _emitter2.default.sources.USER);
                    }
                    this.quill.root.scrollTop = scrollTop;
                    break;
                  }
                  case "video": {
                    value2 = extractVideoUrl(value2);
                  }
                  case "formula": {
                    if (!value2)
                      break;
                    var range = this.quill.getSelection(true);
                    if (range != null) {
                      var index2 = range.index + range.length;
                      this.quill.insertEmbed(index2, this.root.getAttribute("data-mode"), value2, _emitter2.default.sources.USER);
                      if (this.root.getAttribute("data-mode") === "formula") {
                        this.quill.insertText(index2 + 1, " ", _emitter2.default.sources.USER);
                      }
                      this.quill.setSelection(index2 + 2, _emitter2.default.sources.USER);
                    }
                    break;
                  }
                }
                this.textbox.value = "";
                this.hide();
              }
            }]);
            return BaseTooltip2;
          }(_tooltip2.default);
          function extractVideoUrl(url) {
            var match = url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
            if (match) {
              return (match[1] || "https") + "://www.youtube.com/embed/" + match[2] + "?showinfo=0";
            }
            if (match = url.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) {
              return (match[1] || "https") + "://player.vimeo.com/video/" + match[2] + "/";
            }
            return url;
          }
          function fillSelect(select2, values) {
            var defaultValue = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
            values.forEach(function(value2) {
              var option2 = document.createElement("option");
              if (value2 === defaultValue) {
                option2.setAttribute("selected", "selected");
              } else {
                option2.setAttribute("value", value2);
              }
              select2.appendChild(option2);
            });
          }
          exports2.BaseTooltip = BaseTooltip;
          exports2.default = BaseTheme;
        },
        /* 44 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", { value: true });
          var LinkedList = (
            /** @class */
            function() {
              function LinkedList2() {
                this.head = this.tail = null;
                this.length = 0;
              }
              LinkedList2.prototype.append = function() {
                var nodes = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                  nodes[_i] = arguments[_i];
                }
                this.insertBefore(nodes[0], null);
                if (nodes.length > 1) {
                  this.append.apply(this, nodes.slice(1));
                }
              };
              LinkedList2.prototype.contains = function(node2) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  if (cur === node2)
                    return true;
                }
                return false;
              };
              LinkedList2.prototype.insertBefore = function(node2, refNode) {
                if (!node2)
                  return;
                node2.next = refNode;
                if (refNode != null) {
                  node2.prev = refNode.prev;
                  if (refNode.prev != null) {
                    refNode.prev.next = node2;
                  }
                  refNode.prev = node2;
                  if (refNode === this.head) {
                    this.head = node2;
                  }
                } else if (this.tail != null) {
                  this.tail.next = node2;
                  node2.prev = this.tail;
                  this.tail = node2;
                } else {
                  node2.prev = null;
                  this.head = this.tail = node2;
                }
                this.length += 1;
              };
              LinkedList2.prototype.offset = function(target) {
                var index2 = 0, cur = this.head;
                while (cur != null) {
                  if (cur === target)
                    return index2;
                  index2 += cur.length();
                  cur = cur.next;
                }
                return -1;
              };
              LinkedList2.prototype.remove = function(node2) {
                if (!this.contains(node2))
                  return;
                if (node2.prev != null)
                  node2.prev.next = node2.next;
                if (node2.next != null)
                  node2.next.prev = node2.prev;
                if (node2 === this.head)
                  this.head = node2.next;
                if (node2 === this.tail)
                  this.tail = node2.prev;
                this.length -= 1;
              };
              LinkedList2.prototype.iterator = function(curNode) {
                if (curNode === void 0) {
                  curNode = this.head;
                }
                return function() {
                  var ret = curNode;
                  if (curNode != null)
                    curNode = curNode.next;
                  return ret;
                };
              };
              LinkedList2.prototype.find = function(index2, inclusive) {
                if (inclusive === void 0) {
                  inclusive = false;
                }
                var cur, next = this.iterator();
                while (cur = next()) {
                  var length = cur.length();
                  if (index2 < length || inclusive && index2 === length && (cur.next == null || cur.next.length() !== 0)) {
                    return [cur, index2];
                  }
                  index2 -= length;
                }
                return [null, 0];
              };
              LinkedList2.prototype.forEach = function(callback) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  callback(cur);
                }
              };
              LinkedList2.prototype.forEachAt = function(index2, length, callback) {
                if (length <= 0)
                  return;
                var _a = this.find(index2), startNode = _a[0], offset = _a[1];
                var cur, curIndex = index2 - offset, next = this.iterator(startNode);
                while ((cur = next()) && curIndex < index2 + length) {
                  var curLength = cur.length();
                  if (index2 > curIndex) {
                    callback(cur, index2 - curIndex, Math.min(length, curIndex + curLength - index2));
                  } else {
                    callback(cur, 0, Math.min(curLength, index2 + length - curIndex));
                  }
                  curIndex += curLength;
                }
              };
              LinkedList2.prototype.map = function(callback) {
                return this.reduce(function(memo, cur) {
                  memo.push(callback(cur));
                  return memo;
                }, []);
              };
              LinkedList2.prototype.reduce = function(callback, memo) {
                var cur, next = this.iterator();
                while (cur = next()) {
                  memo = callback(memo, cur);
                }
                return memo;
              };
              return LinkedList2;
            }()
          );
          exports2.default = LinkedList;
        },
        /* 45 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var container_1 = __webpack_require__(17);
          var Registry2 = __webpack_require__(1);
          var OBSERVER_CONFIG = {
            attributes: true,
            characterData: true,
            characterDataOldValue: true,
            childList: true,
            subtree: true
          };
          var MAX_OPTIMIZE_ITERATIONS = 100;
          var ScrollBlot = (
            /** @class */
            function(_super) {
              __extends(ScrollBlot2, _super);
              function ScrollBlot2(node2) {
                var _this = _super.call(this, node2) || this;
                _this.scroll = _this;
                _this.observer = new MutationObserver(function(mutations) {
                  _this.update(mutations);
                });
                _this.observer.observe(_this.domNode, OBSERVER_CONFIG);
                _this.attach();
                return _this;
              }
              ScrollBlot2.prototype.detach = function() {
                _super.prototype.detach.call(this);
                this.observer.disconnect();
              };
              ScrollBlot2.prototype.deleteAt = function(index2, length) {
                this.update();
                if (index2 === 0 && length === this.length()) {
                  this.children.forEach(function(child) {
                    child.remove();
                  });
                } else {
                  _super.prototype.deleteAt.call(this, index2, length);
                }
              };
              ScrollBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                this.update();
                _super.prototype.formatAt.call(this, index2, length, name2, value2);
              };
              ScrollBlot2.prototype.insertAt = function(index2, value2, def) {
                this.update();
                _super.prototype.insertAt.call(this, index2, value2, def);
              };
              ScrollBlot2.prototype.optimize = function(mutations, context) {
                var _this = this;
                if (mutations === void 0) {
                  mutations = [];
                }
                if (context === void 0) {
                  context = {};
                }
                _super.prototype.optimize.call(this, context);
                var records = [].slice.call(this.observer.takeRecords());
                while (records.length > 0)
                  mutations.push(records.pop());
                var mark = function(blot, markParent) {
                  if (markParent === void 0) {
                    markParent = true;
                  }
                  if (blot == null || blot === _this)
                    return;
                  if (blot.domNode.parentNode == null)
                    return;
                  if (blot.domNode[Registry2.DATA_KEY].mutations == null) {
                    blot.domNode[Registry2.DATA_KEY].mutations = [];
                  }
                  if (markParent)
                    mark(blot.parent);
                };
                var optimize = function(blot) {
                  if (
                    // @ts-ignore
                    blot.domNode[Registry2.DATA_KEY] == null || // @ts-ignore
                    blot.domNode[Registry2.DATA_KEY].mutations == null
                  ) {
                    return;
                  }
                  if (blot instanceof container_1.default) {
                    blot.children.forEach(optimize);
                  }
                  blot.optimize(context);
                };
                var remaining = mutations;
                for (var i = 0; remaining.length > 0; i += 1) {
                  if (i >= MAX_OPTIMIZE_ITERATIONS) {
                    throw new Error("[Parchment] Maximum optimize iterations reached");
                  }
                  remaining.forEach(function(mutation) {
                    var blot = Registry2.find(mutation.target, true);
                    if (blot == null)
                      return;
                    if (blot.domNode === mutation.target) {
                      if (mutation.type === "childList") {
                        mark(Registry2.find(mutation.previousSibling, false));
                        [].forEach.call(mutation.addedNodes, function(node2) {
                          var child = Registry2.find(node2, false);
                          mark(child, false);
                          if (child instanceof container_1.default) {
                            child.children.forEach(function(grandChild) {
                              mark(grandChild, false);
                            });
                          }
                        });
                      } else if (mutation.type === "attributes") {
                        mark(blot.prev);
                      }
                    }
                    mark(blot);
                  });
                  this.children.forEach(optimize);
                  remaining = [].slice.call(this.observer.takeRecords());
                  records = remaining.slice();
                  while (records.length > 0)
                    mutations.push(records.pop());
                }
              };
              ScrollBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                if (context === void 0) {
                  context = {};
                }
                mutations = mutations || this.observer.takeRecords();
                mutations.map(function(mutation) {
                  var blot = Registry2.find(mutation.target, true);
                  if (blot == null)
                    return null;
                  if (blot.domNode[Registry2.DATA_KEY].mutations == null) {
                    blot.domNode[Registry2.DATA_KEY].mutations = [mutation];
                    return blot;
                  } else {
                    blot.domNode[Registry2.DATA_KEY].mutations.push(mutation);
                    return null;
                  }
                }).forEach(function(blot) {
                  if (blot == null || blot === _this || //@ts-ignore
                  blot.domNode[Registry2.DATA_KEY] == null)
                    return;
                  blot.update(blot.domNode[Registry2.DATA_KEY].mutations || [], context);
                });
                if (this.domNode[Registry2.DATA_KEY].mutations != null) {
                  _super.prototype.update.call(this, this.domNode[Registry2.DATA_KEY].mutations, context);
                }
                this.optimize(mutations, context);
              };
              ScrollBlot2.blotName = "scroll";
              ScrollBlot2.defaultChild = "block";
              ScrollBlot2.scope = Registry2.Scope.BLOCK_BLOT;
              ScrollBlot2.tagName = "DIV";
              return ScrollBlot2;
            }(container_1.default)
          );
          exports2.default = ScrollBlot;
        },
        /* 46 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var format_1 = __webpack_require__(18);
          var Registry2 = __webpack_require__(1);
          function isEqual(obj1, obj2) {
            if (Object.keys(obj1).length !== Object.keys(obj2).length)
              return false;
            for (var prop in obj1) {
              if (obj1[prop] !== obj2[prop])
                return false;
            }
            return true;
          }
          var InlineBlot = (
            /** @class */
            function(_super) {
              __extends(InlineBlot2, _super);
              function InlineBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              InlineBlot2.formats = function(domNode) {
                if (domNode.tagName === InlineBlot2.tagName)
                  return void 0;
                return _super.formats.call(this, domNode);
              };
              InlineBlot2.prototype.format = function(name2, value2) {
                var _this = this;
                if (name2 === this.statics.blotName && !value2) {
                  this.children.forEach(function(child) {
                    if (!(child instanceof format_1.default)) {
                      child = child.wrap(InlineBlot2.blotName, true);
                    }
                    _this.attributes.copy(child);
                  });
                  this.unwrap();
                } else {
                  _super.prototype.format.call(this, name2, value2);
                }
              };
              InlineBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                if (this.formats()[name2] != null || Registry2.query(name2, Registry2.Scope.ATTRIBUTE)) {
                  var blot = this.isolate(index2, length);
                  blot.format(name2, value2);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name2, value2);
                }
              };
              InlineBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                var formats = this.formats();
                if (Object.keys(formats).length === 0) {
                  return this.unwrap();
                }
                var next = this.next;
                if (next instanceof InlineBlot2 && next.prev === this && isEqual(formats, next.formats())) {
                  next.moveChildren(this);
                  next.remove();
                }
              };
              InlineBlot2.blotName = "inline";
              InlineBlot2.scope = Registry2.Scope.INLINE_BLOT;
              InlineBlot2.tagName = "SPAN";
              return InlineBlot2;
            }(format_1.default)
          );
          exports2.default = InlineBlot;
        },
        /* 47 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var format_1 = __webpack_require__(18);
          var Registry2 = __webpack_require__(1);
          var BlockBlot = (
            /** @class */
            function(_super) {
              __extends(BlockBlot2, _super);
              function BlockBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              BlockBlot2.formats = function(domNode) {
                var tagName = Registry2.query(BlockBlot2.blotName).tagName;
                if (domNode.tagName === tagName)
                  return void 0;
                return _super.formats.call(this, domNode);
              };
              BlockBlot2.prototype.format = function(name2, value2) {
                if (Registry2.query(name2, Registry2.Scope.BLOCK) == null) {
                  return;
                } else if (name2 === this.statics.blotName && !value2) {
                  this.replaceWith(BlockBlot2.blotName);
                } else {
                  _super.prototype.format.call(this, name2, value2);
                }
              };
              BlockBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                if (Registry2.query(name2, Registry2.Scope.BLOCK) != null) {
                  this.format(name2, value2);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name2, value2);
                }
              };
              BlockBlot2.prototype.insertAt = function(index2, value2, def) {
                if (def == null || Registry2.query(value2, Registry2.Scope.INLINE) != null) {
                  _super.prototype.insertAt.call(this, index2, value2, def);
                } else {
                  var after = this.split(index2);
                  var blot = Registry2.create(value2, def);
                  after.parent.insertBefore(blot, after);
                }
              };
              BlockBlot2.prototype.update = function(mutations, context) {
                if (navigator.userAgent.match(/Trident/)) {
                  this.build();
                } else {
                  _super.prototype.update.call(this, mutations, context);
                }
              };
              BlockBlot2.blotName = "block";
              BlockBlot2.scope = Registry2.Scope.BLOCK_BLOT;
              BlockBlot2.tagName = "P";
              return BlockBlot2;
            }(format_1.default)
          );
          exports2.default = BlockBlot;
        },
        /* 48 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var leaf_1 = __webpack_require__(19);
          var EmbedBlot = (
            /** @class */
            function(_super) {
              __extends(EmbedBlot2, _super);
              function EmbedBlot2() {
                return _super !== null && _super.apply(this, arguments) || this;
              }
              EmbedBlot2.formats = function(domNode) {
                return void 0;
              };
              EmbedBlot2.prototype.format = function(name2, value2) {
                _super.prototype.formatAt.call(this, 0, this.length(), name2, value2);
              };
              EmbedBlot2.prototype.formatAt = function(index2, length, name2, value2) {
                if (index2 === 0 && length === this.length()) {
                  this.format(name2, value2);
                } else {
                  _super.prototype.formatAt.call(this, index2, length, name2, value2);
                }
              };
              EmbedBlot2.prototype.formats = function() {
                return this.statics.formats(this.domNode);
              };
              return EmbedBlot2;
            }(leaf_1.default)
          );
          exports2.default = EmbedBlot;
        },
        /* 49 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var __extends = this && this.__extends || function() {
            var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, b) {
              d.__proto__ = b;
            } || function(d, b) {
              for (var p in b)
                if (b.hasOwnProperty(p))
                  d[p] = b[p];
            };
            return function(d, b) {
              extendStatics(d, b);
              function __() {
                this.constructor = d;
              }
              d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            };
          }();
          Object.defineProperty(exports2, "__esModule", { value: true });
          var leaf_1 = __webpack_require__(19);
          var Registry2 = __webpack_require__(1);
          var TextBlot = (
            /** @class */
            function(_super) {
              __extends(TextBlot2, _super);
              function TextBlot2(node2) {
                var _this = _super.call(this, node2) || this;
                _this.text = _this.statics.value(_this.domNode);
                return _this;
              }
              TextBlot2.create = function(value2) {
                return document.createTextNode(value2);
              };
              TextBlot2.value = function(domNode) {
                var text = domNode.data;
                if (text["normalize"])
                  text = text["normalize"]();
                return text;
              };
              TextBlot2.prototype.deleteAt = function(index2, length) {
                this.domNode.data = this.text = this.text.slice(0, index2) + this.text.slice(index2 + length);
              };
              TextBlot2.prototype.index = function(node2, offset) {
                if (this.domNode === node2) {
                  return offset;
                }
                return -1;
              };
              TextBlot2.prototype.insertAt = function(index2, value2, def) {
                if (def == null) {
                  this.text = this.text.slice(0, index2) + value2 + this.text.slice(index2);
                  this.domNode.data = this.text;
                } else {
                  _super.prototype.insertAt.call(this, index2, value2, def);
                }
              };
              TextBlot2.prototype.length = function() {
                return this.text.length;
              };
              TextBlot2.prototype.optimize = function(context) {
                _super.prototype.optimize.call(this, context);
                this.text = this.statics.value(this.domNode);
                if (this.text.length === 0) {
                  this.remove();
                } else if (this.next instanceof TextBlot2 && this.next.prev === this) {
                  this.insertAt(this.length(), this.next.value());
                  this.next.remove();
                }
              };
              TextBlot2.prototype.position = function(index2, inclusive) {
                return [this.domNode, index2];
              };
              TextBlot2.prototype.split = function(index2, force) {
                if (force === void 0) {
                  force = false;
                }
                if (!force) {
                  if (index2 === 0)
                    return this;
                  if (index2 === this.length())
                    return this.next;
                }
                var after = Registry2.create(this.domNode.splitText(index2));
                this.parent.insertBefore(after, this.next);
                this.text = this.statics.value(this.domNode);
                return after;
              };
              TextBlot2.prototype.update = function(mutations, context) {
                var _this = this;
                if (mutations.some(function(mutation) {
                  return mutation.type === "characterData" && mutation.target === _this.domNode;
                })) {
                  this.text = this.statics.value(this.domNode);
                }
              };
              TextBlot2.prototype.value = function() {
                return this.text;
              };
              TextBlot2.blotName = "text";
              TextBlot2.scope = Registry2.Scope.INLINE_BLOT;
              return TextBlot2;
            }(leaf_1.default)
          );
          exports2.default = TextBlot;
        },
        /* 50 */
        /***/
        function(module2, exports2, __webpack_require__) {
          var elem = document.createElement("div");
          elem.classList.toggle("test-class", false);
          if (elem.classList.contains("test-class")) {
            var _toggle = DOMTokenList.prototype.toggle;
            DOMTokenList.prototype.toggle = function(token, force) {
              if (arguments.length > 1 && !this.contains(token) === !force) {
                return force;
              } else {
                return _toggle.call(this, token);
              }
            };
          }
          if (!String.prototype.startsWith) {
            String.prototype.startsWith = function(searchString, position) {
              position = position || 0;
              return this.substr(position, searchString.length) === searchString;
            };
          }
          if (!String.prototype.endsWith) {
            String.prototype.endsWith = function(searchString, position) {
              var subjectString = this.toString();
              if (typeof position !== "number" || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {
                position = subjectString.length;
              }
              position -= searchString.length;
              var lastIndex = subjectString.indexOf(searchString, position);
              return lastIndex !== -1 && lastIndex === position;
            };
          }
          if (!Array.prototype.find) {
            Object.defineProperty(Array.prototype, "find", {
              value: function value2(predicate) {
                if (this === null) {
                  throw new TypeError("Array.prototype.find called on null or undefined");
                }
                if (typeof predicate !== "function") {
                  throw new TypeError("predicate must be a function");
                }
                var list = Object(this);
                var length = list.length >>> 0;
                var thisArg = arguments[1];
                var value3;
                for (var i = 0; i < length; i++) {
                  value3 = list[i];
                  if (predicate.call(thisArg, value3, i, list)) {
                    return value3;
                  }
                }
                return void 0;
              }
            });
          }
          document.addEventListener("DOMContentLoaded", function() {
            document.execCommand("enableObjectResizing", false, false);
            document.execCommand("autoUrlDetect", false, false);
          });
        },
        /* 51 */
        /***/
        function(module2, exports2) {
          var DIFF_DELETE = -1;
          var DIFF_INSERT = 1;
          var DIFF_EQUAL = 0;
          function diff_main(text1, text2, cursor_pos) {
            if (text1 == text2) {
              if (text1) {
                return [[DIFF_EQUAL, text1]];
              }
              return [];
            }
            if (cursor_pos < 0 || text1.length < cursor_pos) {
              cursor_pos = null;
            }
            var commonlength = diff_commonPrefix(text1, text2);
            var commonprefix = text1.substring(0, commonlength);
            text1 = text1.substring(commonlength);
            text2 = text2.substring(commonlength);
            commonlength = diff_commonSuffix(text1, text2);
            var commonsuffix = text1.substring(text1.length - commonlength);
            text1 = text1.substring(0, text1.length - commonlength);
            text2 = text2.substring(0, text2.length - commonlength);
            var diffs = diff_compute_(text1, text2);
            if (commonprefix) {
              diffs.unshift([DIFF_EQUAL, commonprefix]);
            }
            if (commonsuffix) {
              diffs.push([DIFF_EQUAL, commonsuffix]);
            }
            diff_cleanupMerge(diffs);
            if (cursor_pos != null) {
              diffs = fix_cursor(diffs, cursor_pos);
            }
            diffs = fix_emoji(diffs);
            return diffs;
          }
          function diff_compute_(text1, text2) {
            var diffs;
            if (!text1) {
              return [[DIFF_INSERT, text2]];
            }
            if (!text2) {
              return [[DIFF_DELETE, text1]];
            }
            var longtext = text1.length > text2.length ? text1 : text2;
            var shorttext = text1.length > text2.length ? text2 : text1;
            var i = longtext.indexOf(shorttext);
            if (i != -1) {
              diffs = [
                [DIFF_INSERT, longtext.substring(0, i)],
                [DIFF_EQUAL, shorttext],
                [DIFF_INSERT, longtext.substring(i + shorttext.length)]
              ];
              if (text1.length > text2.length) {
                diffs[0][0] = diffs[2][0] = DIFF_DELETE;
              }
              return diffs;
            }
            if (shorttext.length == 1) {
              return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
            }
            var hm = diff_halfMatch_(text1, text2);
            if (hm) {
              var text1_a = hm[0];
              var text1_b = hm[1];
              var text2_a = hm[2];
              var text2_b = hm[3];
              var mid_common = hm[4];
              var diffs_a = diff_main(text1_a, text2_a);
              var diffs_b = diff_main(text1_b, text2_b);
              return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);
            }
            return diff_bisect_(text1, text2);
          }
          function diff_bisect_(text1, text2) {
            var text1_length = text1.length;
            var text2_length = text2.length;
            var max_d = Math.ceil((text1_length + text2_length) / 2);
            var v_offset = max_d;
            var v_length = 2 * max_d;
            var v1 = new Array(v_length);
            var v2 = new Array(v_length);
            for (var x = 0; x < v_length; x++) {
              v1[x] = -1;
              v2[x] = -1;
            }
            v1[v_offset + 1] = 0;
            v2[v_offset + 1] = 0;
            var delta = text1_length - text2_length;
            var front = delta % 2 != 0;
            var k1start = 0;
            var k1end = 0;
            var k2start = 0;
            var k2end = 0;
            for (var d = 0; d < max_d; d++) {
              for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {
                var k1_offset = v_offset + k1;
                var x1;
                if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {
                  x1 = v1[k1_offset + 1];
                } else {
                  x1 = v1[k1_offset - 1] + 1;
                }
                var y1 = x1 - k1;
                while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {
                  x1++;
                  y1++;
                }
                v1[k1_offset] = x1;
                if (x1 > text1_length) {
                  k1end += 2;
                } else if (y1 > text2_length) {
                  k1start += 2;
                } else if (front) {
                  var k2_offset = v_offset + delta - k1;
                  if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {
                    var x2 = text1_length - v2[k2_offset];
                    if (x1 >= x2) {
                      return diff_bisectSplit_(text1, text2, x1, y1);
                    }
                  }
                }
              }
              for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {
                var k2_offset = v_offset + k2;
                var x2;
                if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {
                  x2 = v2[k2_offset + 1];
                } else {
                  x2 = v2[k2_offset - 1] + 1;
                }
                var y2 = x2 - k2;
                while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {
                  x2++;
                  y2++;
                }
                v2[k2_offset] = x2;
                if (x2 > text1_length) {
                  k2end += 2;
                } else if (y2 > text2_length) {
                  k2start += 2;
                } else if (!front) {
                  var k1_offset = v_offset + delta - k2;
                  if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {
                    var x1 = v1[k1_offset];
                    var y1 = v_offset + x1 - k1_offset;
                    x2 = text1_length - x2;
                    if (x1 >= x2) {
                      return diff_bisectSplit_(text1, text2, x1, y1);
                    }
                  }
                }
              }
            }
            return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
          }
          function diff_bisectSplit_(text1, text2, x, y) {
            var text1a = text1.substring(0, x);
            var text2a = text2.substring(0, y);
            var text1b = text1.substring(x);
            var text2b = text2.substring(y);
            var diffs = diff_main(text1a, text2a);
            var diffsb = diff_main(text1b, text2b);
            return diffs.concat(diffsb);
          }
          function diff_commonPrefix(text1, text2) {
            if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {
              return 0;
            }
            var pointermin = 0;
            var pointermax = Math.min(text1.length, text2.length);
            var pointermid = pointermax;
            var pointerstart = 0;
            while (pointermin < pointermid) {
              if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {
                pointermin = pointermid;
                pointerstart = pointermin;
              } else {
                pointermax = pointermid;
              }
              pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
            }
            return pointermid;
          }
          function diff_commonSuffix(text1, text2) {
            if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {
              return 0;
            }
            var pointermin = 0;
            var pointermax = Math.min(text1.length, text2.length);
            var pointermid = pointermax;
            var pointerend = 0;
            while (pointermin < pointermid) {
              if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {
                pointermin = pointermid;
                pointerend = pointermin;
              } else {
                pointermax = pointermid;
              }
              pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
            }
            return pointermid;
          }
          function diff_halfMatch_(text1, text2) {
            var longtext = text1.length > text2.length ? text1 : text2;
            var shorttext = text1.length > text2.length ? text2 : text1;
            if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
              return null;
            }
            function diff_halfMatchI_(longtext2, shorttext2, i) {
              var seed = longtext2.substring(i, i + Math.floor(longtext2.length / 4));
              var j = -1;
              var best_common = "";
              var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
              while ((j = shorttext2.indexOf(seed, j + 1)) != -1) {
                var prefixLength = diff_commonPrefix(
                  longtext2.substring(i),
                  shorttext2.substring(j)
                );
                var suffixLength = diff_commonSuffix(
                  longtext2.substring(0, i),
                  shorttext2.substring(0, j)
                );
                if (best_common.length < suffixLength + prefixLength) {
                  best_common = shorttext2.substring(j - suffixLength, j) + shorttext2.substring(j, j + prefixLength);
                  best_longtext_a = longtext2.substring(0, i - suffixLength);
                  best_longtext_b = longtext2.substring(i + prefixLength);
                  best_shorttext_a = shorttext2.substring(0, j - suffixLength);
                  best_shorttext_b = shorttext2.substring(j + prefixLength);
                }
              }
              if (best_common.length * 2 >= longtext2.length) {
                return [
                  best_longtext_a,
                  best_longtext_b,
                  best_shorttext_a,
                  best_shorttext_b,
                  best_common
                ];
              } else {
                return null;
              }
            }
            var hm1 = diff_halfMatchI_(
              longtext,
              shorttext,
              Math.ceil(longtext.length / 4)
            );
            var hm2 = diff_halfMatchI_(
              longtext,
              shorttext,
              Math.ceil(longtext.length / 2)
            );
            var hm;
            if (!hm1 && !hm2) {
              return null;
            } else if (!hm2) {
              hm = hm1;
            } else if (!hm1) {
              hm = hm2;
            } else {
              hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
            }
            var text1_a, text1_b, text2_a, text2_b;
            if (text1.length > text2.length) {
              text1_a = hm[0];
              text1_b = hm[1];
              text2_a = hm[2];
              text2_b = hm[3];
            } else {
              text2_a = hm[0];
              text2_b = hm[1];
              text1_a = hm[2];
              text1_b = hm[3];
            }
            var mid_common = hm[4];
            return [text1_a, text1_b, text2_a, text2_b, mid_common];
          }
          function diff_cleanupMerge(diffs) {
            diffs.push([DIFF_EQUAL, ""]);
            var pointer = 0;
            var count_delete = 0;
            var count_insert = 0;
            var text_delete = "";
            var text_insert = "";
            var commonlength;
            while (pointer < diffs.length) {
              switch (diffs[pointer][0]) {
                case DIFF_INSERT:
                  count_insert++;
                  text_insert += diffs[pointer][1];
                  pointer++;
                  break;
                case DIFF_DELETE:
                  count_delete++;
                  text_delete += diffs[pointer][1];
                  pointer++;
                  break;
                case DIFF_EQUAL:
                  if (count_delete + count_insert > 1) {
                    if (count_delete !== 0 && count_insert !== 0) {
                      commonlength = diff_commonPrefix(text_insert, text_delete);
                      if (commonlength !== 0) {
                        if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {
                          diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);
                        } else {
                          diffs.splice(0, 0, [
                            DIFF_EQUAL,
                            text_insert.substring(0, commonlength)
                          ]);
                          pointer++;
                        }
                        text_insert = text_insert.substring(commonlength);
                        text_delete = text_delete.substring(commonlength);
                      }
                      commonlength = diff_commonSuffix(text_insert, text_delete);
                      if (commonlength !== 0) {
                        diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];
                        text_insert = text_insert.substring(0, text_insert.length - commonlength);
                        text_delete = text_delete.substring(0, text_delete.length - commonlength);
                      }
                    }
                    if (count_delete === 0) {
                      diffs.splice(
                        pointer - count_insert,
                        count_delete + count_insert,
                        [DIFF_INSERT, text_insert]
                      );
                    } else if (count_insert === 0) {
                      diffs.splice(
                        pointer - count_delete,
                        count_delete + count_insert,
                        [DIFF_DELETE, text_delete]
                      );
                    } else {
                      diffs.splice(
                        pointer - count_delete - count_insert,
                        count_delete + count_insert,
                        [DIFF_DELETE, text_delete],
                        [DIFF_INSERT, text_insert]
                      );
                    }
                    pointer = pointer - count_delete - count_insert + (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;
                  } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {
                    diffs[pointer - 1][1] += diffs[pointer][1];
                    diffs.splice(pointer, 1);
                  } else {
                    pointer++;
                  }
                  count_insert = 0;
                  count_delete = 0;
                  text_delete = "";
                  text_insert = "";
                  break;
              }
            }
            if (diffs[diffs.length - 1][1] === "") {
              diffs.pop();
            }
            var changes = false;
            pointer = 1;
            while (pointer < diffs.length - 1) {
              if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {
                if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {
                  diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);
                  diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
                  diffs.splice(pointer - 1, 1);
                  changes = true;
                } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {
                  diffs[pointer - 1][1] += diffs[pointer + 1][1];
                  diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];
                  diffs.splice(pointer + 1, 1);
                  changes = true;
                }
              }
              pointer++;
            }
            if (changes) {
              diff_cleanupMerge(diffs);
            }
          }
          var diff = diff_main;
          diff.INSERT = DIFF_INSERT;
          diff.DELETE = DIFF_DELETE;
          diff.EQUAL = DIFF_EQUAL;
          module2.exports = diff;
          function cursor_normalize_diff(diffs, cursor_pos) {
            if (cursor_pos === 0) {
              return [DIFF_EQUAL, diffs];
            }
            for (var current_pos = 0, i = 0; i < diffs.length; i++) {
              var d = diffs[i];
              if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {
                var next_pos = current_pos + d[1].length;
                if (cursor_pos === next_pos) {
                  return [i + 1, diffs];
                } else if (cursor_pos < next_pos) {
                  diffs = diffs.slice();
                  var split_pos = cursor_pos - current_pos;
                  var d_left = [d[0], d[1].slice(0, split_pos)];
                  var d_right = [d[0], d[1].slice(split_pos)];
                  diffs.splice(i, 1, d_left, d_right);
                  return [i + 1, diffs];
                } else {
                  current_pos = next_pos;
                }
              }
            }
            throw new Error("cursor_pos is out of bounds!");
          }
          function fix_cursor(diffs, cursor_pos) {
            var norm = cursor_normalize_diff(diffs, cursor_pos);
            var ndiffs = norm[1];
            var cursor_pointer = norm[0];
            var d = ndiffs[cursor_pointer];
            var d_next = ndiffs[cursor_pointer + 1];
            if (d == null) {
              return diffs;
            } else if (d[0] !== DIFF_EQUAL) {
              return diffs;
            } else {
              if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {
                ndiffs.splice(cursor_pointer, 2, d_next, d);
                return merge_tuples(ndiffs, cursor_pointer, 2);
              } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {
                ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);
                var suffix = d_next[1].slice(d[1].length);
                if (suffix.length > 0) {
                  ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);
                }
                return merge_tuples(ndiffs, cursor_pointer, 3);
              } else {
                return diffs;
              }
            }
          }
          function fix_emoji(diffs) {
            var compact = false;
            var starts_with_pair_end = function(str) {
              return str.charCodeAt(0) >= 56320 && str.charCodeAt(0) <= 57343;
            };
            var ends_with_pair_start = function(str) {
              return str.charCodeAt(str.length - 1) >= 55296 && str.charCodeAt(str.length - 1) <= 56319;
            };
            for (var i = 2; i < diffs.length; i += 1) {
              if (diffs[i - 2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i - 2][1]) && diffs[i - 1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i - 1][1]) && diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {
                compact = true;
                diffs[i - 1][1] = diffs[i - 2][1].slice(-1) + diffs[i - 1][1];
                diffs[i][1] = diffs[i - 2][1].slice(-1) + diffs[i][1];
                diffs[i - 2][1] = diffs[i - 2][1].slice(0, -1);
              }
            }
            if (!compact) {
              return diffs;
            }
            var fixed_diffs = [];
            for (var i = 0; i < diffs.length; i += 1) {
              if (diffs[i][1].length > 0) {
                fixed_diffs.push(diffs[i]);
              }
            }
            return fixed_diffs;
          }
          function merge_tuples(diffs, start, length) {
            for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {
              if (i + 1 < diffs.length) {
                var left_d = diffs[i];
                var right_d = diffs[i + 1];
                if (left_d[0] === right_d[1]) {
                  diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);
                }
              }
            }
            return diffs;
          }
        },
        /* 52 */
        /***/
        function(module2, exports2) {
          exports2 = module2.exports = typeof Object.keys === "function" ? Object.keys : shim;
          exports2.shim = shim;
          function shim(obj) {
            var keys = [];
            for (var key in obj)
              keys.push(key);
            return keys;
          }
        },
        /* 53 */
        /***/
        function(module2, exports2) {
          var supportsArgumentsClass = function() {
            return Object.prototype.toString.call(arguments);
          }() == "[object Arguments]";
          exports2 = module2.exports = supportsArgumentsClass ? supported : unsupported;
          exports2.supported = supported;
          function supported(object) {
            return Object.prototype.toString.call(object) == "[object Arguments]";
          }
          exports2.unsupported = unsupported;
          function unsupported(object) {
            return object && typeof object == "object" && typeof object.length == "number" && Object.prototype.hasOwnProperty.call(object, "callee") && !Object.prototype.propertyIsEnumerable.call(object, "callee") || false;
          }
        },
        /* 54 */
        /***/
        function(module2, exports2) {
          var has2 = Object.prototype.hasOwnProperty, prefix2 = "~";
          function Events() {
          }
          if (Object.create) {
            Events.prototype = /* @__PURE__ */ Object.create(null);
            if (!new Events().__proto__)
              prefix2 = false;
          }
          function EE(fn, context, once) {
            this.fn = fn;
            this.context = context;
            this.once = once || false;
          }
          function EventEmitter() {
            this._events = new Events();
            this._eventsCount = 0;
          }
          EventEmitter.prototype.eventNames = function eventNames() {
            var names2 = [], events, name2;
            if (this._eventsCount === 0)
              return names2;
            for (name2 in events = this._events) {
              if (has2.call(events, name2))
                names2.push(prefix2 ? name2.slice(1) : name2);
            }
            if (Object.getOwnPropertySymbols) {
              return names2.concat(Object.getOwnPropertySymbols(events));
            }
            return names2;
          };
          EventEmitter.prototype.listeners = function listeners(event2, exists) {
            var evt = prefix2 ? prefix2 + event2 : event2, available = this._events[evt];
            if (exists)
              return !!available;
            if (!available)
              return [];
            if (available.fn)
              return [available.fn];
            for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {
              ee[i] = available[i].fn;
            }
            return ee;
          };
          EventEmitter.prototype.emit = function emit(event2, a1, a2, a3, a4, a5) {
            var evt = prefix2 ? prefix2 + event2 : event2;
            if (!this._events[evt])
              return false;
            var listeners = this._events[evt], len = arguments.length, args, i;
            if (listeners.fn) {
              if (listeners.once)
                this.removeListener(event2, listeners.fn, void 0, true);
              switch (len) {
                case 1:
                  return listeners.fn.call(listeners.context), true;
                case 2:
                  return listeners.fn.call(listeners.context, a1), true;
                case 3:
                  return listeners.fn.call(listeners.context, a1, a2), true;
                case 4:
                  return listeners.fn.call(listeners.context, a1, a2, a3), true;
                case 5:
                  return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
                case 6:
                  return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
              }
              for (i = 1, args = new Array(len - 1); i < len; i++) {
                args[i - 1] = arguments[i];
              }
              listeners.fn.apply(listeners.context, args);
            } else {
              var length = listeners.length, j;
              for (i = 0; i < length; i++) {
                if (listeners[i].once)
                  this.removeListener(event2, listeners[i].fn, void 0, true);
                switch (len) {
                  case 1:
                    listeners[i].fn.call(listeners[i].context);
                    break;
                  case 2:
                    listeners[i].fn.call(listeners[i].context, a1);
                    break;
                  case 3:
                    listeners[i].fn.call(listeners[i].context, a1, a2);
                    break;
                  case 4:
                    listeners[i].fn.call(listeners[i].context, a1, a2, a3);
                    break;
                  default:
                    if (!args)
                      for (j = 1, args = new Array(len - 1); j < len; j++) {
                        args[j - 1] = arguments[j];
                      }
                    listeners[i].fn.apply(listeners[i].context, args);
                }
              }
            }
            return true;
          };
          EventEmitter.prototype.on = function on2(event2, fn, context) {
            var listener = new EE(fn, context || this), evt = prefix2 ? prefix2 + event2 : event2;
            if (!this._events[evt])
              this._events[evt] = listener, this._eventsCount++;
            else if (!this._events[evt].fn)
              this._events[evt].push(listener);
            else
              this._events[evt] = [this._events[evt], listener];
            return this;
          };
          EventEmitter.prototype.once = function once(event2, fn, context) {
            var listener = new EE(fn, context || this, true), evt = prefix2 ? prefix2 + event2 : event2;
            if (!this._events[evt])
              this._events[evt] = listener, this._eventsCount++;
            else if (!this._events[evt].fn)
              this._events[evt].push(listener);
            else
              this._events[evt] = [this._events[evt], listener];
            return this;
          };
          EventEmitter.prototype.removeListener = function removeListener(event2, fn, context, once) {
            var evt = prefix2 ? prefix2 + event2 : event2;
            if (!this._events[evt])
              return this;
            if (!fn) {
              if (--this._eventsCount === 0)
                this._events = new Events();
              else
                delete this._events[evt];
              return this;
            }
            var listeners = this._events[evt];
            if (listeners.fn) {
              if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
                if (--this._eventsCount === 0)
                  this._events = new Events();
                else
                  delete this._events[evt];
              }
            } else {
              for (var i = 0, events = [], length = listeners.length; i < length; i++) {
                if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {
                  events.push(listeners[i]);
                }
              }
              if (events.length)
                this._events[evt] = events.length === 1 ? events[0] : events;
              else if (--this._eventsCount === 0)
                this._events = new Events();
              else
                delete this._events[evt];
            }
            return this;
          };
          EventEmitter.prototype.removeAllListeners = function removeAllListeners(event2) {
            var evt;
            if (event2) {
              evt = prefix2 ? prefix2 + event2 : event2;
              if (this._events[evt]) {
                if (--this._eventsCount === 0)
                  this._events = new Events();
                else
                  delete this._events[evt];
              }
            } else {
              this._events = new Events();
              this._eventsCount = 0;
            }
            return this;
          };
          EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
          EventEmitter.prototype.addListener = EventEmitter.prototype.on;
          EventEmitter.prototype.setMaxListeners = function setMaxListeners() {
            return this;
          };
          EventEmitter.prefixed = prefix2;
          EventEmitter.EventEmitter = EventEmitter;
          if ("undefined" !== typeof module2) {
            module2.exports = EventEmitter;
          }
        },
        /* 55 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.matchText = exports2.matchSpacing = exports2.matchNewline = exports2.matchBlot = exports2.matchAttributor = exports2.default = void 0;
          var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
            return typeof obj;
          } : function(obj) {
            return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
          };
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _extend2 = __webpack_require__(3);
          var _extend3 = _interopRequireDefault(_extend2);
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          var _align = __webpack_require__(36);
          var _background = __webpack_require__(37);
          var _code = __webpack_require__(13);
          var _code2 = _interopRequireDefault(_code);
          var _color = __webpack_require__(26);
          var _direction = __webpack_require__(38);
          var _font = __webpack_require__(39);
          var _size = __webpack_require__(40);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var debug = (0, _logger2.default)("quill:clipboard");
          var DOM_KEY = "__ql-matcher";
          var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ["br", matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ["li", matchIndent], ["b", matchAlias.bind(matchAlias, "bold")], ["i", matchAlias.bind(matchAlias, "italic")], ["style", matchIgnore]];
          var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function(memo, attr2) {
            memo[attr2.keyName] = attr2;
            return memo;
          }, {});
          var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function(memo, attr2) {
            memo[attr2.keyName] = attr2;
            return memo;
          }, {});
          var Clipboard2 = function(_Module) {
            _inherits(Clipboard3, _Module);
            function Clipboard3(quill2, options) {
              _classCallCheck(this, Clipboard3);
              var _this = _possibleConstructorReturn(this, (Clipboard3.__proto__ || Object.getPrototypeOf(Clipboard3)).call(this, quill2, options));
              _this.quill.root.addEventListener("paste", _this.onPaste.bind(_this));
              _this.container = _this.quill.addContainer("ql-clipboard");
              _this.container.setAttribute("contenteditable", true);
              _this.container.setAttribute("tabindex", -1);
              _this.matchers = [];
              CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function(_ref) {
                var _ref2 = _slicedToArray2(_ref, 2), selector = _ref2[0], matcher = _ref2[1];
                if (!options.matchVisual && matcher === matchSpacing)
                  return;
                _this.addMatcher(selector, matcher);
              });
              return _this;
            }
            _createClass(Clipboard3, [{
              key: "addMatcher",
              value: function addMatcher(selector, matcher) {
                this.matchers.push([selector, matcher]);
              }
            }, {
              key: "convert",
              value: function convert(html) {
                if (typeof html === "string") {
                  this.container.innerHTML = html.replace(/\>\r?\n +\</g, "><");
                  return this.convert();
                }
                var formats = this.quill.getFormat(this.quill.selection.savedRange.index);
                if (formats[_code2.default.blotName]) {
                  var text = this.container.innerText;
                  this.container.innerHTML = "";
                  return new _quillDelta2.default().insert(text, _defineProperty2({}, _code2.default.blotName, formats[_code2.default.blotName]));
                }
                var _prepareMatching = this.prepareMatching(), _prepareMatching2 = _slicedToArray2(_prepareMatching, 2), elementMatchers = _prepareMatching2[0], textMatchers = _prepareMatching2[1];
                var delta = traverse(this.container, elementMatchers, textMatchers);
                if (deltaEndsWith(delta, "\n") && delta.ops[delta.ops.length - 1].attributes == null) {
                  delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));
                }
                debug.log("convert", this.container.innerHTML, delta);
                this.container.innerHTML = "";
                return delta;
              }
            }, {
              key: "dangerouslyPasteHTML",
              value: function dangerouslyPasteHTML(index2, html) {
                var source = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : _quill2.default.sources.API;
                if (typeof index2 === "string") {
                  this.quill.setContents(this.convert(index2), html);
                  this.quill.setSelection(0, _quill2.default.sources.SILENT);
                } else {
                  var paste = this.convert(html);
                  this.quill.updateContents(new _quillDelta2.default().retain(index2).concat(paste), source);
                  this.quill.setSelection(index2 + paste.length(), _quill2.default.sources.SILENT);
                }
              }
            }, {
              key: "onPaste",
              value: function onPaste(e2) {
                var _this2 = this;
                if (e2.defaultPrevented || !this.quill.isEnabled())
                  return;
                var range = this.quill.getSelection();
                var delta = new _quillDelta2.default().retain(range.index);
                var scrollTop = this.quill.scrollingContainer.scrollTop;
                this.container.focus();
                this.quill.selection.update(_quill2.default.sources.SILENT);
                setTimeout(function() {
                  delta = delta.concat(_this2.convert()).delete(range.length);
                  _this2.quill.updateContents(delta, _quill2.default.sources.USER);
                  _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);
                  _this2.quill.scrollingContainer.scrollTop = scrollTop;
                  _this2.quill.focus();
                }, 1);
              }
            }, {
              key: "prepareMatching",
              value: function prepareMatching() {
                var _this3 = this;
                var elementMatchers = [], textMatchers = [];
                this.matchers.forEach(function(pair) {
                  var _pair = _slicedToArray2(pair, 2), selector = _pair[0], matcher = _pair[1];
                  switch (selector) {
                    case Node.TEXT_NODE:
                      textMatchers.push(matcher);
                      break;
                    case Node.ELEMENT_NODE:
                      elementMatchers.push(matcher);
                      break;
                    default:
                      [].forEach.call(_this3.container.querySelectorAll(selector), function(node2) {
                        node2[DOM_KEY] = node2[DOM_KEY] || [];
                        node2[DOM_KEY].push(matcher);
                      });
                      break;
                  }
                });
                return [elementMatchers, textMatchers];
              }
            }]);
            return Clipboard3;
          }(_module2.default);
          Clipboard2.DEFAULTS = {
            matchers: [],
            matchVisual: true
          };
          function applyFormat(delta, format2, value2) {
            if ((typeof format2 === "undefined" ? "undefined" : _typeof2(format2)) === "object") {
              return Object.keys(format2).reduce(function(delta2, key) {
                return applyFormat(delta2, key, format2[key]);
              }, delta);
            } else {
              return delta.reduce(function(delta2, op) {
                if (op.attributes && op.attributes[format2]) {
                  return delta2.push(op);
                } else {
                  return delta2.insert(op.insert, (0, _extend3.default)({}, _defineProperty2({}, format2, value2), op.attributes));
                }
              }, new _quillDelta2.default());
            }
          }
          function computeStyle(node2) {
            if (node2.nodeType !== Node.ELEMENT_NODE)
              return {};
            var DOM_KEY2 = "__ql-computed-style";
            return node2[DOM_KEY2] || (node2[DOM_KEY2] = window.getComputedStyle(node2));
          }
          function deltaEndsWith(delta, text) {
            var endText = "";
            for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {
              var op = delta.ops[i];
              if (typeof op.insert !== "string")
                break;
              endText = op.insert + endText;
            }
            return endText.slice(-1 * text.length) === text;
          }
          function isLine(node2) {
            if (node2.childNodes.length === 0)
              return false;
            var style = computeStyle(node2);
            return ["block", "list-item"].indexOf(style.display) > -1;
          }
          function traverse(node2, elementMatchers, textMatchers) {
            if (node2.nodeType === node2.TEXT_NODE) {
              return textMatchers.reduce(function(delta, matcher) {
                return matcher(node2, delta);
              }, new _quillDelta2.default());
            } else if (node2.nodeType === node2.ELEMENT_NODE) {
              return [].reduce.call(node2.childNodes || [], function(delta, childNode) {
                var childrenDelta = traverse(childNode, elementMatchers, textMatchers);
                if (childNode.nodeType === node2.ELEMENT_NODE) {
                  childrenDelta = elementMatchers.reduce(function(childrenDelta2, matcher) {
                    return matcher(childNode, childrenDelta2);
                  }, childrenDelta);
                  childrenDelta = (childNode[DOM_KEY] || []).reduce(function(childrenDelta2, matcher) {
                    return matcher(childNode, childrenDelta2);
                  }, childrenDelta);
                }
                return delta.concat(childrenDelta);
              }, new _quillDelta2.default());
            } else {
              return new _quillDelta2.default();
            }
          }
          function matchAlias(format2, node2, delta) {
            return applyFormat(delta, format2, true);
          }
          function matchAttributor(node2, delta) {
            var attributes = _parchment2.default.Attributor.Attribute.keys(node2);
            var classes2 = _parchment2.default.Attributor.Class.keys(node2);
            var styles = _parchment2.default.Attributor.Style.keys(node2);
            var formats = {};
            attributes.concat(classes2).concat(styles).forEach(function(name2) {
              var attr2 = _parchment2.default.query(name2, _parchment2.default.Scope.ATTRIBUTE);
              if (attr2 != null) {
                formats[attr2.attrName] = attr2.value(node2);
                if (formats[attr2.attrName])
                  return;
              }
              attr2 = ATTRIBUTE_ATTRIBUTORS[name2];
              if (attr2 != null && (attr2.attrName === name2 || attr2.keyName === name2)) {
                formats[attr2.attrName] = attr2.value(node2) || void 0;
              }
              attr2 = STYLE_ATTRIBUTORS[name2];
              if (attr2 != null && (attr2.attrName === name2 || attr2.keyName === name2)) {
                attr2 = STYLE_ATTRIBUTORS[name2];
                formats[attr2.attrName] = attr2.value(node2) || void 0;
              }
            });
            if (Object.keys(formats).length > 0) {
              delta = applyFormat(delta, formats);
            }
            return delta;
          }
          function matchBlot(node2, delta) {
            var match = _parchment2.default.query(node2);
            if (match == null)
              return delta;
            if (match.prototype instanceof _parchment2.default.Embed) {
              var embed = {};
              var value2 = match.value(node2);
              if (value2 != null) {
                embed[match.blotName] = value2;
                delta = new _quillDelta2.default().insert(embed, match.formats(node2));
              }
            } else if (typeof match.formats === "function") {
              delta = applyFormat(delta, match.blotName, match.formats(node2));
            }
            return delta;
          }
          function matchBreak(node2, delta) {
            if (!deltaEndsWith(delta, "\n")) {
              delta.insert("\n");
            }
            return delta;
          }
          function matchIgnore() {
            return new _quillDelta2.default();
          }
          function matchIndent(node2, delta) {
            var match = _parchment2.default.query(node2);
            if (match == null || match.blotName !== "list-item" || !deltaEndsWith(delta, "\n")) {
              return delta;
            }
            var indent = -1, parent = node2.parentNode;
            while (!parent.classList.contains("ql-clipboard")) {
              if ((_parchment2.default.query(parent) || {}).blotName === "list") {
                indent += 1;
              }
              parent = parent.parentNode;
            }
            if (indent <= 0)
              return delta;
            return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent }));
          }
          function matchNewline(node2, delta) {
            if (!deltaEndsWith(delta, "\n")) {
              if (isLine(node2) || delta.length() > 0 && node2.nextSibling && isLine(node2.nextSibling)) {
                delta.insert("\n");
              }
            }
            return delta;
          }
          function matchSpacing(node2, delta) {
            if (isLine(node2) && node2.nextElementSibling != null && !deltaEndsWith(delta, "\n\n")) {
              var nodeHeight = node2.offsetHeight + parseFloat(computeStyle(node2).marginTop) + parseFloat(computeStyle(node2).marginBottom);
              if (node2.nextElementSibling.offsetTop > node2.offsetTop + nodeHeight * 1.5) {
                delta.insert("\n");
              }
            }
            return delta;
          }
          function matchStyles(node2, delta) {
            var formats = {};
            var style = node2.style || {};
            if (style.fontStyle && computeStyle(node2).fontStyle === "italic") {
              formats.italic = true;
            }
            if (style.fontWeight && (computeStyle(node2).fontWeight.startsWith("bold") || parseInt(computeStyle(node2).fontWeight) >= 700)) {
              formats.bold = true;
            }
            if (Object.keys(formats).length > 0) {
              delta = applyFormat(delta, formats);
            }
            if (parseFloat(style.textIndent || 0) > 0) {
              delta = new _quillDelta2.default().insert("	").concat(delta);
            }
            return delta;
          }
          function matchText(node2, delta) {
            var text = node2.data;
            if (node2.parentNode.tagName === "O:P") {
              return delta.insert(text.trim());
            }
            if (text.trim().length === 0 && node2.parentNode.classList.contains("ql-clipboard")) {
              return delta;
            }
            if (!computeStyle(node2.parentNode).whiteSpace.startsWith("pre")) {
              var replacer2 = function replacer3(collapse, match) {
                match = match.replace(/[^\u00a0]/g, "");
                return match.length < 1 && collapse ? " " : match;
              };
              text = text.replace(/\r\n/g, " ").replace(/\n/g, " ");
              text = text.replace(/\s\s+/g, replacer2.bind(replacer2, true));
              if (node2.previousSibling == null && isLine(node2.parentNode) || node2.previousSibling != null && isLine(node2.previousSibling)) {
                text = text.replace(/^\s+/, replacer2.bind(replacer2, false));
              }
              if (node2.nextSibling == null && isLine(node2.parentNode) || node2.nextSibling != null && isLine(node2.nextSibling)) {
                text = text.replace(/\s+$/, replacer2.bind(replacer2, false));
              }
            }
            return delta.insert(text);
          }
          exports2.default = Clipboard2;
          exports2.matchAttributor = matchAttributor;
          exports2.matchBlot = matchBlot;
          exports2.matchNewline = matchNewline;
          exports2.matchSpacing = matchSpacing;
          exports2.matchText = matchText;
        },
        /* 56 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Bold = function(_Inline) {
            _inherits(Bold2, _Inline);
            function Bold2() {
              _classCallCheck(this, Bold2);
              return _possibleConstructorReturn(this, (Bold2.__proto__ || Object.getPrototypeOf(Bold2)).apply(this, arguments));
            }
            _createClass(Bold2, [{
              key: "optimize",
              value: function optimize(context) {
                _get(Bold2.prototype.__proto__ || Object.getPrototypeOf(Bold2.prototype), "optimize", this).call(this, context);
                if (this.domNode.tagName !== this.statics.tagName[0]) {
                  this.replaceWith(this.statics.blotName);
                }
              }
            }], [{
              key: "create",
              value: function create2() {
                return _get(Bold2.__proto__ || Object.getPrototypeOf(Bold2), "create", this).call(this);
              }
            }, {
              key: "formats",
              value: function formats() {
                return true;
              }
            }]);
            return Bold2;
          }(_inline2.default);
          Bold.blotName = "bold";
          Bold.tagName = ["STRONG", "B"];
          exports2.default = Bold;
        },
        /* 57 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.addControls = exports2.default = void 0;
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _quillDelta = __webpack_require__(2);
          var _quillDelta2 = _interopRequireDefault(_quillDelta);
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _logger = __webpack_require__(10);
          var _logger2 = _interopRequireDefault(_logger);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var debug = (0, _logger2.default)("quill:toolbar");
          var Toolbar = function(_Module) {
            _inherits(Toolbar2, _Module);
            function Toolbar2(quill2, options) {
              _classCallCheck(this, Toolbar2);
              var _this = _possibleConstructorReturn(this, (Toolbar2.__proto__ || Object.getPrototypeOf(Toolbar2)).call(this, quill2, options));
              if (Array.isArray(_this.options.container)) {
                var container = document.createElement("div");
                addControls(container, _this.options.container);
                quill2.container.parentNode.insertBefore(container, quill2.container);
                _this.container = container;
              } else if (typeof _this.options.container === "string") {
                _this.container = document.querySelector(_this.options.container);
              } else {
                _this.container = _this.options.container;
              }
              if (!(_this.container instanceof HTMLElement)) {
                var _ret;
                return _ret = debug.error("Container required for toolbar", _this.options), _possibleConstructorReturn(_this, _ret);
              }
              _this.container.classList.add("ql-toolbar");
              _this.controls = [];
              _this.handlers = {};
              Object.keys(_this.options.handlers).forEach(function(format2) {
                _this.addHandler(format2, _this.options.handlers[format2]);
              });
              [].forEach.call(_this.container.querySelectorAll("button, select"), function(input2) {
                _this.attach(input2);
              });
              _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function(type, range) {
                if (type === _quill2.default.events.SELECTION_CHANGE) {
                  _this.update(range);
                }
              });
              _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function() {
                var _this$quill$selection = _this.quill.selection.getRange(), _this$quill$selection2 = _slicedToArray2(_this$quill$selection, 1), range = _this$quill$selection2[0];
                _this.update(range);
              });
              return _this;
            }
            _createClass(Toolbar2, [{
              key: "addHandler",
              value: function addHandler(format2, handler) {
                this.handlers[format2] = handler;
              }
            }, {
              key: "attach",
              value: function attach(input2) {
                var _this2 = this;
                var format2 = [].find.call(input2.classList, function(className) {
                  return className.indexOf("ql-") === 0;
                });
                if (!format2)
                  return;
                format2 = format2.slice("ql-".length);
                if (input2.tagName === "BUTTON") {
                  input2.setAttribute("type", "button");
                }
                if (this.handlers[format2] == null) {
                  if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format2] == null) {
                    debug.warn("ignoring attaching to disabled format", format2, input2);
                    return;
                  }
                  if (_parchment2.default.query(format2) == null) {
                    debug.warn("ignoring attaching to nonexistent format", format2, input2);
                    return;
                  }
                }
                var eventName = input2.tagName === "SELECT" ? "change" : "click";
                input2.addEventListener(eventName, function(e2) {
                  var value2 = void 0;
                  if (input2.tagName === "SELECT") {
                    if (input2.selectedIndex < 0)
                      return;
                    var selected = input2.options[input2.selectedIndex];
                    if (selected.hasAttribute("selected")) {
                      value2 = false;
                    } else {
                      value2 = selected.value || false;
                    }
                  } else {
                    if (input2.classList.contains("ql-active")) {
                      value2 = false;
                    } else {
                      value2 = input2.value || !input2.hasAttribute("value");
                    }
                    e2.preventDefault();
                  }
                  _this2.quill.focus();
                  var _quill$selection$getR = _this2.quill.selection.getRange(), _quill$selection$getR2 = _slicedToArray2(_quill$selection$getR, 1), range = _quill$selection$getR2[0];
                  if (_this2.handlers[format2] != null) {
                    _this2.handlers[format2].call(_this2, value2);
                  } else if (_parchment2.default.query(format2).prototype instanceof _parchment2.default.Embed) {
                    value2 = prompt("Enter " + format2);
                    if (!value2)
                      return;
                    _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty2({}, format2, value2)), _quill2.default.sources.USER);
                  } else {
                    _this2.quill.format(format2, value2, _quill2.default.sources.USER);
                  }
                  _this2.update(range);
                });
                this.controls.push([format2, input2]);
              }
            }, {
              key: "update",
              value: function update(range) {
                var formats = range == null ? {} : this.quill.getFormat(range);
                this.controls.forEach(function(pair) {
                  var _pair = _slicedToArray2(pair, 2), format2 = _pair[0], input2 = _pair[1];
                  if (input2.tagName === "SELECT") {
                    var option2 = void 0;
                    if (range == null) {
                      option2 = null;
                    } else if (formats[format2] == null) {
                      option2 = input2.querySelector("option[selected]");
                    } else if (!Array.isArray(formats[format2])) {
                      var value2 = formats[format2];
                      if (typeof value2 === "string") {
                        value2 = value2.replace(/\"/g, '\\"');
                      }
                      option2 = input2.querySelector('option[value="' + value2 + '"]');
                    }
                    if (option2 == null) {
                      input2.value = "";
                      input2.selectedIndex = -1;
                    } else {
                      option2.selected = true;
                    }
                  } else {
                    if (range == null) {
                      input2.classList.remove("ql-active");
                    } else if (input2.hasAttribute("value")) {
                      var isActive = formats[format2] === input2.getAttribute("value") || formats[format2] != null && formats[format2].toString() === input2.getAttribute("value") || formats[format2] == null && !input2.getAttribute("value");
                      input2.classList.toggle("ql-active", isActive);
                    } else {
                      input2.classList.toggle("ql-active", formats[format2] != null);
                    }
                  }
                });
              }
            }]);
            return Toolbar2;
          }(_module2.default);
          Toolbar.DEFAULTS = {};
          function addButton(container, format2, value2) {
            var input2 = document.createElement("button");
            input2.setAttribute("type", "button");
            input2.classList.add("ql-" + format2);
            if (value2 != null) {
              input2.value = value2;
            }
            container.appendChild(input2);
          }
          function addControls(container, groups) {
            if (!Array.isArray(groups[0])) {
              groups = [groups];
            }
            groups.forEach(function(controls) {
              var group = document.createElement("span");
              group.classList.add("ql-formats");
              controls.forEach(function(control) {
                if (typeof control === "string") {
                  addButton(group, control);
                } else {
                  var format2 = Object.keys(control)[0];
                  var value2 = control[format2];
                  if (Array.isArray(value2)) {
                    addSelect(group, format2, value2);
                  } else {
                    addButton(group, format2, value2);
                  }
                }
              });
              container.appendChild(group);
            });
          }
          function addSelect(container, format2, values) {
            var input2 = document.createElement("select");
            input2.classList.add("ql-" + format2);
            values.forEach(function(value2) {
              var option2 = document.createElement("option");
              if (value2 !== false) {
                option2.setAttribute("value", value2);
              } else {
                option2.setAttribute("selected", "selected");
              }
              input2.appendChild(option2);
            });
            container.appendChild(input2);
          }
          Toolbar.DEFAULTS = {
            container: null,
            handlers: {
              clean: function clean() {
                var _this3 = this;
                var range = this.quill.getSelection();
                if (range == null)
                  return;
                if (range.length == 0) {
                  var formats = this.quill.getFormat();
                  Object.keys(formats).forEach(function(name2) {
                    if (_parchment2.default.query(name2, _parchment2.default.Scope.INLINE) != null) {
                      _this3.quill.format(name2, false);
                    }
                  });
                } else {
                  this.quill.removeFormat(range, _quill2.default.sources.USER);
                }
              },
              direction: function direction(value2) {
                var align = this.quill.getFormat()["align"];
                if (value2 === "rtl" && align == null) {
                  this.quill.format("align", "right", _quill2.default.sources.USER);
                } else if (!value2 && align === "right") {
                  this.quill.format("align", false, _quill2.default.sources.USER);
                }
                this.quill.format("direction", value2, _quill2.default.sources.USER);
              },
              indent: function indent(value2) {
                var range = this.quill.getSelection();
                var formats = this.quill.getFormat(range);
                var indent2 = parseInt(formats.indent || 0);
                if (value2 === "+1" || value2 === "-1") {
                  var modifier = value2 === "+1" ? 1 : -1;
                  if (formats.direction === "rtl")
                    modifier *= -1;
                  this.quill.format("indent", indent2 + modifier, _quill2.default.sources.USER);
                }
              },
              link: function link(value2) {
                if (value2 === true) {
                  value2 = prompt("Enter link URL:");
                }
                this.quill.format("link", value2, _quill2.default.sources.USER);
              },
              list: function list(value2) {
                var range = this.quill.getSelection();
                var formats = this.quill.getFormat(range);
                if (value2 === "check") {
                  if (formats["list"] === "checked" || formats["list"] === "unchecked") {
                    this.quill.format("list", false, _quill2.default.sources.USER);
                  } else {
                    this.quill.format("list", "unchecked", _quill2.default.sources.USER);
                  }
                } else {
                  this.quill.format("list", value2, _quill2.default.sources.USER);
                }
              }
            }
          };
          exports2.default = Toolbar;
          exports2.addControls = addControls;
        },
        /* 58 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>';
        },
        /* 59 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _picker = __webpack_require__(28);
          var _picker2 = _interopRequireDefault(_picker);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ColorPicker = function(_Picker) {
            _inherits(ColorPicker2, _Picker);
            function ColorPicker2(select2, label) {
              _classCallCheck(this, ColorPicker2);
              var _this = _possibleConstructorReturn(this, (ColorPicker2.__proto__ || Object.getPrototypeOf(ColorPicker2)).call(this, select2));
              _this.label.innerHTML = label;
              _this.container.classList.add("ql-color-picker");
              [].slice.call(_this.container.querySelectorAll(".ql-picker-item"), 0, 7).forEach(function(item) {
                item.classList.add("ql-primary");
              });
              return _this;
            }
            _createClass(ColorPicker2, [{
              key: "buildItem",
              value: function buildItem(option2) {
                var item = _get(ColorPicker2.prototype.__proto__ || Object.getPrototypeOf(ColorPicker2.prototype), "buildItem", this).call(this, option2);
                item.style.backgroundColor = option2.getAttribute("value") || "";
                return item;
              }
            }, {
              key: "selectItem",
              value: function selectItem(item, trigger) {
                _get(ColorPicker2.prototype.__proto__ || Object.getPrototypeOf(ColorPicker2.prototype), "selectItem", this).call(this, item, trigger);
                var colorLabel = this.label.querySelector(".ql-color-label");
                var value2 = item ? item.getAttribute("data-value") || "" : "";
                if (colorLabel) {
                  if (colorLabel.tagName === "line") {
                    colorLabel.style.stroke = value2;
                  } else {
                    colorLabel.style.fill = value2;
                  }
                }
              }
            }]);
            return ColorPicker2;
          }(_picker2.default);
          exports2.default = ColorPicker;
        },
        /* 60 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _picker = __webpack_require__(28);
          var _picker2 = _interopRequireDefault(_picker);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var IconPicker = function(_Picker) {
            _inherits(IconPicker2, _Picker);
            function IconPicker2(select2, icons) {
              _classCallCheck(this, IconPicker2);
              var _this = _possibleConstructorReturn(this, (IconPicker2.__proto__ || Object.getPrototypeOf(IconPicker2)).call(this, select2));
              _this.container.classList.add("ql-icon-picker");
              [].forEach.call(_this.container.querySelectorAll(".ql-picker-item"), function(item) {
                item.innerHTML = icons[item.getAttribute("data-value") || ""];
              });
              _this.defaultItem = _this.container.querySelector(".ql-selected");
              _this.selectItem(_this.defaultItem);
              return _this;
            }
            _createClass(IconPicker2, [{
              key: "selectItem",
              value: function selectItem(item, trigger) {
                _get(IconPicker2.prototype.__proto__ || Object.getPrototypeOf(IconPicker2.prototype), "selectItem", this).call(this, item, trigger);
                item = item || this.defaultItem;
                this.label.innerHTML = item.innerHTML;
              }
            }]);
            return IconPicker2;
          }(_picker2.default);
          exports2.default = IconPicker;
        },
        /* 61 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Tooltip = function() {
            function Tooltip2(quill2, boundsContainer) {
              var _this = this;
              _classCallCheck(this, Tooltip2);
              this.quill = quill2;
              this.boundsContainer = boundsContainer || document.body;
              this.root = quill2.addContainer("ql-tooltip");
              this.root.innerHTML = this.constructor.TEMPLATE;
              if (this.quill.root === this.quill.scrollingContainer) {
                this.quill.root.addEventListener("scroll", function() {
                  _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + "px";
                });
              }
              this.hide();
            }
            _createClass(Tooltip2, [{
              key: "hide",
              value: function hide() {
                this.root.classList.add("ql-hidden");
              }
            }, {
              key: "position",
              value: function position(reference) {
                var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;
                var top2 = reference.bottom + this.quill.root.scrollTop;
                this.root.style.left = left + "px";
                this.root.style.top = top2 + "px";
                this.root.classList.remove("ql-flip");
                var containerBounds = this.boundsContainer.getBoundingClientRect();
                var rootBounds = this.root.getBoundingClientRect();
                var shift = 0;
                if (rootBounds.right > containerBounds.right) {
                  shift = containerBounds.right - rootBounds.right;
                  this.root.style.left = left + shift + "px";
                }
                if (rootBounds.left < containerBounds.left) {
                  shift = containerBounds.left - rootBounds.left;
                  this.root.style.left = left + shift + "px";
                }
                if (rootBounds.bottom > containerBounds.bottom) {
                  var height = rootBounds.bottom - rootBounds.top;
                  var verticalShift = reference.bottom - reference.top + height;
                  this.root.style.top = top2 - verticalShift + "px";
                  this.root.classList.add("ql-flip");
                }
                return shift;
              }
            }, {
              key: "show",
              value: function show() {
                this.root.classList.remove("ql-editing");
                this.root.classList.remove("ql-hidden");
              }
            }]);
            return Tooltip2;
          }();
          exports2.default = Tooltip;
        },
        /* 62 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _slicedToArray2 = /* @__PURE__ */ function() {
            function sliceIterator(arr, i) {
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"])
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            return function(arr, i) {
              if (Array.isArray(arr)) {
                return arr;
              } else if (Symbol.iterator in Object(arr)) {
                return sliceIterator(arr, i);
              } else {
                throw new TypeError("Invalid attempt to destructure non-iterable instance");
              }
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _emitter = __webpack_require__(8);
          var _emitter2 = _interopRequireDefault(_emitter);
          var _base = __webpack_require__(43);
          var _base2 = _interopRequireDefault(_base);
          var _link = __webpack_require__(27);
          var _link2 = _interopRequireDefault(_link);
          var _selection = __webpack_require__(15);
          var _icons = __webpack_require__(41);
          var _icons2 = _interopRequireDefault(_icons);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var TOOLBAR_CONFIG = [[{ header: ["1", "2", "3", false] }], ["bold", "italic", "underline", "link"], [{ list: "ordered" }, { list: "bullet" }], ["clean"]];
          var SnowTheme = function(_BaseTheme) {
            _inherits(SnowTheme2, _BaseTheme);
            function SnowTheme2(quill2, options) {
              _classCallCheck(this, SnowTheme2);
              if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
                options.modules.toolbar.container = TOOLBAR_CONFIG;
              }
              var _this = _possibleConstructorReturn(this, (SnowTheme2.__proto__ || Object.getPrototypeOf(SnowTheme2)).call(this, quill2, options));
              _this.quill.container.classList.add("ql-snow");
              return _this;
            }
            _createClass(SnowTheme2, [{
              key: "extendToolbar",
              value: function extendToolbar(toolbar) {
                toolbar.container.classList.add("ql-snow");
                this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")), _icons2.default);
                this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")), _icons2.default);
                this.tooltip = new SnowTooltip(this.quill, this.options.bounds);
                if (toolbar.container.querySelector(".ql-link")) {
                  this.quill.keyboard.addBinding({ key: "K", shortKey: true }, function(range, context) {
                    toolbar.handlers["link"].call(toolbar, !context.format.link);
                  });
                }
              }
            }]);
            return SnowTheme2;
          }(_base2.default);
          SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
            modules: {
              toolbar: {
                handlers: {
                  link: function link(value2) {
                    if (value2) {
                      var range = this.quill.getSelection();
                      if (range == null || range.length == 0)
                        return;
                      var preview = this.quill.getText(range);
                      if (/^\S+@\S+\.\S+$/.test(preview) && preview.indexOf("mailto:") !== 0) {
                        preview = "mailto:" + preview;
                      }
                      var tooltip = this.quill.theme.tooltip;
                      tooltip.edit("link", preview);
                    } else {
                      this.quill.format("link", false);
                    }
                  }
                }
              }
            }
          });
          var SnowTooltip = function(_BaseTooltip) {
            _inherits(SnowTooltip2, _BaseTooltip);
            function SnowTooltip2(quill2, bounds) {
              _classCallCheck(this, SnowTooltip2);
              var _this2 = _possibleConstructorReturn(this, (SnowTooltip2.__proto__ || Object.getPrototypeOf(SnowTooltip2)).call(this, quill2, bounds));
              _this2.preview = _this2.root.querySelector("a.ql-preview");
              return _this2;
            }
            _createClass(SnowTooltip2, [{
              key: "listen",
              value: function listen() {
                var _this3 = this;
                _get(SnowTooltip2.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip2.prototype), "listen", this).call(this);
                this.root.querySelector("a.ql-action").addEventListener("click", function(event2) {
                  if (_this3.root.classList.contains("ql-editing")) {
                    _this3.save();
                  } else {
                    _this3.edit("link", _this3.preview.textContent);
                  }
                  event2.preventDefault();
                });
                this.root.querySelector("a.ql-remove").addEventListener("click", function(event2) {
                  if (_this3.linkRange != null) {
                    var range = _this3.linkRange;
                    _this3.restoreFocus();
                    _this3.quill.formatText(range, "link", false, _emitter2.default.sources.USER);
                    delete _this3.linkRange;
                  }
                  event2.preventDefault();
                  _this3.hide();
                });
                this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function(range, oldRange, source) {
                  if (range == null)
                    return;
                  if (range.length === 0 && source === _emitter2.default.sources.USER) {
                    var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index), _quill$scroll$descend2 = _slicedToArray2(_quill$scroll$descend, 2), link = _quill$scroll$descend2[0], offset = _quill$scroll$descend2[1];
                    if (link != null) {
                      _this3.linkRange = new _selection.Range(range.index - offset, link.length());
                      var preview = _link2.default.formats(link.domNode);
                      _this3.preview.textContent = preview;
                      _this3.preview.setAttribute("href", preview);
                      _this3.show();
                      _this3.position(_this3.quill.getBounds(_this3.linkRange));
                      return;
                    }
                  } else {
                    delete _this3.linkRange;
                  }
                  _this3.hide();
                });
              }
            }, {
              key: "show",
              value: function show() {
                _get(SnowTooltip2.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip2.prototype), "show", this).call(this);
                this.root.removeAttribute("data-mode");
              }
            }]);
            return SnowTooltip2;
          }(_base.BaseTooltip);
          SnowTooltip.TEMPLATE = ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join("");
          exports2.default = SnowTheme;
        },
        /* 63 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _core = __webpack_require__(29);
          var _core2 = _interopRequireDefault(_core);
          var _align = __webpack_require__(36);
          var _direction = __webpack_require__(38);
          var _indent = __webpack_require__(64);
          var _blockquote = __webpack_require__(65);
          var _blockquote2 = _interopRequireDefault(_blockquote);
          var _header = __webpack_require__(66);
          var _header2 = _interopRequireDefault(_header);
          var _list = __webpack_require__(67);
          var _list2 = _interopRequireDefault(_list);
          var _background = __webpack_require__(37);
          var _color = __webpack_require__(26);
          var _font = __webpack_require__(39);
          var _size = __webpack_require__(40);
          var _bold = __webpack_require__(56);
          var _bold2 = _interopRequireDefault(_bold);
          var _italic = __webpack_require__(68);
          var _italic2 = _interopRequireDefault(_italic);
          var _link = __webpack_require__(27);
          var _link2 = _interopRequireDefault(_link);
          var _script = __webpack_require__(69);
          var _script2 = _interopRequireDefault(_script);
          var _strike = __webpack_require__(70);
          var _strike2 = _interopRequireDefault(_strike);
          var _underline = __webpack_require__(71);
          var _underline2 = _interopRequireDefault(_underline);
          var _image = __webpack_require__(72);
          var _image2 = _interopRequireDefault(_image);
          var _video = __webpack_require__(73);
          var _video2 = _interopRequireDefault(_video);
          var _code = __webpack_require__(13);
          var _code2 = _interopRequireDefault(_code);
          var _formula = __webpack_require__(74);
          var _formula2 = _interopRequireDefault(_formula);
          var _syntax = __webpack_require__(75);
          var _syntax2 = _interopRequireDefault(_syntax);
          var _toolbar = __webpack_require__(57);
          var _toolbar2 = _interopRequireDefault(_toolbar);
          var _icons = __webpack_require__(41);
          var _icons2 = _interopRequireDefault(_icons);
          var _picker = __webpack_require__(28);
          var _picker2 = _interopRequireDefault(_picker);
          var _colorPicker = __webpack_require__(59);
          var _colorPicker2 = _interopRequireDefault(_colorPicker);
          var _iconPicker = __webpack_require__(60);
          var _iconPicker2 = _interopRequireDefault(_iconPicker);
          var _tooltip = __webpack_require__(61);
          var _tooltip2 = _interopRequireDefault(_tooltip);
          var _bubble = __webpack_require__(108);
          var _bubble2 = _interopRequireDefault(_bubble);
          var _snow = __webpack_require__(62);
          var _snow2 = _interopRequireDefault(_snow);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          _core2.default.register({
            "attributors/attribute/direction": _direction.DirectionAttribute,
            "attributors/class/align": _align.AlignClass,
            "attributors/class/background": _background.BackgroundClass,
            "attributors/class/color": _color.ColorClass,
            "attributors/class/direction": _direction.DirectionClass,
            "attributors/class/font": _font.FontClass,
            "attributors/class/size": _size.SizeClass,
            "attributors/style/align": _align.AlignStyle,
            "attributors/style/background": _background.BackgroundStyle,
            "attributors/style/color": _color.ColorStyle,
            "attributors/style/direction": _direction.DirectionStyle,
            "attributors/style/font": _font.FontStyle,
            "attributors/style/size": _size.SizeStyle
          }, true);
          _core2.default.register({
            "formats/align": _align.AlignClass,
            "formats/direction": _direction.DirectionClass,
            "formats/indent": _indent.IndentClass,
            "formats/background": _background.BackgroundStyle,
            "formats/color": _color.ColorStyle,
            "formats/font": _font.FontClass,
            "formats/size": _size.SizeClass,
            "formats/blockquote": _blockquote2.default,
            "formats/code-block": _code2.default,
            "formats/header": _header2.default,
            "formats/list": _list2.default,
            "formats/bold": _bold2.default,
            "formats/code": _code.Code,
            "formats/italic": _italic2.default,
            "formats/link": _link2.default,
            "formats/script": _script2.default,
            "formats/strike": _strike2.default,
            "formats/underline": _underline2.default,
            "formats/image": _image2.default,
            "formats/video": _video2.default,
            "formats/list/item": _list.ListItem,
            "modules/formula": _formula2.default,
            "modules/syntax": _syntax2.default,
            "modules/toolbar": _toolbar2.default,
            "themes/bubble": _bubble2.default,
            "themes/snow": _snow2.default,
            "ui/icons": _icons2.default,
            "ui/picker": _picker2.default,
            "ui/icon-picker": _iconPicker2.default,
            "ui/color-picker": _colorPicker2.default,
            "ui/tooltip": _tooltip2.default
          }, true);
          exports2.default = _core2.default;
        },
        /* 64 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.IndentClass = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var IdentAttributor = function(_Parchment$Attributor) {
            _inherits(IdentAttributor2, _Parchment$Attributor);
            function IdentAttributor2() {
              _classCallCheck(this, IdentAttributor2);
              return _possibleConstructorReturn(this, (IdentAttributor2.__proto__ || Object.getPrototypeOf(IdentAttributor2)).apply(this, arguments));
            }
            _createClass(IdentAttributor2, [{
              key: "add",
              value: function add2(node2, value2) {
                if (value2 === "+1" || value2 === "-1") {
                  var indent = this.value(node2) || 0;
                  value2 = value2 === "+1" ? indent + 1 : indent - 1;
                }
                if (value2 === 0) {
                  this.remove(node2);
                  return true;
                } else {
                  return _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "add", this).call(this, node2, value2);
                }
              }
            }, {
              key: "canAdd",
              value: function canAdd(node2, value2) {
                return _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "canAdd", this).call(this, node2, value2) || _get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "canAdd", this).call(this, node2, parseInt(value2));
              }
            }, {
              key: "value",
              value: function value2(node2) {
                return parseInt(_get(IdentAttributor2.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor2.prototype), "value", this).call(this, node2)) || void 0;
              }
            }]);
            return IdentAttributor2;
          }(_parchment2.default.Attributor.Class);
          var IndentClass = new IdentAttributor("indent", "ql-indent", {
            scope: _parchment2.default.Scope.BLOCK,
            whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
          });
          exports2.IndentClass = IndentClass;
        },
        /* 65 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Blockquote = function(_Block) {
            _inherits(Blockquote2, _Block);
            function Blockquote2() {
              _classCallCheck(this, Blockquote2);
              return _possibleConstructorReturn(this, (Blockquote2.__proto__ || Object.getPrototypeOf(Blockquote2)).apply(this, arguments));
            }
            return Blockquote2;
          }(_block2.default);
          Blockquote.blotName = "blockquote";
          Blockquote.tagName = "blockquote";
          exports2.default = Blockquote;
        },
        /* 66 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Header = function(_Block) {
            _inherits(Header2, _Block);
            function Header2() {
              _classCallCheck(this, Header2);
              return _possibleConstructorReturn(this, (Header2.__proto__ || Object.getPrototypeOf(Header2)).apply(this, arguments));
            }
            _createClass(Header2, null, [{
              key: "formats",
              value: function formats(domNode) {
                return this.tagName.indexOf(domNode.tagName) + 1;
              }
            }]);
            return Header2;
          }(_block2.default);
          Header.blotName = "header";
          Header.tagName = ["H1", "H2", "H3", "H4", "H5", "H6"];
          exports2.default = Header;
        },
        /* 67 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.ListItem = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _block = __webpack_require__(4);
          var _block2 = _interopRequireDefault(_block);
          var _container = __webpack_require__(25);
          var _container2 = _interopRequireDefault(_container);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _defineProperty2(obj, key, value2) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value: value2, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value2;
            }
            return obj;
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ListItem = function(_Block) {
            _inherits(ListItem2, _Block);
            function ListItem2() {
              _classCallCheck(this, ListItem2);
              return _possibleConstructorReturn(this, (ListItem2.__proto__ || Object.getPrototypeOf(ListItem2)).apply(this, arguments));
            }
            _createClass(ListItem2, [{
              key: "format",
              value: function format2(name2, value2) {
                if (name2 === List.blotName && !value2) {
                  this.replaceWith(_parchment2.default.create(this.statics.scope));
                } else {
                  _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "format", this).call(this, name2, value2);
                }
              }
            }, {
              key: "remove",
              value: function remove2() {
                if (this.prev == null && this.next == null) {
                  this.parent.remove();
                } else {
                  _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "remove", this).call(this);
                }
              }
            }, {
              key: "replaceWith",
              value: function replaceWith(name2, value2) {
                this.parent.isolate(this.offset(this.parent), this.length());
                if (name2 === this.parent.statics.blotName) {
                  this.parent.replaceWith(name2, value2);
                  return this;
                } else {
                  this.parent.unwrap();
                  return _get(ListItem2.prototype.__proto__ || Object.getPrototypeOf(ListItem2.prototype), "replaceWith", this).call(this, name2, value2);
                }
              }
            }], [{
              key: "formats",
              value: function formats(domNode) {
                return domNode.tagName === this.tagName ? void 0 : _get(ListItem2.__proto__ || Object.getPrototypeOf(ListItem2), "formats", this).call(this, domNode);
              }
            }]);
            return ListItem2;
          }(_block2.default);
          ListItem.blotName = "list-item";
          ListItem.tagName = "LI";
          var List = function(_Container) {
            _inherits(List2, _Container);
            _createClass(List2, null, [{
              key: "create",
              value: function create2(value2) {
                var tagName = value2 === "ordered" ? "OL" : "UL";
                var node2 = _get(List2.__proto__ || Object.getPrototypeOf(List2), "create", this).call(this, tagName);
                if (value2 === "checked" || value2 === "unchecked") {
                  node2.setAttribute("data-checked", value2 === "checked");
                }
                return node2;
              }
            }, {
              key: "formats",
              value: function formats(domNode) {
                if (domNode.tagName === "OL")
                  return "ordered";
                if (domNode.tagName === "UL") {
                  if (domNode.hasAttribute("data-checked")) {
                    return domNode.getAttribute("data-checked") === "true" ? "checked" : "unchecked";
                  } else {
                    return "bullet";
                  }
                }
                return void 0;
              }
            }]);
            function List2(domNode) {
              _classCallCheck(this, List2);
              var _this2 = _possibleConstructorReturn(this, (List2.__proto__ || Object.getPrototypeOf(List2)).call(this, domNode));
              var listEventHandler = function listEventHandler2(e2) {
                if (e2.target.parentNode !== domNode)
                  return;
                var format2 = _this2.statics.formats(domNode);
                var blot = _parchment2.default.find(e2.target);
                if (format2 === "checked") {
                  blot.format("list", "unchecked");
                } else if (format2 === "unchecked") {
                  blot.format("list", "checked");
                }
              };
              domNode.addEventListener("touchstart", listEventHandler);
              domNode.addEventListener("mousedown", listEventHandler);
              return _this2;
            }
            _createClass(List2, [{
              key: "format",
              value: function format2(name2, value2) {
                if (this.children.length > 0) {
                  this.children.tail.format(name2, value2);
                }
              }
            }, {
              key: "formats",
              value: function formats() {
                return _defineProperty2({}, this.statics.blotName, this.statics.formats(this.domNode));
              }
            }, {
              key: "insertBefore",
              value: function insertBefore(blot, ref2) {
                if (blot instanceof ListItem) {
                  _get(List2.prototype.__proto__ || Object.getPrototypeOf(List2.prototype), "insertBefore", this).call(this, blot, ref2);
                } else {
                  var index2 = ref2 == null ? this.length() : ref2.offset(this);
                  var after = this.split(index2);
                  after.parent.insertBefore(blot, after);
                }
              }
            }, {
              key: "optimize",
              value: function optimize(context) {
                _get(List2.prototype.__proto__ || Object.getPrototypeOf(List2.prototype), "optimize", this).call(this, context);
                var next = this.next;
                if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute("data-checked") === this.domNode.getAttribute("data-checked")) {
                  next.moveChildren(this);
                  next.remove();
                }
              }
            }, {
              key: "replace",
              value: function replace(target) {
                if (target.statics.blotName !== this.statics.blotName) {
                  var item = _parchment2.default.create(this.statics.defaultChild);
                  target.moveChildren(item);
                  this.appendChild(item);
                }
                _get(List2.prototype.__proto__ || Object.getPrototypeOf(List2.prototype), "replace", this).call(this, target);
              }
            }]);
            return List2;
          }(_container2.default);
          List.blotName = "list";
          List.scope = _parchment2.default.Scope.BLOCK_BLOT;
          List.tagName = ["OL", "UL"];
          List.defaultChild = "list-item";
          List.allowedChildren = [ListItem];
          exports2.ListItem = ListItem;
          exports2.default = List;
        },
        /* 68 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _bold = __webpack_require__(56);
          var _bold2 = _interopRequireDefault(_bold);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Italic = function(_Bold) {
            _inherits(Italic2, _Bold);
            function Italic2() {
              _classCallCheck(this, Italic2);
              return _possibleConstructorReturn(this, (Italic2.__proto__ || Object.getPrototypeOf(Italic2)).apply(this, arguments));
            }
            return Italic2;
          }(_bold2.default);
          Italic.blotName = "italic";
          Italic.tagName = ["EM", "I"];
          exports2.default = Italic;
        },
        /* 69 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Script = function(_Inline) {
            _inherits(Script2, _Inline);
            function Script2() {
              _classCallCheck(this, Script2);
              return _possibleConstructorReturn(this, (Script2.__proto__ || Object.getPrototypeOf(Script2)).apply(this, arguments));
            }
            _createClass(Script2, null, [{
              key: "create",
              value: function create2(value2) {
                if (value2 === "super") {
                  return document.createElement("sup");
                } else if (value2 === "sub") {
                  return document.createElement("sub");
                } else {
                  return _get(Script2.__proto__ || Object.getPrototypeOf(Script2), "create", this).call(this, value2);
                }
              }
            }, {
              key: "formats",
              value: function formats(domNode) {
                if (domNode.tagName === "SUB")
                  return "sub";
                if (domNode.tagName === "SUP")
                  return "super";
                return void 0;
              }
            }]);
            return Script2;
          }(_inline2.default);
          Script.blotName = "script";
          Script.tagName = ["SUB", "SUP"];
          exports2.default = Script;
        },
        /* 70 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Strike = function(_Inline) {
            _inherits(Strike2, _Inline);
            function Strike2() {
              _classCallCheck(this, Strike2);
              return _possibleConstructorReturn(this, (Strike2.__proto__ || Object.getPrototypeOf(Strike2)).apply(this, arguments));
            }
            return Strike2;
          }(_inline2.default);
          Strike.blotName = "strike";
          Strike.tagName = "S";
          exports2.default = Strike;
        },
        /* 71 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _inline = __webpack_require__(6);
          var _inline2 = _interopRequireDefault(_inline);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var Underline = function(_Inline) {
            _inherits(Underline2, _Inline);
            function Underline2() {
              _classCallCheck(this, Underline2);
              return _possibleConstructorReturn(this, (Underline2.__proto__ || Object.getPrototypeOf(Underline2)).apply(this, arguments));
            }
            return Underline2;
          }(_inline2.default);
          Underline.blotName = "underline";
          Underline.tagName = "U";
          exports2.default = Underline;
        },
        /* 72 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _link = __webpack_require__(27);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ATTRIBUTES = ["alt", "height", "width"];
          var Image = function(_Parchment$Embed) {
            _inherits(Image2, _Parchment$Embed);
            function Image2() {
              _classCallCheck(this, Image2);
              return _possibleConstructorReturn(this, (Image2.__proto__ || Object.getPrototypeOf(Image2)).apply(this, arguments));
            }
            _createClass(Image2, [{
              key: "format",
              value: function format2(name2, value2) {
                if (ATTRIBUTES.indexOf(name2) > -1) {
                  if (value2) {
                    this.domNode.setAttribute(name2, value2);
                  } else {
                    this.domNode.removeAttribute(name2);
                  }
                } else {
                  _get(Image2.prototype.__proto__ || Object.getPrototypeOf(Image2.prototype), "format", this).call(this, name2, value2);
                }
              }
            }], [{
              key: "create",
              value: function create2(value2) {
                var node2 = _get(Image2.__proto__ || Object.getPrototypeOf(Image2), "create", this).call(this, value2);
                if (typeof value2 === "string") {
                  node2.setAttribute("src", this.sanitize(value2));
                }
                return node2;
              }
            }, {
              key: "formats",
              value: function formats(domNode) {
                return ATTRIBUTES.reduce(function(formats2, attribute) {
                  if (domNode.hasAttribute(attribute)) {
                    formats2[attribute] = domNode.getAttribute(attribute);
                  }
                  return formats2;
                }, {});
              }
            }, {
              key: "match",
              value: function match(url) {
                return /\.(jpe?g|gif|png)$/.test(url) || /^data:image\/.+;base64/.test(url);
              }
            }, {
              key: "sanitize",
              value: function sanitize(url) {
                return (0, _link.sanitize)(url, ["http", "https", "data"]) ? url : "//:0";
              }
            }, {
              key: "value",
              value: function value2(domNode) {
                return domNode.getAttribute("src");
              }
            }]);
            return Image2;
          }(_parchment2.default.Embed);
          Image.blotName = "image";
          Image.tagName = "IMG";
          exports2.default = Image;
        },
        /* 73 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _block = __webpack_require__(4);
          var _link = __webpack_require__(27);
          var _link2 = _interopRequireDefault(_link);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var ATTRIBUTES = ["height", "width"];
          var Video = function(_BlockEmbed) {
            _inherits(Video2, _BlockEmbed);
            function Video2() {
              _classCallCheck(this, Video2);
              return _possibleConstructorReturn(this, (Video2.__proto__ || Object.getPrototypeOf(Video2)).apply(this, arguments));
            }
            _createClass(Video2, [{
              key: "format",
              value: function format2(name2, value2) {
                if (ATTRIBUTES.indexOf(name2) > -1) {
                  if (value2) {
                    this.domNode.setAttribute(name2, value2);
                  } else {
                    this.domNode.removeAttribute(name2);
                  }
                } else {
                  _get(Video2.prototype.__proto__ || Object.getPrototypeOf(Video2.prototype), "format", this).call(this, name2, value2);
                }
              }
            }], [{
              key: "create",
              value: function create2(value2) {
                var node2 = _get(Video2.__proto__ || Object.getPrototypeOf(Video2), "create", this).call(this, value2);
                node2.setAttribute("frameborder", "0");
                node2.setAttribute("allowfullscreen", true);
                node2.setAttribute("src", this.sanitize(value2));
                return node2;
              }
            }, {
              key: "formats",
              value: function formats(domNode) {
                return ATTRIBUTES.reduce(function(formats2, attribute) {
                  if (domNode.hasAttribute(attribute)) {
                    formats2[attribute] = domNode.getAttribute(attribute);
                  }
                  return formats2;
                }, {});
              }
            }, {
              key: "sanitize",
              value: function sanitize(url) {
                return _link2.default.sanitize(url);
              }
            }, {
              key: "value",
              value: function value2(domNode) {
                return domNode.getAttribute("src");
              }
            }]);
            return Video2;
          }(_block.BlockEmbed);
          Video.blotName = "video";
          Video.className = "ql-video";
          Video.tagName = "IFRAME";
          exports2.default = Video;
        },
        /* 74 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.FormulaBlot = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _embed = __webpack_require__(35);
          var _embed2 = _interopRequireDefault(_embed);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var FormulaBlot = function(_Embed) {
            _inherits(FormulaBlot2, _Embed);
            function FormulaBlot2() {
              _classCallCheck(this, FormulaBlot2);
              return _possibleConstructorReturn(this, (FormulaBlot2.__proto__ || Object.getPrototypeOf(FormulaBlot2)).apply(this, arguments));
            }
            _createClass(FormulaBlot2, null, [{
              key: "create",
              value: function create2(value2) {
                var node2 = _get(FormulaBlot2.__proto__ || Object.getPrototypeOf(FormulaBlot2), "create", this).call(this, value2);
                if (typeof value2 === "string") {
                  window.katex.render(value2, node2, {
                    throwOnError: false,
                    errorColor: "#f00"
                  });
                  node2.setAttribute("data-value", value2);
                }
                return node2;
              }
            }, {
              key: "value",
              value: function value2(domNode) {
                return domNode.getAttribute("data-value");
              }
            }]);
            return FormulaBlot2;
          }(_embed2.default);
          FormulaBlot.blotName = "formula";
          FormulaBlot.className = "ql-formula";
          FormulaBlot.tagName = "SPAN";
          var Formula = function(_Module) {
            _inherits(Formula2, _Module);
            _createClass(Formula2, null, [{
              key: "register",
              value: function register() {
                _quill2.default.register(FormulaBlot, true);
              }
            }]);
            function Formula2() {
              _classCallCheck(this, Formula2);
              var _this2 = _possibleConstructorReturn(this, (Formula2.__proto__ || Object.getPrototypeOf(Formula2)).call(this));
              if (window.katex == null) {
                throw new Error("Formula module requires KaTeX.");
              }
              return _this2;
            }
            return Formula2;
          }(_module2.default);
          exports2.FormulaBlot = FormulaBlot;
          exports2.default = Formula;
        },
        /* 75 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.CodeToken = exports2.CodeBlock = void 0;
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _parchment = __webpack_require__(0);
          var _parchment2 = _interopRequireDefault(_parchment);
          var _quill = __webpack_require__(5);
          var _quill2 = _interopRequireDefault(_quill);
          var _module = __webpack_require__(9);
          var _module2 = _interopRequireDefault(_module);
          var _code = __webpack_require__(13);
          var _code2 = _interopRequireDefault(_code);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var SyntaxCodeBlock = function(_CodeBlock) {
            _inherits(SyntaxCodeBlock2, _CodeBlock);
            function SyntaxCodeBlock2() {
              _classCallCheck(this, SyntaxCodeBlock2);
              return _possibleConstructorReturn(this, (SyntaxCodeBlock2.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock2)).apply(this, arguments));
            }
            _createClass(SyntaxCodeBlock2, [{
              key: "replaceWith",
              value: function replaceWith(block) {
                this.domNode.textContent = this.domNode.textContent;
                this.attach();
                _get(SyntaxCodeBlock2.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock2.prototype), "replaceWith", this).call(this, block);
              }
            }, {
              key: "highlight",
              value: function highlight(_highlight) {
                var text = this.domNode.textContent;
                if (this.cachedText !== text) {
                  if (text.trim().length > 0 || this.cachedText == null) {
                    this.domNode.innerHTML = _highlight(text);
                    this.domNode.normalize();
                    this.attach();
                  }
                  this.cachedText = text;
                }
              }
            }]);
            return SyntaxCodeBlock2;
          }(_code2.default);
          SyntaxCodeBlock.className = "ql-syntax";
          var CodeToken = new _parchment2.default.Attributor.Class("token", "hljs", {
            scope: _parchment2.default.Scope.INLINE
          });
          var Syntax = function(_Module) {
            _inherits(Syntax2, _Module);
            _createClass(Syntax2, null, [{
              key: "register",
              value: function register() {
                _quill2.default.register(CodeToken, true);
                _quill2.default.register(SyntaxCodeBlock, true);
              }
            }]);
            function Syntax2(quill2, options) {
              _classCallCheck(this, Syntax2);
              var _this2 = _possibleConstructorReturn(this, (Syntax2.__proto__ || Object.getPrototypeOf(Syntax2)).call(this, quill2, options));
              if (typeof _this2.options.highlight !== "function") {
                throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");
              }
              var timer = null;
              _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function() {
                clearTimeout(timer);
                timer = setTimeout(function() {
                  _this2.highlight();
                  timer = null;
                }, _this2.options.interval);
              });
              _this2.highlight();
              return _this2;
            }
            _createClass(Syntax2, [{
              key: "highlight",
              value: function highlight() {
                var _this3 = this;
                if (this.quill.selection.composing)
                  return;
                this.quill.update(_quill2.default.sources.USER);
                var range = this.quill.getSelection();
                this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function(code) {
                  code.highlight(_this3.options.highlight);
                });
                this.quill.update(_quill2.default.sources.SILENT);
                if (range != null) {
                  this.quill.setSelection(range, _quill2.default.sources.SILENT);
                }
              }
            }]);
            return Syntax2;
          }(_module2.default);
          Syntax.DEFAULTS = {
            highlight: function() {
              if (window.hljs == null)
                return null;
              return function(text) {
                var result2 = window.hljs.highlightAuto(text);
                return result2.value;
              };
            }(),
            interval: 1e3
          };
          exports2.CodeBlock = SyntaxCodeBlock;
          exports2.CodeToken = CodeToken;
          exports2.default = Syntax;
        },
        /* 76 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>';
        },
        /* 77 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>';
        },
        /* 78 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>';
        },
        /* 79 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>';
        },
        /* 80 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>';
        },
        /* 81 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>';
        },
        /* 82 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>';
        },
        /* 83 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>';
        },
        /* 84 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>';
        },
        /* 85 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>';
        },
        /* 86 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>';
        },
        /* 87 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>';
        },
        /* 88 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>';
        },
        /* 89 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>';
        },
        /* 90 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>';
        },
        /* 91 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>';
        },
        /* 92 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>';
        },
        /* 93 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>';
        },
        /* 94 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>';
        },
        /* 95 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>';
        },
        /* 96 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>';
        },
        /* 97 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>';
        },
        /* 98 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>';
        },
        /* 99 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>';
        },
        /* 100 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>';
        },
        /* 101 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>';
        },
        /* 102 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>';
        },
        /* 103 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>';
        },
        /* 104 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>';
        },
        /* 105 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>';
        },
        /* 106 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>';
        },
        /* 107 */
        /***/
        function(module2, exports2) {
          module2.exports = '<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>';
        },
        /* 108 */
        /***/
        function(module2, exports2, __webpack_require__) {
          Object.defineProperty(exports2, "__esModule", {
            value: true
          });
          exports2.default = exports2.BubbleTooltip = void 0;
          var _get = function get2(object, property, receiver) {
            if (object === null)
              object = Function.prototype;
            var desc = Object.getOwnPropertyDescriptor(object, property);
            if (desc === void 0) {
              var parent = Object.getPrototypeOf(object);
              if (parent === null) {
                return void 0;
              } else {
                return get2(parent, property, receiver);
              }
            } else if ("value" in desc) {
              return desc.value;
            } else {
              var getter2 = desc.get;
              if (getter2 === void 0) {
                return void 0;
              }
              return getter2.call(receiver);
            }
          };
          var _createClass = /* @__PURE__ */ function() {
            function defineProperties(target, props) {
              for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            return function(Constructor, protoProps, staticProps) {
              if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                defineProperties(Constructor, staticProps);
              return Constructor;
            };
          }();
          var _extend = __webpack_require__(3);
          var _extend2 = _interopRequireDefault(_extend);
          var _emitter = __webpack_require__(8);
          var _emitter2 = _interopRequireDefault(_emitter);
          var _base = __webpack_require__(43);
          var _base2 = _interopRequireDefault(_base);
          var _selection = __webpack_require__(15);
          var _icons = __webpack_require__(41);
          var _icons2 = _interopRequireDefault(_icons);
          function _interopRequireDefault(obj) {
            return obj && obj.__esModule ? obj : { default: obj };
          }
          function _classCallCheck(instance2, Constructor) {
            if (!(instance2 instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _possibleConstructorReturn(self2, call) {
            if (!self2) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return call && (typeof call === "object" || typeof call === "function") ? call : self2;
          }
          function _inherits(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
            if (superClass)
              Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
          }
          var TOOLBAR_CONFIG = [["bold", "italic", "link"], [{ header: 1 }, { header: 2 }, "blockquote"]];
          var BubbleTheme = function(_BaseTheme) {
            _inherits(BubbleTheme2, _BaseTheme);
            function BubbleTheme2(quill2, options) {
              _classCallCheck(this, BubbleTheme2);
              if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
                options.modules.toolbar.container = TOOLBAR_CONFIG;
              }
              var _this = _possibleConstructorReturn(this, (BubbleTheme2.__proto__ || Object.getPrototypeOf(BubbleTheme2)).call(this, quill2, options));
              _this.quill.container.classList.add("ql-bubble");
              return _this;
            }
            _createClass(BubbleTheme2, [{
              key: "extendToolbar",
              value: function extendToolbar(toolbar) {
                this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);
                this.tooltip.root.appendChild(toolbar.container);
                this.buildButtons([].slice.call(toolbar.container.querySelectorAll("button")), _icons2.default);
                this.buildPickers([].slice.call(toolbar.container.querySelectorAll("select")), _icons2.default);
              }
            }]);
            return BubbleTheme2;
          }(_base2.default);
          BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {
            modules: {
              toolbar: {
                handlers: {
                  link: function link(value2) {
                    if (!value2) {
                      this.quill.format("link", false);
                    } else {
                      this.quill.theme.tooltip.edit();
                    }
                  }
                }
              }
            }
          });
          var BubbleTooltip = function(_BaseTooltip) {
            _inherits(BubbleTooltip2, _BaseTooltip);
            function BubbleTooltip2(quill2, bounds) {
              _classCallCheck(this, BubbleTooltip2);
              var _this2 = _possibleConstructorReturn(this, (BubbleTooltip2.__proto__ || Object.getPrototypeOf(BubbleTooltip2)).call(this, quill2, bounds));
              _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function(type, range, oldRange, source) {
                if (type !== _emitter2.default.events.SELECTION_CHANGE)
                  return;
                if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {
                  _this2.show();
                  _this2.root.style.left = "0px";
                  _this2.root.style.width = "";
                  _this2.root.style.width = _this2.root.offsetWidth + "px";
                  var lines = _this2.quill.getLines(range.index, range.length);
                  if (lines.length === 1) {
                    _this2.position(_this2.quill.getBounds(range));
                  } else {
                    var lastLine = lines[lines.length - 1];
                    var index2 = _this2.quill.getIndex(lastLine);
                    var length = Math.min(lastLine.length() - 1, range.index + range.length - index2);
                    var _bounds = _this2.quill.getBounds(new _selection.Range(index2, length));
                    _this2.position(_bounds);
                  }
                } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {
                  _this2.hide();
                }
              });
              return _this2;
            }
            _createClass(BubbleTooltip2, [{
              key: "listen",
              value: function listen() {
                var _this3 = this;
                _get(BubbleTooltip2.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip2.prototype), "listen", this).call(this);
                this.root.querySelector(".ql-close").addEventListener("click", function() {
                  _this3.root.classList.remove("ql-editing");
                });
                this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function() {
                  setTimeout(function() {
                    if (_this3.root.classList.contains("ql-hidden"))
                      return;
                    var range = _this3.quill.getSelection();
                    if (range != null) {
                      _this3.position(_this3.quill.getBounds(range));
                    }
                  }, 1);
                });
              }
            }, {
              key: "cancel",
              value: function cancel() {
                this.show();
              }
            }, {
              key: "position",
              value: function position(reference) {
                var shift = _get(BubbleTooltip2.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip2.prototype), "position", this).call(this, reference);
                var arrow = this.root.querySelector(".ql-tooltip-arrow");
                arrow.style.marginLeft = "";
                if (shift === 0)
                  return shift;
                arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + "px";
              }
            }]);
            return BubbleTooltip2;
          }(_base.BaseTooltip);
          BubbleTooltip.TEMPLATE = ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', "</div>"].join("");
          exports2.BubbleTooltip = BubbleTooltip;
          exports2.default = BubbleTheme;
        },
        /* 109 */
        /***/
        function(module2, exports2, __webpack_require__) {
          module2.exports = __webpack_require__(63);
        }
        /******/
      ])["default"]
    );
  });
})(quill);
var quillExports = quill.exports;
const Quill = /* @__PURE__ */ getDefaultExportFromCjs(quillExports);
const defaultOptions = {
  theme: "snow",
  boundary: document.body,
  modules: {
    toolbar: [
      ["bold", "italic", "underline", "strike"],
      ["blockquote", "code-block"],
      [{ header: 1 }, { header: 2 }],
      [{ list: "ordered" }, { list: "bullet" }],
      [{ script: "sub" }, { script: "super" }],
      [{ indent: "-1" }, { indent: "+1" }],
      [{ direction: "rtl" }],
      [{ size: ["small", false, "large", "huge"] }],
      [{ header: [1, 2, 3, 4, 5, 6, false] }],
      [{ color: [] }, { background: [] }],
      [{ font: [] }],
      [{ align: [] }],
      ["clean"],
      ["link", "image", "video"]
    ]
  },
  placeholder: "Insert content here ...",
  readOnly: false
};
const _sfc_main$4f = {
  name: "quill-editor",
  props: {
    content: String,
    value: String,
    disabled: {
      type: Boolean,
      default: false
    },
    options: {
      type: Object,
      required: false,
      default: () => ({})
    }
  },
  emits: ["ready", "change", "input", "blur", "focus", "update:value"],
  setup(props, context) {
    const state = {
      editorOption: {},
      quill: null
    };
    let _content = "";
    watch(
      () => props.value,
      (val) => {
        if (state.quill) {
          if (val && val !== _content) {
            _content = val;
            state.quill.pasteHTML(val);
          } else if (!val) {
            state.quill.setText("");
          }
        }
      }
    );
    watch(
      () => props.content,
      (val) => {
        if (state.quill) {
          if (val && val !== _content) {
            _content = val;
            state.quill.pasteHTML(val);
          } else if (!val) {
            state.quill.setText("");
          }
        }
      }
    );
    watch(
      () => props.disabled,
      (val) => {
        if (state.quill) {
          state.quill.enable(!val);
        }
      }
    );
    const editor = ref(null);
    const mergeOptions = (def, custom) => {
      for (const key in custom) {
        if (!def[key] || key !== "modules") {
          def[key] = custom[key];
        } else {
          mergeOptions(def[key], custom[key]);
        }
      }
      return def;
    };
    const initialize = () => {
      if (editor.value) {
        state.editorOption = mergeOptions(defaultOptions, props.options);
        state.editorOption.readOnly = props.disabled ? true : false;
        state.quill = new Quill(editor.value, state.editorOption);
        if (props.value) {
          state.quill.pasteHTML(props.value);
        }
        state.quill.on("selection-change", (range) => {
          if (!range) {
            context.emit("blur", state.quill);
          } else {
            context.emit("focus", state.quill);
          }
        });
        state.quill.on("text-change", () => {
          if (props.disabled) {
            state.quill.enable(false);
          }
          let html = editor.value.children[0].innerHTML;
          const quill2 = state.quill;
          const text = state.quill.getText();
          if (html === "<p><br></p>")
            html = "";
          _content = html;
          context.emit("update:value", _content);
          context.emit("change", { html, text, quill: quill2 });
        });
        context.emit("ready", state.quill);
      }
    };
    onBeforeUnmount(() => {
      const editorToolbar = editor.value.previousSibling;
      if (editorToolbar && editorToolbar.className.indexOf("ql-toolbar") > -1) {
        editorToolbar.parentNode.removeChild(editorToolbar);
      }
    });
    onMounted(() => {
      initialize();
    });
    onUnmounted(() => {
      state.quill = null;
    });
    return { editor };
  }
};
const _hoisted_1$V = { ref: "editor" };
function _sfc_render$4e(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("section", _hoisted_1$V, null, 512);
}
const quillEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$4f, [["render", _sfc_render$4e]]);
quillEditor.install = function(app) {
  app.component(quillEditor.name, quillEditor);
};
const _sfc_main$4e = {
  name: "rich-editor-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper,
    quillEditor
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: [],
      customToolbar: [],
      //富文本编辑器自定义工具栏
      valueChangedFlag: false
      //vue2-editor数据值是否改变标志
    };
  },
  computed: {
    editorOption() {
      return {
        placeholder: this.field.options.placeholder,
        modules: {
          //toolbar: this.customToolbar
        }
      };
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    handleRichEditorChangeEvent() {
      this.valueChangedFlag = true;
      this.syncUpdateFormModel(this.fieldModel);
    },
    handleRichEditorFocusEvent() {
      this.oldFieldValue = deepClone(this.fieldModel);
    },
    handleRichEditorBlurEvent() {
      if (this.valueChangedFlag) {
        this.emitFieldDataChange(this.fieldModel, this.oldFieldValue);
        this.valueChangedFlag = false;
      }
    }
  }
};
function _sfc_render$4d(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_quill_editor = resolveComponent("quill-editor");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass({ "readonly-mode-rich-editor": _ctx.isReadMode })
      }, [
        createVNode(_component_quill_editor, {
          ref: "fieldEditor",
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          options: $options.editorOption,
          disabled: _ctx.handleDisabled() || _ctx.isReadMode,
          onBlur: $options.handleRichEditorBlurEvent,
          onFocus: $options.handleRichEditorFocusEvent,
          onChange: $options.handleRichEditorChangeEvent,
          style: normalizeStyle(!!$props.field.options.contentHeight ? `height: ${$props.field.options.contentHeight};` : "")
        }, null, 8, ["value", "options", "disabled", "onBlur", "onFocus", "onChange", "style"])
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const richEditorWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4e, [["render", _sfc_render$4d], ["__scopeId", "data-v-26930f10"]]);
const __vite_glob_0_18$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: richEditorWidget
}, Symbol.toStringTag, { value: "Module" }));
const useSelectMixin = {
  data() {
    return {
      keyword: "",
      pager: {
        page: 1,
        pageSize: 20,
        totalPage: 0,
        total: 0
      }
    };
  },
  computed: {
    fieldNames() {
      return {
        label: this.field.options.labelKey || "label",
        value: this.field.options.valueKey || "value",
        options: "options"
      };
    },
    selectOps() {
      const showSearch = true;
      const useServer = this.field.options.showSearch;
      return {
        fieldNames: this.fieldNames,
        showSearch,
        onPopupScroll: this.onPopupScroll,
        onSearch: this.remoteQuery,
        filterOption: !useServer && this.filterOption,
        listHeight: 240
      };
    }
  },
  methods: {
    filterOption(inputValue, option2) {
      return option2[this.fieldNames.label].toLowerCase().indexOf(inputValue.toLowerCase()) >= 0;
    },
    initPager() {
      this.pager = { page: 1, pageSize: 20, total: 0, totalPage: 0 };
      this.loadOptions([]);
    },
    remoteQuery(keyword) {
      const useServer = this.field.options.showSearch;
      if (!useServer)
        return;
      if (!!this.designState) {
        return;
      }
      this.initPager();
      this.keyword = keyword;
      this.initOptionItems(true);
    },
    onPopupScroll(e2) {
      if (!this.field.options.loadingPage)
        return;
      const { target } = e2;
      const { scrollTop, scrollHeight, clientHeight } = target;
      if (scrollHeight - (scrollTop + clientHeight) <= 30) {
        if (this.pager.totalPage > this.pager.page) {
          if (this.pager.totalPage === this.pager.page) {
            return;
          }
          this.changePager();
        }
      }
    },
    changePager: debounce$1(function() {
      this.pager.page += 1;
      this.initOptionItems(true);
    }, 500)
  }
};
const _sfc_main$4d = {
  name: "select-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1, useSelectMixin],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: { SvgIcon, FormItemWrapper },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
      // pager: {
      //   page: 1,
      //   pageSize: 20,
      //   totalPage: 0,
      //   total: 0
      // }
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    allowDefaultFirstOption() {
      return !!this.field.options.filterable && !!this.field.options.allowCreate;
    }
  },
  watch: {
    "field.options.dsEnabled": {
      deep: true,
      handler(val) {
        if (val) {
          this.initOptionItems();
        }
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.clearOptionItems();
    this.initOptionItems();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    /**
     * 获取选中项label
     * @return {*}
     */
    getSelectedLabel() {
      return this.$refs.fieldEditor.selectedLabel;
    }
    // onPopupScroll(e) {
    //   if (!this.field.options.loadingPage) return;
    //   const { target } = e;
    //   const { scrollTop, scrollHeight, clientHeight } = target;
    //   if (scrollHeight - (scrollTop + clientHeight) <= 30) {
    //     if (this.pager.totalPage > this.pager.page) {
    //       this.pager.page += 1;
    //       this.initOptionItems(true);
    //     }
    //   }
    // }
  }
};
const _hoisted_1$U = { class: "design-select-box" };
const _hoisted_2$x = { class: "readonly-mode-field" };
function _sfc_render$4c(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createElementVNode("div", _hoisted_1$U, [
        withDirectives(createVNode(_component_a_select, mergeProps({
          ref: "fieldEditor",
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          size: $options.size,
          class: "full-width-input",
          disabled: _ctx.handleDisabled(),
          allowClear: $props.field.options.allowClear,
          showArrow: true,
          dropdownMatchSelectWidth: false,
          mode: $props.field.options.mode,
          maxTagCount: $props.field.options.maxTagCount,
          placeholder: $props.field.options.placeholder || _ctx.i18nt("render.hint.selectPlaceholder"),
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent,
          options: $props.field.options.optionItems
        }, _ctx.selectOps), null, 16, ["value", "size", "disabled", "allowClear", "mode", "maxTagCount", "placeholder", "onFocus", "onBlur", "onChange", "options"]), [
          [vShow, !_ctx.isReadMode]
        ]),
        $props.field.options.useModal ? (openBlock(), createElementBlock("div", {
          key: 0,
          class: "useModal-svg",
          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleClickIcon && _ctx.handleClickIcon(...args))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "sousuo" })
        ])) : createCommentVNode("", true)
      ], 512), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
        key: 0,
        placement: "topLeft",
        title: _ctx.optionLabel,
        overlayStyle: { zIndex: 1e3 }
      }, {
        default: withCtx(() => [
          createElementVNode("span", _hoisted_2$x, toDisplayString(_ctx.optionLabel), 1)
        ]),
        _: 1
      }, 8, ["title"])) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const selectWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4d, [["render", _sfc_render$4c], ["__scopeId", "data-v-d457a7aa"]]);
const __vite_glob_0_19$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: selectWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4c = {
  name: "slider-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    selfInitFieldModel() {
      if (this.field.options.range) {
        this.fieldModel = [];
      }
    }
  }
};
const _hoisted_1$T = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$4b(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_slider = resolveComponent("a-slider");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_slider, {
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        disabled: _ctx.handleDisabled(),
        min: $props.field.options.min,
        max: $props.field.options.max,
        step: $props.field.options.step,
        range: $props.field.options.range,
        vertical: $props.field.options.vertical,
        onChange: _ctx.handleChangeEvent
      }, null, 8, ["value", "disabled", "min", "max", "step", "range", "vertical", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$T, toDisplayString($data.fieldModel), 1)) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const sliderWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4c, [["render", _sfc_render$4b], ["__scopeId", "data-v-5a30bec3"]]);
const __vite_glob_0_20$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: sliderWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4b = {
  name: "slot-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$S = {
  key: 0,
  class: "slot-title"
};
function _sfc_render$4a(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return openBlock(), createBlock(_component_static_content_wrapper, {
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([!!$props.designState ? "slot-wrapper-design" : "slot-wrapper-render"])
      }, [
        renderSlot(_ctx.$slots, $props.field.options.name, { formModel: _ctx.formModel }, void 0, true),
        !!$props.designState ? (openBlock(), createElementBlock("div", _hoisted_1$S, toDisplayString($props.field.options.label), 1)) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 3
  }, 8, ["designer", "field", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"]);
}
const slotWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4b, [["render", _sfc_render$4a], ["__scopeId", "data-v-4d60db4d"]]);
const __vite_glob_0_21$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: slotWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$4a = {
  name: "static-text-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    StaticContentWrapper
  },
  computed: {},
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initEventHandler();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$49(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_static_content_wrapper = resolveComponent("static-content-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_static_content_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", { ref: "fieldEditor" }, toDisplayString($props.field.options.textContent), 513)
    ]),
    _: 1
  }, 8, ["designer", "field", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const staticTextWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$4a, [["render", _sfc_render$49], ["__scopeId", "data-v-a2571be4"]]);
const __vite_glob_0_23$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: staticTextWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$49 = {
  name: "switch-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    contentForReadMode() {
      if (!!this.fieldModel) {
        return this.field.options.checkedValue || this.i18nt("render.hint.defaultActiveText");
      }
      return this.field.options.unCheckedValue || this.i18nt("render.hint.defaultInactiveText");
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$48(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        ref: "fieldEditor",
        checked: $data.fieldModel,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        disabled: _ctx.isReadMode || _ctx.handleDisabled(),
        checkedValue: $props.field.options.checkedValue,
        unCheckedValue: $props.field.options.unCheckedValue,
        onChange: _ctx.handleChangeEvent,
        style: normalizeStyle({ width: $props.field.options.switchWidth + "px" })
      }, null, 8, ["checked", "disabled", "checkedValue", "unCheckedValue", "onChange", "style"])
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const switchWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$49, [["render", _sfc_render$48], ["__scopeId", "data-v-17feb9d4"]]);
const __vite_glob_0_24$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: switchWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$48 = {
  name: "textarea-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$R = ["innerHTML"];
function _sfc_render$47(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_textarea = resolveComponent("a-textarea");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      withDirectives(createVNode(_component_a_textarea, {
        type: "textarea",
        ref: "fieldEditor",
        value: $data.fieldModel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
        size: $options.size,
        disabled: _ctx.handleDisabled(),
        allowClear: $props.field.options.allowClear,
        readonly: $props.field.options.readonly,
        placeholder: $props.field.options.placeholder,
        rows: $props.field.options.rows,
        minlength: $props.field.options.minLength,
        maxlength: $props.field.options.maxLength,
        showCount: $props.field.options.showCount,
        onFocus: _ctx.handleFocusCustomEvent,
        onBlur: _ctx.handleBlurCustomEvent,
        onInput: _ctx.handleInputCustomEvent,
        onChange: _ctx.handleChangeEvent
      }, null, 8, ["value", "size", "disabled", "allowClear", "readonly", "placeholder", "rows", "minlength", "maxlength", "showCount", "onFocus", "onBlur", "onInput", "onChange"]), [
        [vShow, !_ctx.isReadMode]
      ]),
      _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
        key: 0,
        placement: "topLeft",
        title: $data.fieldModel,
        overlayStyle: { zIndex: 1e3 }
      }, {
        default: withCtx(() => [
          createElementVNode("div", {
            innerHTML: $data.fieldModel,
            class: "readonly-mode-field"
          }, null, 8, _hoisted_1$R)
        ]),
        _: 1
      }, 8, ["title"])) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const textareaWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$48, [["render", _sfc_render$47], ["__scopeId", "data-v-70c5736c"]]);
const __vite_glob_0_25$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: textareaWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$47 = {
  name: "time-range-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    contentForReadMode() {
      if (!this.fieldModel) {
        return "--";
      } else {
        return this.fieldModel[0] + " - " + this.fieldModel[1];
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$Q = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$46(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_time_range_picker = resolveComponent("a-time-range-picker");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([
          !!$props.field.options.autoFullWidth ? "auto-full-width" : "",
          _ctx.isReadMode ? "readonly-mode-time-range" : ""
        ])
      }, [
        createVNode(_component_a_time_range_picker, {
          ref: "fieldEditor",
          size: $options.size,
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          class: normalizeClass([!!$props.field.options.autoFullWidth ? "full-width-input" : ""]),
          disabled: _ctx.handleDisabled(),
          readonly: $props.field.options.readonly,
          inputReadOnly: $props.field.options.readonly,
          allowClear: $props.field.options.allowClear,
          format: $props.field.options.format,
          "value-format": "HH:mm:ss",
          placeholder: [
            $props.field.options.startPlaceholder || _ctx.i18nt("render.hint.startTimePlaceholder"),
            $props.field.options.endPlaceholder || _ctx.i18nt("render.hint.endTimePlaceholder")
          ],
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["size", "value", "class", "disabled", "readonly", "inputReadOnly", "allowClear", "format", "placeholder", "onFocus", "onBlur", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$Q, toDisplayString($options.contentForReadMode), 1)) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const timeRangeWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$47, [["render", _sfc_render$46], ["__scopeId", "data-v-101be86d"]]);
const __vite_glob_0_26$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeRangeWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$46 = {
  name: "time-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
const _hoisted_1$P = {
  key: 0,
  class: "readonly-mode-field"
};
function _sfc_render$45(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_time_picker = resolveComponent("a-time-picker");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass([
          !!$props.field.options.autoFullWidth ? "auto-full-width" : "",
          _ctx.isReadMode ? "readonly-mode-time" : ""
        ])
      }, [
        createVNode(_component_a_time_picker, {
          size: $options.size,
          ref: "fieldEditor",
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          disabled: _ctx.handleDisabled(),
          inputReadOnly: $props.field.options.readonly,
          readonly: $props.field.options.readonly,
          allowClear: $props.field.options.allowClear,
          format: $props.field.options.format,
          "value-format": "HH:mm:ss",
          placeholder: $props.field.options.placeholder || _ctx.i18nt("render.hint.timePlaceholder"),
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["size", "value", "disabled", "inputReadOnly", "readonly", "allowClear", "format", "placeholder", "onFocus", "onBlur", "onChange"]),
        _ctx.isReadMode ? (openBlock(), createElementBlock("span", _hoisted_1$P, toDisplayString($data.fieldModel), 1)) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const timeWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$46, [["render", _sfc_render$45], ["__scopeId", "data-v-6f144fcd"]]);
const __vite_glob_0_27$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$45 = {
  name: "treeSelect-widget",
  componentName: "FieldWidget",
  //必须固定为FieldWidget，用于接收父级组件的broadcast事件
  mixins: [emitter, fieldMixin, i18n$1],
  props: {
    field: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  components: {
    FormItemWrapper
  },
  data() {
    return {
      oldFieldValue: null,
      //field组件change之前的值
      fieldModel: null,
      rules: []
    };
  },
  computed: {
    size() {
      if (!!this.field.options && !!this.field.options.size) {
        return this.field.options.size;
      }
      if (!!this.designer) {
        return this.designer.formConfig.size || "middle";
      } else {
        return this.formConfig.size || "middle";
      }
    },
    labelKey() {
      return this.field.options.labelKey || "label";
    },
    valueKey() {
      return this.field.options.valueKey || "value";
    },
    childrenKey() {
      return this.field.options.childrenKey || "children";
    },
    // showFullPath() {
    //   return this.field.options.showAllLevels === undefined || !!this.field.options.showAllLevels;
    // },
    contentForReadMode() {
      if (!this.fieldModel)
        return "";
      const val = isArray$4(this.fieldModel) ? this.fieldModel : [this.fieldModel];
      return formateTreeToName(val, this.field.options.optionItems, {
        label: this.labelKey,
        value: this.valueKey,
        children: this.childrenKey
      });
    }
  },
  beforeCreate() {
  },
  created() {
    this.registerToRefList();
    this.initOptionItems();
    this.initFieldModel();
    this.initEventHandler();
    this.buildFieldRules();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    /* 开启任意级节点可选后，点击radio隐藏下拉框 */
    hideDropDownOnClick() {
    }
  }
};
const _hoisted_1$O = { class: "readonly-mode-field" };
function _sfc_render$44(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_tree_select = resolveComponent("a-tree-select");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_form_item_wrapper = resolveComponent("form-item-wrapper");
  return !_ctx.handleHidden() ? (openBlock(), createBlock(_component_form_item_wrapper, {
    key: 0,
    designer: $props.designer,
    field: $props.field,
    rules: $data.rules,
    "design-state": $props.designState,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    "sub-form-row-index": $props.subFormRowIndex,
    "sub-form-col-index": $props.subFormColIndex,
    "sub-form-row-id": $props.subFormRowId
  }, {
    default: withCtx(() => [
      createElementVNode("div", {
        class: normalizeClass(["full-width-input", { "readonly-mode-cascader": _ctx.isReadMode }])
      }, [
        withDirectives(createVNode(_component_a_tree_select, {
          "tree-default-expand-all": $props.field.options.treeDefaultExpandAll,
          ref: "fieldEditor",
          size: $options.size,
          treeData: $props.field.options.optionItems,
          value: $data.fieldModel,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $data.fieldModel = $event),
          disabled: _ctx.handleDisabled(),
          allowClear: $props.field.options.allowClear,
          placeholder: $props.field.options.placeholder || _ctx.i18nt("render.hint.selectPlaceholder"),
          fieldNames: { value: $options.valueKey, label: $options.labelKey, children: $options.childrenKey },
          multiple: $props.field.options.multiple,
          onFocus: _ctx.handleFocusCustomEvent,
          onBlur: _ctx.handleBlurCustomEvent,
          onChange: _ctx.handleChangeEvent
        }, null, 8, ["tree-default-expand-all", "size", "treeData", "value", "disabled", "allowClear", "placeholder", "fieldNames", "multiple", "onFocus", "onBlur", "onChange"]), [
          [vShow, !_ctx.isReadMode]
        ]),
        _ctx.isReadMode ? (openBlock(), createBlock(_component_a_tooltip, {
          key: 0,
          placement: "topLeft",
          title: $options.contentForReadMode,
          overlayStyle: { zIndex: 1e3 }
        }, {
          default: withCtx(() => [
            createElementVNode("span", _hoisted_1$O, toDisplayString($options.contentForReadMode), 1)
          ]),
          _: 1
        }, 8, ["title"])) : createCommentVNode("", true)
      ], 2)
    ]),
    _: 1
  }, 8, ["designer", "field", "rules", "design-state", "parent-widget", "parent-list", "index-of-parent-list", "sub-form-row-index", "sub-form-col-index", "sub-form-row-id"])) : createCommentVNode("", true);
}
const treeSelectWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$45, [["render", _sfc_render$44], ["__scopeId", "data-v-801e372a"]]);
const __vite_glob_0_28$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: treeSelectWidget
}, Symbol.toStringTag, { value: "Module" }));
const comps$1 = {};
const modules$3 = /* @__PURE__ */ Object.assign({ "./bpmn-editor-widget.vue": __vite_glob_0_0$2, "./button-widget.vue": __vite_glob_0_1$3, "./cascader-widget.vue": __vite_glob_0_2$3, "./checkbox-widget.vue": __vite_glob_0_3$3, "./code-editor-widget.vue": __vite_glob_0_4$3, "./color-widget.vue": __vite_glob_0_5$3, "./date-range-widget.vue": __vite_glob_0_6$3, "./date-widget.vue": __vite_glob_0_7$3, "./divider-widget.vue": __vite_glob_0_8$3, "./dropdown-widget.vue": __vite_glob_0_9$3, "./file-upload-widget.vue": __vite_glob_0_10$3, "./form-item-wrapper.vue": __vite_glob_0_11$3, "./html-text-widget.vue": __vite_glob_0_12$2, "./input-widget.vue": __vite_glob_0_13$2, "./number-widget.vue": __vite_glob_0_14$1, "./picture-upload-widget.vue": __vite_glob_0_15$1, "./radio-widget.vue": __vite_glob_0_16$1, "./rate-widget.vue": __vite_glob_0_17$1, "./rich-editor-widget.vue": __vite_glob_0_18$1, "./select-widget.vue": __vite_glob_0_19$1, "./slider-widget.vue": __vite_glob_0_20$1, "./slot-widget.vue": __vite_glob_0_21$1, "./static-content-wrapper.vue": __vite_glob_0_22$1, "./static-text-widget.vue": __vite_glob_0_23$1, "./switch-widget.vue": __vite_glob_0_24$1, "./textarea-widget.vue": __vite_glob_0_25$1, "./time-range-widget.vue": __vite_glob_0_26$1, "./time-widget.vue": __vite_glob_0_27$1, "./treeSelect-widget.vue": __vite_glob_0_28$1 });
for (const path in modules$3) {
  const cname = modules$3[path].default.name;
  comps$1[cname] = modules$3[path].default;
}
const refMixin = {
  methods: {
    initRefList() {
      if (this.subFormRowIndex === -1 || this.subFormRowIndex === void 0) {
        if (this.refList !== null && !!this.widget.options.name) {
          this.refList[this.widget.options.name] = this;
        }
      } else {
        if (this.refList !== null && !!this.widget.options.name) {
          this.refList[this.widget.options.name + "@row" + this.subFormRowId] = this;
        }
      }
    },
    getWidgetRef(widgetName, showError) {
      const foundRef = this.refList[widgetName];
      if (!foundRef && !!showError) {
        this.$message.error(this.i18nt("render.hint.refNotFound") + widgetName);
      }
      return foundRef;
    },
    getFormRef() {
      return this.refList["v_form_ref"];
    },
    getComponentByContainer(con) {
      if (con.type === "grid") {
        return "vf-grid-item";
      }
      return con.type + "-item";
    }
  }
};
const containerItemMixin = {
  computed: {
    customClass() {
      return this.widget.options.customClass || "";
    },
    formModel: {
      cache: false,
      get() {
        return this.globalModel.formModel;
      }
    }
  },
  mounted() {
    this.callSetHidden();
  },
  methods: {
    cloneWidgetSchema(widget) {
      return deepClone(widget);
    },
    unregisterFromRefList() {
      if (this.refList !== null && !!this.widget.options.name) {
        const oldRefName = this.widget.options.name;
        delete this.refList[oldRefName];
      }
    },
    /* 主动触发setHidden()方法，以清空被隐藏容器内字段组件的校验规则！！ */
    callSetHidden() {
      if (this.widget.options.hidden === true) {
        this.setHidden(true);
      }
    },
    //--------------------- 以下为组件支持外部调用的API方法 begin ------------------//
    /* 提示：用户可自行扩充这些方法！！！ */
    setHidden(flag) {
      this.widget.options.hidden = flag;
      const clearRulesFn = (fieldWidget) => {
        const fwName = fieldWidget.options.name;
        const fwRef = this.getWidgetRef(fwName);
        if (flag && !!fwRef && !!fwRef.clearFieldRules) {
          fwRef.clearFieldRules();
        }
        if (!flag && !!fwRef && !!fwRef.buildFieldRules) {
          fwRef.buildFieldRules();
        }
      };
      traverseFieldWidgetsOfContainer(this.widget, clearRulesFn);
    },
    /**
     * 禁用或启用容器组件（包含容器内部的所有组件）
     * @param flag
     */
    setDisabled(flag) {
      const fwHandler = (fw) => {
        const fwName = fw.options.name;
        const fwRef = this.getWidgetRef(fwName);
        if (!!fwRef && !!fwRef.setDisabled) {
          fwRef.setDisabled(flag);
        }
      };
      traverseWidgetsOfContainer(this.widget, fwHandler);
    },
    activeTab(tabIndex) {
      if (tabIndex >= 0 && tabIndex < this.widget.tabs.length) {
        this.widget.tabs.forEach((tp, idx) => {
          tp.options.active = idx === tabIndex;
          if (idx === tabIndex) {
            this.activeTabName = tp.options.name;
          }
        });
      }
    },
    disableTab(tabIndex) {
      if (tabIndex >= 0 && tabIndex < this.widget.tabs.length) {
        this.widget.tabs[tabIndex].options.disabled = true;
      }
    },
    enableTab(tabIndex) {
      if (tabIndex >= 0 && tabIndex < this.widget.tabs.length) {
        this.widget.tabs[tabIndex].options.disabled = false;
      }
    },
    hideTab(tabIndex) {
      if (tabIndex >= 0 && tabIndex < this.widget.tabs.length) {
        this.widget.tabs[tabIndex].options.hidden = true;
      }
    },
    showTab(tabIndex) {
      if (tabIndex >= 0 && tabIndex < this.widget.tabs.length) {
        this.widget.tabs[tabIndex].options.hidden = false;
      }
    },
    setWidgetOption(optionName, optionValue) {
      if (this.widget.options.hasOwnProperty(optionName)) {
        this.widget.options[optionName] = optionValue;
      }
    },
    /**
     * 获取子表单的行数
     */
    getSubFormRowCount() {
      return !this.rowIdData ? 0 : this.rowIdData.length;
    },
    setGridSubFormRowDisabled(rowId, disabledFlag) {
      const fwHandler = (fw) => {
        const fwName = fw.options.name + "@row" + rowId;
        const fwRef = this.getWidgetRef(fwName);
        if (!!fwRef && !!fwRef.setDisabled) {
          fwRef.setDisabled(disabledFlag);
        }
      };
      traverseWidgetsOfContainer(this.widget, fwHandler);
    },
    disableSubFormRow(rowIndex) {
      if (this.widget.type === "sub-form") {
        this.widget.widgetList.forEach((subWidget) => {
          const swRefName = subWidget.options.name + "@row" + this.rowIdData[rowIndex];
          const foundSW = this.getWidgetRef(swRefName);
          if (!!foundSW && !!foundSW.setDisabled) {
            foundSW.setDisabled(true);
          }
        });
      } else if (this.widget.type === "grid-sub-form") {
        this.setGridSubFormRowDisabled(this.rowIdData[rowIndex], true);
      }
    },
    enableSubFormRow(rowIndex) {
      if (this.widget.type === "sub-form") {
        this.widget.widgetList.forEach((subWidget) => {
          const swRefName = subWidget.options.name + "@row" + this.rowIdData[rowIndex];
          const foundSW = this.getWidgetRef(swRefName);
          if (!!foundSW && !!foundSW.setDisabled) {
            foundSW.setDisabled(false);
          }
        });
      } else if (this.widget.type === "grid-sub-form") {
        this.setGridSubFormRowDisabled(this.rowIdData[rowIndex], false);
      }
    },
    disableSubForm() {
      this.widget.widgetList.forEach((subWidget) => {
        subWidget.options.disabled = true;
      });
      if (this.rowIdData.length > 0) {
        this.rowIdData.forEach((dataRow, rIdx) => {
          this.disableSubFormRow(rIdx);
        });
      }
      this.actionDisabled = true;
    },
    enableSubForm() {
      this.widget.widgetList.forEach((subWidget) => {
        subWidget.options.disabled = false;
      });
      if (this.rowIdData.length > 0) {
        this.rowIdData.forEach((dataRow, rIdx) => {
          this.enableSubFormRow(rIdx);
        });
      }
      this.actionDisabled = false;
    },
    disableGridSubFormRow(rowIndex) {
      const gsfFWList = [];
      const fieldListFn = (fw) => {
        gsfFWList.push(fw);
      };
      traverseFieldWidgetsOfContainer(this.widget, fieldListFn);
      gsfFWList.forEach((fw) => {
        const swRefName = fw.options.name + "@row" + this.rowIdData[rowIndex];
        const foundSW = this.getWidgetRef(swRefName);
        if (!!foundSW && !!foundSW.setDisabled) {
          foundSW.setDisabled(true);
        }
      });
    },
    enableGridSubFormRow(rowIndex) {
      const gsfFWList = [];
      const fieldListFn = (fw) => {
        gsfFWList.push(fw);
      };
      traverseFieldWidgetsOfContainer(this.widget, fieldListFn);
      gsfFWList.forEach((fw) => {
        const swRefName = fw.options.name + "@row" + this.rowIdData[rowIndex];
        const foundSW = this.getWidgetRef(swRefName);
        if (!!foundSW && !!foundSW.setDisabled) {
          foundSW.setDisabled(false);
        }
      });
    },
    disableGridSubForm() {
      traverseFieldWidgetsOfContainer(this.widget, (fw) => {
        fw.options.disabled = true;
      });
      if (this.rowIdData.length > 0) {
        this.rowIdData.forEach((dataRow, rIdx) => {
          this.disableGridSubFormRow(rIdx);
        });
      }
      this.actionDisabled = true;
    },
    enableGridSubForm() {
      traverseFieldWidgetsOfContainer(this.widget, (fw) => {
        fw.options.disabled = false;
      });
      if (this.rowIdData.length > 0) {
        this.rowIdData.forEach((dataRow, rIdx) => {
          this.enableGridSubFormRow(rIdx);
        });
      }
      this.actionDisabled = false;
    },
    resetSubForm() {
      if (this.widget.type === "sub-form") {
        const subFormModel = this.formModel[this.widget.options.name];
        if (!!subFormModel) {
          subFormModel.splice(0, subFormModel.length);
          this.rowIdData.splice(0, this.rowIdData.length);
        }
        if (this.widget.options.showBlankRow) {
          this.addSubFormRow();
        }
      }
    },
    getSubFormValues(needValidation = true) {
      if (this.widget.type === "sub-form") {
        return this.formModel[this.widget.options.name];
      } else {
        this.$message.error(this.i18nt("render.hint.nonSubFormType"));
      }
    },
    // validateField(fieldName) { //逐行校验子表单字段
    //   //TODO:
    // },
    //
    // validateSubForm() { //逐行校验子表单全部字段
    //   //TODO:
    // },
    /**
     * 动态增加自定义css样式
     * @param className
     */
    addCssClass(className) {
      if (!this.widget.options.customClass) {
        this.widget.options.customClass = [className];
      } else {
        this.widget.options.customClass.push(className);
      }
    },
    /**
     * 动态移除自定义css样式
     * @param className
     */
    removeCssClass(className) {
      if (!this.widget.options.customClass) {
        return;
      }
      let foundIdx = -1;
      this.widget.options.customClass.map((cc, idx) => {
        if (cc === className) {
          foundIdx = idx;
        }
      });
      if (foundIdx > -1) {
        this.widget.options.customClass.splice(foundIdx, 1);
      }
    }
    //--------------------- 以上为组件支持外部调用的API方法 end ------------------//
  }
};
const useDataTableMixin = {
  data() {
    return {
      selectedRowInfo: { selectedRowKeys: [], selectedRows: [] },
      selectRow: {},
      loading: false
    };
  },
  computed: {
    tableHeight() {
      return this.widget.options.tableHeight || void 0;
    },
    // rowClassName() {
    //   if (this.widget.options.stripe) {
    //     return (_record, index) => (index % 2 === 1 ? 'table-striped' : null);
    //   }
    //   return null;
    // },
    customClass() {
      return this.widget.options.customClass || "";
    },
    widgetSize() {
      return this.widget.options.tableSize || "default";
    },
    fmtPagination() {
      const { showPagination } = this.widget.options;
      if (!showPagination)
        return false;
      return {
        ...this.widget.options.pagination,
        showTotal: (total) => `共 ${total} 条`
      };
    }
  },
  methods: {
    rowClassName(record) {
      const { rowKey, colorRow } = this.widget.options;
      if (!colorRow)
        return "";
      return this.selectRow[rowKey] === record[rowKey] ? "colorRowClassName" : "";
    },
    handleResizeColumn(w, col) {
      const { tableColumns } = this.widget.options;
      const newTableColumns = tableColumns.map((item) => {
        if (item.dataIndex === col.dataIndex) {
          item.width = w;
        }
        return { ...item };
      });
      this.setTableColumns(newTableColumns);
    },
    disabledClick() {
      const { hasRowSelection } = this.widget.options.rowSelection;
      if (hasRowSelection) {
        return isEmpty(this.selectedRowInfo.selectedRowKeys);
      }
      return isEmpty(this.selectRow);
    },
    getSelectedRowKeys() {
      return this.selectedRowInfo.selectedRowKeys;
    },
    getSelectedRows() {
      return this.selectedRowInfo.getSelectedRows;
    },
    getTableColumns() {
      return this.widget.options.tableColumns;
    },
    setTableColumns(list) {
      this.widget.options.tableColumns = list;
      return;
    },
    async delSelectRow(delKeys) {
      await TpfConfirm({ content: "确定删除选中的数据吗" });
      delKeys = delKeys || this.selectedRowInfo.selectedRowKeys;
      if (!delKeys.length)
        return;
      const { rowKey } = this.widget.options;
      const data = this.getDataSource();
      const newList = data.filter((item) => !(delKeys == null ? void 0 : delKeys.includes(item[rowKey])));
      this.setDataSource(newList);
      this.$message.success("操作成功");
    },
    getPagination() {
      return this.widget.options.pagination;
    },
    /**
     * 设置表格分页
     * @param pagination
     */
    setPagination(pagination) {
      if (pagination.page !== void 0) {
        this.widget.options.pagination.current = pagination.page;
      }
      if (pagination.pageSize !== void 0) {
        this.widget.options.pagination.pageSize = pagination.pageSize;
      }
      if (pagination.total !== void 0) {
        this.widget.options.pagination.total = pagination.total;
      }
    },
    setDataSource(list) {
      this.selectedRowInfo = { selectedRowKeys: [], selectedRows: [] };
      this.selectRow = {};
      const val = isArray$4(list) ? list : [list];
      this.widget.options.dataSource = [...val];
    },
    setValue(list) {
      this.setDataSource(list);
    },
    getDataSource() {
      return this.widget.options.dataSource;
    },
    getValue() {
      return this.getDataSource();
    },
    async loadDataTableDataSource() {
      if (!this.widget.options.dsEnabled) {
        return;
      }
      const ops = this.widget.options;
      if (ops.dsEnabled && ops.http.url) {
        this.loading = true;
        const res = await fmtHttpParams.call(this, ops);
        this.setPagination(res);
        this.setDataSource(res.list);
        this.loading = false;
      }
    },
    handleCustomRow(record) {
      const { customRow, colorRow } = this.widget.options;
      this.widget.options.rowSelection;
      return {
        onClick: (event2) => {
          if (colorRow) {
            this.selectRow = record;
          }
          const customFn = new Function("record", "event", customRow.onClick);
          customFn.call(this, record, event2);
        },
        onDblclick: (event2) => {
          const customFn = new Function("record", "event", customRow.onDblclick);
          customFn.call(this, record, event2);
        },
        onMouseenter: (event2) => {
          const customFn = new Function("record", "event", customRow.onMouseenter);
          customFn.call(this, record, event2);
        },
        onMouseleave: (event2) => {
          const customFn = new Function("record", "event", customRow.onMouseleave);
          customFn.call(this, record, event2);
        }
      };
    },
    handleColumnItem(item) {
      const res = omit$1(item, ["customRender"]);
      const customRenderFn = item.customRender;
      if (!customRenderFn)
        return item;
      return {
        ...res,
        customRender: ({ text, record, index: index2, column }) => {
          const cusFunc = new Function("text", "record", "index", "column", customRenderFn);
          return cusFunc.call(this, text, record, index2, column);
        }
      };
    },
    getOperationButtonLabel(buttonConfig, rowIndex, row) {
      const { onGetOperationButtonLabel } = this.widget.options;
      if (!!onGetOperationButtonLabel) {
        const customFn = new Function("buttonConfig", "rowIndex", "row", onGetOperationButtonLabel);
        return customFn.call(this, buttonConfig, rowIndex, row);
      } else {
        return buttonConfig.label;
      }
    },
    handleOperationButtonClick(btnName, rowIndex, row, scope, ob) {
      this.skipSelectionChangeEvent = true;
      try {
        if (ob.onClick) {
          const clcFn = new Function("record", "index", "column", "btn", ob.onClick);
          clcFn.call(this, row, rowIndex, scope.column, ob);
          return;
        }
        const { onOperationButtonClick } = this.widget.options;
        if (!!onOperationButtonClick) {
          const customFn = new Function("buttonName", "rowIndex", "row", onOperationButtonClick);
          customFn.call(this, btnName, rowIndex, row);
        } else {
          this.dispatch("VFormRender", "operationButtonClick", [this, btnName, rowIndex, row]);
        }
      } finally {
        this.skipSelectionChangeEvent = false;
      }
    },
    showOperationButton(buttonConfig, rowIndex, row) {
      const { onHideOperationButton } = this.widget.options;
      if (!!onHideOperationButton) {
        const customFn = new Function("buttonConfig", "rowIndex", "row", onHideOperationButton);
        return !!customFn.call(this, buttonConfig, rowIndex, row);
      } else {
        return !buttonConfig.hidden;
      }
    },
    disableOperationButton(buttonConfig, rowIndex, row) {
      const { onDisableOperationButton } = this.widget.options;
      if (!!onDisableOperationButton) {
        const customFn = new Function("buttonConfig", "rowIndex", "row", onDisableOperationButton);
        return customFn.call(this, buttonConfig, rowIndex, row);
      } else {
        return buttonConfig.disabled;
      }
    },
    customRenderIndex({ index: index2 }) {
      return index2 + 1;
    },
    handleCurrentPageChange(currentPage) {
      this.currentPage = currentPage;
      const { onCurrentPageChange } = this.widget.options;
      if (!!onCurrentPageChange) {
        const customFn = new Function("pageSize", "currentPage", onCurrentPageChange);
        customFn.call(this, this.pageSize, currentPage);
      } else {
        this.dispatch("VFormRender", "dataTablePageChange", [this, this.pageSize, currentPage]);
      }
    },
    handlePageSizeChange(pageSize) {
      this.pageSize = pageSize;
      const { onPageSizeChange } = this.widget.options;
      if (!!onPageSizeChange) {
        const customFn = new Function("pageSize", "currentPage", onPageSizeChange);
        customFn.call(this, pageSize, this.currentPage);
      } else {
        this.dispatch("VFormRender", "dataTablePageSizeChange", [this, pageSize, this.currentPage]);
      }
    },
    handleTablePageChange(pagination, filters, sorter, { currentDataSource }) {
      const fn = this.widget.options.onTableChange;
      this.widget.options.pagination.current = pagination.current;
      this.widget.options.pagination.pageSize = pagination.pageSize;
      if (fn) {
        const changeFunc = new Function("pagination", "filters", "sorter", "currentDataSource", fn);
        changeFunc.call(this, pagination, filters, sorter, { currentDataSource });
      }
      this.loadDataTableDataSource();
    },
    handleRowSelection() {
      const info = this.widget.options.rowSelection;
      if (!info.hasRowSelection) {
        return void 0;
      }
      return {
        ...omit$1(info, ["onChange"]),
        onChange: (selectedRowKeys, selectedRows) => {
          this.selectedRowInfo = { selectedRowKeys, selectedRows };
          const rcFunc = new Function("selectedRowKeys", "selectedRows", info.onChange);
          rcFunc.call(this, selectedRowKeys, selectedRows);
        }
      };
    }
  }
};
const _sfc_main$44 = {
  name: "DataTableItem",
  componentName: "ContainerItem",
  // 必须固定为ContainerItem，用于接收父级组件的broadcast事件
  mixins: [emitter, i18n$1, refMixin, containerItemMixin, useDataTableMixin],
  components: {
    ContainerItemWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "sfRefList", "globalModel", "getFormConfig", "getGlobalDsv"],
  data() {
    return {
      // selectAllFlag: false,
      // selectedIndices: [],
      // selectedRows: []
      // pageSize: this.widget.options.pagination.pageSize,
      // pageSizes: this.widget.options.pagination.pageSizes,
      // currentPage: this.widget.options.pagination.currentPage,
      // total: this.widget.options.pagination.total,
      // 是否跳过selectionChange事件
      // skipSelectionChangeEvent: false
    };
  },
  computed: {
    formConfig() {
      return this.getFormConfig();
    }
  },
  created() {
    this.initRefList();
    this.handleOnCreated();
  },
  mounted() {
    this.loadDataTableDataSource();
    this.$nextTick(() => {
      this.handleOnMounted();
    });
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    getDataTableRef() {
      return this;
    },
    selectWidget(widget) {
      this.designer.setSelected(widget);
    },
    handleOnCreated() {
      if (!!this.widget.options.onCreated) {
        const customFunc = new Function(this.widget.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.widget.options.onMounted) {
        const customFunc = new Function(this.widget.options.onMounted);
        customFunc.call(this);
      }
    },
    // --------------------- 以下为组件支持外部调用的API方法 begin ------------------//
    /* 提示：用户可自行扩充这些方法！！！ */
    getTableColumns() {
      return this.widget.options.tableColumns;
    },
    /**
     * 获取选中行数据，格式为对象数组
     * @returns {[]}
     */
    getSelectedRow() {
      return this.selectedRows;
    },
    /**
     * 获取选中行索引，格式为数组
     * @returns {[]}
     */
    getSelectedIndex() {
      return this.selectedIndices;
    }
    // --------------------- 以上为组件支持外部调用的API方法 end ------------------//
  }
};
function _sfc_render$43(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_empty = resolveComponent("a-empty");
  const _component_a_table_column = resolveComponent("a-table-column");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_table = resolveComponent("a-table");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return withDirectives((openBlock(), createBlock(_component_container_item_wrapper, {
    style: normalizeStyle({ display: "flex", height: parseFloat(_ctx.tableHeight || 0) + "px" }),
    widget: $props.widget
  }, {
    default: withCtx(() => [
      createVNode(_component_a_table, {
        class: normalizeClass(["tpf-table", [_ctx.customClass]]),
        ref: "dataTable2",
        dataSource: $props.widget.options.dataSource,
        rowKey: (record) => record[$props.widget.options.rowKey],
        scroll: { y: parseFloat(_ctx.tableHeight || 0), x: 300 },
        size: _ctx.widgetSize,
        bordered: $props.widget.options.border,
        style: normalizeStyle({ width: $props.widget.options.tableWidth }),
        "row-class-name": _ctx.rowClassName,
        rowSelection: _ctx.handleRowSelection(),
        pagination: _ctx.fmtPagination,
        customRow: _ctx.handleCustomRow,
        rowClassName: _ctx.rowClassName,
        onChange: _ctx.handleTablePageChange,
        onResizeColumn: _ctx.handleResizeColumn,
        loading: _ctx.loading
      }, {
        emptyText: withCtx(() => [
          createVNode(_component_a_empty)
        ]),
        default: withCtx(() => [
          $props.widget.options.showIndex ? (openBlock(), createBlock(_component_a_table_column, {
            key: 0,
            title: "序号",
            align: "left",
            width: 80,
            fixed: "left",
            resizable: true,
            customRender: _ctx.customRenderIndex
          }, null, 8, ["customRender"])) : createCommentVNode("", true),
          (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.options.tableColumns, (item, index2) => {
            return openBlock(), createElementBlock(Fragment, null, [
              item.show !== false ? (openBlock(), createBlock(_component_a_table_column, mergeProps({ key: index2 }, _ctx.handleColumnItem(item), { showSorterTooltip: false }), null, 16)) : createCommentVNode("", true)
            ], 64);
          }), 256)),
          !!$props.widget.options.showButtonsColumn ? (openBlock(), createBlock(_component_a_table_column, {
            key: 1,
            fixed: "right",
            "class-name": "data-table-buttons-column",
            align: "center",
            title: $props.widget.options.buttonsColumnTitle,
            width: $props.widget.options.buttonsColumnWidth,
            resizable: true
          }, {
            default: withCtx((scope) => [
              (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.options.operationButtons, (ob, inx) => {
                return withDirectives((openBlock(), createBlock(_component_a_button, {
                  key: inx,
                  type: ob.type,
                  size: ob.size,
                  shape: ob.shape,
                  disabled: _ctx.disableOperationButton(ob, scope.index, scope.record),
                  onClick: ($event) => _ctx.handleOperationButtonClick(ob.name, scope.index, scope.record, scope, ob),
                  class: normalizeClass(["data-table-" + ob.name + "-button"])
                }, {
                  default: withCtx(() => [
                    createTextVNode(toDisplayString(_ctx.getOperationButtonLabel(ob, scope.index, scope.record)), 1)
                  ]),
                  _: 2
                }, 1032, ["type", "size", "shape", "disabled", "onClick", "class"])), [
                  [vShow, _ctx.showOperationButton(ob, scope.index, scope.record)]
                ]);
              }), 128))
            ]),
            _: 1
          }, 8, ["title", "width"])) : createCommentVNode("", true)
        ]),
        _: 1
      }, 8, ["dataSource", "rowKey", "scroll", "class", "size", "bordered", "style", "row-class-name", "rowSelection", "pagination", "customRow", "rowClassName", "onChange", "onResizeColumn", "loading"])
    ]),
    _: 1
  }, 8, ["style", "widget"])), [
    [vShow, !$props.widget.options.hidden]
  ]);
}
const dataTableItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$44, [["render", _sfc_render$43], ["__scopeId", "data-v-d4446bb9"]]);
const __vite_glob_0_1$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$43 = {
  name: "GridColItem",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin],
  components: {
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    colHeight: {
      type: String,
      default: null
    },
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "globalModel", "getFormConfig", "previewState"],
  data() {
    return {
      layoutProps: {
        span: this.widget.options.span,
        md: this.widget.options.md || 12,
        sm: this.widget.options.sm || 12,
        xs: this.widget.options.xs || 12,
        offset: this.widget.options.offset || 0,
        push: this.widget.options.push || 0,
        pull: this.widget.options.pull || 0
      }
    };
  },
  computed: {
    isHidden() {
      return this.widget.widgetList.some((item) => {
        if (item.options.holdHidden) {
          return false;
        }
        return item.options.hidden;
      });
    },
    formConfig() {
      return this.getFormConfig();
    },
    customClass() {
      return this.widget.options.customClass || "";
    },
    colHeightStyle() {
      return !!this.colHeight ? { height: this.colHeight + "px" } : {};
    }
  },
  created() {
    this.initLayoutProps();
    this.initRefList();
  },
  methods: {
    initLayoutProps() {
      if (!!this.widget.options.responsive) {
        if (!!this.previewState) {
          this.layoutProps.md = void 0;
          this.layoutProps.sm = void 0;
          this.layoutProps.xs = void 0;
          const lyType = this.formConfig.layoutType;
          if (lyType === "H5") {
            this.layoutProps.span = this.widget.options.xs || 12;
          } else if (lyType === "Pad") {
            this.layoutProps.span = this.widget.options.sm || 12;
          } else {
            this.layoutProps.span = this.widget.options.md || 12;
          }
        } else {
          this.layoutProps.span = void 0;
        }
      } else {
        this.layoutProps.md = void 0;
        this.layoutProps.sm = void 0;
        this.layoutProps.xs = void 0;
      }
    }
  }
};
const _hoisted_1$N = { class: "blank-cell" };
const _hoisted_2$w = { class: "invisible-content" };
function _sfc_render$42(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_col = resolveComponent("a-col");
  return withDirectives((openBlock(), createBlock(_component_a_col, mergeProps({
    class: ["grid-cell", [$options.customClass]]
  }, $data.layoutProps, {
    style: $options.colHeightStyle,
    key: $props.widget.id
  }), {
    default: withCtx(() => [
      !!$props.widget.widgetList && $props.widget.widgetList.length > 0 ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($props.widget.widgetList, (subWidget, swIdx) => {
        return openBlock(), createElementBlock(Fragment, null, [
          "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
            widget: subWidget,
            key: swIdx,
            "parent-list": $props.widget.widgetList,
            "index-of-parent-list": swIdx,
            "parent-widget": $props.widget,
            "sub-form-row-id": $props.subFormRowId,
            "sub-form-row-index": $props.subFormRowIndex,
            "sub-form-col-index": $props.subFormColIndex
          }, createSlots({ _: 2 }, [
            renderList(Object.keys(_ctx.$slots), (slot) => {
              return {
                name: slot,
                fn: withCtx((scope) => [
                  renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                ])
              };
            })
          ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
            field: subWidget,
            designer: null,
            key: swIdx,
            "parent-list": $props.widget.widgetList,
            "index-of-parent-list": swIdx,
            "parent-widget": $props.widget,
            "sub-form-row-id": $props.subFormRowId,
            "sub-form-row-index": $props.subFormRowIndex,
            "sub-form-col-index": $props.subFormColIndex
          }, createSlots({ _: 2 }, [
            renderList(Object.keys(_ctx.$slots), (slot) => {
              return {
                name: slot,
                fn: withCtx((scope) => [
                  renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                ])
              };
            })
          ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]))
        ], 64);
      }), 256)) : (openBlock(), createBlock(_component_a_col, { key: 1 }, {
        default: withCtx(() => [
          createElementVNode("div", _hoisted_1$N, [
            createElementVNode("span", _hoisted_2$w, toDisplayString(_ctx.i18nt("render.hint.blankCellContent")), 1)
          ])
        ]),
        _: 1
      }))
    ]),
    _: 3
  }, 16, ["class", "style"])), [
    [vShow, !$options.isHidden && !$props.widget.options.hidden]
  ]);
}
const GridColItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$43, [["render", _sfc_render$42], ["__scopeId", "data-v-fce0759c"]]);
const __vite_glob_0_2$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: GridColItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$42 = {
  name: "vf-grid-item",
  //grid-item跟VueGridLayout全局注册组件重名，故特殊处理！！
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    GridColItem
  },
  props: {
    widget: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "sfRefList", "globalModel"],
  created() {
    this.initRefList();
  },
  mounted() {
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$41(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_grid_col_item = resolveComponent("grid-col-item");
  const _component_a_row = resolveComponent("a-row");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      withDirectives((openBlock(), createBlock(_component_a_row, {
        key: $props.widget.id,
        gutter: $props.widget.options.gutter,
        class: normalizeClass(["grid-container", [_ctx.customClass]]),
        ref: $props.widget.id
      }, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.cols, (colWidget, colIdx) => {
            return openBlock(), createBlock(_component_grid_col_item, {
              key: colIdx,
              widget: colWidget,
              "parent-list": $props.widget.cols,
              "index-of-parent-list": colIdx,
              "parent-widget": $props.widget,
              "col-height": $props.widget.options.colHeight,
              "sub-form-row-id": $props.subFormRowId,
              "sub-form-row-index": $props.subFormRowIndex,
              "sub-form-col-index": $props.subFormColIndex
            }, createSlots({ _: 2 }, [
              renderList(Object.keys(_ctx.$slots), (slot) => {
                return {
                  name: slot,
                  fn: withCtx((scope) => [
                    renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)))
                  ])
                };
              })
            ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "col-height", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]);
          }), 128))
        ]),
        _: 3
      }, 8, ["gutter", "class"])), [
        [vShow, !$props.widget.options.hidden]
      ])
    ]),
    _: 3
  }, 8, ["widget"]);
}
const gridItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$42, [["render", _sfc_render$41]]);
const __vite_glob_0_3$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$41 = {
  name: "grid-sub-form-item",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    ...comps$1
  },
  props: {
    widget: Object
  },
  provide() {
    return {
      getSubFormFieldFlag: () => true,
      getSubFormName: () => this.widget.options.name
    };
  },
  inject: ["refList", "sfRefList", "globalModel", "getReadMode"],
  data() {
    return {
      rowIdData: [],
      widgetSchemaData: [],
      actionDisabled: false,
      insertDisabled: false,
      //是否禁止新增、插入记录
      deleteDisabled: false,
      //是否禁止删除记录
      fieldWidgetList: []
    };
  },
  computed: {
    isReadMode() {
      return this.getReadMode();
    },
    leftActionColumn() {
      return (this.widget.options.actionColumnPosition || "left") === "left";
    }
  },
  created() {
    this.initRefList();
    this.registerSubFormToRefList();
    this.initRowIdData(true);
    this.initWidgetSchemaData();
    this.initEventHandler();
  },
  mounted() {
    this.extractFieldWidgetList();
    this.handleSubFormFirstRowAdd();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    extractFieldWidgetList() {
      this.fieldWidgetList.splice(0, this.fieldWidgetList.length);
      const fieldListFn = (fw) => {
        this.fieldWidgetList.push(fw);
      };
      traverseFieldWidgetsOfContainer(this.widget, fieldListFn);
    },
    getLabelAlign(widget, subWidget) {
      return subWidget.options.labelAlign || widget.options.labelAlign;
    },
    registerSubFormToRefList() {
      if (this.widget.type === "grid-sub-form") {
        this.sfRefList[this.widget.options.name] = this;
      }
    },
    initRowIdData(initFlag) {
      if (this.widget.type === "grid-sub-form") {
        this.rowIdData.splice(0, this.rowIdData.length);
        const subFormModel = this.formModel[this.widget.options.name];
        if (!!subFormModel && subFormModel.length > 0) {
          subFormModel.forEach(() => {
            this.rowIdData.push("id" + generateId());
          });
          if (!!initFlag) {
            setTimeout(() => {
              this.handleSubFormRowChange(subFormModel);
            }, 800);
          }
        }
      }
    },
    addToRowIdData() {
      this.rowIdData.push("id" + generateId());
    },
    insertToRowIdData(rowIndex) {
      this.rowIdData.splice(rowIndex, 0, "id" + generateId());
    },
    deleteFromRowIdData(rowIndex) {
      this.rowIdData.splice(rowIndex, 1);
    },
    getRowIdData() {
      return this.rowIdData;
    },
    getWidgetRefOfSubForm(widgetName, rowIndex) {
      const realWidgetName = widgetName + "@row" + this.rowIdData[rowIndex];
      return this.getWidgetRef(realWidgetName);
    },
    initWidgetSchemaData() {
      if (this.widget.type !== "grid-sub-form") {
        return;
      }
      const rowLength = this.rowIdData.length;
      this.widgetSchemaData.splice(0, this.widgetSchemaData.length);
      if (rowLength > 0) {
        for (let i = 0; i < rowLength; i++) {
          const widgetSchemas = [];
          this.widget.widgetList.forEach((swItem) => {
            widgetSchemas.push(this.cloneSchemaOfWidget(swItem));
          });
          this.widgetSchemaData.push(widgetSchemas);
        }
      }
    },
    addToWidgetSchemaData(rowIndex) {
      const widgetSchemas = [];
      this.widget.widgetList.forEach((swItem) => {
        widgetSchemas.push(this.cloneSchemaOfWidget(swItem));
      });
      if (rowIndex === void 0) {
        this.widgetSchemaData.push(widgetSchemas);
      } else {
        this.widgetSchemaData.splice(rowIndex, 0, widgetSchemas);
      }
    },
    deleteFromWidgetSchemaData(rowIndex) {
      this.widgetSchemaData.splice(rowIndex, 1);
    },
    cloneSchemaOfWidget(widget) {
      const newWidgetSchema = deepClone(widget);
      newWidgetSchema.id = widget.type + generateId();
      return newWidgetSchema;
    },
    initEventHandler() {
      if (this.widget.type !== "grid-sub-form") {
        return;
      }
      this.on$("setFormData", (newFormData) => {
        this.initRowIdData(false);
        this.initWidgetSchemaData();
        const subFormData = newFormData[this.widget.options.name] || [];
        setTimeout(() => {
          this.handleSubFormRowChange(subFormData);
        }, 800);
      });
    },
    handleSubFormFirstRowAdd() {
      if (this.widget.type !== "grid-sub-form") {
        return;
      }
      if (!!this.widget.options.showBlankRow && this.rowIdData.length === 1) {
        const oldSubFormData = this.formModel[this.widget.options.name] || [];
        this.$nextTick(() => {
          this.handleSubFormRowAdd(oldSubFormData, this.rowIdData[0]);
          this.handleSubFormRowChange(oldSubFormData);
        });
      }
    },
    addSubFormRow() {
      const newSubFormDataRow = {};
      this.fieldWidgetList.forEach((subFormItem2) => {
        if (!!subFormItem2.formItemFlag) {
          newSubFormDataRow[subFormItem2.options.name] = subFormItem2.options.defaultValue;
        }
      });
      const oldSubFormData = this.formModel[this.widget.options.name] || [];
      oldSubFormData.push(newSubFormDataRow);
      this.addToRowIdData();
      this.addToWidgetSchemaData();
      this.$nextTick(() => {
        this.handleSubFormRowAdd(oldSubFormData, this.rowIdData[oldSubFormData.length - 1]);
        this.handleSubFormRowChange(oldSubFormData);
      });
    },
    insertSubFormRow(beforeFormRowIndex) {
      const newSubFormDataRow = {};
      this.fieldWidgetList.forEach((subFormItem2) => {
        if (!!subFormItem2.formItemFlag) {
          newSubFormDataRow[subFormItem2.options.name] = subFormItem2.options.defaultValue;
        }
      });
      const oldSubFormData = this.formModel[this.widget.options.name] || [];
      oldSubFormData.splice(beforeFormRowIndex, 0, newSubFormDataRow);
      this.insertToRowIdData(beforeFormRowIndex);
      this.addToWidgetSchemaData(beforeFormRowIndex);
      this.$nextTick(() => {
        this.handleSubFormRowInsert(oldSubFormData, this.rowIdData[beforeFormRowIndex]);
        this.handleSubFormRowChange(oldSubFormData);
      });
    },
    deleteSubFormRow(formRowIndex) {
      TpfConfirm({
        type: "confirm",
        content: this.i18nt("render.hint.deleteSubFormRow") + "?",
        title: this.i18nt("render.hint.prompt"),
        okText: this.i18nt("render.hint.confirm"),
        cancelText: this.i18nt("render.hint.cancel")
      }).then(() => {
        const oldSubFormData = this.formModel[this.widget.options.name] || [];
        const deletedDataRow = deepClone(oldSubFormData[formRowIndex]);
        oldSubFormData.splice(formRowIndex, 1);
        this.deleteFromRowIdData(formRowIndex);
        this.deleteFromWidgetSchemaData(formRowIndex);
        this.$nextTick(() => {
          this.handleSubFormRowDelete(oldSubFormData, deletedDataRow);
          this.handleSubFormRowChange(oldSubFormData);
        });
      }).catch(() => {
      });
    },
    handleSubFormRowChange(subFormData) {
      if (!!this.widget.options.onSubFormRowChange) {
        const customFunc = new Function("subFormData", this.widget.options.onSubFormRowChange);
        customFunc.call(this, subFormData);
      }
    },
    handleSubFormRowAdd(subFormData, newRowId) {
      if (!!this.widget.options.onSubFormRowAdd) {
        const customFunc = new Function(
          "subFormData",
          "newRowId",
          this.widget.options.onSubFormRowAdd
        );
        customFunc.call(this, subFormData, newRowId);
      }
    },
    handleSubFormRowInsert(subFormData, newRowId) {
      if (!!this.widget.options.onSubFormRowInsert) {
        const customFunc = new Function(
          "subFormData",
          "newRowId",
          this.widget.options.onSubFormRowInsert
        );
        customFunc.call(this, subFormData, newRowId);
      }
    },
    handleSubFormRowDelete(subFormData, deletedDataRow) {
      if (!!this.widget.options.onSubFormRowDelete) {
        const customFunc = new Function(
          "subFormData",
          "deletedDataRow",
          this.widget.options.onSubFormRowDelete
        );
        customFunc.call(this, subFormData, deletedDataRow);
      }
    },
    setDisabled(flag) {
      if (!!flag) {
        this.disableGridSubForm();
      } else {
        this.enableGridSubForm();
      }
    },
    /**
     * 设置单行子表单是否禁止新增、插入记录
     * @param flag
     */
    setInsertDisabled(flag) {
      this.insertDisabled = flag;
    },
    /**
     * 设置单行子表单是否禁止删除记录
     * @param flag
     */
    setDeleteDisabled(flag) {
      this.deleteDisabled = flag;
    }
  }
};
const _withScopeId$4 = (n) => (pushScopeId("data-v-50d62ca2"), n = n(), popScopeId(), n);
const _hoisted_1$M = { class: "action-header-column" };
const _hoisted_2$v = { class: "action-label" };
const _hoisted_3$o = /* @__PURE__ */ _withScopeId$4(() => /* @__PURE__ */ createElementVNode("i", { class: "el-icon-plus el-icon-right" }, null, -1));
const _hoisted_4$e = {
  key: 0,
  class: "sub-form-action-column hide-label"
};
const _hoisted_5$8 = { class: "action-button-column" };
const _hoisted_6$7 = {
  key: 0,
  class: "row-number-span"
};
const _hoisted_7$5 = {
  key: 1,
  class: "row-no-column"
};
const _hoisted_8$5 = {
  key: 0,
  class: "row-number-span"
};
const _hoisted_9$4 = { class: "grid-sub-form-data-row" };
const _hoisted_10$3 = {
  key: 2,
  class: "sub-form-action-column hide-label"
};
const _hoisted_11$2 = { class: "action-button-column" };
function _sfc_render$40(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_row = resolveComponent("a-row");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      withDirectives((openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: "sub-form-container"
      }, [
        createVNode(_component_a_row, { class: "header-row" }, {
          default: withCtx(() => [
            createElementVNode("div", _hoisted_1$M, [
              createElementVNode("span", _hoisted_2$v, toDisplayString(_ctx.i18nt("render.hint.subFormAction")), 1),
              !$options.isReadMode ? (openBlock(), createBlock(_component_a_button, {
                key: 0,
                disabled: $data.actionDisabled || $data.insertDisabled,
                shape: "round",
                type: "primary",
                size: "small",
                class: "action-button",
                onClick: $options.addSubFormRow,
                title: _ctx.i18nt("render.hint.subFormAddActionHint")
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("render.hint.subFormAddAction")), 1),
                  _hoisted_3$o
                ]),
                _: 1
              }, 8, ["disabled", "onClick", "title"])) : createCommentVNode("", true)
            ])
          ]),
          _: 1
        }),
        (openBlock(true), createElementBlock(Fragment, null, renderList($data.rowIdData, (subFormRowId, sfrIdx) => {
          return openBlock(), createElementBlock("div", {
            class: "sub-form-row",
            key: subFormRowId
          }, [
            $options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_4$e, [
              createElementVNode("div", _hoisted_5$8, [
                withDirectives(createVNode(_component_a_button, {
                  disabled: $data.actionDisabled || $data.insertDisabled,
                  shape: "circle",
                  type: "",
                  icon: "el-icon-circle-plus-outline",
                  onClick: ($event) => $options.insertSubFormRow(sfrIdx),
                  title: _ctx.i18nt("render.hint.insertSubFormRow")
                }, null, 8, ["disabled", "onClick", "title"]), [
                  [vShow, !$options.isReadMode]
                ]),
                withDirectives(createVNode(_component_a_button, {
                  disabled: $data.actionDisabled || $data.deleteDisabled,
                  shape: "circle",
                  type: "",
                  icon: "el-icon-delete",
                  onClick: ($event) => $options.deleteSubFormRow(sfrIdx),
                  title: _ctx.i18nt("render.hint.deleteSubFormRow")
                }, null, 8, ["disabled", "onClick", "title"]), [
                  [vShow, !$options.isReadMode]
                ]),
                $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("span", _hoisted_6$7, "#" + toDisplayString(sfrIdx + 1), 1)) : createCommentVNode("", true)
              ])
            ])) : createCommentVNode("", true),
            !$options.leftActionColumn && $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("div", _hoisted_7$5, [
              $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("span", _hoisted_8$5, "#" + toDisplayString(sfrIdx + 1), 1)) : createCommentVNode("", true)
            ])) : createCommentVNode("", true),
            createElementVNode("div", _hoisted_9$4, [
              (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.widgetList, (subWidget, swIdx) => {
                return openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
                  key: $data.widgetSchemaData[sfrIdx][swIdx].id,
                  widget: $data.widgetSchemaData[sfrIdx][swIdx],
                  "parent-list": $props.widget.widgetList,
                  "index-of-parent-list": swIdx,
                  "parent-widget": $props.widget,
                  "sub-form-row-id": subFormRowId,
                  "sub-form-row-index": sfrIdx,
                  "sub-form-col-index": swIdx
                }, null, 8, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]);
              }), 128))
            ]),
            !$options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_10$3, [
              createElementVNode("div", _hoisted_11$2, [
                withDirectives(createVNode(_component_a_button, {
                  disabled: $data.actionDisabled || $data.insertDisabled,
                  shape: "circle",
                  type: "",
                  icon: "el-icon-circle-plus-outline",
                  onClick: ($event) => $options.insertSubFormRow(sfrIdx),
                  title: _ctx.i18nt("render.hint.insertSubFormRow")
                }, null, 8, ["disabled", "onClick", "title"]), [
                  [vShow, !$options.isReadMode]
                ]),
                withDirectives(createVNode(_component_a_button, {
                  disabled: $data.actionDisabled || $data.deleteDisabled,
                  shape: "circle",
                  type: "",
                  icon: "el-icon-delete",
                  onClick: ($event) => $options.deleteSubFormRow(sfrIdx),
                  title: _ctx.i18nt("render.hint.deleteSubFormRow")
                }, null, 8, ["disabled", "onClick", "title"]), [
                  [vShow, !$options.isReadMode]
                ])
              ])
            ])) : createCommentVNode("", true)
          ]);
        }), 128))
      ])), [
        [vShow, !$props.widget.options.hidden]
      ])
    ]),
    _: 1
  }, 8, ["widget"]);
}
const gridSubFormItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$41, [["render", _sfc_render$40], ["__scopeId", "data-v-50d62ca2"]]);
const __vite_glob_0_4$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridSubFormItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$40 = {
  name: "sub-form-item",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    ...comps$1,
    SvgIcon
  },
  props: {
    widget: Object
  },
  provide() {
    return {
      getSubFormFieldFlag: () => true,
      getSubFormName: () => this.widget.options.name
    };
  },
  inject: ["refList", "sfRefList", "globalModel", "getReadMode"],
  data() {
    return {
      rowIdData: [],
      fieldSchemaData: [],
      actionDisabled: false,
      insertDisabled: false,
      //是否禁止新增、插入记录
      deleteDisabled: false
      //是否禁止删除记录
    };
  },
  computed: {
    isReadMode() {
      return this.getReadMode();
    },
    leftActionColumn() {
      return (this.widget.options.actionColumnPosition || "left") === "left";
    }
  },
  created() {
    this.initRefList();
    this.registerSubFormToRefList();
    this.initRowIdData(true);
    this.initFieldSchemaData();
    this.initEventHandler();
  },
  mounted() {
    this.handleSubFormFirstRowAdd();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    getLabelAlign(widget, subWidget) {
      return subWidget.options.labelAlign || widget.options.labelAlign;
    },
    registerSubFormToRefList() {
      if (this.widget.type === "sub-form") {
        this.sfRefList[this.widget.options.name] = this;
      }
    },
    initRowIdData(initFlag) {
      if (this.widget.type === "sub-form") {
        this.rowIdData.splice(0, this.rowIdData.length);
        const subFormModel = this.formModel[this.widget.options.name];
        if (!!subFormModel && subFormModel.length > 0) {
          subFormModel.forEach(() => {
            this.rowIdData.push("id" + generateId());
          });
          if (!!initFlag) {
            setTimeout(() => {
              this.handleSubFormRowChange(subFormModel);
            }, 800);
          }
        }
      }
    },
    addToRowIdData() {
      this.rowIdData.push("id" + generateId());
    },
    insertToRowIdData(rowIndex) {
      this.rowIdData.splice(rowIndex, 0, "id" + generateId());
    },
    deleteFromRowIdData(rowIndex) {
      this.rowIdData.splice(rowIndex, 1);
    },
    getRowIdData() {
      return this.rowIdData;
    },
    getWidgetRefOfSubForm(widgetName, rowIndex) {
      const realWidgetName = widgetName + "@row" + this.rowIdData[rowIndex];
      return this.getWidgetRef(realWidgetName);
    },
    initFieldSchemaData() {
      if (this.widget.type !== "sub-form") {
        return;
      }
      const rowLength = this.rowIdData.length;
      this.fieldSchemaData.splice(0, this.fieldSchemaData.length);
      if (rowLength > 0) {
        for (let i = 0; i < rowLength; i++) {
          const fieldSchemas = [];
          this.widget.widgetList.forEach((swItem) => {
            fieldSchemas.push(this.cloneFieldSchema(swItem));
          });
          this.fieldSchemaData.push(fieldSchemas);
        }
      }
    },
    addToFieldSchemaData(rowIndex) {
      const fieldSchemas = [];
      this.widget.widgetList.forEach((swItem) => {
        fieldSchemas.push(this.cloneFieldSchema(swItem));
      });
      if (rowIndex === void 0) {
        this.fieldSchemaData.push(fieldSchemas);
      } else {
        this.fieldSchemaData.splice(rowIndex, 0, fieldSchemas);
      }
    },
    deleteFromFieldSchemaData(rowIndex) {
      this.fieldSchemaData.splice(rowIndex, 1);
    },
    cloneFieldSchema(fieldWidget) {
      const newFieldSchema = deepClone(fieldWidget);
      newFieldSchema.id = fieldWidget.type + generateId();
      return newFieldSchema;
    },
    initEventHandler() {
      if (this.widget.type !== "sub-form") {
        return;
      }
      this.on$("setFormData", (newFormData) => {
        this.initRowIdData(false);
        this.initFieldSchemaData();
        const subFormData = newFormData[this.widget.options.name] || [];
        setTimeout(() => {
          this.handleSubFormRowChange(subFormData);
        }, 800);
      });
    },
    handleSubFormFirstRowAdd() {
      if (this.widget.type !== "sub-form") {
        return;
      }
      if (!!this.widget.options.showBlankRow && this.rowIdData.length === 1) {
        const oldSubFormData = this.formModel[this.widget.options.name] || [];
        this.handleSubFormRowAdd(oldSubFormData, this.rowIdData[0]);
        this.handleSubFormRowChange(oldSubFormData);
      }
    },
    addSubFormRow() {
      const newSubFormDataRow = {};
      this.widget.widgetList.forEach((subFormItem2) => {
        if (!!subFormItem2.formItemFlag) {
          newSubFormDataRow[subFormItem2.options.name] = subFormItem2.options.defaultValue;
        }
      });
      const oldSubFormData = this.formModel[this.widget.options.name] || [];
      oldSubFormData.push(newSubFormDataRow);
      this.addToRowIdData();
      this.addToFieldSchemaData();
      this.handleSubFormRowAdd(oldSubFormData, this.rowIdData[oldSubFormData.length - 1]);
      this.handleSubFormRowChange(oldSubFormData);
    },
    insertSubFormRow(beforeFormRowIndex) {
      const newSubFormDataRow = {};
      this.widget.widgetList.forEach((subFormItem2) => {
        if (!!subFormItem2.formItemFlag) {
          newSubFormDataRow[subFormItem2.options.name] = subFormItem2.options.defaultValue;
        }
      });
      const oldSubFormData = this.formModel[this.widget.options.name] || [];
      oldSubFormData.splice(beforeFormRowIndex, 0, newSubFormDataRow);
      this.insertToRowIdData(beforeFormRowIndex);
      this.addToFieldSchemaData(beforeFormRowIndex);
      this.handleSubFormRowInsert(oldSubFormData, this.rowIdData[beforeFormRowIndex]);
      this.handleSubFormRowChange(oldSubFormData);
    },
    deleteSubFormRow(formRowIndex) {
      TpfConfirm({
        type: "confirm",
        content: this.i18nt("render.hint.deleteSubFormRow") + "?",
        title: this.i18nt("render.hint.prompt"),
        okText: this.i18nt("render.hint.confirm"),
        cancelText: this.i18nt("render.hint.cancel")
      }).then(() => {
        const oldSubFormData = this.formModel[this.widget.options.name] || [];
        const deletedDataRow = deepClone(oldSubFormData[formRowIndex]);
        oldSubFormData.splice(formRowIndex, 1);
        this.deleteFromRowIdData(formRowIndex);
        this.deleteFromFieldSchemaData(formRowIndex);
        this.handleSubFormRowDelete(oldSubFormData, deletedDataRow);
        this.handleSubFormRowChange(oldSubFormData);
      }).catch(() => {
      });
    },
    handleSubFormRowChange(subFormData) {
      if (!!this.widget.options.onSubFormRowChange) {
        const customFunc = new Function("subFormData", this.widget.options.onSubFormRowChange);
        customFunc.call(this, subFormData);
      }
    },
    handleSubFormRowAdd(subFormData, newRowId) {
      if (!!this.widget.options.onSubFormRowAdd) {
        const customFunc = new Function(
          "subFormData",
          "newRowId",
          this.widget.options.onSubFormRowAdd
        );
        customFunc.call(this, subFormData, newRowId);
      }
    },
    handleSubFormRowInsert(subFormData, newRowId) {
      if (!!this.widget.options.onSubFormRowInsert) {
        const customFunc = new Function(
          "subFormData",
          "newRowId",
          this.widget.options.onSubFormRowInsert
        );
        customFunc.call(this, subFormData, newRowId);
      }
    },
    handleSubFormRowDelete(subFormData, deletedDataRow) {
      if (!!this.widget.options.onSubFormRowDelete) {
        const customFunc = new Function(
          "subFormData",
          "deletedDataRow",
          this.widget.options.onSubFormRowDelete
        );
        customFunc.call(this, subFormData, deletedDataRow);
      }
    },
    setDisabled(flag) {
      if (!!flag) {
        this.disableSubForm();
      } else {
        this.enableSubForm();
      }
    },
    /**
     * 设置单行子表单是否禁止新增、插入记录
     * @param flag
     */
    setInsertDisabled(flag) {
      this.insertDisabled = flag;
    },
    /**
     * 设置单行子表单是否禁止删除记录
     * @param flag
     */
    setDeleteDisabled(flag) {
      this.deleteDisabled = flag;
    }
  }
};
const _hoisted_1$L = {
  key: 0,
  class: "action-header-column"
};
const _hoisted_2$u = { class: "action-label" };
const _hoisted_3$n = {
  key: 1,
  class: "row-no-header-column"
};
const _hoisted_4$d = {
  key: 0,
  class: "custom-label"
};
const _hoisted_5$7 = ["title"];
const _hoisted_6$6 = {
  key: 2,
  class: "action-header-column"
};
const _hoisted_7$4 = { class: "action-label" };
const _hoisted_8$4 = {
  key: 0,
  class: "sub-form-action-column hide-label"
};
const _hoisted_9$3 = { class: "action-button-column" };
const _hoisted_10$2 = {
  key: 0,
  class: "row-number-span"
};
const _hoisted_11$1 = {
  key: 1,
  class: "row-no-column"
};
const _hoisted_12 = {
  key: 0,
  class: "row-number-span"
};
const _hoisted_13 = {
  key: 2,
  class: "sub-form-action-column hide-label"
};
const _hoisted_14 = { class: "action-button-column" };
function _sfc_render$3$(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_a_row = resolveComponent("a-row");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      withDirectives((openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: "sub-form-container"
      }, [
        createVNode(_component_a_row, { class: "header-row" }, {
          default: withCtx(() => [
            $options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_1$L, [
              createElementVNode("span", _hoisted_2$u, toDisplayString(_ctx.i18nt("render.hint.subFormAction")), 1),
              !$options.isReadMode ? (openBlock(), createBlock(_component_a_button, {
                key: 0,
                disabled: $data.actionDisabled || $data.insertDisabled,
                shape: "round",
                type: "primary",
                size: "small",
                class: "action-button",
                onClick: $options.addSubFormRow,
                title: _ctx.i18nt("render.hint.subFormAddActionHint")
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("render.hint.subFormAddAction")), 1),
                  createVNode(_component_svg_icon, { "icon-class": "el-plus" })
                ]),
                _: 1
              }, 8, ["disabled", "onClick", "title"])) : createCommentVNode("", true)
            ])) : createCommentVNode("", true),
            !$options.leftActionColumn && $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("div", _hoisted_3$n, [
              createElementVNode("span", null, toDisplayString(_ctx.i18nt("render.hint.subFormRowNo")), 1)
            ])) : createCommentVNode("", true),
            (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.widgetList, (subWidget) => {
              return openBlock(), createElementBlock(Fragment, {
                key: subWidget.id + "thc"
              }, [
                !subWidget.options.hidden ? (openBlock(), createElementBlock("div", {
                  key: 0,
                  class: normalizeClass(["field-header-column", [
                    $options.getLabelAlign($props.widget, subWidget),
                    !!subWidget.options.required ? "is-required" : ""
                  ]]),
                  style: normalizeStyle({ width: subWidget.options.columnWidth })
                }, [
                  !!subWidget.options.labelIconClass ? (openBlock(), createElementBlock("span", _hoisted_4$d, [
                    subWidget.options.labelIconPosition === "front" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                      !!subWidget.options.labelTooltip ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                        createVNode(_component_a_tooltip, {
                          title: subWidget.options.labelTooltip
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_svg_icon, {
                              "icon-class": subWidget.options.labelIconClass
                            }, null, 8, ["icon-class"])
                          ]),
                          _: 2
                        }, 1032, ["title"]),
                        createTextVNode(" " + toDisplayString(subWidget.options.label), 1)
                      ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                        createVNode(_component_svg_icon, {
                          "icon-class": subWidget.options.labelIconClass
                        }, null, 8, ["icon-class"]),
                        createTextVNode(" " + toDisplayString(subWidget.options.label), 1)
                      ], 64))
                    ], 64)) : subWidget.options.labelIconPosition === "rear" ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                      !!subWidget.options.labelTooltip ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
                        createTextVNode(toDisplayString(subWidget.options.label) + " ", 1),
                        createVNode(_component_a_tooltip, {
                          title: subWidget.options.labelTooltip
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_svg_icon, {
                              "icon-class": subWidget.options.labelIconClass
                            }, null, 8, ["icon-class"])
                          ]),
                          _: 2
                        }, 1032, ["title"])
                      ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [
                        createTextVNode(toDisplayString(subWidget.options.label) + " ", 1),
                        createVNode(_component_svg_icon, {
                          "icon-class": subWidget.options.labelIconClass
                        }, null, 8, ["icon-class"])
                      ], 64))
                    ], 64)) : createCommentVNode("", true)
                  ])) : (openBlock(), createElementBlock("span", {
                    key: 1,
                    title: subWidget.options.labelTooltip
                  }, toDisplayString(subWidget.options.label), 9, _hoisted_5$7))
                ], 6)) : createCommentVNode("", true)
              ], 64);
            }), 128)),
            !$options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_6$6, [
              createElementVNode("span", _hoisted_7$4, toDisplayString(_ctx.i18nt("render.hint.subFormAction")), 1),
              !$options.isReadMode ? (openBlock(), createBlock(_component_a_button, {
                key: 0,
                disabled: $data.actionDisabled || $data.insertDisabled,
                shape: "round",
                type: "primary",
                size: "small",
                class: "action-button",
                onClick: $options.addSubFormRow,
                title: _ctx.i18nt("render.hint.subFormAddActionHint")
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("render.hint.subFormAddAction")) + " ", 1),
                  createVNode(_component_svg_icon, { "icon-class": "el-plus" })
                ]),
                _: 1
              }, 8, ["disabled", "onClick", "title"])) : createCommentVNode("", true)
            ])) : createCommentVNode("", true)
          ]),
          _: 1
        }),
        (openBlock(true), createElementBlock(Fragment, null, renderList($data.rowIdData, (subFormRowId, sfrIdx) => {
          return openBlock(), createBlock(_component_a_row, {
            class: "sub-form-row",
            key: subFormRowId
          }, {
            default: withCtx(() => [
              $options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_8$4, [
                createElementVNode("div", _hoisted_9$3, [
                  withDirectives(createVNode(_component_a_button, {
                    disabled: $data.actionDisabled || $data.insertDisabled,
                    shape: "circle",
                    onClick: ($event) => $options.insertSubFormRow(sfrIdx),
                    title: _ctx.i18nt("render.hint.insertSubFormRow")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_svg_icon, { "icon-class": "el-plus" })
                    ]),
                    _: 2
                  }, 1032, ["disabled", "onClick", "title"]), [
                    [vShow, !$options.isReadMode]
                  ]),
                  withDirectives(createVNode(_component_a_button, {
                    disabled: $data.actionDisabled || $data.deleteDisabled,
                    shape: "circle",
                    onClick: ($event) => $options.deleteSubFormRow(sfrIdx),
                    title: _ctx.i18nt("render.hint.deleteSubFormRow")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_svg_icon, { "icon-class": "el-delete" })
                    ]),
                    _: 2
                  }, 1032, ["disabled", "onClick", "title"]), [
                    [vShow, !$options.isReadMode]
                  ]),
                  $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("span", _hoisted_10$2, " #" + toDisplayString(sfrIdx + 1), 1)) : createCommentVNode("", true)
                ])
              ])) : createCommentVNode("", true),
              !$options.leftActionColumn && $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("div", _hoisted_11$1, [
                $props.widget.options.showRowNumber ? (openBlock(), createElementBlock("span", _hoisted_12, "#" + toDisplayString(sfrIdx + 1), 1)) : createCommentVNode("", true)
              ])) : createCommentVNode("", true),
              (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.widgetList, (subWidget, swIdx) => {
                return openBlock(), createElementBlock(Fragment, {
                  key: $data.fieldSchemaData[sfrIdx][swIdx].id
                }, [
                  !subWidget.options.hidden ? (openBlock(), createElementBlock("div", {
                    key: 0,
                    class: "sub-form-table-column hide-label",
                    style: normalizeStyle({ width: subWidget.options.columnWidth })
                  }, [
                    (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                      field: $data.fieldSchemaData[sfrIdx][swIdx],
                      "parent-list": $props.widget.widgetList,
                      "index-of-parent-list": swIdx,
                      "parent-widget": $props.widget,
                      "sub-form-row-id": subFormRowId,
                      "sub-form-row-index": sfrIdx,
                      "sub-form-col-index": swIdx
                    }, null, 8, ["field", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]))
                  ], 4)) : createCommentVNode("", true)
                ], 64);
              }), 128)),
              !$options.leftActionColumn ? (openBlock(), createElementBlock("div", _hoisted_13, [
                createElementVNode("div", _hoisted_14, [
                  withDirectives(createVNode(_component_a_button, {
                    disabled: $data.actionDisabled || $data.insertDisabled,
                    shape: "circle",
                    onClick: ($event) => $options.insertSubFormRow(sfrIdx),
                    title: _ctx.i18nt("render.hint.insertSubFormRow")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_svg_icon, { "icon-class": "el-plus" })
                    ]),
                    _: 2
                  }, 1032, ["disabled", "onClick", "title"]), [
                    [vShow, !$options.isReadMode]
                  ]),
                  withDirectives(createVNode(_component_a_button, {
                    disabled: $data.actionDisabled || $data.deleteDisabled,
                    shape: "circle",
                    onClick: ($event) => $options.deleteSubFormRow(sfrIdx),
                    title: _ctx.i18nt("render.hint.deleteSubFormRow")
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_svg_icon, { "icon-class": "el-delete" })
                    ]),
                    _: 2
                  }, 1032, ["disabled", "onClick", "title"]), [
                    [vShow, !$options.isReadMode]
                  ])
                ])
              ])) : createCommentVNode("", true)
            ]),
            _: 2
          }, 1024);
        }), 128))
      ])), [
        [vShow, !$props.widget.options.hidden]
      ])
    ]),
    _: 1
  }, 8, ["widget"]);
}
const subFormItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$40, [["render", _sfc_render$3$], ["__scopeId", "data-v-43c56bd4"]]);
const __vite_glob_0_5$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: subFormItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3$ = {
  name: "tab-item",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "sfRefList", "globalModel"],
  data() {
    return {
      activeTabName: ""
    };
  },
  computed: {
    visibleTabs() {
      return this.widget.tabs.filter((tp) => {
        return !tp.options.hidden;
      });
    }
  },
  created() {
    this.initRefList();
    this.initActiveTab();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    handleOnCreated() {
      if (!!this.widget.options.onCreated) {
        const customFunc = new Function(this.widget.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.designState) {
        return;
      }
      if (!!this.widget.options.onMounted) {
        const mountFunc = new Function(this.widget.options.onMounted);
        mountFunc.call(this);
      }
    },
    changeCurrentTab(inx) {
      var _a, _b;
      const str = ((_b = (_a = this.widget.tabs[inx]) == null ? void 0 : _a.options) == null ? void 0 : _b.label) || "";
      this.onTabClick(str);
      this.widget.options.activeTab = str;
    },
    initActiveTab() {
      if (this.widget.type === "tab" && this.widget.tabs.length > 0) {
        const activePanes = this.widget.tabs.filter((tp) => {
          return tp.options.active === true;
        });
        if (this.widget.options.activeTab) {
          this.activeTabName = this.widget.options.activeTab;
          return;
        }
        if (activePanes.length > 0) {
          this.activeTabName = activePanes[0].options.label;
        } else {
          this.activeTabName = this.widget.tabs[0].options.label;
        }
      }
    },
    onTabClick(tab2) {
      const index2 = this.widget.tabs.findIndex((item) => item.options.label === tab2);
      if (!!this.widget.options.onTabClick) {
        const customFn = new Function("tab", "index", this.widget.options.onTabClick);
        customFn.call(this, tab2, index2);
      }
    }
  }
};
function _sfc_render$3_(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_tab_pane = resolveComponent("a-tab-pane");
  const _component_a_tabs = resolveComponent("a-tabs");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      withDirectives((openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: "tab-container"
      }, [
        createVNode(_component_a_tabs, {
          ref: "fieldEditor",
          activeKey: $props.widget.options.activeTab,
          "onUpdate:activeKey": _cache[0] || (_cache[0] = ($event) => $props.widget.options.activeTab = $event),
          type: $props.widget.options.type,
          tabBarGutter: $props.widget.options.tabBarGutter,
          tabPosition: $props.widget.options.tabPosition,
          class: normalizeClass([_ctx.customClass]),
          onTabClick: $options.onTabClick
        }, {
          default: withCtx(() => [
            (openBlock(true), createElementBlock(Fragment, null, renderList($options.visibleTabs, (tab2) => {
              return openBlock(), createBlock(_component_a_tab_pane, {
                tab: tab2.options.label,
                disabled: tab2.options.disabled,
                key: tab2.options.label
              }, {
                default: withCtx(() => [
                  (openBlock(true), createElementBlock(Fragment, null, renderList(tab2.widgetList, (subWidget, swIdx) => {
                    return openBlock(), createElementBlock(Fragment, null, [
                      "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
                        widget: subWidget,
                        key: swIdx,
                        "parent-list": tab2.widgetList,
                        "index-of-parent-list": swIdx,
                        "parent-widget": $props.widget,
                        "sub-form-row-id": $props.subFormRowId,
                        "sub-form-row-index": $props.subFormRowIndex,
                        "sub-form-col-index": $props.subFormColIndex
                      }, createSlots({ _: 2 }, [
                        renderList(Object.keys(_ctx.$slots), (slot) => {
                          return {
                            name: slot,
                            fn: withCtx((scope) => [
                              renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                            ])
                          };
                        })
                      ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                        field: subWidget,
                        key: swIdx,
                        "parent-list": tab2.widgetList,
                        "index-of-parent-list": swIdx,
                        "parent-widget": $props.widget,
                        "sub-form-row-id": $props.subFormRowId,
                        "sub-form-row-index": $props.subFormRowIndex,
                        "sub-form-col-index": $props.subFormColIndex
                      }, createSlots({ _: 2 }, [
                        renderList(Object.keys(_ctx.$slots), (slot) => {
                          return {
                            name: slot,
                            fn: withCtx((scope) => [
                              renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                            ])
                          };
                        })
                      ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]))
                    ], 64);
                  }), 256))
                ]),
                _: 2
              }, 1032, ["tab", "disabled"]);
            }), 128))
          ]),
          _: 3
        }, 8, ["activeKey", "type", "tabBarGutter", "tabPosition", "class", "onTabClick"])
      ])), [
        [vShow, !$props.widget.options.hidden]
      ])
    ]),
    _: 3
  }, 8, ["widget"]);
}
const tabItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3$, [["render", _sfc_render$3_], ["__scopeId", "data-v-7375c2f0"]]);
const __vite_glob_0_6$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3_ = {
  name: "TableCellItem",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin],
  components: {
    ...comps$1
  },
  props: {
    widget: Object,
    rowIndex: Number,
    colIndex: Number,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "globalModel"],
  computed: {
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
  },
  methods: {}
};
const _hoisted_1$K = ["colspan", "rowspan"];
function _sfc_render$3Z(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("td", {
    class: normalizeClass(["table-cell", [$options.customClass]]),
    colspan: $props.widget.options.colspan || 1,
    rowspan: $props.widget.options.rowspan || 1,
    style: normalizeStyle({
      width: $props.widget.options.cellWidth + " !important" || "",
      height: $props.widget.options.cellHeight + " !important" || ""
    })
  }, [
    (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.widgetList, (subWidget, swIdx) => {
      return openBlock(), createElementBlock(Fragment, null, [
        "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
          widget: subWidget,
          key: swIdx,
          "parent-list": $props.widget.widgetList,
          "index-of-parent-list": swIdx,
          "parent-widget": $props.widget,
          "sub-form-row-id": $props.subFormRowId,
          "sub-form-row-index": $props.subFormRowIndex,
          "sub-form-col-index": $props.subFormColIndex
        }, createSlots({ _: 2 }, [
          renderList(Object.keys(_ctx.$slots), (slot) => {
            return {
              name: slot,
              fn: withCtx((scope) => [
                renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
              ])
            };
          })
        ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
          field: subWidget,
          key: swIdx,
          "parent-list": $props.widget.widgetList,
          "index-of-parent-list": swIdx,
          "parent-widget": $props.widget,
          "sub-form-row-id": $props.subFormRowId,
          "sub-form-row-index": $props.subFormRowIndex,
          "sub-form-col-index": $props.subFormColIndex
        }, createSlots({ _: 2 }, [
          renderList(Object.keys(_ctx.$slots), (slot) => {
            return {
              name: slot,
              fn: withCtx((scope) => [
                renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
              ])
            };
          })
        ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"]))
      ], 64);
    }), 256))
  ], 14, _hoisted_1$K);
}
const TableCellItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3_, [["render", _sfc_render$3Z], ["__scopeId", "data-v-ae7f3b63"]]);
const __vite_glob_0_7$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TableCellItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3Z = {
  name: "table-item",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    TableCellItem
  },
  props: {
    widget: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "sfRefList", "globalModel"],
  created() {
    this.initRefList();
  },
  mounted() {
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {}
};
function _sfc_render$3Y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_table_cell_item = resolveComponent("table-cell-item");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      withDirectives((openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: "table-container"
      }, [
        createElementVNode("table", {
          ref: $props.widget.id,
          class: normalizeClass(["table-layout", [_ctx.customClass]])
        }, [
          createElementVNode("tbody", null, [
            (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.rows, (row, rowIdx) => {
              return openBlock(), createElementBlock("tr", {
                key: row.id
              }, [
                (openBlock(true), createElementBlock(Fragment, null, renderList(row.cols, (colWidget, colIdx) => {
                  return openBlock(), createElementBlock(Fragment, null, [
                    !colWidget.merged ? (openBlock(), createBlock(_component_table_cell_item, {
                      widget: colWidget,
                      key: colIdx,
                      "parent-list": $props.widget.cols,
                      "row-index": rowIdx,
                      "col-index": colIdx,
                      "parent-widget": $props.widget,
                      "sub-form-row-id": $props.subFormRowId,
                      "sub-form-row-index": $props.subFormRowIndex,
                      "sub-form-col-index": $props.subFormColIndex
                    }, createSlots({ _: 2 }, [
                      renderList(Object.keys(_ctx.$slots), (slot) => {
                        return {
                          name: slot,
                          fn: withCtx((scope) => [
                            renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                          ])
                        };
                      })
                    ]), 1032, ["widget", "parent-list", "row-index", "col-index", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : createCommentVNode("", true)
                  ], 64);
                }), 256))
              ]);
            }), 128))
          ])
        ], 2)
      ])), [
        [vShow, !$props.widget.options.hidden]
      ])
    ]),
    _: 3
  }, 8, ["widget"]);
}
const tableItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3Z, [["render", _sfc_render$3Y], ["__scopeId", "data-v-48955c34"]]);
const __vite_glob_0_8$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tableItem
}, Symbol.toStringTag, { value: "Module" }));
const _hoisted_1$J = {
  class: "tpf-collapse-title"
};
const _sfc_main$3Y = /* @__PURE__ */ defineComponent({
  __name: "TpfCollapseTitle",
  props: {
    title: {
      default: "这里是标题"
    }
  },
  setup(__props) {
    return (_ctx, _cache) => {
      return openBlock(), createElementBlock("div", _hoisted_1$J, toDisplayString(_ctx.title), 1);
    };
  }
});
const TpfCollapseTitle = /* @__PURE__ */ _export_sfc$1(_sfc_main$3Y, [["__scopeId", "data-v-07185a23"]]);
const _sfc_main$3X = {
  name: "VfCollapseItem",
  componentName: "ContainerItem",
  // 必须固定为ContainerItem，用于接收父级组件的broadcast事件
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    TpfCollapseTitle,
    SvgIcon,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    },
    formJson: {
      type: Object
    },
    formData: {
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentFormRef: {
      type: Object,
      default: null
    },
    extraData: {
      type: Object,
      default: () => ({})
    },
    wrapperId: {
      type: String,
      default: null
    }
  },
  inject: ["refList", "sfRefList", "globalModel", "getFormConfig", "getGlobalDsv"],
  data() {
    return {};
  },
  computed: {
    rightSlotCss() {
      return this.widget.options.rightSlotCss || "";
    },
    formConfig() {
      return this.getFormConfig();
    }
  },
  created() {
    this.initRefList();
    this.handleOnCreated();
  },
  mounted() {
    this.loadFormCode(this.widget.options.formCode);
    this.$nextTick(() => {
      this.handleOnMounted();
    });
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    toggleCollapse() {
      this.widget.options.isCollapse = !this.widget.options.isCollapse;
    },
    async loadFormCode(formCode) {
      if (formCode) {
        const res = await this.$http.get(`/api/tmgc2-query/dataQuery/detail/FormDefinitionManagement`, {
          params: { code: formCode }
        }).then((res2) => res2.data.object.frontendDefinition || "{}");
        this.$refs.dFormRef.setFormJson(JSON.parse(res));
      }
    },
    handleOnCreated() {
      if (!!this.widget.options.onCreated) {
        const customFunc = new Function(this.widget.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.widget.options.onMounted) {
        const customFunc = new Function(this.widget.options.onMounted);
        customFunc.call(this);
      }
    },
    getFormRef() {
      return this.$refs.dFormRef;
    }
  }
};
const _hoisted_1$I = { class: "tpf-collapse" };
const _hoisted_2$t = { class: "tpf-collapse-header" };
function _sfc_render$3X(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_TpfCollapseTitle = resolveComponent("TpfCollapseTitle");
  const _component_SvgIcon = resolveComponent("SvgIcon");
  const _component_a_space = resolveComponent("a-space");
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return withDirectives((openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      createElementVNode("div", _hoisted_1$I, [
        createElementVNode("div", _hoisted_2$t, [
          createVNode(_component_a_space, { size: 5 }, {
            default: withCtx(() => [
              createVNode(_component_TpfCollapseTitle, {
                title: $props.widget.options.title
              }, null, 8, ["title"]),
              createVNode(_component_SvgIcon, {
                "icon-class": $props.widget.options.isCollapse ? $props.widget.options.collapseIcon : $props.widget.options.unCollapseIcon,
                size: "24px",
                shadow: "",
                cursor: "",
                onClick: $options.toggleCollapse
              }, null, 8, ["icon-class", "onClick"])
            ]),
            _: 1
          }),
          $props.widget.options.isCollapse ? (openBlock(), createElementBlock("div", {
            key: 0,
            class: normalizeClass(["header-right", $options.rightSlotCss])
          }, [
            !!$props.widget.headerRightSlotList && $props.widget.headerRightSlotList.length > 0 ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($props.widget.headerRightSlotList, (subWidget, swIdx) => {
              return openBlock(), createElementBlock(Fragment, null, [
                "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
                  widget: subWidget,
                  key: swIdx,
                  "parent-list": $props.widget.headerRightSlotList,
                  "index-of-parent-list": swIdx,
                  "parent-widget": $props.widget,
                  "sub-form-row-id": $props.subFormRowId,
                  "sub-form-row-index": $props.subFormRowIndex,
                  "sub-form-col-index": $props.subFormColIndex
                }, createSlots({ _: 2 }, [
                  renderList(Object.keys(_ctx.$slots), (slot) => {
                    return {
                      name: slot,
                      fn: withCtx((scope) => [
                        renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                      ])
                    };
                  })
                ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                  field: subWidget,
                  designer: null,
                  key: swIdx,
                  "parent-list": $props.widget.headerRightSlotList,
                  "index-of-parent-list": swIdx,
                  "parent-widget": $props.widget
                }, createSlots({ _: 2 }, [
                  renderList(Object.keys(_ctx.$slots), (slot) => {
                    return {
                      name: slot,
                      fn: withCtx((scope) => [
                        renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                      ])
                    };
                  })
                ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget"]))
              ], 64);
            }), 256)) : createCommentVNode("", true)
          ], 2)) : createCommentVNode("", true)
        ]),
        createVNode(Transition, {
          mode: "out-in",
          appear: "",
          "enter-active-class": "animate__animated animate__fadeIn animate__faster",
          "leave-active-class": "animate__animated animate__fadeOut animate__faster"
        }, {
          default: withCtx(() => [
            withDirectives(createElementVNode("div", {
              class: normalizeClass(["tpf-collapse-content"]),
              style: normalizeStyle({
                height: $props.widget.options.height || "unset",
                ...JSON.parse($props.widget.options.bodyStyle || "{}")
              })
            }, [
              createVNode(_component_VFormRender, {
                ref: "dFormRef",
                "form-json": $props.formJson,
                "form-data": $props.formData,
                "global-dsv": $props.globalDsv,
                "parent-form": $props.parentFormRef,
                "disabled-mode": $props.widget.options.disabledMode,
                "dynamic-creation": true
              }, null, 8, ["form-json", "form-data", "global-dsv", "parent-form", "disabled-mode"]),
              !!$props.widget.defaultSlotsList && $props.widget.defaultSlotsList.length > 0 ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList($props.widget.defaultSlotsList, (subWidget, swIdx) => {
                return openBlock(), createElementBlock(Fragment, null, [
                  "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
                    widget: subWidget,
                    key: swIdx,
                    "parent-list": $props.widget.defaultSlotsList,
                    "index-of-parent-list": swIdx,
                    "parent-widget": $props.widget,
                    "sub-form-row-id": $props.subFormRowId,
                    "sub-form-row-index": $props.subFormRowIndex,
                    "sub-form-col-index": $props.subFormColIndex
                  }, createSlots({ _: 2 }, [
                    renderList(Object.keys(_ctx.$slots), (slot) => {
                      return {
                        name: slot,
                        fn: withCtx((scope) => [
                          renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                        ])
                      };
                    })
                  ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                    field: subWidget,
                    designer: null,
                    key: swIdx,
                    "parent-list": $props.widget.defaultSlotsList,
                    "index-of-parent-list": swIdx,
                    "parent-widget": $props.widget
                  }, createSlots({ _: 2 }, [
                    renderList(Object.keys(_ctx.$slots), (slot) => {
                      return {
                        name: slot,
                        fn: withCtx((scope) => [
                          renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                        ])
                      };
                    })
                  ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget"]))
                ], 64);
              }), 256)) : createCommentVNode("", true)
            ], 4), [
              [vShow, $props.widget.options.isCollapse]
            ])
          ]),
          _: 3
        })
      ])
    ]),
    _: 3
  }, 8, ["widget"])), [
    [vShow, !$props.widget.options.hidden]
  ]);
}
const vfCollapseItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3X, [["render", _sfc_render$3X], ["__scopeId", "data-v-895997e5"]]);
const __vite_glob_0_9$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfCollapseItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3W = {
  name: "vf-dialog-item"
};
function _sfc_render$3W(_ctx, _cache, $props, $setup, $data, $options) {
  return createCommentVNode("", true);
}
const vfDialogItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3W, [["render", _sfc_render$3W]]);
const __vite_glob_0_10$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDialogItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3V = {
  name: "vf-drawer-item"
};
function _sfc_render$3V(_ctx, _cache, $props, $setup, $data, $options) {
  return createCommentVNode("", true);
}
const vfDrawerItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$3V, [["render", _sfc_render$3V]]);
const __vite_glob_0_11$2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDrawerItem
}, Symbol.toStringTag, { value: "Module" }));
const modules$2 = /* @__PURE__ */ Object.assign({ "./container-item-wrapper.vue": __vite_glob_0_0$3, "./data-table-item.vue": __vite_glob_0_1$2, "./grid-col-item.vue": __vite_glob_0_2$2, "./grid-item.vue": __vite_glob_0_3$2, "./grid-sub-form-item.vue": __vite_glob_0_4$2, "./sub-form-item.vue": __vite_glob_0_5$2, "./tab-item.vue": __vite_glob_0_6$2, "./table-cell-item.vue": __vite_glob_0_7$2, "./table-item.vue": __vite_glob_0_8$2, "./vf-collapse-item.vue": __vite_glob_0_9$2, "./vf-dialog-item.vue": __vite_glob_0_10$2, "./vf-drawer-item.vue": __vite_glob_0_11$2 });
const ContainerItems = {
  install(app) {
    for (const path in modules$2) {
      const cname = modules$2[path].default.name;
      app.component(cname, modules$2[path].default);
    }
  }
};
const _sfc_main$3U = {
  name: "dynamic-dialog",
  mixins: [i18n$1],
  props: {
    options: {
      type: Object,
      default: () => ({})
    },
    formJson: {
      type: Object
    },
    formData: {
      type: Object,
      default: () => ({})
    },
    vfCtx: {
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentFormRef: {
      type: Object,
      default: null
    },
    extraData: {
      type: Object,
      default: () => ({})
    },
    wrapperId: {
      type: String,
      default: null
    }
  },
  data() {
    return {
      dialogVisible: false,
      elLocaleMap: {
        "zh-CN": { ...localeValues$1 },
        "en-US": {}
      }
    };
  },
  created() {
  },
  computed: {
    elLocale() {
      const curLocale = localStorage.getItem("v_form_locale") || "zh-CN";
      return this.elLocaleMap[curLocale];
    },
    parentForm() {
      return { ...this.parentFormRef, parentDom: this, getParentFormRef: this.getParentFormRef };
    },
    otherAttrs() {
      if (this.options.cancelButtonHidden && this.options.okButtonHidden) {
        return { footer: null };
      }
      return {};
    },
    cancelBtnLabel() {
      return this.options.cancelButtonLabel || this.i18nt("designer.hint.cancel");
    },
    okBtnLabel() {
      return this.options.okButtonLabel || this.i18nt("designer.hint.confirm");
    }
  },
  mounted() {
  },
  beforeUnmount() {
    this.parentFormRef.setChildFormRef(null);
  },
  methods: {
    async loadFormCode() {
      if (this.options.formCode) {
        const res = await this.$http.get(`/api/tmgc2-query/dataQuery/detail/FormDefinitionManagement`, {
          params: { code: this.options.formCode }
        }).then((res2) => res2.data.object.frontendDefinition || "{}");
        this.$refs.dFormRef.setFormJson(JSON.parse(res));
      }
    },
    setTitle(title) {
      this.options.title = title;
    },
    show() {
      this.dialogVisible = true;
      this.$nextTick(() => {
        if (!!this.options.readMode) {
          this.$refs["dFormRef"].setReadMode(true);
        }
        this.loadFormCode();
        this.$refs["dFormRef"].setDialogOrDrawerRef(this);
        this.parentFormRef.setChildFormRef(this.$refs["dFormRef"]);
        this.handleOpenedEvent();
      });
    },
    close() {
      if (!!this.options.onDialogBeforeClose) {
        const customFn = new Function("done", this.options.onDialogBeforeClose);
        const closeResult = customFn.call(this);
        if (closeResult === false) {
          return;
        }
      }
      this.dialogVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    deleteWrapperNode() {
      const wrapperNode = document.getElementById("vf-dynamic-dialog-wrapper" + this.wrapperId);
      if (!!wrapperNode) {
        document.body.removeChild(wrapperNode);
      }
    },
    handleBeforeClose() {
      if (!!this.options.onDialogBeforeClose) {
        const customFn = new Function(this.options.onDialogBeforeClose);
        return customFn.call(this);
      }
      return true;
    },
    handleCloseEvent() {
      if (!this.handleBeforeClose())
        return;
      this.dialogVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    handleOpenedEvent() {
      if (!!this.options.onDialogOpened) {
        const customFn = new Function(this.options.onDialogOpened);
        customFn.call(this);
      }
    },
    handleCancelClick() {
      if (!this.handleBeforeClose())
        return;
      if (!!this.options.onCancelButtonClick) {
        const customFn = new Function(this.options.onCancelButtonClick);
        const clickResult = customFn.call(this);
        if (clickResult === false) {
          return;
        }
      }
      this.dialogVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    async handleOkClick() {
      try {
        if (!!this.options.onOkButtonClick) {
          const customFn = new Function(this.options.onOkButtonClick);
          const clickResult = await customFn.call(this);
          if (clickResult === false) {
            return;
          }
        }
        this.dialogVisible = false;
        setTimeout(this.deleteWrapperNode, 150);
      } catch (error2) {
        console.log("error: ", error2);
      }
    },
    getParentFormRef() {
      return this.parentFormRef;
    },
    getFormRef() {
      console.log("getFormRef");
      return this.$refs["dFormRef"];
    },
    getWidgetRef(widgetName, showError = false) {
      return this.$refs["dFormRef"].getWidgetRef(widgetName, showError);
    },
    getExtraData() {
      return this.extraData;
    }
  }
};
const _hoisted_1$H = /* @__PURE__ */ createElementVNode("div", { class: "footer-left" }, null, -1);
const _hoisted_2$s = { class: "footer-right" };
function _sfc_render$3U(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_a_config_provider = resolveComponent("a-config-provider");
  return openBlock(), createBlock(_component_a_config_provider, {
    locale: $options.elLocale,
    input: { autocomplete: "off" }
  }, {
    default: withCtx(() => [
      createVNode(_component_a_modal, mergeProps({
        class: "tpf-model design-model",
        transitionName: !$data.dialogVisible ? "" : "zoom",
        maskTransitionName: !$data.dialogVisible ? "" : "fade",
        destroyOnClose: true,
        title: $props.options.title,
        bodyStyle: {
          height: $props.options.height,
          overflow: "auto",
          ...JSON.parse(this.options.bodyStyle || "{}")
        },
        centered: true,
        visible: $data.dialogVisible,
        "onUpdate:visible": _cache[0] || (_cache[0] = ($event) => $data.dialogVisible = $event),
        width: $props.options.width,
        mask: $props.options.showModal,
        maskClosable: $props.options.closeOnClickModal,
        keyboard: $props.options.closeOnPressEscape,
        onCancel: $options.handleCloseEvent
      }, $options.otherAttrs), {
        footer: withCtx(() => [
          _hoisted_1$H,
          createElementVNode("div", _hoisted_2$s, [
            !$props.options.cancelButtonHidden ? (openBlock(), createBlock(_component_a_button, {
              key: 0,
              onClick: $options.handleCancelClick
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString($options.cancelBtnLabel), 1)
              ]),
              _: 1
            }, 8, ["onClick"])) : createCommentVNode("", true),
            !$props.options.okButtonHidden ? (openBlock(), createBlock(_component_a_button, {
              key: 1,
              type: "primary",
              onClick: $options.handleOkClick
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString($options.okBtnLabel), 1)
              ]),
              _: 1
            }, 8, ["onClick"])) : createCommentVNode("", true)
          ])
        ]),
        default: withCtx(() => [
          createVNode(_component_VFormRender, {
            ref: "dFormRef",
            "form-json": $props.formJson,
            "form-data": $props.formData,
            vfCtx: $props.vfCtx,
            "option-data": $props.optionData,
            "global-dsv": $props.globalDsv,
            "parent-form": $options.parentForm,
            "disabled-mode": $props.options.disabledMode,
            "dynamic-creation": true
          }, null, 8, ["form-json", "form-data", "vfCtx", "option-data", "global-dsv", "parent-form", "disabled-mode"])
        ]),
        _: 1
      }, 16, ["transitionName", "maskTransitionName", "title", "bodyStyle", "visible", "width", "mask", "maskClosable", "keyboard", "onCancel"])
    ]),
    _: 1
  }, 8, ["locale"]);
}
const DynamicDialog = /* @__PURE__ */ _export_sfc$1(_sfc_main$3U, [["render", _sfc_render$3U]]);
const _sfc_main$3T = {
  name: "dynamic-drawer",
  mixins: [i18n$1],
  props: {
    options: {
      type: Object,
      default: () => ({})
    },
    formJson: {
      type: Object
    },
    formData: {
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentFormRef: {
      type: Object,
      default: null
    },
    extraData: {
      type: Object,
      default: () => ({})
    },
    wrapperId: {
      type: String,
      default: null
    }
  },
  data() {
    return {
      drawerVisible: false
    };
  },
  computed: {
    cancelBtnLabel() {
      return this.options.cancelButtonLabel || this.i18nt("designer.hint.cancel");
    },
    okBtnLabel() {
      return this.options.okButtonLabel || this.i18nt("designer.hint.confirm");
    }
  },
  mounted() {
  },
  beforeUnmount() {
    this.parentFormRef.setChildFormRef(null);
  },
  methods: {
    show() {
      this.drawerVisible = true;
      this.$nextTick(() => {
        if (!!this.options.readMode) {
          this.$refs["dFormRef"].setReadMode(true);
        }
        this.$refs["dFormRef"].setDialogOrDrawerRef(this);
        this.parentFormRef.setChildFormRef(this.$refs["dFormRef"]);
      });
    },
    close() {
      if (!!this.options.onDrawerBeforeClose) {
        const customFn = new Function(this.options.onDrawerBeforeClose);
        const closeResult = customFn.call(this);
        if (closeResult === false) {
          return;
        }
      }
      this.drawerVisible = false;
      this.$refs["drawerRef"].handleClose();
      setTimeout(this.deleteWrapperNode, 150);
    },
    deleteWrapperNode() {
      const wrapperNode = document.getElementById("vf-dynamic-drawer-wrapper" + this.wrapperId);
      if (!!wrapperNode) {
        document.body.removeChild(wrapperNode);
      }
    },
    handleBeforeClose(done) {
      if (!!this.options.onDrawerBeforeClose) {
        const customFn = new Function(this.options.onDrawerBeforeClose);
        const closeResult = customFn.call(this);
        return closeResult === false ? closeResult : done();
      }
      return done();
    },
    handleCloseEvent() {
      this.drawerVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    handleOpenedEvent() {
      if (!!this.options.onDrawerOpened) {
        const customFn = new Function(this.options.onDrawerOpened);
        customFn.call(this);
      }
    },
    handleCancelClick() {
      if (!!this.options.onCancelButtonClick) {
        const customFn = new Function(this.options.onCancelButtonClick);
        const clickResult = customFn.call(this);
        if (clickResult === false) {
          return;
        }
      }
      this.drawerVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    handleOkClick() {
      if (!!this.options.onOkButtonClick) {
        const customFn = new Function(this.options.onOkButtonClick);
        const clickResult = customFn.call(this);
        if (clickResult === false) {
          return;
        }
      }
      this.drawerVisible = false;
      setTimeout(this.deleteWrapperNode, 150);
    },
    getParentFormRef() {
      return this.parentFormRef;
    },
    getFormRef() {
      return this.$refs["dFormRef"];
    },
    getWidgetRef(widgetName, showError = false) {
      return this.$refs["dFormRef"].getWidgetRef(widgetName, showError);
    },
    getExtraData() {
      return this.extraData;
    }
  }
};
const _hoisted_1$G = { style: { "float": "right" } };
function _sfc_render$3T(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_drawer = resolveComponent("a-drawer");
  return openBlock(), createBlock(_component_a_drawer, {
    ref: "drawerRef",
    title: $props.options.title,
    visible: $data.drawerVisible,
    "onUpdate:visible": _cache[0] || (_cache[0] = ($event) => $data.drawerVisible = $event),
    "custom-class": "dynamic-drawer",
    "append-to-body": "",
    "destroy-on-close": "",
    size: $props.options.size,
    modal: $props.options.showModal,
    direction: $props.options.direction,
    "show-close": $props.options.showClose,
    "close-on-click-modal": $props.options.closeOnClickModal,
    "close-on-press-escape": $props.options.closeOnPressEscape,
    "before-close": $options.handleBeforeClose,
    onClose: $options.handleCloseEvent,
    onOpened: $options.handleOpenedEvent
  }, {
    footer: withCtx(() => [
      createElementVNode("div", _hoisted_1$G, [
        !$props.options.cancelButtonHidden ? (openBlock(), createBlock(_component_a_button, {
          key: 0,
          onClick: $options.handleCancelClick
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString($options.cancelBtnLabel), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        !$props.options.okButtonHidden ? (openBlock(), createBlock(_component_a_button, {
          key: 1,
          type: "primary",
          onClick: $options.handleOkClick
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString($options.okBtnLabel), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true)
      ])
    ]),
    default: withCtx(() => [
      createVNode(_component_VFormRender, {
        ref: "dFormRef",
        "form-json": $props.formJson,
        "form-data": $props.formData,
        "option-data": $props.optionData,
        "global-dsv": $props.globalDsv,
        "parent-form": $props.parentFormRef,
        "disabled-mode": $props.options.disabledMode,
        "dynamic-creation": true
      }, null, 8, ["form-json", "form-data", "option-data", "global-dsv", "parent-form", "disabled-mode"])
    ]),
    _: 1
  }, 8, ["title", "visible", "size", "modal", "direction", "show-close", "close-on-click-modal", "close-on-press-escape", "before-close", "onClose", "onOpened"]);
}
const DynamicDrawer = /* @__PURE__ */ _export_sfc$1(_sfc_main$3T, [["render", _sfc_render$3T], ["__scopeId", "data-v-de083670"]]);
const _sfc_main$3S = {
  name: "VFormRender",
  componentName: "VFormRender",
  mixins: [emitter, i18n$1],
  components: {
    ...comps$1
  },
  props: {
    vfCtx: {
      type: Object,
      default: () => ({})
    },
    formJson: {
      //prop传入的表单JSON配置
      type: Object,
      default: () => buildDefaultFormJson()
    },
    formData: {
      //prop传入的表单数据
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    previewState: {
      //是否表单预览状态
      type: Boolean,
      default: false
    },
    disabledMode: {
      //表单禁止编辑模式
      type: Boolean,
      default: false
    },
    renderConfig: {
      //渲染配置对象
      type: Object,
      default: () => {
        return {
          languageName: "zh-CN"
          //界面语言，默认显示中文
        };
      }
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentForm: {
      type: Object,
      default: null
    },
    dynamicCreation: {
      //是否弹窗、抽屉动态创建的VFormRender
      type: Boolean,
      default: false
    }
  },
  provide() {
    return {
      refList: this.widgetRefList,
      sfRefList: this.subFormRefList,
      //收集SubForm引用
      getFormConfig: () => this.formJsonObj.formConfig,
      getGlobalDsv: () => this.globalDsv,
      // 全局数据源变量
      globalOptionData: this.optionData,
      getOptionData: () => this.optionData,
      globalModel: {
        formModel: this.formDataModel
      },
      previewState: this.previewState,
      getReadMode: () => this.readModeFlag,
      getSubFormFieldFlag: () => false,
      getSubFormName: () => "",
      getDSResultCache: () => this.dsResultCache
    };
  },
  data() {
    return {
      formJsonObj: this.formJson,
      formDataModel: {
        //
      },
      widgetRefList: {},
      subFormRefList: {},
      formId: null,
      //表单唯一Id，用于区分页面上的多个v-form-render组件！！
      externalComponents: {},
      //外部组件实例集合
      readModeFlag: false,
      //是否只读查看模式
      dialogOrDrawerRef: null,
      //保存子级VFormRender的包裹弹窗组件或抽屉组件的ref
      childFormRef: null,
      //保存子级VFormRender组件的ref
      dsResultCache: {}
      //数据源请求结果缓存
    };
  },
  computed: {
    formConfig() {
      return this.formJsonObj.formConfig;
    },
    widgetList() {
      return this.formJsonObj.widgetList;
    },
    labelPosition() {
      if (!!this.formConfig && !!this.formConfig.labelPosition) {
        return this.formConfig.labelPosition;
      }
      return "horizontal";
    },
    labelWidth() {
      if (!!this.formConfig && !!this.formConfig.labelWidth) {
        return this.formConfig.labelWidth + "px";
      }
      return "80px";
    },
    size() {
      if (!!this.formConfig && !!this.formConfig.size) {
        return this.formConfig.size;
      }
      return "default";
    },
    customClass() {
      return !!this.formConfig && !!this.formConfig.customClass ? this.formConfig.customClass : "";
    }
  },
  watch: {
    //
  },
  created() {
    this.buildFormModel(!this.formJsonObj ? null : this.formJsonObj.widgetList);
    this.initFormObject();
  },
  mounted() {
    this.initLocale();
    this.initDataSetRequest();
  },
  methods: {
    async onFormDetail() {
      var _a;
      const serveList = this.formConfig.serveList;
      if ((_a = serveList.vformDetail.http) == null ? void 0 : _a.url) {
        const res = await fmtHttpParams.call(this, serveList.vformDetail, { vfCtx: this.vfCtx });
        console.log("res: ", res);
        return res;
      }
    },
    async onFormUpdate() {
      var _a;
      const modelForm = await this.getFormData();
      const serveList = this.formConfig.serveList;
      if ((_a = serveList.vformDetail.http) == null ? void 0 : _a.url) {
        const res = await fmtHttpParams.call(this, serveList.vformUpdate, {
          data: modelForm,
          vfCtx: this.vfCtx
        });
        console.log("res: ", res);
        return res;
      }
    },
    initFormObject(insertHtmlCodeFlag = true) {
      this.formId = "vfRender" + generateId();
      if (!!insertHtmlCodeFlag && !this.dynamicCreation) {
        this.insertCustomStyleAndScriptNode();
      }
      this.addFieldChangeEventHandler();
      this.addFieldValidateEventHandler();
      this.registerFormToRefList();
      this.handleOnCreated();
      if (!!this.disabledMode) {
        this.$nextTick(() => {
          this.disableForm();
        });
      }
    },
    getContainerWidgetName(widget) {
      if (widget.type === "grid") {
        return "vf-grid-item";
      }
      return widget.type + "-item";
    },
    getWidgetName(widget) {
      return widget.type + "-widget";
    },
    initLocale() {
      const curLocale = localStorage.getItem("v_form_locale") || "zh-CN";
      this.changeLanguage(curLocale);
    },
    insertCustomStyleAndScriptNode() {
      if (!!this.formConfig && !!this.formConfig.cssCode) {
        insertCustomCssToHead(this.formConfig.cssCode, !!this.previewState ? "" : this.formId);
      }
      if (!!this.formConfig && !!this.formConfig.functions) {
        insertGlobalFunctionsToHtml(
          this.formConfig.functions,
          !!this.previewState ? "" : this.formId
        );
      }
    },
    buildFormModel(widgetList) {
      if (!!widgetList && widgetList.length > 0) {
        widgetList.forEach((wItem) => {
          this.buildDataFromWidget(wItem);
        });
      }
    },
    buildDataFromWidget(wItem) {
      if (wItem.category === "container") {
        if (wItem.type === "vf-dialog" || wItem.type === "vf-drawer")
          ;
        else if (wItem.type === "grid") {
          if (!!wItem.cols && wItem.cols.length > 0) {
            wItem.cols.forEach((childItem) => {
              this.buildDataFromWidget(childItem);
            });
          }
        } else if (wItem.type === "table") {
          if (!!wItem.rows && wItem.rows.length > 0) {
            wItem.rows.forEach((rowItem) => {
              if (!!rowItem.cols && rowItem.cols.length > 0) {
                rowItem.cols.forEach((colItem) => {
                  this.buildDataFromWidget(colItem);
                });
              }
            });
          }
        } else if (wItem.type === "tab") {
          if (!!wItem.tabs && wItem.tabs.length > 0) {
            wItem.tabs.forEach((tabItem2) => {
              if (!!tabItem2.widgetList && tabItem2.widgetList.length > 0) {
                tabItem2.widgetList.forEach((childItem) => {
                  this.buildDataFromWidget(childItem);
                });
              }
            });
          }
        } else if (wItem.type === "sub-form") {
          const subFormName = wItem.options.name;
          if (!this.formData.hasOwnProperty(subFormName)) {
            const subFormDataRow = {};
            if (wItem.options.showBlankRow) {
              wItem.widgetList.forEach((subFormItem2) => {
                if (!!subFormItem2.formItemFlag) {
                  subFormDataRow[subFormItem2.options.name] = subFormItem2.options.defaultValue;
                }
              });
              this.formDataModel[subFormName] = [subFormDataRow];
            } else {
              this.formDataModel[subFormName] = [];
            }
          } else {
            const initialValue = this.formData[subFormName];
            this.formDataModel[subFormName] = deepClone(initialValue);
          }
        } else if (wItem.type === "grid-sub-form") {
          const gridSubFormName = wItem.options.name;
          if (!this.formData.hasOwnProperty(gridSubFormName)) {
            const gsfFWList = [];
            const fieldListFn = (fw) => {
              gsfFWList.push(fw);
            };
            traverseFieldWidgetsOfContainer(wItem, fieldListFn);
            const gridSubFormDataRow = {};
            if (wItem.options.showBlankRow) {
              gsfFWList.forEach((gridSubFormItem2) => {
                gridSubFormDataRow[gridSubFormItem2.options.name] = gridSubFormItem2.options.defaultValue;
              });
              this.formDataModel[gridSubFormName] = [gridSubFormDataRow];
            } else {
              this.formDataModel[gridSubFormName] = [];
            }
          } else {
            const initialValue = this.formData[gridSubFormName];
            this.formDataModel[gridSubFormName] = deepClone(initialValue);
          }
        } else if (wItem.type === "grid-col" || wItem.type === "table-cell") {
          if (!!wItem.widgetList && wItem.widgetList.length > 0) {
            wItem.widgetList.forEach((childItem) => {
              this.buildDataFromWidget(childItem);
            });
          }
        } else {
          if (!!wItem.widgetList && wItem.widgetList.length > 0) {
            wItem.widgetList.forEach((childItem) => {
              this.buildDataFromWidget(childItem);
            });
          }
        }
      } else if (!!wItem.formItemFlag) {
        if (!this.formData.hasOwnProperty(wItem.options.name)) {
          this.formDataModel[wItem.options.name] = wItem.options.defaultValue;
        } else {
          const initialValue = this.formData[wItem.options.name];
          this.formDataModel[wItem.options.name] = deepClone(initialValue);
        }
      }
    },
    addFieldChangeEventHandler() {
      this.off$("fieldChange");
      this.on$("fieldChange", (fieldName, newValue, oldValue, subFormName, subFormRowIndex) => {
        this.handleFieldDataChange(fieldName, newValue, oldValue, subFormName, subFormRowIndex);
        this.$emit(
          "formChange",
          fieldName,
          newValue,
          oldValue,
          this.formDataModel,
          subFormName,
          subFormRowIndex
        );
      });
    },
    addFieldValidateEventHandler() {
      this.off$("fieldValidation");
      this.on$("fieldValidation", (fieldName) => {
        if (!!this.$refs.renderForm) {
          this.$refs.renderForm.validateFields(fieldName);
        }
      });
    },
    registerFormToRefList() {
      this.widgetRefList["v_form_ref"] = this;
    },
    handleFieldDataChange(fieldName, newValue, oldValue, subFormName, subFormRowIndex) {
      if (!!this.formConfig && !!this.formConfig.onFormDataChange) {
        const customFunc = new Function(
          "fieldName",
          "newValue",
          "oldValue",
          "formModel",
          "subFormName",
          "subFormRowIndex",
          this.formConfig.onFormDataChange
        );
        customFunc.call(
          this,
          fieldName,
          newValue,
          oldValue,
          this.formDataModel,
          subFormName,
          subFormRowIndex
        );
      }
    },
    handleOnCreated() {
      if (!!this.formConfig && !!this.formConfig.onFormCreated) {
        const customFunc = new Function(this.formConfig.onFormCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.formConfig && !!this.formConfig.onFormMounted) {
        const customFunc = new Function(this.formConfig.onFormMounted);
        customFunc.call(this);
      }
    },
    findWidgetAndSetDisabled(widgetName, disabledFlag) {
      const foundW = this.getWidgetRef(widgetName);
      if (!!foundW && !!foundW.setDisabled) {
        foundW.setDisabled(disabledFlag);
      } else {
        this.findWidgetOfSubFormAndSetDisabled(widgetName, disabledFlag);
      }
    },
    findWidgetOfSubFormAndSetDisabled(widgetName, disabledFlag) {
      const widgetSchema = getFieldWidgetByName(this.formJsonObj.widgetList, widgetName, true);
      if (!!widgetSchema && !!widgetSchema.options && widgetSchema.options.hasOwnProperty("disabled")) {
        widgetSchema.options.disabled = disabledFlag;
      }
      this.findWidgetNameInSubForm(widgetName).forEach((wn) => {
        const sw = this.getWidgetRef(wn);
        if (!!sw && !!sw.setDisabled) {
          sw.setDisabled(disabledFlag);
        }
      });
    },
    findWidgetAndSetHidden(widgetName, hiddenFlag) {
      const foundW = this.getWidgetRef(widgetName);
      if (!!foundW && !!foundW.setDisabled) {
        foundW.setHidden(hiddenFlag);
      } else {
        this.findWidgetOfSubFormAndSetHidden(widgetName, hiddenFlag);
      }
    },
    findWidgetOfSubFormAndSetHidden(widgetName, hiddenFlag) {
      const widgetSchema = getFieldWidgetByName(this.formJsonObj.widgetList, widgetName, true);
      if (!!widgetSchema && !!widgetSchema.options && widgetSchema.options.hasOwnProperty("hidden")) {
        widgetSchema.options.hidden = hiddenFlag;
      }
      this.findWidgetNameInSubForm(widgetName).forEach((wn) => {
        const sw = this.getWidgetRef(wn);
        if (!!sw && !!sw.setDisabled) {
          sw.setHidden(hiddenFlag);
        }
      });
    },
    findWidgetNameInSubForm(widgetName) {
      const result2 = [];
      let subFormName = null;
      const handlerFn = (field, parent) => {
        if (!!field.options && field.options.name === widgetName) {
          subFormName = parent.options.name;
        }
      };
      traverseFieldWidgets(this.widgetList, handlerFn);
      if (!!subFormName) {
        const subFormRef = this.getWidgetRef(subFormName);
        if (!!subFormRef) {
          const rowIds = subFormRef.getRowIdData();
          if (!!rowIds && rowIds.length > 0) {
            rowIds.forEach((rid) => {
              result2.push(widgetName + "@row" + rid);
            });
          }
        }
      }
      return result2;
    },
    initDataSetRequest() {
      const dsNameSet = /* @__PURE__ */ new Set();
      this.getFieldWidgets().forEach((fw) => {
        if (!!fw.field.options.dsEnabled && !!fw.field.options.dsName && !!fw.field.options.dataSetName) {
          dsNameSet.add(fw.field.options.dsName);
        }
      });
      if (dsNameSet.size > 0) {
        dsNameSet.forEach(async (dsName) => {
          const curDS = getDSByName(this.formConfig, dsName);
          if (!!curDS) {
            const localDsv = new Object({});
            overwriteObj(localDsv, this.globalDsv || {});
            let dsResult = null;
            try {
              dsResult = await runDataSourceRequest(curDS, localDsv, this, false, this.$message);
              this.dsResultCache[dsName] = dsResult;
              this.broadcast("FieldWidget", "loadOptionItemsFromDataSet", dsName);
            } catch (err) {
              this.$message.error(err.message);
            }
          }
        });
      }
    },
    //--------------------- 以下为组件支持外部调用的API方法 begin ------------------//
    /* 提示：用户可自行扩充这些方法！！！ */
    changeLanguage(langName) {
      changeLocale(langName);
    },
    getLanguageName() {
      return localStorage.getItem("v_form_locale") || "zh-CN";
    },
    getNativeForm() {
      return this.$refs["renderForm"];
    },
    getFormRef() {
      return this;
    },
    getWidgetRef(widgetName, showError = false) {
      const foundRef = this.widgetRefList[widgetName];
      if (!foundRef && !!showError) {
        this.$message.error(this.i18nt("render.hint.refNotFound") + widgetName);
      }
      return foundRef;
    },
    clearFormDataModel() {
      for (const pkey in this.formDataModel) {
        delete this.formDataModel[pkey];
      }
    },
    getFormJson() {
      return this.formJsonObj;
    },
    /**
     * 动态加载表单JSON
     * @param newFormJson
     */
    setFormJson(newFormJson) {
      if (!!newFormJson) {
        if (typeof newFormJson === "string" || newFormJson.constructor === Object) {
          let newFormJsonObj = null;
          if (typeof newFormJson === "string") {
            newFormJsonObj = JSON.parse(newFormJson);
          } else {
            newFormJsonObj = newFormJson;
          }
          if (!newFormJsonObj.formConfig || !newFormJsonObj.widgetList) {
            this.$message.error("Invalid format of form json.");
            return;
          }
          this.clearFormDataModel();
          this.buildFormModel(newFormJsonObj.widgetList);
          const defaultFormConfig = deepClone(getDefaultFormConfig());
          overwriteObj(defaultFormConfig, newFormJsonObj.formConfig);
          this.formJsonObj["formConfig"] = defaultFormConfig;
          this.formJsonObj["widgetList"] = newFormJsonObj.widgetList;
          this.insertCustomStyleAndScriptNode();
          this.$nextTick(() => {
            this.initFormObject(false);
            this.initDataSetRequest();
            this.handleOnMounted();
          });
        } else {
          this.$message.error("Set form json failed.");
        }
      }
    },
    /**
     * 重新加载选项数据
     * @param widgetNames 指定重新加载的组件名称或组件名数组，不传则重新加载所有选项字段
     */
    reloadOptionData(widgetNames) {
      let eventParams = [];
      if (!!widgetNames && typeof widgetNames === "string") {
        eventParams = [widgetNames];
      } else if (!!widgetNames && Array.isArray(widgetNames)) {
        eventParams = [...widgetNames];
      }
      this.broadcast("FieldWidget", "reloadOptionItems", eventParams);
    },
    getFormData(needValidation = true) {
      if (!needValidation) {
        return this.formDataModel;
      }
      let callback = function nullFunc() {
      };
      const promise = new window.Promise(function(resolve, reject) {
        callback = function(formData, error2) {
          !error2 ? resolve(formData) : reject(error2);
        };
      });
      this.$refs["renderForm"].validate().then((res) => {
        callback(this.formDataModel);
      }).catch(() => {
        callback(this.formDataModel, this.i18nt("render.hint.validationFailed"));
      });
      return promise;
    },
    setFormData(formData) {
      console.log("setFormData: ", formData);
      Object.keys(this.formDataModel).forEach((propName) => {
        if (!!formData && formData.hasOwnProperty(propName)) {
          this.formDataModel[propName] = deepClone(formData[propName]);
        }
      });
      this.broadcast("ContainerItem", "setFormData", this.formDataModel);
      this.broadcast("FieldWidget", "setFormData", this.formDataModel);
    },
    getFieldValue(fieldName) {
      const fieldRef = this.getWidgetRef(fieldName);
      if (!!fieldRef && !!fieldRef.getValue) {
        return fieldRef.getValue();
      }
      if (!fieldRef) {
        const result2 = [];
        this.findWidgetNameInSubForm(fieldName).forEach((wn) => {
          const sw = this.getWidgetRef(wn);
          if (!!sw && !!sw.getValue) {
            result2.push(sw.getValue());
          }
        });
        return result2;
      }
    },
    setFieldValue(fieldName, fieldValue, disableChangeEvent = false) {
      const fieldRef = this.getWidgetRef(fieldName);
      if (!!fieldRef && !!fieldRef.setValue) {
        fieldRef.setValue(fieldValue, disableChangeEvent);
      }
      if (!fieldRef) {
        this.findWidgetNameInSubForm(fieldName).forEach((wn) => {
          const sw = this.getWidgetRef(wn);
          if (!!sw && !!sw.setValue) {
            sw.setValue(fieldValue, disableChangeEvent);
          }
        });
      }
    },
    getSubFormValues(subFormName, needValidation = true) {
      const foundSFRef = this.subFormRefList[subFormName];
      return foundSFRef.getSubFormValues(needValidation);
    },
    disableForm() {
      const wNameList = Object.keys(this.widgetRefList);
      wNameList.forEach((wName) => {
        const foundW = this.getWidgetRef(wName);
        if (!!foundW) {
          if (!!foundW.widget && foundW.widget.type === "sub-form") {
            foundW.disableSubForm();
          } else if (!!foundW.widget && foundW.widget.type === "grid-sub-form") {
            foundW.disableGridSubForm();
          } else {
            !!foundW.setDisabled && foundW.setDisabled(true);
          }
        }
      });
    },
    enableForm() {
      const wNameList = Object.keys(this.widgetRefList);
      wNameList.forEach((wName) => {
        const foundW = this.getWidgetRef(wName);
        if (!!foundW) {
          if (!!foundW.widget && foundW.widget.type === "sub-form") {
            foundW.enableSubForm();
          } else if (!!foundW.widget && foundW.widget.type === "grid-sub-form") {
            foundW.enableGridSubForm();
          } else {
            !!foundW.setDisabled && foundW.setDisabled(false);
          }
        }
      });
    },
    resetForm() {
      const subFormNames = Object.keys(this.subFormRefList);
      subFormNames.forEach((sfName) => {
        if (!!this.subFormRefList[sfName].resetSubForm) {
          this.subFormRefList[sfName].resetSubForm();
        }
      });
      const wNameList = Object.keys(this.widgetRefList);
      wNameList.forEach((wName) => {
        const foundW = this.getWidgetRef(wName);
        if (!!foundW && !foundW.subFormItemFlag && !!foundW.resetField) {
          foundW.resetField();
        }
      });
      this.$nextTick(() => {
        this.clearValidate();
      });
    },
    clearValidate(props) {
      this.$refs.renderForm.clearValidate(props);
    },
    /**
     * 校验表单
     * @param callback 回调函数
     */
    validateForm(callback) {
      this.$refs["renderForm"].validate((valid) => {
        callback(valid);
      });
    },
    validateFields() {
    },
    disableWidgets(widgetNames) {
      if (!!widgetNames) {
        if (typeof widgetNames === "string") {
          this.findWidgetAndSetDisabled(widgetNames, true);
        } else if (Array.isArray(widgetNames)) {
          widgetNames.forEach((wn) => {
            this.findWidgetAndSetDisabled(wn, true);
          });
        }
      }
    },
    enableWidgets(widgetNames) {
      if (!!widgetNames) {
        if (typeof widgetNames === "string") {
          this.findWidgetAndSetDisabled(widgetNames, false);
        } else if (Array.isArray(widgetNames)) {
          widgetNames.forEach((wn) => {
            this.findWidgetAndSetDisabled(wn, false);
          });
        }
      }
    },
    hideWidgets(widgetNames) {
      if (!!widgetNames) {
        if (typeof widgetNames === "string") {
          this.findWidgetAndSetHidden(widgetNames, true);
        } else if (Array.isArray(widgetNames)) {
          widgetNames.forEach((wn) => {
            this.findWidgetAndSetHidden(wn, true);
          });
        }
      }
    },
    showWidgets(widgetNames) {
      if (!!widgetNames) {
        if (typeof widgetNames === "string") {
          this.findWidgetAndSetHidden(widgetNames, false);
        } else if (Array.isArray(widgetNames)) {
          widgetNames.forEach((wn) => {
            this.findWidgetAndSetHidden(wn, false);
          });
        }
      }
    },
    /**
     * 获取所有字段组件
     * @param staticWidgetsIncluded 是否包含按钮等静态组件，默认不包含
     * @returns {*[]}
     */
    getFieldWidgets(staticWidgetsIncluded = false) {
      return getAllFieldWidgets(this.formJsonObj.widgetList, staticWidgetsIncluded);
    },
    /**
     * 获取所有容器组件
     * @returns {*[]}
     */
    getContainerWidgets() {
      return getAllContainerWidgets(this.formJsonObj.widgetList);
    },
    /**
     * 增加外部组件引用，可通过getEC()方法获取外部组件，以便在VForm内部调用外部组件方法
     * @param componentName 外部组件名称
     * @param externalComponent 外部组件实例
     */
    addEC(componentName, externalComponent) {
      this.externalComponents[componentName] = externalComponent;
    },
    /**
     * 判断外部组件是否可获取
     * @param componentName 外部组件名称
     * @returns {boolean}
     */
    hasEC(componentName) {
      return this.externalComponents.hasOwnProperty(componentName);
    },
    /**
     * 获取外部组件实例
     * @param componentName
     * @returns {*}
     */
    getEC(componentName) {
      return this.externalComponents[componentName];
    },
    /**
     * 设置或取消设置表单为只读查看模式
     * @param readonlyFlag
     */
    setReadMode(readonlyFlag = true) {
      this.readModeFlag = readonlyFlag;
    },
    /**
     * 获取表单当前是否只读查看模式
     * @returns {boolean}
     */
    getReadMode() {
      return this.readModeFlag;
    },
    /**
     * 获取globalDsv对象
     * @returns {*}
     */
    getGlobalDsv() {
      return this.globalDsv;
    },
    /**
     * 执行数据源请求
     * @param dsName
     * @param localDsv
     */
    async executeDataSource(dsName, localDsv) {
      const ds = getDSByName(this.formJsonObj.formConfig, dsName);
      const newDsv = new Object({});
      overwriteObj(newDsv, this.globalDsv);
      overwriteObj(newDsv, localDsv);
      return await runDataSourceRequest(ds, newDsv, this, false, this.$message);
    },
    /**
     * 获取父级VFormRender组件实例
     * @returns {object}
     */
    getParentFormRef() {
      return this.parentForm;
    },
    /**
     * 当显示多级嵌套弹窗或抽屉时，获取最顶层VFormRender组件实例
     * @returns {object}
     */
    getTopFormRef() {
      if (!this.parentForm) {
        return this;
      }
      let topFormRef = this.parentForm;
      while (topFormRef.parentForm) {
        topFormRef = topFormRef.parentForm;
      }
      return topFormRef;
    },
    setChildFormRef(childFormRef) {
      this.childFormRef = childFormRef;
    },
    getChildFormRef() {
      return this.childFormRef;
    },
    /**
     * 是否弹窗、抽屉组件动态创建的v-form-render
     * @returns {boolean}
     */
    isDynamicCreation() {
      return this.dynamicCreation;
    },
    setDialogOrDrawerRef(ddRef) {
      this.dialogOrDrawerRef = ddRef;
    },
    /**
     * 获取子级VFormRender的包裹弹窗组件或抽屉组件实例ref
     * @returns {object}
     */
    getDialogOrDrawerRef() {
      return this.dialogOrDrawerRef;
    },
    /**
     * 显示弹窗表单，动态创建v-form-render组件，option-data、global-dsv等属性继承父级表单
     * @param dialogName
     * @param formData
     * @param extraData
     */
    showDialog(dialogName, formData = {}, extraData = {}) {
      const topFormRef = this.getTopFormRef();
      const dialogCon = getContainerWidgetByName(topFormRef.widgetList, dialogName);
      if (!dialogName || dialogCon.type !== "vf-dialog") {
        this.$message.error(this.i18nt("render.hint.refNotFound") + dialogName);
        return;
      }
      const dFormJson = {
        widgetList: deepClone(dialogCon.widgetList),
        formConfig: cloneFormConfigWithoutEventHandler(topFormRef.formConfig)
      };
      const wrapperDivId = generateId() + "";
      const dialogInstance = createVNode(DynamicDialog, {
        options: dialogCon.options,
        formJson: dFormJson,
        formData: { ...formData },
        optionData: topFormRef.optionData,
        globalDsv: topFormRef.globalDsv,
        parentFormRef: this,
        extraData,
        wrapperId: wrapperDivId,
        vfCtx: { ...formData }
      });
      dialogInstance.appContext = this.$root.$.appContext;
      const wrapperDiv = document.createElement("div");
      wrapperDiv.id = "vf-dynamic-dialog-wrapper" + wrapperDivId;
      document.body.appendChild(wrapperDiv);
      render(dialogInstance, wrapperDiv);
      document.body.appendChild(dialogInstance.el);
      dialogInstance.component.ctx.show();
    },
    showDrawer(drawerName, formData = {}, extraData = {}) {
      const topFormRef = this.getTopFormRef();
      const drawerCon = getContainerWidgetByName(topFormRef.widgetList, drawerName);
      if (!drawerCon || drawerCon.type !== "vf-drawer") {
        this.$message.error(this.i18nt("render.hint.refNotFound") + drawerName);
        return;
      }
      const dFormJson = {
        widgetList: deepClone(drawerCon.widgetList),
        formConfig: cloneFormConfigWithoutEventHandler(topFormRef.formConfig)
      };
      const wrapperDivId = generateId() + "";
      const drawerInstance = createVNode(DynamicDrawer, {
        options: drawerCon.options,
        formJson: dFormJson,
        formData: formData || {},
        optionData: topFormRef.optionData,
        globalDsv: topFormRef.globalDsv,
        parentFormRef: this,
        extraData,
        wrapperId: wrapperDivId
      });
      drawerInstance.appContext = this.$root.$.appContext;
      const wrapperDiv = document.createElement("div");
      wrapperDiv.id = "vf-dynamic-drawer-wrapper" + wrapperDivId;
      document.body.appendChild(wrapperDiv);
      render(drawerInstance, wrapperDiv);
      document.body.appendChild(drawerInstance.el);
      drawerInstance.component.ctx.show();
    },
    /**
     * 判断表单是否处于设计器预览状态
     * @return {boolean}
     */
    isPreviewState() {
      return this.previewState;
    }
    //--------------------- 以上为组件支持外部调用的API方法 end ------------------//
  }
};
function _sfc_render$3S(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_form = resolveComponent("a-form");
  const _component_a_config_provider = resolveComponent("a-config-provider");
  return openBlock(), createBlock(_component_a_config_provider, {
    "component-size": $options.size,
    input: { autocomplete: "off" }
  }, {
    default: withCtx(() => [
      createVNode(_component_a_form, {
        layout: $options.labelPosition,
        class: normalizeClass([[$options.customClass, $data.readModeFlag ? "readonly-mode-form" : ""], "render-form tpf-form"]),
        "label-width": $options.labelWidth,
        "validate-on-rule-change": false,
        model: $data.formDataModel,
        ref: "renderForm",
        onSubmit: _cache[0] || (_cache[0] = withModifiers(() => {
        }, ["prevent"]))
      }, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList($options.widgetList, (widget, index2) => {
            return openBlock(), createElementBlock(Fragment, null, [
              "container" === widget.category ? (openBlock(), createBlock(resolveDynamicComponent($options.getContainerWidgetName(widget)), {
                widget,
                key: widget.id,
                "parent-list": $options.widgetList,
                "index-of-parent-list": index2,
                "parent-widget": null
              }, createSlots({ _: 2 }, [
                renderList(Object.keys(_ctx.$slots), (slot) => {
                  return {
                    name: slot,
                    fn: withCtx((scope) => [
                      renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                    ])
                  };
                })
              ]), 1032, ["widget", "parent-list", "index-of-parent-list"])) : (openBlock(), createBlock(resolveDynamicComponent($options.getWidgetName(widget)), {
                field: widget,
                "form-model": $data.formDataModel,
                designer: null,
                key: widget.id,
                "parent-list": $options.widgetList,
                "index-of-parent-list": index2,
                "parent-widget": null
              }, createSlots({ _: 2 }, [
                renderList(Object.keys(_ctx.$slots), (slot) => {
                  return {
                    name: slot,
                    fn: withCtx((scope) => [
                      renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                    ])
                  };
                })
              ]), 1032, ["field", "form-model", "parent-list", "index-of-parent-list"]))
            ], 64);
          }), 256))
        ]),
        _: 3
      }, 8, ["layout", "class", "label-width", "model"])
    ]),
    _: 3
  }, 8, ["component-size"]);
}
const VFormRender = /* @__PURE__ */ _export_sfc$1(_sfc_main$3S, [["render", _sfc_render$3S], ["__scopeId", "data-v-ab2b030a"]]);
const generateCode = function(formJson, codeType = "vue") {
  const formJsonStr = JSON.stringify(formJson);
  if (codeType === "html") {
    return `<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
	<title>VForm Demo</title>
	<link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/element-plus/2.0.4/index.min.css" />
	<link rel="stylesheet" href="https://ks3-cn-beijing.ksyun.com/vform3/render.style.css?t=20220129">
	<style type="text/css">
	</style>
</head>
<body>

  <div id="app">
	  <v-form-render :form-json="formJson" :form-data="formData" :option-data="optionData" ref="vFormRef">
    </v-form-render>
	  <a-button type="primary" @click="submitForm">Submit</a-button>
  </div>

<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/3.2.30/vue.global.min.js"><\/script>
<script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/element-plus/2.0.4/index.full.min.js"><\/script>
<script src="https://ks3-cn-beijing.ksyun.com/vform3/render.umd.js?t=20220129"><\/script>
<script>
  const { createApp } = Vue;
	const app = createApp({
      data() {
        return {
          formJson: ${formJsonStr},
          formData: {},
          optionData: {}
        }
      },
      methods: {
        submitForm() {
          this.$refs.vFormRef.getFormData().then( (formData) => {
            // Form Validation OK
            alert( JSON.stringify(formData) )
          }).catch( function(error) {
            // Form Validation Failed
            alert(error)
          })
        }
      }
	});
	app.use(ElementPlus)
	app.use(VFormRender)
	app.mount("#app");
<\/script>
</body>
</html>`;
  } else {
    return `<template>
  <div>
    <v-form-render :form-json="formJson" :form-data="formData" :option-data="optionData" ref="vFormRef">
    </v-form-render>
    <a-button type="primary" @click="submitForm">Submit</a-button>
  </div>
</template>

<script setup>
  import { ref, reactive } from 'vue'
  import { ElMessage } from 'element-plus'

  const formJson = reactive(${formJsonStr})
  const formData = reactive({})
  const optionData = reactive({})
  const vFormRef = ref(null)

  const submitForm = () => {
    vFormRef.value.getFormData().then(formData => {
      // Form Validation OK
      alert( JSON.stringify(formData) )
    }).catch(error => {
      // Form Validation failed
      ElMessage.error(error)
    })
  }
<\/script>`;
  }
};
const _sfc_main$3R = {
  name: "ToolbarPanel",
  mixins: [i18n$1],
  components: {
    VFormRender,
    CodeEditor,
    // Clipboard,
    SvgIcon
  },
  props: {
    leftWidth: Number,
    rightWidth: Number,
    changeRightWidth: Function,
    changeLeftWidth: Function,
    designer: Object,
    saveJsonApi: Function,
    globalDsv: {
      type: Object,
      default: () => ({})
    }
  },
  inject: ["getDesignerConfig"],
  data() {
    return {
      cloneDeep,
      vfCtx: { type: "add", ...getLocat() },
      designerConfig: this.getDesignerConfig(),
      toolbarWidth: 460,
      showPreviewDialogFlag: false,
      showImportJsonDialogFlag: false,
      showExportJsonDialogFlag: false,
      showExportCodeDialogFlag: false,
      showFormDataDialogFlag: false,
      showExportSFCDialogFlag: false,
      showNodeTreeDrawerFlag: false,
      nodeTreeData: [],
      importTemplate: "",
      jsonContent: "",
      jsonRawContent: "",
      formDataJson: "",
      formDataRawJson: "",
      vueCode: "",
      htmlCode: "",
      sfcCode: "",
      sfcCodeV3: "",
      activeCodeTab: "vue",
      activeSFCTab: "vue2",
      testFormData: {
        // 'userName': '666888',
        // 'productItems': [
        //   {'pName': 'iPhone12', 'pNum': 10},
        //   {'pName': 'P50', 'pNum': 16},
        // ]
        select62173: 2
      },
      testOptionData: {
        select62173: [
          { label: "01", value: 1 },
          { label: "22", value: 2 },
          { label: "333", value: 3 }
        ],
        select001: [
          { label: "辣椒", value: 1 },
          { label: "菠萝", value: 2 },
          { label: "丑橘子", value: 3 }
        ]
      }
    };
  },
  computed: {
    formJson() {
      return {
        // widgetList: this.designer.widgetList,
        // formConfig: this.designer.formConfig
        widgetList: cloneDeep(this.designer.widgetList),
        formConfig: cloneDeep(this.designer.formConfig)
      };
    },
    undoDisabled() {
      return !this.designer.undoEnabled();
    },
    redoDisabled() {
      return !this.designer.redoEnabled();
    },
    layoutType() {
      return this.designer.getLayoutType();
    },
    designerDsv() {
      return this.globalDsv;
    }
  },
  watch: {
    "designer.widgetList": {
      deep: true,
      handler(val) {
      }
    }
  },
  mounted() {
    const maxTBWidth = this.designerConfig.toolbarMaxWidth || 460;
    const minTBWidth = this.designerConfig.toolbarMinWidth || 300;
    const newTBWidth = window.innerWidth - 260 - 300 - 320 - 80;
    this.toolbarWidth = newTBWidth >= maxTBWidth ? maxTBWidth : newTBWidth <= minTBWidth ? minTBWidth : newTBWidth;
    addWindowResizeHandler(() => {
      this.$nextTick(() => {
        const newTBWidth2 = window.innerWidth - 260 - 300 - 320 - 80;
        this.toolbarWidth = newTBWidth2 >= maxTBWidth ? maxTBWidth : newTBWidth2 <= minTBWidth ? minTBWidth : newTBWidth2;
      });
    });
  },
  methods: {
    saveJson() {
      if (this.saveJsonApi) {
        this.saveJsonApi(this.formJson);
      }
    },
    setReadMode() {
      this.$refs.preForm.setFormData({
        fileupload26481: [
          {
            // fileCode: '88927836217345',
            // fileSavePath: 'file/',
            // fileSaveName: '88927836217345.xlsx',
            // fileName: '备料清单导入模板.xlsx',
            // fileType: '.xlsx',
            // fileSize: 11239,
            // name: '备料清单导入模板.xlsx',
            // uid: '__AUTO__1717584897101_0__',
            fileCode: "89046755221505",
            fileName: "首页-透明工厂.png",
            guidebookId: 89046782484481,
            id: 89046782484482
          }
        ]
      });
    },
    showToolButton(configName) {
      if (this.designerConfig[configName] === void 0) {
        return true;
      }
      return !!this.designerConfig[configName];
    },
    buildTreeNodeOfWidget(widget, treeNode) {
      const curNode = {
        id: widget.id,
        label: widget.options.label || widget.type
        //selectable: true,
      };
      treeNode.push(curNode);
      if (widget.category === void 0) {
        return;
      }
      curNode.children = [];
      if (widget.type === "grid") {
        widget.cols.map((col) => {
          const colNode = {
            id: col.id,
            label: col.options.name || widget.type,
            children: []
          };
          curNode.children.push(colNode);
          col.widgetList.map((wChild) => {
            this.buildTreeNodeOfWidget(wChild, colNode.children);
          });
        });
      } else if (widget.type === "table") {
        widget.rows.map((row) => {
          const rowNode = {
            id: row.id,
            label: "table-row",
            selectable: false,
            children: []
          };
          curNode.children.push(rowNode);
          row.cols.map((cell) => {
            if (!!cell.merged) {
              return;
            }
            const rowChildren = rowNode.children;
            const cellNode = {
              id: cell.id,
              label: "table-cell",
              children: []
            };
            rowChildren.push(cellNode);
            cell.widgetList.map((wChild) => {
              this.buildTreeNodeOfWidget(wChild, cellNode.children);
            });
          });
        });
      } else if (widget.type === "tab") {
        widget.tabs.map((tab2) => {
          const tabNode = {
            id: tab2.id,
            label: tab2.options.name || widget.type,
            selectable: false,
            children: []
          };
          curNode.children.push(tabNode);
          tab2.widgetList.map((wChild) => {
            this.buildTreeNodeOfWidget(wChild, tabNode.children);
          });
        });
      } else if (widget.type === "sub-form") {
        widget.widgetList.map((wChild) => {
          this.buildTreeNodeOfWidget(wChild, curNode.children);
        });
      } else if (widget.category === "container") {
        widget.widgetList.map((wChild) => {
          this.buildTreeNodeOfWidget(wChild, curNode.children);
        });
      }
    },
    refreshNodeTree() {
      this.nodeTreeData.length = 0;
      this.designer.widgetList.forEach((wItem) => {
        this.buildTreeNodeOfWidget(wItem, this.nodeTreeData);
      });
    },
    showNodeTreeDrawer() {
      this.refreshNodeTree();
      this.showNodeTreeDrawerFlag = true;
      this.$nextTick(() => {
        if (!!this.designer.selectedId)
          ;
      });
    },
    undoHistory() {
      this.designer.undoHistoryStep();
    },
    redoHistory() {
      this.designer.redoHistoryStep();
    },
    changeLayoutType(newType) {
      this.designer.changeLayoutType(newType);
    },
    clearFormWidget() {
      this.designer.clearDesigner();
      this.designer.formWidget.clearWidgetRefList();
      this.$message.success("ok");
    },
    previewForm() {
      this.showPreviewDialogFlag = true;
    },
    saveAsFile(fileContent, defaultFileName) {
      const value2 = "json.json";
      if (getQueryParam("vscode") == 1) {
        this.vsSaveFile(value2, fileContent);
        return;
      }
      const fileBlob = new Blob([fileContent], { type: "text/plain;charset=utf-8" });
      FileSaver_minExports.saveAs(fileBlob, value2);
    },
    vsSaveFile(fileName, fileContent) {
      const msgObj = {
        cmd: "writeFile",
        data: {
          fileName,
          code: fileContent
        }
      };
      window.parent.postMessage(msgObj, "*");
    },
    importJson() {
      this.importTemplate = JSON.stringify(this.designer.getImportTemplate(), null, "  ");
      this.showImportJsonDialogFlag = true;
    },
    doJsonImport() {
      try {
        const importObj = JSON.parse(this.importTemplate);
        if (!importObj || !importObj.formConfig) {
          throw new Error(this.i18nt("designer.hint.invalidJsonFormat"));
        }
        this.designer.loadFormJson(importObj);
        this.showImportJsonDialogFlag = false;
        this.$message.success(this.i18nt("designer.hint.importJsonSuccess"));
        this.designer.emitHistoryChange();
        this.designer.emitEvent("form-json-imported", []);
      } catch (ex) {
        this.$message.error(ex + "");
      }
    },
    exportJson() {
      const widgetList = cloneDeep(this.designer.widgetList);
      const formConfig = cloneDeep(this.designer.formConfig);
      this.jsonContent = JSON.stringify({ widgetList, formConfig }, null, "  ");
      this.jsonRawContent = JSON.stringify({ widgetList, formConfig });
      this.showExportJsonDialogFlag = true;
    },
    copyFormJson(e2) {
      copyToClipboard(
        this.jsonRawContent,
        e2,
        this.$message,
        this.i18nt("designer.hint.copyJsonSuccess"),
        this.i18nt("designer.hint.copyJsonFail")
      );
    },
    saveFormJson() {
      this.saveAsFile(this.jsonContent, `vform${generateId()}.json`);
    },
    exportCode() {
      this.vueCode = generateCode(this.formJson);
      this.htmlCode = generateCode(this.formJson, "html");
      this.showExportCodeDialogFlag = true;
    },
    copyVueCode(e2) {
      copyToClipboard(
        this.vueCode,
        e2,
        this.$message,
        this.i18nt("designer.hint.copyVueCodeSuccess"),
        this.i18nt("designer.hint.copyVueCodeFail")
      );
    },
    copyHtmlCode(e2) {
      copyToClipboard(
        this.htmlCode,
        e2,
        this.$message,
        this.i18nt("designer.hint.copyHtmlCodeSuccess"),
        this.i18nt("designer.hint.copyHtmlCodeFail")
      );
    },
    saveVueCode() {
      this.saveAsFile(this.vueCode, `vform${generateId()}.vue`);
    },
    saveHtmlCode() {
      this.saveAsFile(this.htmlCode, `vform${generateId()}.html`);
    },
    generateSFC() {
    },
    copyV2SFC(e2) {
      copyToClipboard(
        this.sfcCode,
        e2,
        this.$message,
        this.i18nt("designer.hint.copySFCSuccess"),
        this.i18nt("designer.hint.copySFCFail")
      );
    },
    copyV3SFC(e2) {
      copyToClipboard(
        this.sfcCodeV3,
        e2,
        this.$message,
        this.i18nt("designer.hint.copySFCSuccess"),
        this.i18nt("designer.hint.copySFCFail")
      );
    },
    saveV2SFC() {
      this.saveAsFile(this.sfcCode, `vformV2-${generateId()}.vue`);
    },
    saveV3SFC() {
      this.saveAsFile(this.sfcCodeV3, `vformV3-${generateId()}.vue`);
    },
    async insertData() {
      const data = await this.$refs["preForm"].getFormData();
      const formConfig = this.designer.formConfig;
      const res = await fmtHttpParams.call(this, formConfig.serveList.vformUpdate, data);
      console.log("res: insertData", res);
    },
    async showData(_id) {
      const formConfig = this.designer.formConfig;
      const dsResult = await fmtHttpParams(formConfig.serveList.vformDetail, { _id });
      this.$refs.preForm.setFormData({ ...dsResult });
      this.$refs.preForm.setReadMode(true);
    },
    getFormData() {
      this.$refs["preForm"].getFormData().then((formData) => {
        console.log("formData: ", formData);
        this.formDataJson = JSON.stringify(formData, null, "  ");
        this.formDataRawJson = JSON.stringify(formData);
        this.showFormDataDialogFlag = true;
      }).catch((error2) => {
        this.$message.error(error2);
      });
    },
    copyFormDataJson(e2) {
      copyToClipboard(
        this.formDataRawJson,
        e2,
        this.$message,
        this.i18nt("designer.hint.copyJsonSuccess"),
        this.i18nt("designer.hint.copyJsonFail")
      );
    },
    saveFormData() {
      this.saveAsFile(this.htmlCode, `formData${generateId()}.json`);
    },
    resetForm() {
      this.$refs["preForm"].resetForm();
    },
    setFormDisabled() {
      this.$refs["preForm"].disableForm();
    },
    setFormEnabled() {
      this.$refs["preForm"].enableForm();
    },
    testLoadForm() {
      axios.get("https://www.fastmock.site/mock/e9710039bb5f11262d1a0f2f0bbe08c8/vform3/getFS").then((res) => {
        const newFormJson = res.data;
        this.$refs.preForm.setFormJson(newFormJson);
        this.$nextTick(() => {
          const newFormData = { input30696: "668899" };
          this.$refs.preForm.setFormData(newFormData);
        });
      }).catch((err) => {
      });
    },
    testSetFormJson() {
      const newFormJson = {
        widgetList: [
          {
            type: "static-text",
            icon: "static-text",
            formItemFlag: false,
            options: {
              name: "statictext111193",
              columnWidth: "200px",
              hidden: false,
              textContent: "多列表单",
              customClass: [],
              onCreated: "",
              onMounted: "",
              label: "static-text"
            },
            id: "statictext111193"
          },
          {
            type: "divider",
            icon: "divider",
            formItemFlag: false,
            options: {
              name: "divider102346",
              label: "",
              columnWidth: "200px",
              direction: "horizontal",
              contentPosition: "center",
              hidden: false,
              customClass: [],
              onCreated: "",
              onMounted: ""
            },
            id: "divider102346"
          },
          {
            type: "grid",
            category: "container",
            icon: "grid",
            cols: [
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "input",
                    icon: "text-field",
                    formItemFlag: true,
                    options: {
                      name: "input12931",
                      label: "发件人姓名",
                      labelAlign: "",
                      type: "text",
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      showPassword: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      addonBefore: "",
                      addonAfter: "",
                      appendButton: false,
                      appendButtonDisabled: false,
                      buttonIcon: "el-icon-search",
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "input12931"
                  }
                ],
                options: {
                  name: "gridCol25469",
                  hidden: false,
                  span: 12,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-25469"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "input",
                    icon: "text-field",
                    formItemFlag: true,
                    options: {
                      name: "input23031",
                      label: "发件人号码",
                      labelAlign: "",
                      type: "text",
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      showPassword: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      addonBefore: "",
                      addonAfter: "",
                      appendButton: false,
                      appendButtonDisabled: false,
                      buttonIcon: "el-icon-search",
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "input23031"
                  }
                ],
                options: {
                  name: "gridCol25125",
                  hidden: false,
                  span: 12,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-25125"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "switch",
                    icon: "switch-field",
                    formItemFlag: true,
                    options: {
                      name: "switch96070",
                      label: "是否保密",
                      labelAlign: "",
                      defaultValue: true,
                      columnWidth: "200px",
                      labelWidth: null,
                      labelHidden: false,
                      disabled: false,
                      hidden: false,
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      switchWidth: 40,
                      checkedValue: "",
                      unCheckedValue: "",
                      activeColor: null,
                      inactiveColor: null,
                      onCreated: "",
                      onMounted: "",
                      onChange: "",
                      onValidate: ""
                    },
                    id: "switch96070"
                  }
                ],
                options: {
                  name: "gridCol44470",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-44470"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "textarea",
                    icon: "textarea-field",
                    formItemFlag: true,
                    options: {
                      name: "textarea21654",
                      label: "发件人地址",
                      labelAlign: "",
                      rows: 3,
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "textarea21654"
                  }
                ],
                options: {
                  name: "gridCol98223",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-98223"
              }
            ],
            options: { name: "grid35834", hidden: false, gutter: 12, customClass: [] },
            id: "grid35834"
          },
          {
            type: "divider",
            icon: "divider",
            formItemFlag: false,
            options: {
              name: "divider69240",
              label: "",
              columnWidth: "200px",
              direction: "horizontal",
              contentPosition: "center",
              hidden: false,
              customClass: [],
              onCreated: "",
              onMounted: ""
            },
            id: "divider69240"
          },
          {
            type: "grid",
            category: "container",
            icon: "grid",
            cols: [
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "input",
                    icon: "text-field",
                    formItemFlag: true,
                    options: {
                      name: "input113152",
                      label: "收件人姓名111",
                      labelAlign: "",
                      type: "text",
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      showPassword: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      addonBefore: "",
                      addonAfter: "",
                      appendButton: false,
                      appendButtonDisabled: false,
                      buttonIcon: "el-icon-search",
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "input113152"
                  }
                ],
                options: {
                  name: "gridCol47242",
                  hidden: false,
                  span: 12,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-47242"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "input",
                    icon: "text-field",
                    formItemFlag: true,
                    options: {
                      name: "input40240",
                      label: "收件人号码",
                      labelAlign: "",
                      type: "text",
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      showPassword: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      addonBefore: "",
                      addonAfter: "",
                      appendButton: false,
                      appendButtonDisabled: false,
                      buttonIcon: "el-icon-search",
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "input40240"
                  }
                ],
                options: {
                  name: "gridCol27970",
                  hidden: false,
                  span: 12,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-27970"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "checkbox",
                    icon: "checkbox-field",
                    formItemFlag: true,
                    options: {
                      name: "checkbox63174",
                      label: "接收时间段",
                      labelAlign: "",
                      defaultValue: [],
                      columnWidth: "200px",
                      size: "",
                      displayStyle: "inline",
                      buttonStyle: false,
                      border: false,
                      labelWidth: null,
                      labelHidden: false,
                      disabled: false,
                      hidden: false,
                      optionItems: [
                        { label: "上午9:00 - 11:30", value: 1 },
                        { label: "下午12:30 - 18:00", value: 2 },
                        { label: "晚上18:00 - 21:00", value: 3 }
                      ],
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      onCreated: "",
                      onMounted: "",
                      onChange: "",
                      onValidate: ""
                    },
                    id: "checkbox63174"
                  }
                ],
                options: {
                  name: "gridCol74653",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-74653"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "input",
                    icon: "text-field",
                    formItemFlag: true,
                    options: {
                      name: "input78584",
                      label: "收件人地址",
                      labelAlign: "",
                      type: "text",
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      showPassword: false,
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      addonBefore: "",
                      addonAfter: "",
                      appendButton: false,
                      appendButtonDisabled: false,
                      buttonIcon: "el-icon-search",
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "input78584"
                  }
                ],
                options: {
                  name: "gridCol63781",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-63781"
              }
            ],
            options: { name: "grid114672", hidden: false, gutter: 12, customClass: [] },
            id: "grid114672"
          },
          {
            type: "divider",
            icon: "divider",
            formItemFlag: false,
            options: {
              name: "divider75887",
              label: "",
              columnWidth: "200px",
              direction: "horizontal",
              contentPosition: "center",
              hidden: false,
              customClass: [],
              onCreated: "",
              onMounted: ""
            },
            id: "divider75887"
          },
          {
            type: "grid",
            category: "container",
            icon: "grid",
            cols: [
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "time-range",
                    icon: "time-range-field",
                    formItemFlag: true,
                    options: {
                      name: "timerange47503",
                      label: "送货时间",
                      labelAlign: "",
                      defaultValue: null,
                      startPlaceholder: "",
                      endPlaceholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      allowClear: true,
                      editable: false,
                      format: "HH:mm:ss",
                      required: true,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      onCreated: "",
                      onMounted: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "timerange47503"
                  }
                ],
                options: {
                  name: "gridCol109912",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-109912"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "slider",
                    icon: "slider-field",
                    formItemFlag: true,
                    options: {
                      name: "slider54714",
                      label: "价格保护",
                      labelAlign: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      disabled: false,
                      hidden: false,
                      required: false,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      min: 0,
                      max: 100,
                      step: 10,
                      range: false,
                      height: null,
                      onCreated: "",
                      onMounted: "",
                      onChange: "",
                      onValidate: ""
                      // showStops: true
                    },
                    id: "slider54714"
                  }
                ],
                options: {
                  name: "gridCol114653",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-114653"
              },
              {
                type: "grid-col",
                category: "container",
                icon: "grid-col",
                internal: true,
                widgetList: [
                  {
                    type: "textarea",
                    icon: "textarea-field",
                    formItemFlag: true,
                    options: {
                      name: "textarea64794",
                      label: "其他信息",
                      labelAlign: "",
                      rows: 3,
                      defaultValue: "",
                      placeholder: "",
                      columnWidth: "200px",
                      size: "",
                      labelWidth: null,
                      labelHidden: false,
                      readonly: false,
                      disabled: false,
                      hidden: false,
                      required: false,
                      validation: "",
                      validationHint: "",
                      customClass: [],
                      labelIconClass: null,
                      labelIconPosition: "rear",
                      labelTooltip: null,
                      minLength: null,
                      maxLength: null,
                      showCount: false,
                      onCreated: "",
                      onMounted: "",
                      onInput: "",
                      onChange: "",
                      onFocus: "",
                      onBlur: "",
                      onValidate: ""
                    },
                    id: "textarea64794"
                  }
                ],
                options: {
                  name: "gridCol80867",
                  hidden: false,
                  span: 24,
                  offset: 0,
                  push: 0,
                  pull: 0,
                  responsive: false,
                  md: 12,
                  sm: 12,
                  xs: 12,
                  customClass: []
                },
                id: "grid-col-80867"
              }
            ],
            options: { name: "grid28709", hidden: false, gutter: 12, customClass: [] },
            id: "grid28709"
          }
        ],
        formConfig: {
          labelWidth: 150,
          labelPosition: "horizontal",
          size: "",
          labelAlign: "label-right-align",
          cssCode: "",
          customClass: [],
          functions: "",
          onFormCreated: "",
          onFormDataChange: "",
          onFormValidate: ""
        }
      };
      this.$refs.preForm.setFormJson(newFormJson);
      this.$nextTick(() => {
        this.$refs.preForm.setFormData({
          input12931: "asdf",
          input23031: "input23031",
          textarea21654: "textarea21654",
          input113152: "input113152",
          input40240: "input40240"
        });
      });
    },
    testSetFormData() {
      const testFD = {
        input89263: "899668"
      };
      this.$refs.preForm.setFormData(testFD);
    },
    testReloadOptionData() {
      this.testOptionData["select001"].push({
        label: "aaa",
        value: 888
      });
      this.$refs.preForm.reloadOptionData();
    },
    handleFormChange(fieldName, newValue, oldValue, formModel) {
      console.log("formModel", formModel);
    },
    testOnAppendButtonClick(clickedWidget) {
      console.log("test", clickedWidget);
    },
    testOnButtonClick(button2) {
      console.log("test", button2);
    },
    onMyEmitTest(aaa) {
      console.log("-----", aaa);
    },
    findWidgetById(wId) {
      let foundW = null;
      traverseAllWidgets(this.designer.widgetList, (w) => {
        if (w.id === wId) {
          foundW = w;
        }
      });
      return foundW;
    },
    onNodeTreeClick(nodeData, node2, nodeEl) {
      if (nodeData.selectable !== void 0 && !nodeData.selectable) {
        this.$message.info(this.i18nt("designer.hint.currentNodeCannotBeSelected"));
      } else {
        const selectedId = nodeData.id;
        const foundW = this.findWidgetById(selectedId);
        if (!!foundW) {
          this.designer.setSelected(foundW);
        }
      }
    }
  }
};
const _hoisted_1$F = { class: "toolbar-container" };
const _hoisted_2$r = { class: "left-toolbar" };
const _hoisted_3$m = { class: "right-toolbar" };
const _hoisted_4$c = { class: "right-toolbar-con" };
const _hoisted_5$6 = { class: "dialog-footer" };
const _hoisted_6$5 = { class: "dialog-footer" };
const _hoisted_7$3 = { class: "dialog-footer" };
const _hoisted_8$3 = { style: { "border": "1px solid #dcdfe6" } };
const _hoisted_9$2 = { class: "dialog-footer" };
const _hoisted_10$1 = { class: "dialog-footer" };
function _sfc_render$3R(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_tree = resolveComponent("a-tree");
  const _component_a_drawer = resolveComponent("a-drawer");
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_tab_pane = resolveComponent("a-tab-pane");
  const _component_a_tabs = resolveComponent("a-tabs");
  return openBlock(), createElementBlock("div", _hoisted_1$F, [
    createElementVNode("div", _hoisted_2$r, [
      createVNode(_component_a_button, {
        type: "link",
        onClick: _cache[0] || (_cache[0] = ($event) => $props.changeLeftWidth())
      }, {
        default: withCtx(() => [
          createVNode(_component_svg_icon, {
            style: normalizeStyle(`transform:${$props.leftWidth === 0 ? "rotate(180deg)" : "rotate(0deg)"}`),
            "icon-class": "a-ipadarrow_back"
          }, null, 8, ["style"])
        ]),
        _: 1
      }),
      createVNode(_component_a_button, {
        type: "link",
        disabled: $options.undoDisabled,
        title: _ctx.i18nt("designer.toolbar.undoHint"),
        onClick: $options.undoHistory
      }, {
        default: withCtx(() => [
          createVNode(_component_svg_icon, { "icon-class": "undo" })
        ]),
        _: 1
      }, 8, ["disabled", "title", "onClick"]),
      createVNode(_component_a_button, {
        type: "link",
        disabled: $options.redoDisabled,
        title: _ctx.i18nt("designer.toolbar.redoHint"),
        onClick: $options.redoHistory
      }, {
        default: withCtx(() => [
          createVNode(_component_svg_icon, { "icon-class": "redo" })
        ]),
        _: 1
      }, 8, ["disabled", "title", "onClick"])
    ]),
    createVNode(_component_a_drawer, {
      title: _ctx.i18nt("designer.toolbar.nodeTreeTitle"),
      direction: "ltr",
      visible: $data.showNodeTreeDrawerFlag,
      "onUpdate:visible": _cache[1] || (_cache[1] = ($event) => $data.showNodeTreeDrawerFlag = $event),
      width: 280,
      "destroy-on-close": true,
      class: "node-tree-drawer"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_tree, {
          ref: "nodeTree",
          treeData: $data.nodeTreeData,
          "default-expand-all": "",
          "highlight-current": "",
          class: "node-tree",
          "icon-class": "el-icon-arrow-right",
          fieldNames: { children: "children", title: "label", key: "id" }
        }, null, 8, ["treeData"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createElementVNode("div", _hoisted_3$m, [
      createElementVNode("div", _hoisted_4$c, [
        $options.showToolButton("clearDesignerButton") ? (openBlock(), createBlock(_component_a_button, {
          key: 0,
          type: "link",
          onClick: $options.clearFormWidget
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, { "icon-class": "el-delete" }),
            createTextVNode(toDisplayString(_ctx.i18nt("designer.toolbar.clear")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        $options.showToolButton("previewFormButton") ? (openBlock(), createBlock(_component_a_button, {
          key: 1,
          type: "link",
          onClick: $options.previewForm
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, { "icon-class": "el-view" }),
            createTextVNode(toDisplayString(_ctx.i18nt("designer.toolbar.preview")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        $options.showToolButton("importJsonButton") ? (openBlock(), createBlock(_component_a_button, {
          key: 2,
          type: "link",
          onClick: $options.importJson
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.toolbar.importJson")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        $options.showToolButton("exportJsonButton") ? (openBlock(), createBlock(_component_a_button, {
          key: 3,
          type: "link",
          onClick: $options.exportJson
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.toolbar.exportJson")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        $options.showToolButton("exportCodeButton") ? (openBlock(), createBlock(_component_a_button, {
          key: 4,
          type: "link",
          onClick: $options.saveJson
        }, {
          default: withCtx(() => [
            createTextVNode(" 保存 ")
          ]),
          _: 1
        }, 8, ["onClick"])) : createCommentVNode("", true),
        createVNode(_component_a_button, {
          type: "link",
          onClick: _cache[2] || (_cache[2] = ($event) => $props.changeRightWidth())
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, {
              style: normalizeStyle(`transform:${$props.rightWidth === 0 ? "rotate(0deg)" : "rotate(180deg)"}`),
              "icon-class": "a-ipadarrow_back"
            }, null, 8, ["style"])
          ]),
          _: 1
        }),
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.$slots, (idx, slotName) => {
          return renderSlot(_ctx.$slots, slotName, {}, void 0, true);
        }), 256))
      ])
    ]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.toolbar.preview"),
      visible: $data.showPreviewDialogFlag,
      "onUpdate:visible": _cache[4] || (_cache[4] = ($event) => $data.showPreviewDialogFlag = $event),
      "show-close": true,
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      center: "",
      "destroy-on-close": true,
      "append-to-body": true,
      class: "drag-dialog",
      width: "75%",
      fullscreen: $options.layoutType === "H5" || $options.layoutType === "Pad"
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_5$6, [
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.getFormData
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.getFormData")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.resetForm
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.resetForm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.setFormDisabled
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.disableForm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.setFormEnabled
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.enableForm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            onClick: _cache[3] || (_cache[3] = ($event) => $data.showPreviewDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
            ]),
            _: 1
          }),
          (openBlock(), createBlock(_component_a_button, {
            key: 0,
            onClick: $options.setReadMode
          }, {
            default: withCtx(() => [
              createTextVNode("测试变只读")
            ]),
            _: 1
          }, 8, ["onClick"]))
        ])
      ]),
      default: withCtx(() => [
        createElementVNode("div", null, [
          createElementVNode("div", {
            class: normalizeClass(["form-render-wrapper", [$options.layoutType === "H5" ? "h5-layout" : $options.layoutType === "Pad" ? "pad-layout" : ""]])
          }, [
            createVNode(_component_VFormRender, {
              vfCtx: $data.vfCtx,
              ref: "preForm",
              "form-json": $data.cloneDeep($options.formJson),
              "form-data": $data.testFormData,
              "preview-state": true,
              "option-data": $data.testOptionData,
              "global-dsv": $options.designerDsv,
              onMyEmitTest: $options.onMyEmitTest,
              onAppendButtonClick: $options.testOnAppendButtonClick,
              onButtonClick: $options.testOnButtonClick,
              onFormChange: $options.handleFormChange
            }, null, 8, ["vfCtx", "form-json", "form-data", "option-data", "global-dsv", "onMyEmitTest", "onAppendButtonClick", "onButtonClick", "onFormChange"])
          ], 2)
        ])
      ]),
      _: 1
    }, 8, ["title", "visible", "fullscreen"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.toolbar.importJson"),
      visible: $data.showImportJsonDialogFlag,
      "onUpdate:visible": _cache[7] || (_cache[7] = ($event) => $data.showImportJsonDialogFlag = $event),
      "show-close": true,
      class: "drag-dialog",
      "append-to-body": true,
      center: "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_6$5, [
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.doJsonImport
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.import")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            onClick: _cache[6] || (_cache[6] = ($event) => $data.showImportJsonDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_alert, {
          type: "info",
          message: _ctx.i18nt("designer.hint.importJsonHint"),
          "show-icon": "",
          class: "alert-padding"
        }, null, 8, ["message"]),
        createVNode(_component_code_editor, {
          mode: "json",
          readonly: false,
          modelValue: $data.importTemplate,
          "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.importTemplate = $event)
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.toolbar.exportJson"),
      visible: $data.showExportJsonDialogFlag,
      "onUpdate:visible": _cache[10] || (_cache[10] = ($event) => $data.showExportJsonDialogFlag = $event),
      "show-close": true,
      class: "drag-dialog",
      center: "",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_7$3, [
          createVNode(_component_a_button, {
            type: "primary",
            class: "copy-json-btn",
            "data-clipboard-text": $data.jsonRawContent,
            onClick: $options.copyFormJson
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.copyJson")), 1)
            ]),
            _: 1
          }, 8, ["data-clipboard-text", "onClick"]),
          createVNode(_component_a_button, { onClick: $options.saveFormJson }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.saveFormJson")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            onClick: _cache[9] || (_cache[9] = ($event) => $data.showExportJsonDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_code_editor, {
          mode: "json",
          readonly: true,
          modelValue: $data.jsonContent,
          "onUpdate:modelValue": _cache[8] || (_cache[8] = ($event) => $data.jsonContent = $event)
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.hint.exportFormData"),
      visible: $data.showFormDataDialogFlag,
      "onUpdate:visible": _cache[13] || (_cache[13] = ($event) => $data.showFormDataDialogFlag = $event),
      "show-close": true,
      class: "nested-drag-dialog dialog-title-light-bg",
      center: "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true,
      "append-to-body": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_9$2, [
          createVNode(_component_a_button, {
            type: "primary",
            class: "copy-form-data-json-btn",
            "data-clipboard-text": $data.formDataRawJson,
            onClick: $options.copyFormDataJson
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.copyFormData")), 1)
            ]),
            _: 1
          }, 8, ["data-clipboard-text", "onClick"]),
          createVNode(_component_a_button, { onClick: $options.saveFormData }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.saveFormData")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            onClick: _cache[12] || (_cache[12] = ($event) => $data.showFormDataDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createElementVNode("div", _hoisted_8$3, [
          createVNode(_component_code_editor, {
            mode: "json",
            readonly: true,
            modelValue: $data.formDataJson,
            "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $data.formDataJson = $event)
          }, null, 8, ["modelValue"])
        ])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    $data.showExportSFCDialogFlag ? (openBlock(), createBlock(_component_a_modal, {
      key: 0,
      title: _ctx.i18nt("designer.toolbar.generateSFC"),
      visible: $data.showExportSFCDialogFlag,
      "onUpdate:visible": _cache[18] || (_cache[18] = ($event) => $data.showExportSFCDialogFlag = $event),
      "append-to-body": "",
      "show-close": true,
      class: "drag-dialog",
      center: "",
      width: "65%",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_10$1, [
          createVNode(_component_a_button, {
            type: "primary",
            class: "copy-vue2-sfc-btn",
            "data-clipboard-text": $data.sfcCode,
            onClick: $options.copyV2SFC
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.copyVue2SFC")), 1)
            ]),
            _: 1
          }, 8, ["data-clipboard-text", "onClick"]),
          createVNode(_component_a_button, {
            type: "primary",
            class: "copy-vue3-sfc-btn",
            "data-clipboard-text": $data.sfcCodeV3,
            onClick: $options.copyV3SFC
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.copyVue3SFC")), 1)
            ]),
            _: 1
          }, 8, ["data-clipboard-text", "onClick"]),
          createVNode(_component_a_button, { onClick: $options.saveV2SFC }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.saveVue2SFC")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, { onClick: $options.saveV3SFC }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.saveVue3SFC")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            onClick: _cache[17] || (_cache[17] = ($event) => $data.showExportSFCDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_tabs, {
          type: "border-card",
          class: "no-box-shadow no-padding",
          activeKey: $data.activeSFCTab,
          "onUpdate:activeKey": _cache[16] || (_cache[16] = ($event) => $data.activeSFCTab = $event)
        }, {
          default: withCtx(() => [
            createVNode(_component_a_tab_pane, {
              tab: "Vue2",
              key: "vue2"
            }, {
              default: withCtx(() => [
                createVNode(_component_code_editor, {
                  mode: "html",
                  readonly: true,
                  modelValue: $data.sfcCode,
                  "onUpdate:modelValue": _cache[14] || (_cache[14] = ($event) => $data.sfcCode = $event),
                  "user-worker": false
                }, null, 8, ["modelValue"])
              ]),
              _: 1
            }),
            createVNode(_component_a_tab_pane, {
              tab: "Vue3",
              key: "vue3"
            }, {
              default: withCtx(() => [
                createVNode(_component_code_editor, {
                  mode: "html",
                  readonly: true,
                  modelValue: $data.sfcCodeV3,
                  "onUpdate:modelValue": _cache[15] || (_cache[15] = ($event) => $data.sfcCodeV3 = $event),
                  "user-worker": false
                }, null, 8, ["modelValue"])
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["activeKey"])
      ]),
      _: 1
    }, 8, ["title", "visible"])) : createCommentVNode("", true)
  ]);
}
const ToolbarPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$3R, [["render", _sfc_render$3R], ["__scopeId", "data-v-ad9a7c60"]]);
const _sfc_main$3Q = {
  name: "accept-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      ops: [
        { value: ".doc", label: ".doc" },
        { value: ".docx", label: ".docx" },
        { value: ".xlsx", label: ".xlsx" },
        { value: ".xls", label: ".xls" },
        { value: ".pdf", label: ".pdf" },
        { value: ".pptx", label: ".pptx" },
        { value: ".dwg", label: ".dwg" },
        { value: ".jpg", label: ".jpg" },
        { value: ".png", label: ".png" }
      ]
    };
  }
};
function _sfc_render$3Q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `文件类型` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.accept,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.accept = $event),
        allowClear: "",
        mode: "tags",
        options: $data.ops
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const acceptEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3Q, [["render", _sfc_render$3Q]]);
const __vite_glob_0_0$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: acceptEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3P = {
  name: "actionColumnPosition-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    noLabelSetting() {
      return this.selectedWidget.type === "static-text" || this.selectedWidget.type === "html-text";
    }
  }
};
function _sfc_render$3P(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.actionColumnPosition")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_radio_group, {
        value: $props.optionModel.actionColumnPosition,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.actionColumnPosition = $event),
        class: "radio-group-custom"
      }, {
        default: withCtx(() => [
          createVNode(_component_a_radio_button, { value: "left" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.leftAlign")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "right" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.rightAlign")), 1)
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const actionColumnPositionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3P, [["render", _sfc_render$3P], ["__scopeId", "data-v-d3a47f26"]]);
const __vite_glob_0_1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: actionColumnPositionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3O = {
  name: "addonAfter-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3O(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.addonAfter")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.addonAfter,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.addonAfter = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const addonAfterEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3O, [["render", _sfc_render$3O]]);
const __vite_glob_0_2$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: addonAfterEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3N = {
  name: "addonBefore-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3N(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.addonBefore")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.addonBefore,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.addonBefore = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const addonBeforeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3N, [["render", _sfc_render$3N]]);
const __vite_glob_0_3$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: addonBeforeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3M = {
  name: "allowClear-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3M(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.allowClear")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.allowClear,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.allowClear = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const allowClearEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3M, [["render", _sfc_render$3M]]);
const __vite_glob_0_4$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: allowClearEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3L = {
  name: "appendButton-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3L(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_switch = resolveComponent("a-switch");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_divider, { class: "custom-divider" }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.inputButton")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.appendButton")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_switch, {
          checked: $props.optionModel.appendButton,
          "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.appendButton = $event)
        }, null, 8, ["checked"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
const appendButtonEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3L, [["render", _sfc_render$3L]]);
const __vite_glob_0_5$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: appendButtonEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3K = {
  name: "appendButtonDisabled-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3K(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.appendButtonDisabled")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.appendButtonDisabled,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.appendButtonDisabled = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const appendButtonDisabledEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3K, [["render", _sfc_render$3K]]);
const __vite_glob_0_6$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: appendButtonDisabledEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3J = {
  name: "autoFullWidth-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3J(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.autoFullWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.autoFullWidth,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.autoFullWidth = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const autoFullWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3J, [["render", _sfc_render$3J]]);
const __vite_glob_0_7$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: autoFullWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3I = {
  name: "border-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3I(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.border")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.border,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.border = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const borderEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3I, [["render", _sfc_render$3I]]);
const __vite_glob_0_8$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: borderEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3H = {
  name: "buttonIcon-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3H(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.appendButtonIcon")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.buttonIcon,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.buttonIcon = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const buttonIconEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3H, [["render", _sfc_render$3H]]);
const __vite_glob_0_9$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: buttonIconEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3G = {
  name: "buttonStyle-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3G(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.buttonStyle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.buttonStyle,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.buttonStyle = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const buttonStyleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3G, [["render", _sfc_render$3G]]);
const __vite_glob_0_10$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: buttonStyleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3F = {
  name: "code-editor-mode-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      modeList: [
        { value: "javascript", label: "javascript" },
        { value: "json", label: "json" },
        { value: "groovy", label: "groovy" },
        { value: "css", label: "css" }
      ],
      dataSetList: []
    };
  },
  computed: {},
  watch: {},
  created() {
  },
  mounted() {
  }
};
function _sfc_render$3F(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `语法模式` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.mode,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.mode = $event),
        options: $data.modeList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const codeEditorMode = /* @__PURE__ */ _export_sfc$1(_sfc_main$3F, [["render", _sfc_render$3F]]);
const __vite_glob_0_11$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: codeEditorMode
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3E = {
  name: "columnWidth-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  inject: ["isSubFormChildWidget"]
};
function _sfc_render$3E(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock("div", null, [
    withDirectives(createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.widgetColumnWidth")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          type: "text",
          value: $props.optionModel.columnWidth,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.columnWidth = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"]), [
      [vShow, !!$options.isSubFormChildWidget()]
    ])
  ]);
}
const columnWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3E, [["render", _sfc_render$3E]]);
const __vite_glob_0_12$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: columnWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const eventMixin = {
  mixins: [emitter],
  created() {
  },
  methods: {
    editEventHandler(eventName, eventParams) {
      this.dispatch("SettingPanel", "editEventHandler", [eventName, [...eventParams]]);
    }
  }
};
const _sfc_main$3D = {
  name: "data-table-customRow-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["record", "event"]
    };
  }
};
function _sfc_render$3D(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: "customRow.onClick",
      labelAlign: "left",
      "label-width": "150px"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "info",
          shape: "round",
          class: normalizeClass([!!$props.optionModel.customRow.onClick ? "button-text-highlight" : ""]),
          onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("customRow.onClick", $data.eventParams))
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
          ]),
          _: 1
        }, 8, ["class"])
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: "customRow.onDblclick",
      labelAlign: "left",
      "label-width": "150px"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "info",
          shape: "round",
          class: normalizeClass([!!$props.optionModel.customRow.onDblclick ? "button-text-highlight" : ""]),
          onClick: _cache[1] || (_cache[1] = ($event) => _ctx.editEventHandler("customRow.onDblclick", $data.eventParams))
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
          ]),
          _: 1
        }, 8, ["class"])
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: "customRow.onMouseenter",
      labelAlign: "left",
      "label-width": "150px"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "info",
          shape: "round",
          class: normalizeClass([!!$props.optionModel.customRow.onMouseenter ? "button-text-highlight" : ""]),
          onClick: _cache[2] || (_cache[2] = ($event) => _ctx.editEventHandler("customRow.onMouseenter", $data.eventParams))
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
          ]),
          _: 1
        }, 8, ["class"])
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: "customRow.onMouseleave",
      labelAlign: "left",
      "label-width": "150px"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "info",
          shape: "round",
          class: normalizeClass([!!$props.optionModel.customRow.onMouseleave ? "button-text-highlight" : ""]),
          onClick: _cache[3] || (_cache[3] = ($event) => _ctx.editEventHandler("customRow.onMouseleave", $data.eventParams))
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
          ]),
          _: 1
        }, 8, ["class"])
      ]),
      _: 1
    })
  ], 64);
}
const dataTableCustomRowEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3D, [["render", _sfc_render$3D]]);
const __vite_glob_0_13$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableCustomRowEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3C = {
  name: "colorRow-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3C(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "点击行选中" }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.colorRow,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.colorRow = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const dataTableColorRowEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3C, [["render", _sfc_render$3C]]);
const __vite_glob_0_14 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableColorRowEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3B = {
  name: "data-table-customClass-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      cssClassList: [],
      dataSetList: []
    };
  },
  computed: {
    dataSourceList() {
      if (!this.designer.formConfig || !this.designer.formConfig.dataSources) {
        return [];
      } else {
        return this.designer.formConfig.dataSources;
      }
    }
  },
  watch: {
    // selectedWidget: {
    //   handler(val, oldVal) {
    //     if (!val) {
    //       return;
    //     }
    //     this.loadDataSet(val.options.dsName);
    //   },
    //   immediate: true
    // }
  },
  created() {
    this.cssClassList = deepClone(this.designer.getCssClassList());
    this.designer.handleEvent("form-css-updated", (cssClassList) => {
      this.cssClassList = cssClassList;
    });
  },
  mounted() {
  },
  methods: {
    loadDataSet(dsName) {
      this.dataSetList.length = 0;
      if (!dsName) {
        return;
      }
      const dsModel = getDSByName(this.designer.formConfig, dsName);
      if (!!dsModel && !!dsModel.dataSets) {
        dsModel.dataSets.forEach((dSet) => {
          this.dataSetList.push({
            name: dSet.name,
            remark: dSet.remark
          });
        });
      }
    }
  }
};
function _sfc_render$3B(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.customClass")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.customClass,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.customClass = $event),
        allowClear: "",
        mode: "tags",
        options: $data.cssClassList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableCustomClassEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3B, [["render", _sfc_render$3B]]);
const __vite_glob_0_15 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableCustomClassEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3A = {
  name: "code-modal-editor",
  mixins: [i18n$1],
  components: {
    CodeEditor
  },
  props: {
    modelValue: String,
    eventHeader: String,
    title: {
      type: String,
      default: "事件处理函数"
    },
    readonly: {
      type: Boolean,
      default: false
    },
    mode: {
      type: String,
      default: "javascript"
    }
  },
  data() {
    return {
      showWidgetEventDialogFlag: false,
      eventHandlerCode: ""
    };
  },
  methods: {
    open(val) {
      const value2 = this.modelValue || val || "";
      this.showWidgetEventDialogFlag = true;
      this.eventHandlerCode = value2.trim();
    },
    saveEventHandler() {
      const val = this.eventHandlerCode.trim();
      this.$emit("update:modelValue", val);
      this.showWidgetEventDialogFlag = false;
      this.$emit("save");
    }
  }
};
const _hoisted_1$E = { class: "dialog-footer" };
function _sfc_render$3A(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_modal = resolveComponent("a-modal");
  return openBlock(), createBlock(_component_a_modal, {
    title: $props.title,
    visible: $data.showWidgetEventDialogFlag,
    "onUpdate:visible": _cache[2] || (_cache[2] = ($event) => $data.showWidgetEventDialogFlag = $event),
    "show-close": true,
    centered: true,
    "append-to-body": "",
    "close-on-click-modal": false,
    "close-on-press-escape": false,
    "destroy-on-close": true,
    width: 800
  }, {
    footer: withCtx(() => [
      createElementVNode("div", _hoisted_1$E, [
        createVNode(_component_a_button, {
          onClick: _cache[1] || (_cache[1] = ($event) => $data.showWidgetEventDialogFlag = false)
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
          ]),
          _: 1
        }),
        createVNode(_component_a_button, {
          type: "primary",
          onClick: $options.saveEventHandler
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])
      ])
    ]),
    default: withCtx(() => [
      $props.eventHeader ? (openBlock(), createBlock(_component_a_alert, {
        key: 0,
        type: "info",
        closable: false,
        message: $props.eventHeader
      }, null, 8, ["message"])) : createCommentVNode("", true),
      createVNode(_component_code_editor, {
        mode: $props.mode,
        readonly: $props.readonly,
        modelValue: $data.eventHandlerCode,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.eventHandlerCode = $event),
        ref: "ecEditor"
      }, null, 8, ["mode", "readonly", "modelValue"]),
      $props.eventHeader ? (openBlock(), createBlock(_component_a_alert, {
        key: 1,
        type: "info",
        closable: false,
        message: "}"
      })) : createCommentVNode("", true)
    ]),
    _: 1
  }, 8, ["title", "visible"]);
}
const CodeModalEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3A, [["render", _sfc_render$3A]]);
const _sfc_main$3z = {
  name: "http-editor",
  inheritAttrs: false,
  mixins: [i18n$1],
  inject: ["getGlobalDsv"],
  components: {
    CodeEditor,
    CodeModalEditor
  },
  props: {
    optionModel: Object,
    drawerTitle: {
      type: String,
      default: ""
    },
    buttonName: {
      type: String,
      default: ""
    },
    label: {
      type: String,
      default: "编辑接口配置"
    }
  },
  data() {
    return {
      dataList: [],
      paramsList: [],
      formRules: {
        url: [{
          required: true,
          trigger: ["blur", "change"],
          message: this.i18nt("designer.setting.fieldValueRequired")
        }]
      },
      showDataSourceDialogFlag: false,
      dsvJson: "{\n  \n}",
      dsResultJson: "",
      showTestDataSourceDialogFlag: false
    };
  },
  methods: {
    editDataHandlerCode() {
      this.$refs.CodeModalEditorRef.open(this.optionModel.dataHandlerCode);
    },
    editReqDataHandlerCode() {
      this.$refs.CodeReqModalEditorRef.open(this.optionModel.dataReqHandlerCode);
    },
    addDataSource() {
      this.showDataSourceDialogFlag = true;
      this.dataList = Object.entries(this.optionModel.http.data).map(([name2, value2]) => ({
        name: name2,
        value: value2
      }));
      this.paramsList = Object.entries(this.optionModel.http.params).map(([name2, value2]) => ({
        name: name2,
        value: value2
      }));
    },
    saveHttpData() {
      let data = {};
      if (isArray$4(this.dataList) && this.dataList.length) {
        data = this.dataList.reduce((t, v) => {
          t[v.name] = v.value;
          return t;
        }, {});
      }
      this.optionModel.http.data = data;
    },
    saveHttpParams() {
      let params = {};
      if (isArray$4(this.paramsList) && this.paramsList.length) {
        params = this.paramsList.reduce((t, v) => {
          t[v.name] = v.value;
          return t;
        }, {});
      }
      this.optionModel.http.params = params;
    },
    saveDataSource() {
      this.saveHttpData();
      this.saveHttpParams();
      this.showDataSourceDialogFlag = false;
    },
    addRequestParam() {
      this.paramsList.push({
        name: "",
        value: ""
      });
    },
    deleteRequestParam(idx) {
      this.paramsList.splice(idx, 1);
    },
    addRequestData() {
      this.dataList.push({
        name: "",
        value: ""
      });
    },
    deleteRequestData(idx) {
      this.dataList.splice(idx, 1);
    },
    testDataSource() {
      this.saveHttpData();
      this.saveHttpParams();
      const sendParams = JSON.stringify(this.optionModel.http, null, "  ");
      const paramsMap = {
        fieldCode: this.optionModel.name,
        ...getLocat()
      };
      this.dsvJson = replaceVars(sendParams, paramsMap);
      this.dsResultJson = "";
      this.showTestDataSourceDialogFlag = true;
    },
    async doDataSourceRequest() {
      const {
        dataReqHandlerCode,
        dataHandlerCode
      } = this.optionModel;
      try {
        let p = JSON.parse(this.dsvJson);
        if (dataReqHandlerCode) {
          const dataReqHandlerCodeFn = new Function("data", dataReqHandlerCode);
          p = dataReqHandlerCodeFn.call(this, p);
        }
        if (!p)
          return;
        let dsResult = await getHttp()(p);
        if (dataHandlerCode) {
          const dhFn = new Function("data", dataHandlerCode);
          dsResult = dhFn.call(this, dsResult);
        }
        this.$refs.dsResultEditor.setValue(JSON.stringify(dsResult, null, "  "));
      } catch (error2) {
        console.log("doDataSourceRequest: ", error2);
      }
    },
    clearRequestResult() {
      this.$refs.dsResultEditor.setValue("");
    }
  }
};
function _sfc_render$3z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_col = resolveComponent("a-col");
  const _component_a_row = resolveComponent("a-row");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_drawer = resolveComponent("a-drawer");
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: $props.label,
      labelAlign: "left",
      "label-width": "150px"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "info",
          shape: "round",
          onClick: $options.addDataSource,
          class: normalizeClass(["button-text-highlight"])
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString($props.buttonName || $props.label), 1)
          ]),
          _: 1
        }, 8, ["onClick"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_drawer, {
      title: $props.drawerTitle || _ctx.i18nt("designer.setting.dataSourceSetting"),
      visible: $data.showDataSourceDialogFlag,
      "onUpdate:visible": _cache[3] || (_cache[3] = ($event) => $data.showDataSourceDialogFlag = $event),
      width: 520,
      "destroy-on-close": true,
      "append-to-body": true,
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "custom-class": "ds-setting-drawer header-small-mb"
    }, {
      footer: withCtx(() => [
        createVNode(_component_a_space, { class: "dialog-footer" }, {
          default: withCtx(() => [
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.testDataSource
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.testDataSource")), 1)
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode(_component_a_button, {
              onClick: _cache[2] || (_cache[2] = ($event) => $data.showDataSourceDialogFlag = false)
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
              ]),
              _: 1
            }),
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.saveDataSource
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
              ]),
              _: 1
            }, 8, ["onClick"])
          ]),
          _: 1
        })
      ]),
      default: withCtx(() => [
        createVNode(_component_a_form, {
          model: $props.optionModel.http,
          rules: $data.formRules,
          ref: "dsForm",
          "label-width": "160px",
          labelAlign: "left",
          class: "ds-form tpf-form"
        }, {
          default: withCtx(() => [
            createVNode(_component_a_form_item, {
              label: _ctx.i18nt("designer.setting.dsRequestURL"),
              name: "url"
            }, {
              default: withCtx(() => [
                createVNode(_component_a_input, {
                  value: $props.optionModel.http.url,
                  "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.http.url = $event)
                }, null, 8, ["value"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(_component_a_form_item, {
              label: _ctx.i18nt("designer.setting.dsRequestMethod"),
              name: "method"
            }, {
              default: withCtx(() => [
                createVNode(_component_a_radio_group, {
                  value: $props.optionModel.http.method,
                  "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.http.method = $event)
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_radio_button, { value: "get" }, {
                      default: withCtx(() => [
                        createTextVNode("get")
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_radio_button, { value: "post" }, {
                      default: withCtx(() => [
                        createTextVNode("post")
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_radio_button, { value: "put" }, {
                      default: withCtx(() => [
                        createTextVNode("put")
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_radio_button, { value: "delete" }, {
                      default: withCtx(() => [
                        createTextVNode("delete")
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                }, 8, ["value"])
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(_component_a_form_item, {
              label: _ctx.i18nt("designer.setting.dsRequestParams")
            }, {
              default: withCtx(() => [
                (openBlock(true), createElementBlock(Fragment, null, renderList($data.paramsList, (rp, pIdx) => {
                  return openBlock(), createBlock(_component_a_row, {
                    class: "rd-row",
                    gutter: 8,
                    key: pIdx
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_col, { span: 10 }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            name: "params." + pIdx + ".name",
                            "label-width": 0
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_input, {
                                value: rp.name,
                                "onUpdate:value": ($event) => rp.name = $event,
                                placeholder: _ctx.i18nt("designer.setting.dsRequestNameInputPlaceholder")
                              }, null, 8, ["value", "onUpdate:value", "placeholder"])
                            ]),
                            _: 2
                          }, 1032, ["name"])
                        ]),
                        _: 2
                      }, 1024),
                      createVNode(_component_a_col, { span: 10 }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            name: "params." + pIdx + ".value",
                            "label-width": 0
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_input, {
                                value: rp.value,
                                "onUpdate:value": ($event) => rp.value = $event,
                                placeholder: _ctx.i18nt("designer.setting.dsRequestValueInputPlaceholder")
                              }, null, 8, ["value", "onUpdate:value", "placeholder"])
                            ]),
                            _: 2
                          }, 1032, ["name"])
                        ]),
                        _: 2
                      }, 1024),
                      (openBlock(), createBlock(_component_a_col, {
                        span: 3,
                        key: $data.paramsList.length
                      }, {
                        default: withCtx(() => [
                          createVNode(_component_a_button, {
                            type: "primary",
                            onClick: ($event) => $options.deleteRequestParam(pIdx)
                          }, {
                            default: withCtx(() => [
                              createTextVNode(" 删除 ")
                            ]),
                            _: 2
                          }, 1032, ["onClick"])
                        ]),
                        _: 2
                      }, 1024))
                    ]),
                    _: 2
                  }, 1024);
                }), 128)),
                createVNode(_component_a_row, null, {
                  default: withCtx(() => [
                    createVNode(_component_a_col, { span: 6 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_button, {
                          type: "primary",
                          onClick: $options.addRequestParam
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addRequestParam")), 1)
                          ]),
                          _: 1
                        }, 8, ["onClick"])
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(_component_a_form_item, {
              label: _ctx.i18nt("designer.setting.dsRequestData")
            }, {
              default: withCtx(() => [
                (openBlock(true), createElementBlock(Fragment, null, renderList($data.dataList, (rd, dIdx) => {
                  return openBlock(), createBlock(_component_a_row, {
                    class: "rd-row",
                    gutter: 8,
                    key: dIdx
                  }, {
                    default: withCtx(() => [
                      createVNode(_component_a_col, { span: 10 }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            name: "data." + dIdx + ".name",
                            "label-width": 0
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_input, {
                                value: rd.name,
                                "onUpdate:value": ($event) => rd.name = $event,
                                placeholder: _ctx.i18nt("designer.setting.dsRequestNameInputPlaceholder")
                              }, null, 8, ["value", "onUpdate:value", "placeholder"])
                            ]),
                            _: 2
                          }, 1032, ["name"])
                        ]),
                        _: 2
                      }, 1024),
                      createVNode(_component_a_col, { span: 10 }, {
                        default: withCtx(() => [
                          createVNode(_component_a_form_item, {
                            name: "data." + dIdx + ".value",
                            "label-width": 0
                          }, {
                            default: withCtx(() => [
                              createVNode(_component_a_input, {
                                value: rd.value,
                                "onUpdate:value": ($event) => rd.value = $event,
                                placeholder: _ctx.i18nt("designer.setting.dsRequestValueInputPlaceholder")
                              }, null, 8, ["value", "onUpdate:value", "placeholder"])
                            ]),
                            _: 2
                          }, 1032, ["name"])
                        ]),
                        _: 2
                      }, 1024),
                      (openBlock(), createBlock(_component_a_col, {
                        span: 3,
                        key: $data.dataList.length
                      }, {
                        default: withCtx(() => [
                          createVNode(_component_a_button, {
                            type: "primary",
                            onClick: ($event) => $options.deleteRequestData(dIdx)
                          }, {
                            default: withCtx(() => [
                              createTextVNode(" 删除 ")
                            ]),
                            _: 2
                          }, 1032, ["onClick"])
                        ]),
                        _: 2
                      }, 1024))
                    ]),
                    _: 2
                  }, 1024);
                }), 128)),
                createVNode(_component_a_row, null, {
                  default: withCtx(() => [
                    createVNode(_component_a_col, { span: 6 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_button, {
                          type: "primary",
                          onClick: $options.addRequestData
                        }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addRequestData")), 1)
                          ]),
                          _: 1
                        }, 8, ["onClick"])
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["label"]),
            createVNode(_component_a_form_item, { label: `请求前数据处理` }, {
              default: withCtx(() => [
                createVNode(_component_a_button, {
                  type: "info",
                  shape: "round",
                  onClick: $options.editReqDataHandlerCode,
                  class: normalizeClass([$props.optionModel.dataReqHandlerCode ? "button-text-highlight" : ""])
                }, {
                  default: withCtx(() => [
                    createTextVNode(" 处理函数配置 ")
                  ]),
                  _: 1
                }, 8, ["onClick", "class"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: `接口响应数据处理` }, {
              default: withCtx(() => [
                createVNode(_component_a_button, {
                  type: "info",
                  shape: "round",
                  onClick: $options.editDataHandlerCode,
                  class: normalizeClass([$props.optionModel.dataHandlerCode ? "button-text-highlight" : ""])
                }, {
                  default: withCtx(() => [
                    createTextVNode(" 处理函数配置 ")
                  ]),
                  _: 1
                }, 8, ["onClick", "class"])
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["model", "rules"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.testDataSource"),
      visible: $data.showTestDataSourceDialogFlag,
      "onUpdate:visible": _cache[7] || (_cache[7] = ($event) => $data.showTestDataSourceDialogFlag = $event),
      "show-close": true,
      "custom-class": "drag-dialog small-padding-dialog",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      width: "750px",
      "destroy-on-close": true
    }, {
      default: withCtx(() => [
        createVNode(_component_a_alert, {
          type: "info",
          closable: false,
          message: "请求配置"
        }),
        createVNode(_component_code_editor, {
          mode: "json",
          readonly: false,
          modelValue: $data.dsvJson,
          "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.dsvJson = $event),
          class: "dsv-json-editor"
        }, null, 8, ["modelValue"]),
        createVNode(_component_a_space, { class: "footer-button" }, {
          default: withCtx(() => [
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.doDataSourceRequest
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.executeDataSource")), 1)
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode(_component_a_button, {
              type: "primary",
              plain: "",
              onClick: $options.clearRequestResult
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.clearRequestResult")), 1)
              ]),
              _: 1
            }, 8, ["onClick"]),
            createVNode(_component_a_button, {
              onClick: _cache[5] || (_cache[5] = ($event) => $data.showTestDataSourceDialogFlag = false)
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        createVNode(_component_a_alert, {
          type: "info",
          closable: false,
          message: _ctx.i18nt("designer.setting.dsRequestResult")
        }, null, 8, ["message"]),
        createVNode(_component_code_editor, {
          mode: "json",
          readonly: true,
          modelValue: $data.dsResultJson,
          "onUpdate:modelValue": _cache[6] || (_cache[6] = ($event) => $data.dsResultJson = $event),
          ref: "dsResultEditor"
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_CodeModalEditor, {
      modelValue: $props.optionModel.dataReqHandlerCode,
      "onUpdate:modelValue": _cache[8] || (_cache[8] = ($event) => $props.optionModel.dataReqHandlerCode = $event),
      ref: "CodeReqModalEditorRef",
      "event-header": `function(data){`
    }, null, 8, ["modelValue", "event-header"]),
    createVNode(_component_CodeModalEditor, {
      modelValue: $props.optionModel.dataHandlerCode,
      "onUpdate:modelValue": _cache[9] || (_cache[9] = ($event) => $props.optionModel.dataHandlerCode = $event),
      ref: "CodeModalEditorRef",
      "event-header": `function(data){`
    }, null, 8, ["modelValue", "event-header"])
  ], 64);
}
const HttpEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3z, [["render", _sfc_render$3z], ["__scopeId", "data-v-64609521"]]);
const _sfc_main$3y = {
  name: "data-table-dsEnabled-editor",
  mixins: [i18n$1],
  components: { HttpEditor, CodeModalEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      tableDataOptions: ""
    };
  },
  methods: {
    saveTableData() {
      try {
        this.optionModel.dataSource = JSON.parse(this.tableDataOptions);
      } catch (ex) {
        this.$message.error(this.i18nt("designer.hint.invalidOptionsData") + ex.message);
      }
    },
    openTableDataEdit() {
      this.tableDataOptions = JSON.stringify(this.optionModel.dataSource, null, "  ");
      this.$refs.CodeModalEditorRef.open(this.tableDataOptions);
    }
  }
};
function _sfc_render$3y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_button = resolveComponent("a-button");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  const _component_HttpEditor = resolveComponent("HttpEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.dsEnabled")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_switch, {
          checked: $props.optionModel.dsEnabled,
          "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.dsEnabled = $event)
        }, null, 8, ["checked"])
      ]),
      _: 1
    }, 8, ["label"]),
    !$props.optionModel.dsEnabled ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      label: _ctx.i18nt("designer.setting.tableDataEdit")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "primary",
          shape: "round",
          onClick: $options.openTableDataEdit
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.editAction")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    createVNode(_component_CodeModalEditor, {
      ref: "CodeModalEditorRef",
      mode: "json",
      readonly: false,
      modelValue: $data.tableDataOptions,
      "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.tableDataOptions = $event),
      title: _ctx.i18nt("designer.setting.tableDataEdit"),
      onSave: $options.saveTableData
    }, null, 8, ["modelValue", "title", "onSave"]),
    !!$props.optionModel.dsEnabled ? (openBlock(), createBlock(_component_HttpEditor, {
      key: 1,
      designer: $props.designer,
      "selected-widget": $props.selectedWidget,
      optionModel: $props.optionModel
    }, null, 8, ["designer", "selected-widget", "optionModel"])) : createCommentVNode("", true)
  ], 64);
}
const dataTableDsEnabledEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3y, [["render", _sfc_render$3y]]);
const __vite_glob_0_16 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableDsEnabledEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3x = {
  name: "pagination-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      visible: false,
      pageSizeOptionsList: ["10", "20", "50", "100"],
      positionList: [
        { value: "topLeft ", label: "topLeft " },
        { value: "topCenter", label: "topCenter" },
        { value: "topRight", label: "topRight" },
        { value: "bottomLeft", label: "bottomLeft" },
        { value: "bottomCenter", label: "bottomCenter" },
        { value: "bottomRight", label: "bottomRight" }
      ]
    };
  },
  computed: {
    pageSizeList() {
      const pageSizeOptions = this.optionModel.pagination.pageSizeOptions.map(
        (item) => Number(item)
      );
      if (pageSizeOptions.length === 0) {
        return [];
      }
      return pageSizeOptions.sort((a, b) => a - b);
    },
    selectPosition: {
      get() {
        return this.optionModel.pagination.position[0];
      },
      set(value2) {
        this.optionModel.pagination.position[0] = value2;
      }
    }
  },
  methods: {
    pageSizeOptionsChange() {
      this.optionModel.pagination.pageSize = this.pageSizeList[0] || 20;
    },
    editPagination() {
      this.visible = true;
    }
  }
};
function _sfc_render$3x(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_drawer = resolveComponent("a-drawer");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.showPagination")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_space, null, {
          default: withCtx(() => [
            createVNode(_component_a_switch, {
              checked: $props.optionModel.showPagination,
              "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showPagination = $event)
            }, null, 8, ["checked"]),
            $props.optionModel.showPagination ? (openBlock(), createBlock(_component_a_button, {
              key: 0,
              type: "primary",
              shape: "round",
              size: "small",
              onClick: $options.editPagination
            }, {
              default: withCtx(() => [
                createTextVNode(" 编辑 ")
              ]),
              _: 1
            }, 8, ["onClick"])) : createCommentVNode("", true)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_drawer, {
      class: "editor-Selection-drawer",
      visible: $data.visible,
      "onUpdate:visible": _cache[7] || (_cache[7] = ($event) => $data.visible = $event),
      title: "分页配置",
      placement: "right"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_form, {
          class: "editor-Selection-form",
          model: $props.optionModel.pagination,
          layout: "horizontal"
        }, {
          default: withCtx(() => [
            createVNode(_component_a_form_item, { label: "默认的每页条数" }, {
              default: withCtx(() => [
                createVNode(_component_a_select, {
                  value: $props.optionModel.pagination.pageSize,
                  "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.pagination.pageSize = $event)
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList($options.pageSizeList, (item) => {
                      return openBlock(), createBlock(_component_a_select_option, {
                        key: item,
                        value: item
                      }, {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(item), 1)
                        ]),
                        _: 2
                      }, 1032, ["value"]);
                    }), 128))
                  ]),
                  _: 1
                }, 8, ["value"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "指定每页可以显示多少条" }, {
              default: withCtx(() => [
                createVNode(_component_a_select, {
                  mode: "tags",
                  value: $props.optionModel.pagination.pageSizeOptions,
                  "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.pagination.pageSizeOptions = $event),
                  onChange: $options.pageSizeOptionsChange
                }, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList($data.pageSizeOptionsList, (item) => {
                      return openBlock(), createBlock(_component_a_select_option, {
                        key: item,
                        value: item
                      }, {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(item), 1)
                        ]),
                        _: 2
                      }, 1032, ["value"]);
                    }), 128))
                  ]),
                  _: 1
                }, 8, ["value", "onChange"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "只有一页时是否隐藏分页器" }, {
              default: withCtx(() => [
                createVNode(_component_a_switch, {
                  checked: $props.optionModel.pagination.hideOnSinglePage,
                  "onUpdate:checked": _cache[3] || (_cache[3] = ($event) => $props.optionModel.pagination.hideOnSinglePage = $event)
                }, null, 8, ["checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "是否可以快速跳转至某页" }, {
              default: withCtx(() => [
                createVNode(_component_a_switch, {
                  checked: $props.optionModel.pagination.showQuickJumper,
                  "onUpdate:checked": _cache[4] || (_cache[4] = ($event) => $props.optionModel.pagination.showQuickJumper = $event)
                }, null, 8, ["checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "是否展示 pageSize 切换器" }, {
              default: withCtx(() => [
                createVNode(_component_a_switch, {
                  checked: $props.optionModel.pagination.showSizeChanger,
                  "onUpdate:checked": _cache[5] || (_cache[5] = ($event) => $props.optionModel.pagination.showSizeChanger = $event)
                }, null, 8, ["checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "分页器位置" }, {
              default: withCtx(() => [
                createVNode(_component_a_select, {
                  value: $options.selectPosition,
                  "onUpdate:value": _cache[6] || (_cache[6] = ($event) => $options.selectPosition = $event),
                  options: $data.positionList
                }, null, 8, ["value", "options"])
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["model"])
      ]),
      _: 1
    }, 8, ["visible"])
  ], 64);
}
const dataTablePaginationEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3x, [["render", _sfc_render$3x]]);
const __vite_glob_0_17 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTablePaginationEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3w = {
  name: "rowKey-editor",
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {}
};
function _sfc_render$3w(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "列表主键(唯一性)" }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.rowKey,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.rowKey = $event),
        valueModifiers: { trim: true }
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const dataTableRowKeyEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3w, [["render", _sfc_render$3w]]);
const __vite_glob_0_18 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableRowKeyEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3v = {
  name: "rowSelection-editor",
  mixins: [i18n$1],
  components: { CodeModalEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      visible: false,
      eventParams: []
    };
  },
  methods: {
    editSelections() {
      this.visible = true;
    },
    editOnChange() {
      this.$refs.CodeModalEditorRef.open(this.optionModel.rowSelection.onChange);
    }
  }
};
function _sfc_render$3v(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_drawer = resolveComponent("a-drawer");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, { label: "启用左侧勾选设置" }, {
      default: withCtx(() => [
        createVNode(_component_a_space, null, {
          default: withCtx(() => [
            createVNode(_component_a_switch, {
              checked: $props.optionModel.rowSelection.hasRowSelection,
              "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.rowSelection.hasRowSelection = $event)
            }, null, 8, ["checked"]),
            $props.optionModel.rowSelection.hasRowSelection ? (openBlock(), createBlock(_component_a_button, {
              key: 0,
              type: "primary",
              plain: "",
              shape: "round",
              onClick: $options.editSelections
            }, {
              default: withCtx(() => [
                createTextVNode(" 编辑 ")
              ]),
              _: 1
            }, 8, ["onClick"])) : createCommentVNode("", true)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_drawer, {
      class: "editor-Selection-drawer",
      visible: $data.visible,
      "onUpdate:visible": _cache[5] || (_cache[5] = ($event) => $data.visible = $event),
      title: "左侧勾选设置",
      placement: "right"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_form, {
          class: "editor-Selection-form",
          model: $props.optionModel.rowSelection,
          layout: "horizontal"
        }, {
          default: withCtx(() => [
            createVNode(_component_a_form_item, { label: "固定在左边" }, {
              default: withCtx(() => [
                createVNode(_component_a_switch, {
                  checked: $props.optionModel.rowSelection.fixed,
                  "onUpdate:checked": _cache[1] || (_cache[1] = ($event) => $props.optionModel.rowSelection.fixed = $event)
                }, null, 8, ["checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "当数据被删除时仍然保留选项的 key" }, {
              default: withCtx(() => [
                createVNode(_component_a_switch, {
                  checked: $props.optionModel.rowSelection.preserveSelectedRowKeys,
                  "onUpdate:checked": _cache[2] || (_cache[2] = ($event) => $props.optionModel.rowSelection.preserveSelectedRowKeys = $event)
                }, null, 8, ["checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "自定义列表选择框宽度" }, {
              default: withCtx(() => [
                createVNode(_component_a_input_number, {
                  min: 20,
                  max: 200,
                  value: $props.optionModel.rowSelection.columnWidth,
                  "onUpdate:value": _cache[3] || (_cache[3] = ($event) => $props.optionModel.rowSelection.columnWidth = $event)
                }, null, 8, ["value"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "自定义列表选择框标题" }, {
              default: withCtx(() => [
                createVNode(_component_a_input, {
                  value: $props.optionModel.rowSelection.columnTitle,
                  "onUpdate:value": _cache[4] || (_cache[4] = ($event) => $props.optionModel.rowSelection.columnTitle = $event)
                }, null, 8, ["value"])
              ]),
              _: 1
            }),
            createVNode(_component_a_form_item, { label: "onChange" }, {
              default: withCtx(() => [
                createVNode(_component_a_button, {
                  type: "info",
                  plain: "",
                  shape: "round",
                  class: normalizeClass([!!$props.optionModel.rowSelection.onChange ? "button-text-highlight" : ""]),
                  onClick: $options.editOnChange
                }, {
                  default: withCtx(() => [
                    createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
                  ]),
                  _: 1
                }, 8, ["class", "onClick"])
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["model"])
      ]),
      _: 1
    }, 8, ["visible"]),
    createVNode(_component_CodeModalEditor, {
      modelValue: $props.optionModel.rowSelection.onChange,
      "onUpdate:modelValue": _cache[6] || (_cache[6] = ($event) => $props.optionModel.rowSelection.onChange = $event),
      ref: "CodeModalEditorRef",
      title: `onChange事件`,
      "event-header": `function onChange(selectedRowKeys, selectedRows) {`
    }, null, 8, ["modelValue", "event-header"])
  ], 64);
}
const dataTableSelectionsEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3v, [["render", _sfc_render$3v]]);
const __vite_glob_0_19 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableSelectionsEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3u = {
  name: "showButtonsColumn-editor",
  mixins: [i18n$1],
  components: { CodeModalEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      showButtonsEditDialog: false,
      currentEditBtn: {}
    };
  },
  methods: {
    editClickEvent(row) {
      this.currentEditBtn = row;
      this.$refs.CodeModalEditorRef.open(row.onClick);
    },
    addOperationButton() {
      this.optionModel.operationButtons = this.optionModel.operationButtons || [];
      this.optionModel.operationButtons.push({
        name: "btn" + generateId(),
        label: "new btn",
        type: "text",
        size: "small",
        shape: "default",
        hidden: false,
        disabled: false,
        onClick: ""
      });
    },
    onButtonNameFocus(event2) {
      this.oldButtonName = event2.target.value;
    },
    onButtonNameChange(newName, btnIdx) {
      let sameNameFlag = false;
      this.optionModel.operationButtons.map((tb, tbIdx) => {
        if (tb.name === newName && tbIdx !== btnIdx) {
          sameNameFlag = true;
        }
      });
      if (sameNameFlag) {
        this.$message.error(this.i18nt("designer.setting.operationButtonDuplicatedNameError"));
        this.optionModel.operationButtons[btnIdx].name = this.oldButtonName;
      }
    },
    deleteOperationButton(idx) {
      TpfConfirm({
        type: "confirm",
        content: this.i18nt("designer.setting.deleteOperationButtonHint"),
        title: this.i18nt("render.hint.prompt"),
        okText: this.i18nt("render.hint.confirm"),
        cancelText: this.i18nt("render.hint.cancel")
      }).then(() => {
        this.optionModel.operationButtons.splice(idx, 1);
      }).catch((error2) => {
      });
    },
    editButtonsColumn() {
      this.showButtonsEditDialog = true;
    }
  }
};
const _withScopeId$3 = (n) => (pushScopeId("data-v-dd00e485"), n = n(), popScopeId(), n);
const _hoisted_1$D = /* @__PURE__ */ _withScopeId$3(() => /* @__PURE__ */ createElementVNode("i", { class: "iconfont icon-drag drag-handler" }, null, -1));
const _hoisted_2$q = { class: "dialog-footer" };
function _sfc_render$3u(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_col = resolveComponent("a-col");
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_row = resolveComponent("a-row");
  const _component_a_divider = resolveComponent("a-divider");
  const _component_draggable = resolveComponent("draggable");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.showButtonsColumn")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_space, null, {
          default: withCtx(() => [
            createVNode(_component_a_switch, {
              checked: $props.optionModel.showButtonsColumn,
              "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showButtonsColumn = $event)
            }, null, 8, ["checked"]),
            !!$props.optionModel.showButtonsColumn ? (openBlock(), createBlock(_component_a_button, {
              key: 0,
              type: "primary",
              shape: "round",
              onClick: $options.editButtonsColumn
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.editAction")), 1)
              ]),
              _: 1
            }, 8, ["onClick"])) : createCommentVNode("", true)
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.buttonsColumnEdit"),
      visible: $data.showButtonsEditDialog,
      "onUpdate:visible": _cache[6] || (_cache[6] = ($event) => $data.showButtonsEditDialog = $event),
      "show-close": true,
      dialogClass: "drag-dialog",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true,
      width: "1250px"
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_2$q, [
          createVNode(_component_a_button, {
            size: "default",
            onClick: _cache[5] || (_cache[5] = ($event) => $data.showButtonsEditDialog = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.closePreview")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_form, {
          "label-width": "110",
          layout: "horizontal",
          model: $props.optionModel
        }, {
          default: withCtx(() => [
            createVNode(_component_a_row, { gutter: 8 }, {
              default: withCtx(() => [
                createVNode(_component_a_col, { span: 11 }, {
                  default: withCtx(() => [
                    createVNode(_component_a_form_item, {
                      name: "buttonsColumnTitle",
                      label: _ctx.i18nt("designer.setting.buttonsColumnTitle")
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_input, {
                          value: $props.optionModel.buttonsColumnTitle,
                          "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.buttonsColumnTitle = $event)
                        }, null, 8, ["value"])
                      ]),
                      _: 1
                    }, 8, ["label"])
                  ]),
                  _: 1
                }),
                createVNode(_component_a_col, { span: 6 }, {
                  default: withCtx(() => [
                    createVNode(_component_a_form_item, {
                      name: "buttonsColumnWidth",
                      label: _ctx.i18nt("designer.setting.buttonsColumnWidth")
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_input_number, {
                          value: $props.optionModel.buttonsColumnWidth,
                          "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.buttonsColumnWidth = $event)
                        }, null, 8, ["value"])
                      ]),
                      _: 1
                    }, 8, ["label"])
                  ]),
                  _: 1
                }),
                createVNode(_component_a_col, { span: 5 }, {
                  default: withCtx(() => [
                    createVNode(_component_a_form_item, {
                      name: "buttonsColumnFixed",
                      label: _ctx.i18nt("designer.setting.fixedColumn")
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_select, {
                          value: $props.optionModel.buttonsColumnFixed,
                          "onUpdate:value": _cache[3] || (_cache[3] = ($event) => $props.optionModel.buttonsColumnFixed = $event),
                          allowClear: "",
                          style: { "width": "100%" }
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_select_option, { value: "left" }, {
                              default: withCtx(() => [
                                createTextVNode("left")
                              ]),
                              _: 1
                            }),
                            createVNode(_component_a_select_option, { value: "right" }, {
                              default: withCtx(() => [
                                createTextVNode("right")
                              ]),
                              _: 1
                            })
                          ]),
                          _: 1
                        }, 8, ["value"])
                      ]),
                      _: 1
                    }, 8, ["label"])
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            createVNode(_component_a_row, null, {
              default: withCtx(() => [
                createVNode(_component_a_col, { span: 24 }, {
                  default: withCtx(() => [
                    createVNode(_component_a_divider, { "content-position": "left" }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.operationButtonsSetting")), 1)
                      ]),
                      _: 1
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            createVNode(_component_draggable, mergeProps({
              modelValue: $props.optionModel.operationButtons,
              "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $props.optionModel.operationButtons = $event),
              "item-key": "id"
            }, { ghostClass: "ghost", handle: ".drag-handler" }), {
              item: withCtx(({ element: btn, index: bIdx }) => [
                createVNode(_component_a_row, {
                  gutter: 8,
                  class: "button-row"
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_col, {
                      span: 1,
                      class: "drag-sort-col"
                    }, {
                      default: withCtx(() => [
                        _hoisted_1$D
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_col, { span: 3 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".name",
                          label: _ctx.i18nt("designer.setting.operationButtonName")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_input, {
                              value: btn.name,
                              "onUpdate:value": ($event) => btn.name = $event,
                              onFocus: $options.onButtonNameFocus,
                              onChange: (event2) => $options.onButtonNameChange(event2.target.value, bIdx),
                              placeholder: _ctx.i18nt("designer.setting.operationButtonName")
                            }, null, 8, ["value", "onUpdate:value", "onFocus", "onChange", "placeholder"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 3 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".label",
                          label: _ctx.i18nt("designer.setting.operationButtonLabel")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_input, {
                              value: btn.label,
                              "onUpdate:value": ($event) => btn.label = $event,
                              placeholder: _ctx.i18nt("designer.setting.operationButtonLabel")
                            }, null, 8, ["value", "onUpdate:value", "placeholder"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 3 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".type",
                          label: _ctx.i18nt("designer.setting.operationButtonType")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_select, {
                              value: btn.type,
                              "onUpdate:value": ($event) => btn.type = $event,
                              placeholder: _ctx.i18nt("designer.setting.operationButtonType")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_select_option, { value: "primary" }, {
                                  default: withCtx(() => [
                                    createTextVNode("primary")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "ghost" }, {
                                  default: withCtx(() => [
                                    createTextVNode("ghost")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "dashed" }, {
                                  default: withCtx(() => [
                                    createTextVNode("dashed")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "text" }, {
                                  default: withCtx(() => [
                                    createTextVNode("text")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "link" }, {
                                  default: withCtx(() => [
                                    createTextVNode("link")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "default" }, {
                                  default: withCtx(() => [
                                    createTextVNode("default")
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 2
                            }, 1032, ["value", "onUpdate:value", "placeholder"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 3 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".size",
                          label: _ctx.i18nt("designer.setting.operationButtonSize")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_select, {
                              value: btn.size,
                              "onUpdate:value": ($event) => btn.size = $event,
                              placeholder: _ctx.i18nt("designer.setting.operationButtonSize")
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_select_option, { value: "large" }, {
                                  default: withCtx(() => [
                                    createTextVNode("large")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "default" }, {
                                  default: withCtx(() => [
                                    createTextVNode("default")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "small" }, {
                                  default: withCtx(() => [
                                    createTextVNode("small")
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 2
                            }, 1032, ["value", "onUpdate:value", "placeholder"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 4 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, { label: "按钮形状" }, {
                          default: withCtx(() => [
                            createVNode(_component_a_select, {
                              value: btn.shape,
                              "onUpdate:value": ($event) => btn.shape = $event
                            }, {
                              default: withCtx(() => [
                                createVNode(_component_a_select_option, { value: "default" }, {
                                  default: withCtx(() => [
                                    createTextVNode("default")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "circle" }, {
                                  default: withCtx(() => [
                                    createTextVNode("circle")
                                  ]),
                                  _: 1
                                }),
                                createVNode(_component_a_select_option, { value: "round" }, {
                                  default: withCtx(() => [
                                    createTextVNode("round")
                                  ]),
                                  _: 1
                                })
                              ]),
                              _: 2
                            }, 1032, ["value", "onUpdate:value"])
                          ]),
                          _: 2
                        }, 1024)
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 2 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".hidden",
                          label: _ctx.i18nt("designer.setting.operationButtonHidden")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_switch, {
                              checked: btn.hidden,
                              "onUpdate:checked": ($event) => btn.hidden = $event
                            }, null, 8, ["checked", "onUpdate:checked"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 2 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, {
                          name: "operationButtons." + bIdx + ".disabled",
                          label: _ctx.i18nt("designer.setting.operationButtonDisabled")
                        }, {
                          default: withCtx(() => [
                            createVNode(_component_a_switch, {
                              checked: btn.disabled,
                              "onUpdate:checked": ($event) => btn.disabled = $event
                            }, null, 8, ["checked", "onUpdate:checked"])
                          ]),
                          _: 2
                        }, 1032, ["name", "label"])
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 2 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_form_item, null, {
                          default: withCtx(() => [
                            createVNode(_component_a_button, {
                              class: normalizeClass([{ "button-text-highlight": !!btn.onClick }]),
                              onClick: ($event) => $options.editClickEvent(btn)
                            }, {
                              default: withCtx(() => [
                                createTextVNode(" 点击事件 ")
                              ]),
                              _: 2
                            }, 1032, ["class", "onClick"])
                          ]),
                          _: 2
                        }, 1024)
                      ]),
                      _: 2
                    }, 1024),
                    createVNode(_component_a_col, { span: 1 }, {
                      default: withCtx(() => [
                        createVNode(_component_a_button, {
                          type: "link",
                          onClick: ($event) => $options.deleteOperationButton(bIdx)
                        }, {
                          default: withCtx(() => [
                            createTextVNode("删除")
                          ]),
                          _: 2
                        }, 1032, ["onClick"])
                      ]),
                      _: 2
                    }, 1024)
                  ]),
                  _: 2
                }, 1024)
              ]),
              _: 1
            }, 16, ["modelValue"]),
            createVNode(_component_a_row, { gutter: 0 }, {
              default: withCtx(() => [
                createVNode(_component_a_col, { span: 4 }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "primary",
                      size: "default",
                      onClick: $options.addOperationButton
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addOperationButton")), 1)
                      ]),
                      _: 1
                    }, 8, ["onClick"])
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["model"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_CodeModalEditor, {
      modelValue: $data.currentEditBtn.onClick,
      "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.currentEditBtn.onClick = $event),
      ref: "CodeModalEditorRef",
      "event-header": `${$data.currentEditBtn.name}.onClick(record,index,column,btn){`
    }, null, 8, ["modelValue", "event-header"])
  ], 64);
}
const dataTableShowButtonsColumnEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3u, [["render", _sfc_render$3u], ["__scopeId", "data-v-dd00e485"]]);
const __vite_glob_0_20 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableShowButtonsColumnEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3t = {
  name: "showIndex-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {}
};
function _sfc_render$3t(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showIndex")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showIndex,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showIndex = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableShowIndexEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3t, [["render", _sfc_render$3t]]);
const __vite_glob_0_21 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableShowIndexEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3s = {
  name: "stripe-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {}
};
function _sfc_render$3s(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.stripe")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.stripe,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.stripe = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableStripeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3s, [["render", _sfc_render$3s]]);
const __vite_glob_0_22 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableStripeEditor
}, Symbol.toStringTag, { value: "Module" }));
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) {
      symbols = symbols.filter(function(sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
    }
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function(key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function(key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _typeof(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof = function(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof(obj);
}
function _defineProperty(obj, key, value2) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value2,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value2;
  }
  return obj;
}
function _extends() {
  _extends = Object.assign || function(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
function _objectWithoutProperties(source, excluded) {
  if (source == null)
    return {};
  var target = _objectWithoutPropertiesLoose(source, excluded);
  var key, i;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0)
        continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key))
        continue;
      target[key] = source[key];
    }
  }
  return target;
}
var version = "1.14.0";
function userAgent(pattern2) {
  if (typeof window !== "undefined" && window.navigator) {
    return !!/* @__PURE__ */ navigator.userAgent.match(pattern2);
  }
}
var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i);
var Edge = userAgent(/Edge/i);
var FireFox = userAgent(/firefox/i);
var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);
var IOS = userAgent(/iP(ad|od|hone)/i);
var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);
var captureMode = {
  capture: false,
  passive: false
};
function on(el, event2, fn) {
  el.addEventListener(event2, fn, !IE11OrLess && captureMode);
}
function off(el, event2, fn) {
  el.removeEventListener(event2, fn, !IE11OrLess && captureMode);
}
function matches(el, selector) {
  if (!selector)
    return;
  selector[0] === ">" && (selector = selector.substring(1));
  if (el) {
    try {
      if (el.matches) {
        return el.matches(selector);
      } else if (el.msMatchesSelector) {
        return el.msMatchesSelector(selector);
      } else if (el.webkitMatchesSelector) {
        return el.webkitMatchesSelector(selector);
      }
    } catch (_) {
      return false;
    }
  }
  return false;
}
function getParentOrHost(el) {
  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;
}
function closest(el, selector, ctx, includeCTX) {
  if (el) {
    ctx = ctx || document;
    do {
      if (selector != null && (selector[0] === ">" ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {
        return el;
      }
      if (el === ctx)
        break;
    } while (el = getParentOrHost(el));
  }
  return null;
}
var R_SPACE = /\s+/g;
function toggleClass(el, name2, state) {
  if (el && name2) {
    if (el.classList) {
      el.classList[state ? "add" : "remove"](name2);
    } else {
      var className = (" " + el.className + " ").replace(R_SPACE, " ").replace(" " + name2 + " ", " ");
      el.className = (className + (state ? " " + name2 : "")).replace(R_SPACE, " ");
    }
  }
}
function css(el, prop, val) {
  var style = el && el.style;
  if (style) {
    if (val === void 0) {
      if (document.defaultView && document.defaultView.getComputedStyle) {
        val = document.defaultView.getComputedStyle(el, "");
      } else if (el.currentStyle) {
        val = el.currentStyle;
      }
      return prop === void 0 ? val : val[prop];
    } else {
      if (!(prop in style) && prop.indexOf("webkit") === -1) {
        prop = "-webkit-" + prop;
      }
      style[prop] = val + (typeof val === "string" ? "" : "px");
    }
  }
}
function matrix(el, selfOnly) {
  var appliedTransforms = "";
  if (typeof el === "string") {
    appliedTransforms = el;
  } else {
    do {
      var transform2 = css(el, "transform");
      if (transform2 && transform2 !== "none") {
        appliedTransforms = transform2 + " " + appliedTransforms;
      }
    } while (!selfOnly && (el = el.parentNode));
  }
  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
  return matrixFn && new matrixFn(appliedTransforms);
}
function find(ctx, tagName, iterator) {
  if (ctx) {
    var list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;
    if (iterator) {
      for (; i < n; i++) {
        iterator(list[i], i);
      }
    }
    return list;
  }
  return [];
}
function getWindowScrollingElement() {
  var scrollingElement = document.scrollingElement;
  if (scrollingElement) {
    return scrollingElement;
  } else {
    return document.documentElement;
  }
}
function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {
  if (!el.getBoundingClientRect && el !== window)
    return;
  var elRect, top2, left, bottom2, right2, height, width;
  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {
    elRect = el.getBoundingClientRect();
    top2 = elRect.top;
    left = elRect.left;
    bottom2 = elRect.bottom;
    right2 = elRect.right;
    height = elRect.height;
    width = elRect.width;
  } else {
    top2 = 0;
    left = 0;
    bottom2 = window.innerHeight;
    right2 = window.innerWidth;
    height = window.innerHeight;
    width = window.innerWidth;
  }
  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {
    container = container || el.parentNode;
    if (!IE11OrLess) {
      do {
        if (container && container.getBoundingClientRect && (css(container, "transform") !== "none" || relativeToNonStaticParent && css(container, "position") !== "static")) {
          var containerRect = container.getBoundingClientRect();
          top2 -= containerRect.top + parseInt(css(container, "border-top-width"));
          left -= containerRect.left + parseInt(css(container, "border-left-width"));
          bottom2 = top2 + elRect.height;
          right2 = left + elRect.width;
          break;
        }
      } while (container = container.parentNode);
    }
  }
  if (undoScale && el !== window) {
    var elMatrix = matrix(container || el), scaleX = elMatrix && elMatrix.a, scaleY = elMatrix && elMatrix.d;
    if (elMatrix) {
      top2 /= scaleY;
      left /= scaleX;
      width /= scaleX;
      height /= scaleY;
      bottom2 = top2 + height;
      right2 = left + width;
    }
  }
  return {
    top: top2,
    left,
    bottom: bottom2,
    right: right2,
    width,
    height
  };
}
function isScrolledPast(el, elSide, parentSide) {
  var parent = getParentAutoScrollElement(el, true), elSideVal = getRect(el)[elSide];
  while (parent) {
    var parentSideVal = getRect(parent)[parentSide], visible = void 0;
    if (parentSide === "top" || parentSide === "left") {
      visible = elSideVal >= parentSideVal;
    } else {
      visible = elSideVal <= parentSideVal;
    }
    if (!visible)
      return parent;
    if (parent === getWindowScrollingElement())
      break;
    parent = getParentAutoScrollElement(parent, false);
  }
  return false;
}
function getChild(el, childNum, options, includeDragEl) {
  var currentChild = 0, i = 0, children = el.children;
  while (i < children.length) {
    if (children[i].style.display !== "none" && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {
      if (currentChild === childNum) {
        return children[i];
      }
      currentChild++;
    }
    i++;
  }
  return null;
}
function lastChild(el, selector) {
  var last = el.lastElementChild;
  while (last && (last === Sortable.ghost || css(last, "display") === "none" || selector && !matches(last, selector))) {
    last = last.previousElementSibling;
  }
  return last || null;
}
function index(el, selector) {
  var index2 = 0;
  if (!el || !el.parentNode) {
    return -1;
  }
  while (el = el.previousElementSibling) {
    if (el.nodeName.toUpperCase() !== "TEMPLATE" && el !== Sortable.clone && (!selector || matches(el, selector))) {
      index2++;
    }
  }
  return index2;
}
function getRelativeScrollOffset(el) {
  var offsetLeft = 0, offsetTop = 0, winScroller = getWindowScrollingElement();
  if (el) {
    do {
      var elMatrix = matrix(el), scaleX = elMatrix.a, scaleY = elMatrix.d;
      offsetLeft += el.scrollLeft * scaleX;
      offsetTop += el.scrollTop * scaleY;
    } while (el !== winScroller && (el = el.parentNode));
  }
  return [offsetLeft, offsetTop];
}
function indexOfObject(arr, obj) {
  for (var i in arr) {
    if (!arr.hasOwnProperty(i))
      continue;
    for (var key in obj) {
      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key])
        return Number(i);
    }
  }
  return -1;
}
function getParentAutoScrollElement(el, includeSelf) {
  if (!el || !el.getBoundingClientRect)
    return getWindowScrollingElement();
  var elem = el;
  var gotSelf = false;
  do {
    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {
      var elemCSS = css(elem);
      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == "auto" || elemCSS.overflowX == "scroll") || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == "auto" || elemCSS.overflowY == "scroll")) {
        if (!elem.getBoundingClientRect || elem === document.body)
          return getWindowScrollingElement();
        if (gotSelf || includeSelf)
          return elem;
        gotSelf = true;
      }
    }
  } while (elem = elem.parentNode);
  return getWindowScrollingElement();
}
function extend(dst, src) {
  if (dst && src) {
    for (var key in src) {
      if (src.hasOwnProperty(key)) {
        dst[key] = src[key];
      }
    }
  }
  return dst;
}
function isRectEqual(rect1, rect2) {
  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);
}
var _throttleTimeout;
function throttle(callback, ms) {
  return function() {
    if (!_throttleTimeout) {
      var args = arguments, _this = this;
      if (args.length === 1) {
        callback.call(_this, args[0]);
      } else {
        callback.apply(_this, args);
      }
      _throttleTimeout = setTimeout(function() {
        _throttleTimeout = void 0;
      }, ms);
    }
  };
}
function cancelThrottle() {
  clearTimeout(_throttleTimeout);
  _throttleTimeout = void 0;
}
function scrollBy(el, x, y) {
  el.scrollLeft += x;
  el.scrollTop += y;
}
function clone(el) {
  var Polymer = window.Polymer;
  var $ = window.jQuery || window.Zepto;
  if (Polymer && Polymer.dom) {
    return Polymer.dom(el).cloneNode(true);
  } else if ($) {
    return $(el).clone(true)[0];
  } else {
    return el.cloneNode(true);
  }
}
var expando = "Sortable" + (/* @__PURE__ */ new Date()).getTime();
function AnimationStateManager() {
  var animationStates = [], animationCallbackId;
  return {
    captureAnimationState: function captureAnimationState() {
      animationStates = [];
      if (!this.options.animation)
        return;
      var children = [].slice.call(this.el.children);
      children.forEach(function(child) {
        if (css(child, "display") === "none" || child === Sortable.ghost)
          return;
        animationStates.push({
          target: child,
          rect: getRect(child)
        });
        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect);
        if (child.thisAnimationDuration) {
          var childMatrix = matrix(child, true);
          if (childMatrix) {
            fromRect.top -= childMatrix.f;
            fromRect.left -= childMatrix.e;
          }
        }
        child.fromRect = fromRect;
      });
    },
    addAnimationState: function addAnimationState(state) {
      animationStates.push(state);
    },
    removeAnimationState: function removeAnimationState(target) {
      animationStates.splice(indexOfObject(animationStates, {
        target
      }), 1);
    },
    animateAll: function animateAll(callback) {
      var _this = this;
      if (!this.options.animation) {
        clearTimeout(animationCallbackId);
        if (typeof callback === "function")
          callback();
        return;
      }
      var animating = false, animationTime = 0;
      animationStates.forEach(function(state) {
        var time2 = 0, target = state.target, fromRect = target.fromRect, toRect = getRect(target), prevFromRect = target.prevFromRect, prevToRect = target.prevToRect, animatingRect = state.rect, targetMatrix = matrix(target, true);
        if (targetMatrix) {
          toRect.top -= targetMatrix.f;
          toRect.left -= targetMatrix.e;
        }
        target.toRect = toRect;
        if (target.thisAnimationDuration) {
          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect
          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {
            time2 = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);
          }
        }
        if (!isRectEqual(toRect, fromRect)) {
          target.prevFromRect = fromRect;
          target.prevToRect = toRect;
          if (!time2) {
            time2 = _this.options.animation;
          }
          _this.animate(target, animatingRect, toRect, time2);
        }
        if (time2) {
          animating = true;
          animationTime = Math.max(animationTime, time2);
          clearTimeout(target.animationResetTimer);
          target.animationResetTimer = setTimeout(function() {
            target.animationTime = 0;
            target.prevFromRect = null;
            target.fromRect = null;
            target.prevToRect = null;
            target.thisAnimationDuration = null;
          }, time2);
          target.thisAnimationDuration = time2;
        }
      });
      clearTimeout(animationCallbackId);
      if (!animating) {
        if (typeof callback === "function")
          callback();
      } else {
        animationCallbackId = setTimeout(function() {
          if (typeof callback === "function")
            callback();
        }, animationTime);
      }
      animationStates = [];
    },
    animate: function animate(target, currentRect, toRect, duration) {
      if (duration) {
        css(target, "transition", "");
        css(target, "transform", "");
        var elMatrix = matrix(this.el), scaleX = elMatrix && elMatrix.a, scaleY = elMatrix && elMatrix.d, translateX = (currentRect.left - toRect.left) / (scaleX || 1), translateY = (currentRect.top - toRect.top) / (scaleY || 1);
        target.animatingX = !!translateX;
        target.animatingY = !!translateY;
        css(target, "transform", "translate3d(" + translateX + "px," + translateY + "px,0)");
        this.forRepaintDummy = repaint(target);
        css(target, "transition", "transform " + duration + "ms" + (this.options.easing ? " " + this.options.easing : ""));
        css(target, "transform", "translate3d(0,0,0)");
        typeof target.animated === "number" && clearTimeout(target.animated);
        target.animated = setTimeout(function() {
          css(target, "transition", "");
          css(target, "transform", "");
          target.animated = false;
          target.animatingX = false;
          target.animatingY = false;
        }, duration);
      }
    }
  };
}
function repaint(target) {
  return target.offsetWidth;
}
function calculateRealTime(animatingRect, fromRect, toRect, options) {
  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;
}
var plugins = [];
var defaults = {
  initializeByDefault: true
};
var PluginManager = {
  mount: function mount(plugin) {
    for (var option2 in defaults) {
      if (defaults.hasOwnProperty(option2) && !(option2 in plugin)) {
        plugin[option2] = defaults[option2];
      }
    }
    plugins.forEach(function(p) {
      if (p.pluginName === plugin.pluginName) {
        throw "Sortable: Cannot mount plugin ".concat(plugin.pluginName, " more than once");
      }
    });
    plugins.push(plugin);
  },
  pluginEvent: function pluginEvent2(eventName, sortable, evt) {
    var _this = this;
    this.eventCanceled = false;
    evt.cancel = function() {
      _this.eventCanceled = true;
    };
    var eventNameGlobal = eventName + "Global";
    plugins.forEach(function(plugin) {
      if (!sortable[plugin.pluginName])
        return;
      if (sortable[plugin.pluginName][eventNameGlobal]) {
        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({
          sortable
        }, evt));
      }
      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {
        sortable[plugin.pluginName][eventName](_objectSpread2({
          sortable
        }, evt));
      }
    });
  },
  initializePlugins: function initializePlugins(sortable, el, defaults2, options) {
    plugins.forEach(function(plugin) {
      var pluginName = plugin.pluginName;
      if (!sortable.options[pluginName] && !plugin.initializeByDefault)
        return;
      var initialized = new plugin(sortable, el, sortable.options);
      initialized.sortable = sortable;
      initialized.options = sortable.options;
      sortable[pluginName] = initialized;
      _extends(defaults2, initialized.defaults);
    });
    for (var option2 in sortable.options) {
      if (!sortable.options.hasOwnProperty(option2))
        continue;
      var modified = this.modifyOption(sortable, option2, sortable.options[option2]);
      if (typeof modified !== "undefined") {
        sortable.options[option2] = modified;
      }
    }
  },
  getEventProperties: function getEventProperties(name2, sortable) {
    var eventProperties = {};
    plugins.forEach(function(plugin) {
      if (typeof plugin.eventProperties !== "function")
        return;
      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name2));
    });
    return eventProperties;
  },
  modifyOption: function modifyOption(sortable, name2, value2) {
    var modifiedValue;
    plugins.forEach(function(plugin) {
      if (!sortable[plugin.pluginName])
        return;
      if (plugin.optionListeners && typeof plugin.optionListeners[name2] === "function") {
        modifiedValue = plugin.optionListeners[name2].call(sortable[plugin.pluginName], value2);
      }
    });
    return modifiedValue;
  }
};
function dispatchEvent(_ref) {
  var sortable = _ref.sortable, rootEl2 = _ref.rootEl, name2 = _ref.name, targetEl = _ref.targetEl, cloneEl2 = _ref.cloneEl, toEl = _ref.toEl, fromEl = _ref.fromEl, oldIndex2 = _ref.oldIndex, newIndex2 = _ref.newIndex, oldDraggableIndex2 = _ref.oldDraggableIndex, newDraggableIndex2 = _ref.newDraggableIndex, originalEvent = _ref.originalEvent, putSortable2 = _ref.putSortable, extraEventProperties = _ref.extraEventProperties;
  sortable = sortable || rootEl2 && rootEl2[expando];
  if (!sortable)
    return;
  var evt, options = sortable.options, onName = "on" + name2.charAt(0).toUpperCase() + name2.substr(1);
  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent(name2, {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent("Event");
    evt.initEvent(name2, true, true);
  }
  evt.to = toEl || rootEl2;
  evt.from = fromEl || rootEl2;
  evt.item = targetEl || rootEl2;
  evt.clone = cloneEl2;
  evt.oldIndex = oldIndex2;
  evt.newIndex = newIndex2;
  evt.oldDraggableIndex = oldDraggableIndex2;
  evt.newDraggableIndex = newDraggableIndex2;
  evt.originalEvent = originalEvent;
  evt.pullMode = putSortable2 ? putSortable2.lastPutMode : void 0;
  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name2, sortable));
  for (var option2 in allEventProperties) {
    evt[option2] = allEventProperties[option2];
  }
  if (rootEl2) {
    rootEl2.dispatchEvent(evt);
  }
  if (options[onName]) {
    options[onName].call(sortable, evt);
  }
}
var _excluded = ["evt"];
var pluginEvent = function pluginEvent3(eventName, sortable) {
  var _ref = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, originalEvent = _ref.evt, data = _objectWithoutProperties(_ref, _excluded);
  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({
    dragEl,
    parentEl,
    ghostEl,
    rootEl,
    nextEl,
    lastDownEl,
    cloneEl,
    cloneHidden,
    dragStarted: moved,
    putSortable,
    activeSortable: Sortable.active,
    originalEvent,
    oldIndex,
    oldDraggableIndex,
    newIndex,
    newDraggableIndex,
    hideGhostForTarget: _hideGhostForTarget,
    unhideGhostForTarget: _unhideGhostForTarget,
    cloneNowHidden: function cloneNowHidden() {
      cloneHidden = true;
    },
    cloneNowShown: function cloneNowShown() {
      cloneHidden = false;
    },
    dispatchSortableEvent: function dispatchSortableEvent(name2) {
      _dispatchEvent({
        sortable,
        name: name2,
        originalEvent
      });
    }
  }, data));
};
function _dispatchEvent(info) {
  dispatchEvent(_objectSpread2({
    putSortable,
    cloneEl,
    targetEl: dragEl,
    rootEl,
    oldIndex,
    oldDraggableIndex,
    newIndex,
    newDraggableIndex
  }, info));
}
var dragEl, parentEl, ghostEl, rootEl, nextEl, lastDownEl, cloneEl, cloneHidden, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, activeGroup, putSortable, awaitingDragStarted = false, ignoreNextClick = false, sortables = [], tapEvt, touchEvt, lastDx, lastDy, tapDistanceLeft, tapDistanceTop, moved, lastTarget, lastDirection, pastFirstInvertThresh = false, isCircumstantialInvert = false, targetMoveDistance, ghostRelativeParent, ghostRelativeParentInitialScroll = [], _silent = false, savedInputChecked = [];
var documentExists = typeof document !== "undefined", PositionGhostAbsolutely = IOS, CSSFloatProperty = Edge || IE11OrLess ? "cssFloat" : "float", supportDraggable = documentExists && !ChromeForAndroid && !IOS && "draggable" in document.createElement("div"), supportCssPointerEvents = function() {
  if (!documentExists)
    return;
  if (IE11OrLess) {
    return false;
  }
  var el = document.createElement("x");
  el.style.cssText = "pointer-events:auto";
  return el.style.pointerEvents === "auto";
}(), _detectDirection = function _detectDirection2(el, options) {
  var elCSS = css(el), elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth), child1 = getChild(el, 0, options), child2 = getChild(el, 1, options), firstChildCSS = child1 && css(child1), secondChildCSS = child2 && css(child2), firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width, secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;
  if (elCSS.display === "flex") {
    return elCSS.flexDirection === "column" || elCSS.flexDirection === "column-reverse" ? "vertical" : "horizontal";
  }
  if (elCSS.display === "grid") {
    return elCSS.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
  }
  if (child1 && firstChildCSS["float"] && firstChildCSS["float"] !== "none") {
    var touchingSideChild2 = firstChildCSS["float"] === "left" ? "left" : "right";
    return child2 && (secondChildCSS.clear === "both" || secondChildCSS.clear === touchingSideChild2) ? "vertical" : "horizontal";
  }
  return child1 && (firstChildCSS.display === "block" || firstChildCSS.display === "flex" || firstChildCSS.display === "table" || firstChildCSS.display === "grid" || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === "none" || child2 && elCSS[CSSFloatProperty] === "none" && firstChildWidth + secondChildWidth > elWidth) ? "vertical" : "horizontal";
}, _dragElInRowColumn = function _dragElInRowColumn2(dragRect, targetRect, vertical) {
  var dragElS1Opp = vertical ? dragRect.left : dragRect.top, dragElS2Opp = vertical ? dragRect.right : dragRect.bottom, dragElOppLength = vertical ? dragRect.width : dragRect.height, targetS1Opp = vertical ? targetRect.left : targetRect.top, targetS2Opp = vertical ? targetRect.right : targetRect.bottom, targetOppLength = vertical ? targetRect.width : targetRect.height;
  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;
}, _detectNearestEmptySortable = function _detectNearestEmptySortable2(x, y) {
  var ret;
  sortables.some(function(sortable) {
    var threshold = sortable[expando].options.emptyInsertThreshold;
    if (!threshold || lastChild(sortable))
      return;
    var rect = getRect(sortable), insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold, insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;
    if (insideHorizontally && insideVertically) {
      return ret = sortable;
    }
  });
  return ret;
}, _prepareGroup = function _prepareGroup2(options) {
  function toFn(value2, pull) {
    return function(to, from, dragEl2, evt) {
      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;
      if (value2 == null && (pull || sameGroup)) {
        return true;
      } else if (value2 == null || value2 === false) {
        return false;
      } else if (pull && value2 === "clone") {
        return value2;
      } else if (typeof value2 === "function") {
        return toFn(value2(to, from, dragEl2, evt), pull)(to, from, dragEl2, evt);
      } else {
        var otherGroup = (pull ? to : from).options.group.name;
        return value2 === true || typeof value2 === "string" && value2 === otherGroup || value2.join && value2.indexOf(otherGroup) > -1;
      }
    };
  }
  var group = {};
  var originalGroup = options.group;
  if (!originalGroup || _typeof(originalGroup) != "object") {
    originalGroup = {
      name: originalGroup
    };
  }
  group.name = originalGroup.name;
  group.checkPull = toFn(originalGroup.pull, true);
  group.checkPut = toFn(originalGroup.put);
  group.revertClone = originalGroup.revertClone;
  options.group = group;
}, _hideGhostForTarget = function _hideGhostForTarget2() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, "display", "none");
  }
}, _unhideGhostForTarget = function _unhideGhostForTarget2() {
  if (!supportCssPointerEvents && ghostEl) {
    css(ghostEl, "display", "");
  }
};
if (documentExists) {
  document.addEventListener("click", function(evt) {
    if (ignoreNextClick) {
      evt.preventDefault();
      evt.stopPropagation && evt.stopPropagation();
      evt.stopImmediatePropagation && evt.stopImmediatePropagation();
      ignoreNextClick = false;
      return false;
    }
  }, true);
}
var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent2(evt) {
  if (dragEl) {
    evt = evt.touches ? evt.touches[0] : evt;
    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);
    if (nearest) {
      var event2 = {};
      for (var i in evt) {
        if (evt.hasOwnProperty(i)) {
          event2[i] = evt[i];
        }
      }
      event2.target = event2.rootEl = nearest;
      event2.preventDefault = void 0;
      event2.stopPropagation = void 0;
      nearest[expando]._onDragOver(event2);
    }
  }
};
var _checkOutsideTargetEl = function _checkOutsideTargetEl2(evt) {
  if (dragEl) {
    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);
  }
};
function Sortable(el, options) {
  if (!(el && el.nodeType && el.nodeType === 1)) {
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(el));
  }
  this.el = el;
  this.options = options = _extends({}, options);
  el[expando] = this;
  var defaults2 = {
    group: null,
    sort: true,
    disabled: false,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(el.nodeName) ? ">li" : ">*",
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: false,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: true,
    direction: function direction() {
      return _detectDirection(el, this.options);
    },
    ghostClass: "sortable-ghost",
    chosenClass: "sortable-chosen",
    dragClass: "sortable-drag",
    ignore: "a, img",
    filter: null,
    preventOnFilter: true,
    animation: 0,
    easing: null,
    setData: function setData(dataTransfer, dragEl2) {
      dataTransfer.setData("Text", dragEl2.textContent);
    },
    dropBubble: false,
    dragoverBubble: false,
    dataIdAttr: "data-id",
    delay: 0,
    delayOnTouchOnly: false,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: false,
    fallbackClass: "sortable-fallback",
    fallbackOnBody: false,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: Sortable.supportPointer !== false && "PointerEvent" in window && !Safari,
    emptyInsertThreshold: 5
  };
  PluginManager.initializePlugins(this, el, defaults2);
  for (var name2 in defaults2) {
    !(name2 in options) && (options[name2] = defaults2[name2]);
  }
  _prepareGroup(options);
  for (var fn in this) {
    if (fn.charAt(0) === "_" && typeof this[fn] === "function") {
      this[fn] = this[fn].bind(this);
    }
  }
  this.nativeDraggable = options.forceFallback ? false : supportDraggable;
  if (this.nativeDraggable) {
    this.options.touchStartThreshold = 1;
  }
  if (options.supportPointer) {
    on(el, "pointerdown", this._onTapStart);
  } else {
    on(el, "mousedown", this._onTapStart);
    on(el, "touchstart", this._onTapStart);
  }
  if (this.nativeDraggable) {
    on(el, "dragover", this);
    on(el, "dragenter", this);
  }
  sortables.push(this.el);
  options.store && options.store.get && this.sort(options.store.get(this) || []);
  _extends(this, AnimationStateManager());
}
Sortable.prototype = /** @lends Sortable.prototype */
{
  constructor: Sortable,
  _isOutsideThisEl: function _isOutsideThisEl(target) {
    if (!this.el.contains(target) && target !== this.el) {
      lastTarget = null;
    }
  },
  _getDirection: function _getDirection(evt, target) {
    return typeof this.options.direction === "function" ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;
  },
  _onTapStart: function _onTapStart(evt) {
    if (!evt.cancelable)
      return;
    var _this = this, el = this.el, options = this.options, preventOnFilter = options.preventOnFilter, type = evt.type, touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === "touch" && evt, target = (touch || evt).target, originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target, filter3 = options.filter;
    _saveInputCheckedState(el);
    if (dragEl) {
      return;
    }
    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {
      return;
    }
    if (originalTarget.isContentEditable) {
      return;
    }
    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === "SELECT") {
      return;
    }
    target = closest(target, options.draggable, el, false);
    if (target && target.animated) {
      return;
    }
    if (lastDownEl === target) {
      return;
    }
    oldIndex = index(target);
    oldDraggableIndex = index(target, options.draggable);
    if (typeof filter3 === "function") {
      if (filter3.call(this, evt, target, this)) {
        _dispatchEvent({
          sortable: _this,
          rootEl: originalTarget,
          name: "filter",
          targetEl: target,
          toEl: el,
          fromEl: el
        });
        pluginEvent("filter", _this, {
          evt
        });
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return;
      }
    } else if (filter3) {
      filter3 = filter3.split(",").some(function(criteria) {
        criteria = closest(originalTarget, criteria.trim(), el, false);
        if (criteria) {
          _dispatchEvent({
            sortable: _this,
            rootEl: criteria,
            name: "filter",
            targetEl: target,
            fromEl: el,
            toEl: el
          });
          pluginEvent("filter", _this, {
            evt
          });
          return true;
        }
      });
      if (filter3) {
        preventOnFilter && evt.cancelable && evt.preventDefault();
        return;
      }
    }
    if (options.handle && !closest(originalTarget, options.handle, el, false)) {
      return;
    }
    this._prepareDragStart(evt, touch, target);
  },
  _prepareDragStart: function _prepareDragStart(evt, touch, target) {
    var _this = this, el = _this.el, options = _this.options, ownerDocument = el.ownerDocument, dragStartFn;
    if (target && !dragEl && target.parentNode === el) {
      var dragRect = getRect(target);
      rootEl = el;
      dragEl = target;
      parentEl = dragEl.parentNode;
      nextEl = dragEl.nextSibling;
      lastDownEl = target;
      activeGroup = options.group;
      Sortable.dragged = dragEl;
      tapEvt = {
        target: dragEl,
        clientX: (touch || evt).clientX,
        clientY: (touch || evt).clientY
      };
      tapDistanceLeft = tapEvt.clientX - dragRect.left;
      tapDistanceTop = tapEvt.clientY - dragRect.top;
      this._lastX = (touch || evt).clientX;
      this._lastY = (touch || evt).clientY;
      dragEl.style["will-change"] = "all";
      dragStartFn = function dragStartFn2() {
        pluginEvent("delayEnded", _this, {
          evt
        });
        if (Sortable.eventCanceled) {
          _this._onDrop();
          return;
        }
        _this._disableDelayedDragEvents();
        if (!FireFox && _this.nativeDraggable) {
          dragEl.draggable = true;
        }
        _this._triggerDragStart(evt, touch);
        _dispatchEvent({
          sortable: _this,
          name: "choose",
          originalEvent: evt
        });
        toggleClass(dragEl, options.chosenClass, true);
      };
      options.ignore.split(",").forEach(function(criteria) {
        find(dragEl, criteria.trim(), _disableDraggable);
      });
      on(ownerDocument, "dragover", nearestEmptyInsertDetectEvent);
      on(ownerDocument, "mousemove", nearestEmptyInsertDetectEvent);
      on(ownerDocument, "touchmove", nearestEmptyInsertDetectEvent);
      on(ownerDocument, "mouseup", _this._onDrop);
      on(ownerDocument, "touchend", _this._onDrop);
      on(ownerDocument, "touchcancel", _this._onDrop);
      if (FireFox && this.nativeDraggable) {
        this.options.touchStartThreshold = 4;
        dragEl.draggable = true;
      }
      pluginEvent("delayStart", this, {
        evt
      });
      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {
        if (Sortable.eventCanceled) {
          this._onDrop();
          return;
        }
        on(ownerDocument, "mouseup", _this._disableDelayedDrag);
        on(ownerDocument, "touchend", _this._disableDelayedDrag);
        on(ownerDocument, "touchcancel", _this._disableDelayedDrag);
        on(ownerDocument, "mousemove", _this._delayedDragTouchMoveHandler);
        on(ownerDocument, "touchmove", _this._delayedDragTouchMoveHandler);
        options.supportPointer && on(ownerDocument, "pointermove", _this._delayedDragTouchMoveHandler);
        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);
      } else {
        dragStartFn();
      }
    }
  },
  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(e2) {
    var touch = e2.touches ? e2.touches[0] : e2;
    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {
      this._disableDelayedDrag();
    }
  },
  _disableDelayedDrag: function _disableDelayedDrag() {
    dragEl && _disableDraggable(dragEl);
    clearTimeout(this._dragStartTimer);
    this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function _disableDelayedDragEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, "mouseup", this._disableDelayedDrag);
    off(ownerDocument, "touchend", this._disableDelayedDrag);
    off(ownerDocument, "touchcancel", this._disableDelayedDrag);
    off(ownerDocument, "mousemove", this._delayedDragTouchMoveHandler);
    off(ownerDocument, "touchmove", this._delayedDragTouchMoveHandler);
    off(ownerDocument, "pointermove", this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function _triggerDragStart(evt, touch) {
    touch = touch || evt.pointerType == "touch" && evt;
    if (!this.nativeDraggable || touch) {
      if (this.options.supportPointer) {
        on(document, "pointermove", this._onTouchMove);
      } else if (touch) {
        on(document, "touchmove", this._onTouchMove);
      } else {
        on(document, "mousemove", this._onTouchMove);
      }
    } else {
      on(dragEl, "dragend", this);
      on(rootEl, "dragstart", this._onDragStart);
    }
    try {
      if (document.selection) {
        _nextTick(function() {
          document.selection.empty();
        });
      } else {
        window.getSelection().removeAllRanges();
      }
    } catch (err) {
    }
  },
  _dragStarted: function _dragStarted(fallback, evt) {
    awaitingDragStarted = false;
    if (rootEl && dragEl) {
      pluginEvent("dragStarted", this, {
        evt
      });
      if (this.nativeDraggable) {
        on(document, "dragover", _checkOutsideTargetEl);
      }
      var options = this.options;
      !fallback && toggleClass(dragEl, options.dragClass, false);
      toggleClass(dragEl, options.ghostClass, true);
      Sortable.active = this;
      fallback && this._appendGhost();
      _dispatchEvent({
        sortable: this,
        name: "start",
        originalEvent: evt
      });
    } else {
      this._nulling();
    }
  },
  _emulateDragOver: function _emulateDragOver() {
    if (touchEvt) {
      this._lastX = touchEvt.clientX;
      this._lastY = touchEvt.clientY;
      _hideGhostForTarget();
      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
      var parent = target;
      while (target && target.shadowRoot) {
        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);
        if (target === parent)
          break;
        parent = target;
      }
      dragEl.parentNode[expando]._isOutsideThisEl(target);
      if (parent) {
        do {
          if (parent[expando]) {
            var inserted = void 0;
            inserted = parent[expando]._onDragOver({
              clientX: touchEvt.clientX,
              clientY: touchEvt.clientY,
              target,
              rootEl: parent
            });
            if (inserted && !this.options.dragoverBubble) {
              break;
            }
          }
          target = parent;
        } while (parent = parent.parentNode);
      }
      _unhideGhostForTarget();
    }
  },
  _onTouchMove: function _onTouchMove(evt) {
    if (tapEvt) {
      var options = this.options, fallbackTolerance = options.fallbackTolerance, fallbackOffset = options.fallbackOffset, touch = evt.touches ? evt.touches[0] : evt, ghostMatrix = ghostEl && matrix(ghostEl, true), scaleX = ghostEl && ghostMatrix && ghostMatrix.a, scaleY = ghostEl && ghostMatrix && ghostMatrix.d, relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent), dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1), dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1);
      if (!Sortable.active && !awaitingDragStarted) {
        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {
          return;
        }
        this._onDragStart(evt, true);
      }
      if (ghostEl) {
        if (ghostMatrix) {
          ghostMatrix.e += dx - (lastDx || 0);
          ghostMatrix.f += dy - (lastDy || 0);
        } else {
          ghostMatrix = {
            a: 1,
            b: 0,
            c: 0,
            d: 1,
            e: dx,
            f: dy
          };
        }
        var cssMatrix = "matrix(".concat(ghostMatrix.a, ",").concat(ghostMatrix.b, ",").concat(ghostMatrix.c, ",").concat(ghostMatrix.d, ",").concat(ghostMatrix.e, ",").concat(ghostMatrix.f, ")");
        css(ghostEl, "webkitTransform", cssMatrix);
        css(ghostEl, "mozTransform", cssMatrix);
        css(ghostEl, "msTransform", cssMatrix);
        css(ghostEl, "transform", cssMatrix);
        lastDx = dx;
        lastDy = dy;
        touchEvt = touch;
      }
      evt.cancelable && evt.preventDefault();
    }
  },
  _appendGhost: function _appendGhost() {
    if (!ghostEl) {
      var container = this.options.fallbackOnBody ? document.body : rootEl, rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container), options = this.options;
      if (PositionGhostAbsolutely) {
        ghostRelativeParent = container;
        while (css(ghostRelativeParent, "position") === "static" && css(ghostRelativeParent, "transform") === "none" && ghostRelativeParent !== document) {
          ghostRelativeParent = ghostRelativeParent.parentNode;
        }
        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {
          if (ghostRelativeParent === document)
            ghostRelativeParent = getWindowScrollingElement();
          rect.top += ghostRelativeParent.scrollTop;
          rect.left += ghostRelativeParent.scrollLeft;
        } else {
          ghostRelativeParent = getWindowScrollingElement();
        }
        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);
      }
      ghostEl = dragEl.cloneNode(true);
      toggleClass(ghostEl, options.ghostClass, false);
      toggleClass(ghostEl, options.fallbackClass, true);
      toggleClass(ghostEl, options.dragClass, true);
      css(ghostEl, "transition", "");
      css(ghostEl, "transform", "");
      css(ghostEl, "box-sizing", "border-box");
      css(ghostEl, "margin", 0);
      css(ghostEl, "top", rect.top);
      css(ghostEl, "left", rect.left);
      css(ghostEl, "width", rect.width);
      css(ghostEl, "height", rect.height);
      css(ghostEl, "opacity", "0.8");
      css(ghostEl, "position", PositionGhostAbsolutely ? "absolute" : "fixed");
      css(ghostEl, "zIndex", "100000");
      css(ghostEl, "pointerEvents", "none");
      Sortable.ghost = ghostEl;
      container.appendChild(ghostEl);
      css(ghostEl, "transform-origin", tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + "% " + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + "%");
    }
  },
  _onDragStart: function _onDragStart(evt, fallback) {
    var _this = this;
    var dataTransfer = evt.dataTransfer;
    var options = _this.options;
    pluginEvent("dragStart", this, {
      evt
    });
    if (Sortable.eventCanceled) {
      this._onDrop();
      return;
    }
    pluginEvent("setupClone", this);
    if (!Sortable.eventCanceled) {
      cloneEl = clone(dragEl);
      cloneEl.draggable = false;
      cloneEl.style["will-change"] = "";
      this._hideClone();
      toggleClass(cloneEl, this.options.chosenClass, false);
      Sortable.clone = cloneEl;
    }
    _this.cloneId = _nextTick(function() {
      pluginEvent("clone", _this);
      if (Sortable.eventCanceled)
        return;
      if (!_this.options.removeCloneOnHide) {
        rootEl.insertBefore(cloneEl, dragEl);
      }
      _this._hideClone();
      _dispatchEvent({
        sortable: _this,
        name: "clone"
      });
    });
    !fallback && toggleClass(dragEl, options.dragClass, true);
    if (fallback) {
      ignoreNextClick = true;
      _this._loopId = setInterval(_this._emulateDragOver, 50);
    } else {
      off(document, "mouseup", _this._onDrop);
      off(document, "touchend", _this._onDrop);
      off(document, "touchcancel", _this._onDrop);
      if (dataTransfer) {
        dataTransfer.effectAllowed = "move";
        options.setData && options.setData.call(_this, dataTransfer, dragEl);
      }
      on(document, "drop", _this);
      css(dragEl, "transform", "translateZ(0)");
    }
    awaitingDragStarted = true;
    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));
    on(document, "selectstart", _this);
    moved = true;
    if (Safari) {
      css(document.body, "user-select", "none");
    }
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function _onDragOver(evt) {
    var el = this.el, target = evt.target, dragRect, targetRect, revert, options = this.options, group = options.group, activeSortable = Sortable.active, isOwner = activeGroup === group, canSort = options.sort, fromSortable = putSortable || activeSortable, vertical, _this = this, completedFired = false;
    if (_silent)
      return;
    function dragOverEvent(name2, extra) {
      pluginEvent(name2, _this, _objectSpread2({
        evt,
        isOwner,
        axis: vertical ? "vertical" : "horizontal",
        revert,
        dragRect,
        targetRect,
        canSort,
        fromSortable,
        target,
        completed,
        onMove: function onMove(target2, after2) {
          return _onMove(rootEl, el, dragEl, dragRect, target2, getRect(target2), evt, after2);
        },
        changed
      }, extra));
    }
    function capture() {
      dragOverEvent("dragOverAnimationCapture");
      _this.captureAnimationState();
      if (_this !== fromSortable) {
        fromSortable.captureAnimationState();
      }
    }
    function completed(insertion) {
      dragOverEvent("dragOverCompleted", {
        insertion
      });
      if (insertion) {
        if (isOwner) {
          activeSortable._hideClone();
        } else {
          activeSortable._showClone(_this);
        }
        if (_this !== fromSortable) {
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);
          toggleClass(dragEl, options.ghostClass, true);
        }
        if (putSortable !== _this && _this !== Sortable.active) {
          putSortable = _this;
        } else if (_this === Sortable.active && putSortable) {
          putSortable = null;
        }
        if (fromSortable === _this) {
          _this._ignoreWhileAnimating = target;
        }
        _this.animateAll(function() {
          dragOverEvent("dragOverAnimationComplete");
          _this._ignoreWhileAnimating = null;
        });
        if (_this !== fromSortable) {
          fromSortable.animateAll();
          fromSortable._ignoreWhileAnimating = null;
        }
      }
      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {
        lastTarget = null;
      }
      if (!options.dragoverBubble && !evt.rootEl && target !== document) {
        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);
        !insertion && nearestEmptyInsertDetectEvent(evt);
      }
      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();
      return completedFired = true;
    }
    function changed() {
      newIndex = index(dragEl);
      newDraggableIndex = index(dragEl, options.draggable);
      _dispatchEvent({
        sortable: _this,
        name: "change",
        toEl: el,
        newIndex,
        newDraggableIndex,
        originalEvent: evt
      });
    }
    if (evt.preventDefault !== void 0) {
      evt.cancelable && evt.preventDefault();
    }
    target = closest(target, options.draggable, el, true);
    dragOverEvent("dragOver");
    if (Sortable.eventCanceled)
      return completedFired;
    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {
      return completed(false);
    }
    ignoreNextClick = false;
    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {
      vertical = this._getDirection(evt, target) === "vertical";
      dragRect = getRect(dragEl);
      dragOverEvent("dragOverValid");
      if (Sortable.eventCanceled)
        return completedFired;
      if (revert) {
        parentEl = rootEl;
        capture();
        this._hideClone();
        dragOverEvent("revert");
        if (!Sortable.eventCanceled) {
          if (nextEl) {
            rootEl.insertBefore(dragEl, nextEl);
          } else {
            rootEl.appendChild(dragEl);
          }
        }
        return completed(true);
      }
      var elLastChild = lastChild(el, options.draggable);
      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {
        if (elLastChild === dragEl) {
          return completed(false);
        }
        if (elLastChild && el === evt.target) {
          target = elLastChild;
        }
        if (target) {
          targetRect = getRect(target);
        }
        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {
          capture();
          el.appendChild(dragEl);
          parentEl = el;
          changed();
          return completed(true);
        }
      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {
        var firstChild = getChild(el, 0, options, true);
        if (firstChild === dragEl) {
          return completed(false);
        }
        target = firstChild;
        targetRect = getRect(target);
        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {
          capture();
          el.insertBefore(dragEl, firstChild);
          parentEl = el;
          changed();
          return completed(true);
        }
      } else if (target.parentNode === el) {
        targetRect = getRect(target);
        var direction = 0, targetBeforeFirstSwap, differentLevel = dragEl.parentNode !== el, differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical), side1 = vertical ? "top" : "left", scrolledPastTop = isScrolledPast(target, "top", "top") || isScrolledPast(dragEl, "top", "top"), scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;
        if (lastTarget !== target) {
          targetBeforeFirstSwap = targetRect[side1];
          pastFirstInvertThresh = false;
          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;
        }
        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);
        var sibling;
        if (direction !== 0) {
          var dragIndex = index(dragEl);
          do {
            dragIndex -= direction;
            sibling = parentEl.children[dragIndex];
          } while (sibling && (css(sibling, "display") === "none" || sibling === ghostEl));
        }
        if (direction === 0 || sibling === target) {
          return completed(false);
        }
        lastTarget = target;
        lastDirection = direction;
        var nextSibling = target.nextElementSibling, after = false;
        after = direction === 1;
        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);
        if (moveVector !== false) {
          if (moveVector === 1 || moveVector === -1) {
            after = moveVector === 1;
          }
          _silent = true;
          setTimeout(_unsilent, 30);
          capture();
          if (after && !nextSibling) {
            el.appendChild(dragEl);
          } else {
            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);
          }
          if (scrolledPastTop) {
            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);
          }
          parentEl = dragEl.parentNode;
          if (targetBeforeFirstSwap !== void 0 && !isCircumstantialInvert) {
            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);
          }
          changed();
          return completed(true);
        }
      }
      if (el.contains(dragEl)) {
        return completed(false);
      }
    }
    return false;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function _offMoveEvents() {
    off(document, "mousemove", this._onTouchMove);
    off(document, "touchmove", this._onTouchMove);
    off(document, "pointermove", this._onTouchMove);
    off(document, "dragover", nearestEmptyInsertDetectEvent);
    off(document, "mousemove", nearestEmptyInsertDetectEvent);
    off(document, "touchmove", nearestEmptyInsertDetectEvent);
  },
  _offUpEvents: function _offUpEvents() {
    var ownerDocument = this.el.ownerDocument;
    off(ownerDocument, "mouseup", this._onDrop);
    off(ownerDocument, "touchend", this._onDrop);
    off(ownerDocument, "pointerup", this._onDrop);
    off(ownerDocument, "touchcancel", this._onDrop);
    off(document, "selectstart", this);
  },
  _onDrop: function _onDrop(evt) {
    var el = this.el, options = this.options;
    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);
    pluginEvent("drop", this, {
      evt
    });
    parentEl = dragEl && dragEl.parentNode;
    newIndex = index(dragEl);
    newDraggableIndex = index(dragEl, options.draggable);
    if (Sortable.eventCanceled) {
      this._nulling();
      return;
    }
    awaitingDragStarted = false;
    isCircumstantialInvert = false;
    pastFirstInvertThresh = false;
    clearInterval(this._loopId);
    clearTimeout(this._dragStartTimer);
    _cancelNextTick(this.cloneId);
    _cancelNextTick(this._dragStartId);
    if (this.nativeDraggable) {
      off(document, "drop", this);
      off(el, "dragstart", this._onDragStart);
    }
    this._offMoveEvents();
    this._offUpEvents();
    if (Safari) {
      css(document.body, "user-select", "");
    }
    css(dragEl, "transform", "");
    if (evt) {
      if (moved) {
        evt.cancelable && evt.preventDefault();
        !options.dropBubble && evt.stopPropagation();
      }
      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);
      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== "clone") {
        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);
      }
      if (dragEl) {
        if (this.nativeDraggable) {
          off(dragEl, "dragend", this);
        }
        _disableDraggable(dragEl);
        dragEl.style["will-change"] = "";
        if (moved && !awaitingDragStarted) {
          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);
        }
        toggleClass(dragEl, this.options.chosenClass, false);
        _dispatchEvent({
          sortable: this,
          name: "unchoose",
          toEl: parentEl,
          newIndex: null,
          newDraggableIndex: null,
          originalEvent: evt
        });
        if (rootEl !== parentEl) {
          if (newIndex >= 0) {
            _dispatchEvent({
              rootEl: parentEl,
              name: "add",
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            });
            _dispatchEvent({
              sortable: this,
              name: "remove",
              toEl: parentEl,
              originalEvent: evt
            });
            _dispatchEvent({
              rootEl: parentEl,
              name: "sort",
              toEl: parentEl,
              fromEl: rootEl,
              originalEvent: evt
            });
            _dispatchEvent({
              sortable: this,
              name: "sort",
              toEl: parentEl,
              originalEvent: evt
            });
          }
          putSortable && putSortable.save();
        } else {
          if (newIndex !== oldIndex) {
            if (newIndex >= 0) {
              _dispatchEvent({
                sortable: this,
                name: "update",
                toEl: parentEl,
                originalEvent: evt
              });
              _dispatchEvent({
                sortable: this,
                name: "sort",
                toEl: parentEl,
                originalEvent: evt
              });
            }
          }
        }
        if (Sortable.active) {
          if (newIndex == null || newIndex === -1) {
            newIndex = oldIndex;
            newDraggableIndex = oldDraggableIndex;
          }
          _dispatchEvent({
            sortable: this,
            name: "end",
            toEl: parentEl,
            originalEvent: evt
          });
          this.save();
        }
      }
    }
    this._nulling();
  },
  _nulling: function _nulling() {
    pluginEvent("nulling", this);
    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;
    savedInputChecked.forEach(function(el) {
      el.checked = true;
    });
    savedInputChecked.length = lastDx = lastDy = 0;
  },
  handleEvent: function handleEvent(evt) {
    switch (evt.type) {
      case "drop":
      case "dragend":
        this._onDrop(evt);
        break;
      case "dragenter":
      case "dragover":
        if (dragEl) {
          this._onDragOver(evt);
          _globalDragOver(evt);
        }
        break;
      case "selectstart":
        evt.preventDefault();
        break;
    }
  },
  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function toArray2() {
    var order = [], el, children = this.el.children, i = 0, n = children.length, options = this.options;
    for (; i < n; i++) {
      el = children[i];
      if (closest(el, options.draggable, this.el, false)) {
        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));
      }
    }
    return order;
  },
  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function sort(order, useAnimation) {
    var items = {}, rootEl2 = this.el;
    this.toArray().forEach(function(id, i) {
      var el = rootEl2.children[i];
      if (closest(el, this.options.draggable, rootEl2, false)) {
        items[id] = el;
      }
    }, this);
    useAnimation && this.captureAnimationState();
    order.forEach(function(id) {
      if (items[id]) {
        rootEl2.removeChild(items[id]);
        rootEl2.appendChild(items[id]);
      }
    });
    useAnimation && this.animateAll();
  },
  /**
   * Save the current sorting
   */
  save: function save() {
    var store = this.options.store;
    store && store.set && store.set(this);
  },
  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function closest$12(el, selector) {
    return closest(el, selector || this.options.draggable, this.el, false);
  },
  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function option(name2, value2) {
    var options = this.options;
    if (value2 === void 0) {
      return options[name2];
    } else {
      var modifiedValue = PluginManager.modifyOption(this, name2, value2);
      if (typeof modifiedValue !== "undefined") {
        options[name2] = modifiedValue;
      } else {
        options[name2] = value2;
      }
      if (name2 === "group") {
        _prepareGroup(options);
      }
    }
  },
  /**
   * Destroy
   */
  destroy: function destroy() {
    pluginEvent("destroy", this);
    var el = this.el;
    el[expando] = null;
    off(el, "mousedown", this._onTapStart);
    off(el, "touchstart", this._onTapStart);
    off(el, "pointerdown", this._onTapStart);
    if (this.nativeDraggable) {
      off(el, "dragover", this);
      off(el, "dragenter", this);
    }
    Array.prototype.forEach.call(el.querySelectorAll("[draggable]"), function(el2) {
      el2.removeAttribute("draggable");
    });
    this._onDrop();
    this._disableDelayedDragEvents();
    sortables.splice(sortables.indexOf(this.el), 1);
    this.el = el = null;
  },
  _hideClone: function _hideClone() {
    if (!cloneHidden) {
      pluginEvent("hideClone", this);
      if (Sortable.eventCanceled)
        return;
      css(cloneEl, "display", "none");
      if (this.options.removeCloneOnHide && cloneEl.parentNode) {
        cloneEl.parentNode.removeChild(cloneEl);
      }
      cloneHidden = true;
    }
  },
  _showClone: function _showClone(putSortable2) {
    if (putSortable2.lastPutMode !== "clone") {
      this._hideClone();
      return;
    }
    if (cloneHidden) {
      pluginEvent("showClone", this);
      if (Sortable.eventCanceled)
        return;
      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {
        rootEl.insertBefore(cloneEl, dragEl);
      } else if (nextEl) {
        rootEl.insertBefore(cloneEl, nextEl);
      } else {
        rootEl.appendChild(cloneEl);
      }
      if (this.options.group.revertClone) {
        this.animate(dragEl, cloneEl);
      }
      css(cloneEl, "display", "");
      cloneHidden = false;
    }
  }
};
function _globalDragOver(evt) {
  if (evt.dataTransfer) {
    evt.dataTransfer.dropEffect = "move";
  }
  evt.cancelable && evt.preventDefault();
}
function _onMove(fromEl, toEl, dragEl2, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {
  var evt, sortable = fromEl[expando], onMoveFn = sortable.options.onMove, retVal;
  if (window.CustomEvent && !IE11OrLess && !Edge) {
    evt = new CustomEvent("move", {
      bubbles: true,
      cancelable: true
    });
  } else {
    evt = document.createEvent("Event");
    evt.initEvent("move", true, true);
  }
  evt.to = toEl;
  evt.from = fromEl;
  evt.dragged = dragEl2;
  evt.draggedRect = dragRect;
  evt.related = targetEl || toEl;
  evt.relatedRect = targetRect || getRect(toEl);
  evt.willInsertAfter = willInsertAfter;
  evt.originalEvent = originalEvent;
  fromEl.dispatchEvent(evt);
  if (onMoveFn) {
    retVal = onMoveFn.call(sortable, evt, originalEvent);
  }
  return retVal;
}
function _disableDraggable(el) {
  el.draggable = false;
}
function _unsilent() {
  _silent = false;
}
function _ghostIsFirst(evt, vertical, sortable) {
  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));
  var spacer = 10;
  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;
}
function _ghostIsLast(evt, vertical, sortable) {
  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));
  var spacer = 10;
  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;
}
function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {
  var mouseOnAxis = vertical ? evt.clientY : evt.clientX, targetLength = vertical ? targetRect.height : targetRect.width, targetS1 = vertical ? targetRect.top : targetRect.left, targetS2 = vertical ? targetRect.bottom : targetRect.right, invert = false;
  if (!invertSwap) {
    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {
      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {
        pastFirstInvertThresh = true;
      }
      if (!pastFirstInvertThresh) {
        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance : mouseOnAxis > targetS2 - targetMoveDistance) {
          return -lastDirection;
        }
      } else {
        invert = true;
      }
    } else {
      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {
        return _getInsertDirection(target);
      }
    }
  }
  invert = invert || invertSwap;
  if (invert) {
    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {
      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;
    }
  }
  return 0;
}
function _getInsertDirection(target) {
  if (index(dragEl) < index(target)) {
    return 1;
  } else {
    return -1;
  }
}
function _generateId(el) {
  var str = el.tagName + el.className + el.src + el.href + el.textContent, i = str.length, sum = 0;
  while (i--) {
    sum += str.charCodeAt(i);
  }
  return sum.toString(36);
}
function _saveInputCheckedState(root) {
  savedInputChecked.length = 0;
  var inputs = root.getElementsByTagName("input");
  var idx = inputs.length;
  while (idx--) {
    var el = inputs[idx];
    el.checked && savedInputChecked.push(el);
  }
}
function _nextTick(fn) {
  return setTimeout(fn, 0);
}
function _cancelNextTick(id) {
  return clearTimeout(id);
}
if (documentExists) {
  on(document, "touchmove", function(evt) {
    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {
      evt.preventDefault();
    }
  });
}
Sortable.utils = {
  on,
  off,
  css,
  find,
  is: function is2(el, selector) {
    return !!closest(el, selector, el, false);
  },
  extend,
  throttle,
  closest,
  toggleClass,
  clone,
  index,
  nextTick: _nextTick,
  cancelNextTick: _cancelNextTick,
  detectDirection: _detectDirection,
  getChild
};
Sortable.get = function(element) {
  return element[expando];
};
Sortable.mount = function() {
  for (var _len = arguments.length, plugins2 = new Array(_len), _key = 0; _key < _len; _key++) {
    plugins2[_key] = arguments[_key];
  }
  if (plugins2[0].constructor === Array)
    plugins2 = plugins2[0];
  plugins2.forEach(function(plugin) {
    if (!plugin.prototype || !plugin.prototype.constructor) {
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(plugin));
    }
    if (plugin.utils)
      Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);
    PluginManager.mount(plugin);
  });
};
Sortable.create = function(el, options) {
  return new Sortable(el, options);
};
Sortable.version = version;
var autoScrolls = [], scrollEl, scrollRootEl, scrolling = false, lastAutoScrollX, lastAutoScrollY, touchEvt$1, pointerElemChangedInterval;
function AutoScrollPlugin() {
  function AutoScroll() {
    this.defaults = {
      scroll: true,
      forceAutoScrollFallback: false,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: true
    };
    for (var fn in this) {
      if (fn.charAt(0) === "_" && typeof this[fn] === "function") {
        this[fn] = this[fn].bind(this);
      }
    }
  }
  AutoScroll.prototype = {
    dragStarted: function dragStarted(_ref) {
      var originalEvent = _ref.originalEvent;
      if (this.sortable.nativeDraggable) {
        on(document, "dragover", this._handleAutoScroll);
      } else {
        if (this.options.supportPointer) {
          on(document, "pointermove", this._handleFallbackAutoScroll);
        } else if (originalEvent.touches) {
          on(document, "touchmove", this._handleFallbackAutoScroll);
        } else {
          on(document, "mousemove", this._handleFallbackAutoScroll);
        }
      }
    },
    dragOverCompleted: function dragOverCompleted(_ref2) {
      var originalEvent = _ref2.originalEvent;
      if (!this.options.dragOverBubble && !originalEvent.rootEl) {
        this._handleAutoScroll(originalEvent);
      }
    },
    drop: function drop3() {
      if (this.sortable.nativeDraggable) {
        off(document, "dragover", this._handleAutoScroll);
      } else {
        off(document, "pointermove", this._handleFallbackAutoScroll);
        off(document, "touchmove", this._handleFallbackAutoScroll);
        off(document, "mousemove", this._handleFallbackAutoScroll);
      }
      clearPointerElemChangedInterval();
      clearAutoScrolls();
      cancelThrottle();
    },
    nulling: function nulling() {
      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;
      autoScrolls.length = 0;
    },
    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {
      this._handleAutoScroll(evt, true);
    },
    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {
      var _this = this;
      var x = (evt.touches ? evt.touches[0] : evt).clientX, y = (evt.touches ? evt.touches[0] : evt).clientY, elem = document.elementFromPoint(x, y);
      touchEvt$1 = evt;
      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {
        autoScroll(evt, this.options, elem, fallback);
        var ogElemScroller = getParentAutoScrollElement(elem, true);
        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {
          pointerElemChangedInterval && clearPointerElemChangedInterval();
          pointerElemChangedInterval = setInterval(function() {
            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);
            if (newElem !== ogElemScroller) {
              ogElemScroller = newElem;
              clearAutoScrolls();
            }
            autoScroll(evt, _this.options, newElem, fallback);
          }, 10);
          lastAutoScrollX = x;
          lastAutoScrollY = y;
        }
      } else {
        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {
          clearAutoScrolls();
          return;
        }
        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);
      }
    }
  };
  return _extends(AutoScroll, {
    pluginName: "scroll",
    initializeByDefault: true
  });
}
function clearAutoScrolls() {
  autoScrolls.forEach(function(autoScroll2) {
    clearInterval(autoScroll2.pid);
  });
  autoScrolls = [];
}
function clearPointerElemChangedInterval() {
  clearInterval(pointerElemChangedInterval);
}
var autoScroll = throttle(function(evt, options, rootEl2, isFallback) {
  if (!options.scroll)
    return;
  var x = (evt.touches ? evt.touches[0] : evt).clientX, y = (evt.touches ? evt.touches[0] : evt).clientY, sens = options.scrollSensitivity, speed = options.scrollSpeed, winScroller = getWindowScrollingElement();
  var scrollThisInstance = false, scrollCustomFn;
  if (scrollRootEl !== rootEl2) {
    scrollRootEl = rootEl2;
    clearAutoScrolls();
    scrollEl = options.scroll;
    scrollCustomFn = options.scrollFn;
    if (scrollEl === true) {
      scrollEl = getParentAutoScrollElement(rootEl2, true);
    }
  }
  var layersOut = 0;
  var currentParent = scrollEl;
  do {
    var el = currentParent, rect = getRect(el), top2 = rect.top, bottom2 = rect.bottom, left = rect.left, right2 = rect.right, width = rect.width, height = rect.height, canScrollX = void 0, canScrollY = void 0, scrollWidth = el.scrollWidth, scrollHeight = el.scrollHeight, elCSS = css(el), scrollPosX = el.scrollLeft, scrollPosY = el.scrollTop;
    if (el === winScroller) {
      canScrollX = width < scrollWidth && (elCSS.overflowX === "auto" || elCSS.overflowX === "scroll" || elCSS.overflowX === "visible");
      canScrollY = height < scrollHeight && (elCSS.overflowY === "auto" || elCSS.overflowY === "scroll" || elCSS.overflowY === "visible");
    } else {
      canScrollX = width < scrollWidth && (elCSS.overflowX === "auto" || elCSS.overflowX === "scroll");
      canScrollY = height < scrollHeight && (elCSS.overflowY === "auto" || elCSS.overflowY === "scroll");
    }
    var vx = canScrollX && (Math.abs(right2 - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);
    var vy = canScrollY && (Math.abs(bottom2 - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top2 - y) <= sens && !!scrollPosY);
    if (!autoScrolls[layersOut]) {
      for (var i = 0; i <= layersOut; i++) {
        if (!autoScrolls[i]) {
          autoScrolls[i] = {};
        }
      }
    }
    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {
      autoScrolls[layersOut].el = el;
      autoScrolls[layersOut].vx = vx;
      autoScrolls[layersOut].vy = vy;
      clearInterval(autoScrolls[layersOut].pid);
      if (vx != 0 || vy != 0) {
        scrollThisInstance = true;
        autoScrolls[layersOut].pid = setInterval((function() {
          if (isFallback && this.layer === 0) {
            Sortable.active._onTouchMove(touchEvt$1);
          }
          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;
          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;
          if (typeof scrollCustomFn === "function") {
            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== "continue") {
              return;
            }
          }
          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);
        }).bind({
          layer: layersOut
        }), 24);
      }
    }
    layersOut++;
  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));
  scrolling = scrollThisInstance;
}, 30);
var drop = function drop2(_ref) {
  var originalEvent = _ref.originalEvent, putSortable2 = _ref.putSortable, dragEl2 = _ref.dragEl, activeSortable = _ref.activeSortable, dispatchSortableEvent = _ref.dispatchSortableEvent, hideGhostForTarget = _ref.hideGhostForTarget, unhideGhostForTarget = _ref.unhideGhostForTarget;
  if (!originalEvent)
    return;
  var toSortable = putSortable2 || activeSortable;
  hideGhostForTarget();
  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;
  var target = document.elementFromPoint(touch.clientX, touch.clientY);
  unhideGhostForTarget();
  if (toSortable && !toSortable.el.contains(target)) {
    dispatchSortableEvent("spill");
    this.onSpill({
      dragEl: dragEl2,
      putSortable: putSortable2
    });
  }
};
function Revert() {
}
Revert.prototype = {
  startIndex: null,
  dragStart: function dragStart(_ref2) {
    var oldDraggableIndex2 = _ref2.oldDraggableIndex;
    this.startIndex = oldDraggableIndex2;
  },
  onSpill: function onSpill(_ref3) {
    var dragEl2 = _ref3.dragEl, putSortable2 = _ref3.putSortable;
    this.sortable.captureAnimationState();
    if (putSortable2) {
      putSortable2.captureAnimationState();
    }
    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);
    if (nextSibling) {
      this.sortable.el.insertBefore(dragEl2, nextSibling);
    } else {
      this.sortable.el.appendChild(dragEl2);
    }
    this.sortable.animateAll();
    if (putSortable2) {
      putSortable2.animateAll();
    }
  },
  drop
};
_extends(Revert, {
  pluginName: "revertOnSpill"
});
function Remove() {
}
Remove.prototype = {
  onSpill: function onSpill2(_ref4) {
    var dragEl2 = _ref4.dragEl, putSortable2 = _ref4.putSortable;
    var parentSortable = putSortable2 || this.sortable;
    parentSortable.captureAnimationState();
    dragEl2.parentNode && dragEl2.parentNode.removeChild(dragEl2);
    parentSortable.animateAll();
  },
  drop
};
_extends(Remove, {
  pluginName: "removeOnSpill"
});
Sortable.mount(new AutoScrollPlugin());
Sortable.mount(Remove, Revert);
const _sfc_main$3r = {
  name: "tableColumns-editor",
  mixins: [i18n$1],
  components: { CodeModalEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      dialogVisible: false,
      currentTableColumn: {},
      renderJson: "",
      showRenderDialogFlag: false,
      alignOptions: [
        { value: "left", label: "left" },
        { value: "center", label: "center" },
        { value: "right", label: "right" }
      ]
    };
  },
  methods: {
    //表格拖动排序
    dragSort() {
      const el = document.querySelectorAll(
        "#singleTable .ant-table-body tbody.ant-table-tbody "
      )[0];
      const tableData = this.optionModel.tableColumns;
      this.sortable = Sortable.create(el, {
        ghostClass: "sortable-ghost",
        setData: function(dataTransfer) {
          dataTransfer.setData("Text", "");
        },
        onEnd: (e2) => {
          const { oldIndex: oldIndex2, newIndex: newIndex2 } = e2;
          if (oldIndex2 === newIndex2) {
            return;
          }
          const targetRow = tableData.splice(e2.oldIndex - 1, 1)[0];
          tableData.splice(newIndex2 - 1, 0, targetRow);
        }
      });
    },
    showRenderDialog(tableColumn) {
      this.currentTableColumn = tableColumn;
      this.renderJson = tableColumn.customRender || "";
      this.$refs.CodeModalEditorRef.open();
    },
    saveColumnRender() {
      this.currentTableColumn.customRender = this.renderJson;
      console.log("this.renderJson: ", this.renderJson);
      this.showRenderDialogFlag = false;
    },
    addCol() {
      const newRow = {
        columnId: (/* @__PURE__ */ new Date()).getTime(),
        show: true,
        width: 150,
        sorter: false,
        customRender: "",
        fixed: "",
        align: "center",
        title: "标题名",
        dataIndex: "",
        resizable: true,
        showSorterTooltip: false
      };
      this.optionModel.tableColumns.push(newRow);
      this.designer.emitHistoryChange();
    },
    handleDelete(index2, row) {
      if (this.optionModel.tableColumns.length === 1) {
        this.$message.warning(this.i18nt("designer.setting.onlyOneColumnCannotBeDeleted"));
        return false;
      }
      this.optionModel.tableColumns.splice(index2, 1);
    },
    // 确认表格列更改
    colSubmit() {
      this.dialogVisible = false;
    },
    openSetting() {
      this.dialogVisible = true;
      this.$nextTick(() => {
        this.dragSort();
      });
    }
  }
};
const _withScopeId$2 = (n) => (pushScopeId("data-v-3b5eb05e"), n = n(), popScopeId(), n);
const _hoisted_1$C = /* @__PURE__ */ _withScopeId$2(() => /* @__PURE__ */ createElementVNode("i", { class: "iconfont icon-drag drag-option" }, null, -1));
const _hoisted_2$p = { class: "dialog-footer" };
function _sfc_render$3r(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_table_column = resolveComponent("a-table-column");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_table = resolveComponent("a-table");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, { label: "表格列编辑" }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "primary",
          shape: "round",
          onClick: $options.openSetting
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.editAction")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])
      ]),
      _: 1
    }),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.tableColEdit"),
      visible: $data.dialogVisible,
      "onUpdate:visible": _cache[1] || (_cache[1] = ($event) => $data.dialogVisible = $event),
      "show-close": true,
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true,
      width: "1000px"
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_2$p, [
          createVNode(_component_a_button, {
            size: "default",
            type: "primary",
            onClick: $options.colSubmit
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            size: "default",
            onClick: _cache[0] || (_cache[0] = ($event) => $data.dialogVisible = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_table, {
          dataSource: $props.optionModel.tableColumns,
          style: { "width": "100%" },
          "cell-style": { padding: "3px 0" },
          height: "500",
          "row-key": (r) => r.columnId,
          id: "singleTable",
          scroll: { y: 300, x: 300 },
          pagination: false
        }, {
          default: withCtx(() => [
            createVNode(_component_a_table_column, {
              title: "序号",
              width: 60,
              fixed: "left",
              customRender: ({ index: index2 }) => index2 + 1
            }, null, 8, ["customRender"]),
            createVNode(_component_a_table_column, {
              title: "排序",
              width: 60
            }, {
              default: withCtx(() => [
                _hoisted_1$C
              ]),
              _: 1
            }),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.columnName"),
              width: 100,
              dataIndex: "dataIndex"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_input, {
                  value: scope.record.dataIndex,
                  "onUpdate:value": ($event) => scope.record.dataIndex = $event,
                  style: { "width": "90%" }
                }, null, 8, ["value", "onUpdate:value"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.columnLabel"),
              width: 100,
              dataIndex: "title"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_input, {
                  value: scope.record.title,
                  "onUpdate:value": ($event) => scope.record.title = $event,
                  style: { "width": "90%" }
                }, null, 8, ["value", "onUpdate:value"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.columnWidth"),
              width: 100,
              dataIndex: "width"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_input_number, {
                  min: 20,
                  max: 500,
                  value: scope.record.width,
                  "onUpdate:value": ($event) => scope.record.width = $event
                }, null, 8, ["value", "onUpdate:value"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.visibleColumn"),
              width: 90,
              dataIndex: "show"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_switch, {
                  checked: scope.record.show,
                  "onUpdate:checked": ($event) => scope.record.show = $event
                }, null, 8, ["checked", "onUpdate:checked"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.sortableColumn"),
              width: 90,
              dataIndex: "sorter"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_switch, {
                  checked: scope.record.sorter,
                  "onUpdate:checked": ($event) => scope.record.sorter = $event
                }, null, 8, ["checked", "onUpdate:checked"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: `可拖动调整宽度`,
              width: 150,
              dataIndex: "resizable"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_switch, {
                  checked: scope.record.resizable,
                  "onUpdate:checked": ($event) => scope.record.resizable = $event
                }, null, 8, ["checked", "onUpdate:checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_table_column, {
              title: "超过宽度将自动省略",
              width: 150,
              dataIndex: "ellipsis"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_switch, {
                  checked: scope.record.ellipsis,
                  "onUpdate:checked": ($event) => scope.record.ellipsis = $event
                }, null, 8, ["checked", "onUpdate:checked"])
              ]),
              _: 1
            }),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.fixedColumn"),
              width: 100,
              dataIndex: "fixed"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_select, {
                  value: scope.record.fixed,
                  "onUpdate:value": ($event) => scope.record.fixed = $event,
                  style: { "width": "90%" },
                  allowClear: ""
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_select_option, { value: "left" }, {
                      default: withCtx(() => [
                        createTextVNode("左固定")
                      ]),
                      _: 1
                    }),
                    createVNode(_component_a_select_option, { value: "right" }, {
                      default: withCtx(() => [
                        createTextVNode("右固定")
                      ]),
                      _: 1
                    })
                  ]),
                  _: 2
                }, 1032, ["value", "onUpdate:value"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              title: _ctx.i18nt("designer.setting.alignTypeOfColumn"),
              width: 100,
              dataIndex: "align"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_select, {
                  value: scope.record.align,
                  "onUpdate:value": ($event) => scope.record.align = $event,
                  options: $data.alignOptions,
                  style: { "width": "100%" }
                }, null, 8, ["value", "onUpdate:value", "options"])
              ]),
              _: 1
            }, 8, ["title"]),
            createVNode(_component_a_table_column, {
              align: "center",
              title: "自定义渲染函数",
              width: 120,
              fixed: "right"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_button, {
                  onClick: ($event) => $options.showRenderDialog(scope.record),
                  size: "small",
                  shape: "round"
                }, {
                  default: withCtx(() => [
                    createTextVNode(" edit ")
                  ]),
                  _: 2
                }, 1032, ["onClick"])
              ]),
              _: 1
            }),
            createVNode(_component_a_table_column, {
              align: "center",
              title: _ctx.i18nt("designer.setting.actionColumn"),
              width: 120,
              fixed: "right"
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_space, null, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      title: _ctx.i18nt("designer.setting.addTableColumn"),
                      size: "small",
                      onClick: $options.addCol,
                      type: "text"
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addTableColumn")), 1)
                      ]),
                      _: 1
                    }, 8, ["title", "onClick"]),
                    $props.optionModel.tableColumns.length !== 1 ? (openBlock(), createBlock(_component_a_button, {
                      key: 0,
                      title: _ctx.i18nt("designer.setting.deleteTableColumn"),
                      size: "small",
                      onClick: ($event) => $options.handleDelete(scope.$index, scope.row),
                      type: "text"
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.deleteTableColumn")), 1)
                      ]),
                      _: 2
                    }, 1032, ["title", "onClick"])) : createCommentVNode("", true)
                  ]),
                  _: 2
                }, 1024)
              ]),
              _: 1
            }, 8, ["title"])
          ]),
          _: 1
        }, 8, ["dataSource", "row-key"])
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_CodeModalEditor, {
      modelValue: $data.renderJson,
      "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.renderJson = $event),
      onSave: $options.saveColumnRender,
      ref: "CodeModalEditorRef",
      title: _ctx.i18nt("designer.setting.renderFunction"),
      "event-header": `function customRender(text, record, index, column) {`
    }, null, 8, ["modelValue", "onSave", "title", "event-header"])
  ], 64);
}
const dataTableTableColumnsEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3r, [["render", _sfc_render$3r], ["__scopeId", "data-v-3b5eb05e"]]);
const __vite_glob_0_23 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableTableColumnsEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3q = {
  name: "tableHeight-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {}
};
function _sfc_render$3q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.tableHeight")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.tableHeight,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.tableHeight = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableTableHeightEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3q, [["render", _sfc_render$3q]]);
const __vite_glob_0_24 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableTableHeightEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3p = {
  name: "tableSize-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      widgetSizes: [
        { label: "default", value: "default" },
        { label: "middle", value: "middle" },
        { label: "small", value: "small" }
      ]
    };
  },
  methods: {}
};
function _sfc_render$3p(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.widgetSize")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.tableSize,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.tableSize = $event),
        options: $data.widgetSizes
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableTableSizeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3p, [["render", _sfc_render$3p]]);
const __vite_glob_0_25 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableTableSizeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3o = {
  name: "tableWidth-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {}
};
function _sfc_render$3o(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.tableWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.tableWidth,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.tableWidth = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dataTableTableWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3o, [["render", _sfc_render$3o]]);
const __vite_glob_0_26 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableTableWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3n = {
  name: "treeDataEnabled-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  methods: {
    handleTDEChange(val) {
      if (!!val) {
        this.optionModel.rowKey = "id";
        this.optionModel.childrenKey = "children";
      } else {
        this.optionModel.rowKey = "";
        this.optionModel.childrenKey = "";
      }
    }
  }
};
function _sfc_render$3n(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.treeDataEnabled")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_switch, {
          checked: $props.optionModel.treeDataEnabled,
          "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.treeDataEnabled = $event),
          onChange: $options.handleTDEChange
        }, null, 8, ["checked", "onChange"])
      ]),
      _: 1
    }, 8, ["label"]),
    !!$props.optionModel.treeDataEnabled ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      label: _ctx.i18nt("designer.setting.rowKeyOfTreeData")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          value: $props.optionModel.rowKey,
          "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.rowKey = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    !!$props.optionModel.treeDataEnabled ? (openBlock(), createBlock(_component_a_form_item, {
      key: 1,
      label: _ctx.i18nt("designer.setting.childrenKeyOfTreeData")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          value: $props.optionModel.childrenKey,
          "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.childrenKey = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true)
  ], 64);
}
const dataTableTreeDataEnabledEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3n, [["render", _sfc_render$3n]]);
const __vite_glob_0_27 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableTreeDataEnabledEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3m = {
  name: "grid-col-offset-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3m(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.colOffsetTitle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.offset,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.offset = $event),
        min: 0,
        max: 24,
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const gridColOffsetEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3m, [["render", _sfc_render$3m]]);
const __vite_glob_0_28 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridColOffsetEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3l = {
  name: "grid-col-pull-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3l(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.colPullTitle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.pull,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.pull = $event),
        min: 0,
        max: 24,
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const gridColPullEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3l, [["render", _sfc_render$3l]]);
const __vite_glob_0_29 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridColPullEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3k = {
  name: "grid-col-push-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3k(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.colPushTitle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.push,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.push = $event),
        min: 0,
        max: 24,
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const gridColPushEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3k, [["render", _sfc_render$3k]]);
const __vite_glob_0_30 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridColPushEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3j = {
  name: "grid-col-responsive-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3j(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.responsive")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.responsive,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.responsive = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const gridColResponsiveEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3j, [["render", _sfc_render$3j]]);
const __vite_glob_0_31 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridColResponsiveEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3i = {
  name: "grid-col-span-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    formConfig() {
      return this.designer.formConfig;
    }
  }
};
function _sfc_render$3i(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock("div", null, [
    !$props.optionModel.responsive ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      label: _ctx.i18nt("designer.setting.colSpanTitle")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.span,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.span = $event),
          min: 1,
          max: 24,
          style: { "width": "100%" }
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    !!$props.optionModel.responsive && $options.formConfig.layoutType === "PC" ? (openBlock(), createBlock(_component_a_form_item, {
      key: 1,
      label: _ctx.i18nt("designer.setting.colSpanTitle") + "(PC)"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.md,
          "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.md = $event),
          min: 1,
          max: 24,
          style: { "width": "100%" }
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    !!$props.optionModel.responsive && $options.formConfig.layoutType === "Pad" ? (openBlock(), createBlock(_component_a_form_item, {
      key: 2,
      label: _ctx.i18nt("designer.setting.colSpanTitle") + "(Pad)"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.sm,
          "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.sm = $event),
          min: 1,
          max: 24,
          style: { "width": "100%" }
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    !!$props.optionModel.responsive && $options.formConfig.layoutType === "H5" ? (openBlock(), createBlock(_component_a_form_item, {
      key: 3,
      label: _ctx.i18nt("designer.setting.colSpanTitle") + "(H5)"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.xs,
          "onUpdate:value": _cache[3] || (_cache[3] = ($event) => $props.optionModel.xs = $event),
          min: 1,
          max: 24,
          style: { "width": "100%" }
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true)
  ]);
}
const gridColSpanEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3i, [["render", _sfc_render$3i]]);
const __vite_glob_0_32 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridColSpanEditor
}, Symbol.toStringTag, { value: "Module" }));
const propertyMixin = {
  methods: {
    hasConfig(configName) {
      if (!this.designer || !this.designer.selectedWidget) {
        return false;
      }
      return this.designer.hasConfig(this.selectedWidget, configName);
    },
    emitDefaultValueChange() {
      if (!!this.designer) {
        if (!!this.designer.formWidget) {
          const fieldWidget = this.designer.formWidget.getWidgetRef(
            this.designer.selectedWidget.options.name
          );
          if (!!fieldWidget && !!fieldWidget.refreshDefaultValue) {
            fieldWidget.refreshDefaultValue();
          }
        }
      }
    },
    inputNumberHandler(value2) {
      value2 = value2.replace(/[^0-9]/gi, "");
    },
    onRemoteChange(val) {
      if (!!val) {
        this.optionModel.filterable = true;
      }
    },
    onAllowCreateChange(val) {
      if (!!val) {
        this.optionModel.filterable = true;
      }
    },
    onMultipleSelected(val) {
      if (val) {
        this.optionModel.defaultValue = [];
      } else {
        if (!!this.optionModel.defaultValue && this.optionModel.defaultValue.length > 0) {
          this.optionModel.defaultValue = this.optionModel.defaultValue[0];
        } else {
          this.optionModel.defaultValue = "";
        }
      }
    }
  }
};
const _sfc_main$3h = {
  name: "colHeight-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3h(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.gridColHeight")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.colHeight,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.colHeight = $event),
          onInput: _ctx.inputNumberHandler,
          min: 0,
          class: "hide-spin-button"
        }, null, 8, ["value", "onInput"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
const colHeightEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3h, [["render", _sfc_render$3h]]);
const __vite_glob_0_33 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: colHeightEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3g = {
  name: "gutter-editor",
  components: { SvgIcon },
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  methods: {
    spanChanged(curGrid) {
      let spanSum = 0;
      curGrid.cols.forEach((colItem) => {
        spanSum += colItem.options.span;
      });
      if (spanSum > 24) {
        console.log("列栅格之和超出24", this.$message1);
      }
      this.designer.saveCurrentHistoryStep();
    },
    deleteCol(curGrid, colIdx) {
      this.designer.deleteColOfGrid(curGrid, colIdx);
      this.designer.emitHistoryChange();
    },
    addNewCol(curGrid) {
      this.designer.addNewColOfGrid(curGrid);
      this.designer.emitHistoryChange();
    }
  }
};
const _hoisted_1$B = { class: "col-item" };
const _hoisted_2$o = { class: "col-span-title" };
function _sfc_render$3g(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_button = resolveComponent("a-button");
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_draggable = resolveComponent("draggable");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_divider, { class: "custom-divider" }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.columnSetting")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.gutter")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input_number, {
          value: $props.optionModel.gutter,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.gutter = $event),
          style: { "width": "100%" }
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.colsOfGrid")
    }, null, 8, ["label"]),
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_draggable, mergeProps({
          list: $props.selectedWidget.cols,
          "item-key": "id"
        }, { group: "dragGroup", ghostClass: "ghost", animation: 300 }, {
          tag: "transition-group",
          "component-data": { name: "fade" },
          handle: ".drag-handler"
        }), {
          item: withCtx(({ element: colItem, index: colIdx }) => [
            createElementVNode("li", _hoisted_1$B, [
              createElementVNode("span", _hoisted_2$o, toDisplayString(_ctx.i18nt("designer.setting.colSpanTitle")) + toDisplayString(colIdx + 1), 1),
              createVNode(_component_a_input_number, {
                value: colItem.options.span,
                "onUpdate:value": ($event) => colItem.options.span = $event,
                min: 1,
                max: 24,
                onChange: (newValue, oldValue) => $options.spanChanged($props.selectedWidget, colItem, colIdx, newValue, oldValue),
                class: "cell-span-input"
              }, null, 8, ["value", "onUpdate:value", "onChange"]),
              createVNode(_component_a_button, {
                circle: "",
                shape: "plain",
                size: "small",
                type: "danger",
                onClick: ($event) => $options.deleteCol($props.selectedWidget, colIdx),
                class: "col-delete-button"
              }, {
                default: withCtx(() => [
                  createTextVNode(" 删除 ")
                ]),
                _: 2
              }, 1032, ["onClick"]),
              createVNode(_component_a_button, {
                circle: "",
                shape: "plain",
                size: "small",
                class: "col-delete-button drag-handler"
              }, {
                default: withCtx(() => [
                  createVNode(_component_svg_icon, { "icon-class": "move1" })
                ]),
                _: 1
              })
            ])
          ]),
          _: 1
        }, 16, ["list"]),
        createElementVNode("div", null, [
          createVNode(_component_a_button, {
            type: "primary",
            onClick: _cache[1] || (_cache[1] = ($event) => $options.addNewCol($props.selectedWidget))
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addColumn")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      _: 1
    })
  ]);
}
const gutterEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3g, [["render", _sfc_render$3g], ["__scopeId", "data-v-35700e4d"]]);
const __vite_glob_0_34 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gutterEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3f = {
  name: "showBlankRow-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3f(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showBlankRow")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showBlankRow,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showBlankRow = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showBlankRowEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3f, [["render", _sfc_render$3f]]);
const __vite_glob_0_35 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showBlankRowEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3e = {
  name: "showRowNumber-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3e(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showRowNumber")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showRowNumber,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showRowNumber = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showRowNumberEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3e, [["render", _sfc_render$3e]]);
const __vite_glob_0_36 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showRowNumberEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3d = {
  name: "sub-form-labelAlign-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$3d(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.labelAlign")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_radio_group, {
        value: $props.optionModel.labelAlign,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelAlign = $event),
        class: "radio-group-custom"
      }, {
        default: withCtx(() => [
          createVNode(_component_a_radio_button, { value: "left" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.leftAlign")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "right" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.rightAlign")), 1)
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const subFormLabelAlignEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3d, [["render", _sfc_render$3d], ["__scopeId", "data-v-35af70d0"]]);
const __vite_glob_0_37 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: subFormLabelAlignEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3c = {
  name: "tab-customClass-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {
    //Draggable,
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      cssClassList: []
    };
  },
  created() {
    this.cssClassList = deepClone(this.designer.getCssClassList());
    this.designer.handleEvent("form-css-updated", (cssClassList) => {
      this.cssClassList = cssClassList;
    });
  },
  methods: {
    onTabPaneActiveChange(evt, tpItem) {
    },
    addTabPane(curTabs) {
      this.designer.addTabPaneOfTabs(curTabs);
      this.designer.emitHistoryChange();
    },
    deleteTabPane(curTabs, tpIdx, tpItem) {
      console.log("curTabs, tpIdx: ", curTabs, tpIdx, tpItem);
      if (curTabs.tabs.length === 1) {
        this.$message.info(this.i18nt("designer.hint.lastPaneCannotBeDeleted"));
        return;
      }
      if (this.optionModel.activeTab === tpItem.options.label) {
        this.optionModel.activeTab = "";
      }
      this.designer.deleteTabPaneOfTabs(curTabs, tpIdx);
      this.designer.emitHistoryChange();
    }
  }
};
const _withScopeId$1 = (n) => (pushScopeId("data-v-388bef31"), n = n(), popScopeId(), n);
const _hoisted_1$A = { class: "col-item" };
const _hoisted_2$n = /* @__PURE__ */ _withScopeId$1(() => /* @__PURE__ */ createElementVNode("i", { class: "iconfont icon-drag drag-option" }, null, -1));
function _sfc_render$3c(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_radio = resolveComponent("a-radio");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_button = resolveComponent("a-button");
  const _component_draggable = resolveComponent("draggable");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.customClass")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_select, {
          value: $props.optionModel.customClass,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.customClass = $event),
          allowClear: "",
          mode: "tags",
          options: $data.cssClassList
        }, null, 8, ["value", "options"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.tabPaneSetting")
    }, null, 8, ["label"]),
    createVNode(_component_a_form_item, {
      "label-width": "0",
      class: "panes-setting"
    }, {
      default: withCtx(() => [
        createVNode(_component_a_radio_group, {
          value: $props.optionModel.activeTab,
          "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.activeTab = $event)
        }, {
          default: withCtx(() => [
            createVNode(_component_draggable, mergeProps({
              tag: "ul",
              list: $props.selectedWidget.tabs,
              "item-key": "id"
            }, { group: "panesGroup", ghostClass: "ghost", handle: ".drag-option" }), {
              item: withCtx(({ element: tpItem, index: tpIdx }) => [
                createElementVNode("li", _hoisted_1$A, [
                  createVNode(_component_a_radio, {
                    value: tpItem.options.label,
                    style: { "margin-right": "8px" }
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.paneActive")), 1)
                    ]),
                    _: 2
                  }, 1032, ["value"]),
                  createVNode(_component_a_input, {
                    type: "text",
                    value: tpItem.options.label,
                    "onUpdate:value": ($event) => tpItem.options.label = $event,
                    style: { "width": "120px" }
                  }, null, 8, ["value", "onUpdate:value"]),
                  _hoisted_2$n,
                  createVNode(_component_a_button, {
                    size: "small",
                    type: "danger",
                    onClick: ($event) => $options.deleteTabPane($props.selectedWidget, tpIdx, tpItem),
                    class: "col-delete-button"
                  }, {
                    default: withCtx(() => [
                      createTextVNode(" 删除 ")
                    ]),
                    _: 2
                  }, 1032, ["onClick"])
                ])
              ]),
              _: 1
            }, 16, ["list"])
          ]),
          _: 1
        }, 8, ["value"]),
        createElementVNode("div", null, [
          createVNode(_component_a_button, {
            type: "text",
            onClick: _cache[2] || (_cache[2] = ($event) => $options.addTabPane($props.selectedWidget))
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addTabPane")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      _: 1
    })
  ]);
}
const tabCustomClassEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3c, [["render", _sfc_render$3c], ["__scopeId", "data-v-388bef31"]]);
const __vite_glob_0_38 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabCustomClassEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3b = {
  name: "tab-tabBarGutter-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {};
  },
  computed: {},
  watch: {},
  created() {
  },
  mounted() {
  }
};
function _sfc_render$3b(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `tabs 之间的间隙` }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        class: "t-w-full",
        min: 0,
        value: $props.optionModel.tabBarGutter,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.tabBarGutter = $event),
        precision: 0
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const tabTabBarGutterEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3b, [["render", _sfc_render$3b]]);
const __vite_glob_0_39 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabTabBarGutterEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$3a = {
  name: "tab-tabPosition-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      modeList: [
        { value: "top", label: "top" },
        { value: "right", label: "right" },
        { value: "bottom", label: "bottom" },
        { value: "left", label: "left" }
      ]
    };
  },
  computed: {},
  watch: {},
  created() {
  },
  mounted() {
  }
};
function _sfc_render$3a(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `页签位置` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.tabPosition,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.tabPosition = $event),
        options: $data.modeList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const tabTabPositionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$3a, [["render", _sfc_render$3a]]);
const __vite_glob_0_40 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabTabPositionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$39 = {
  name: "tab-type-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      modeList: [
        { value: "line", label: "line" },
        { value: "card", label: "card" }
        // { value: 'editable-card', label: 'editable-card' }
      ]
    };
  },
  computed: {},
  watch: {},
  created() {
  },
  mounted() {
  }
};
function _sfc_render$39(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `页签类型` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.type,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.type = $event),
        options: $data.modeList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const tabTypeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$39, [["render", _sfc_render$39]]);
const __vite_glob_0_41 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabTypeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$38 = {
  name: "cellHeight-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$38(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.cellHeight")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.cellHeight,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.cellHeight = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const cellHeightEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$38, [["render", _sfc_render$38]]);
const __vite_glob_0_42 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cellHeightEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$37 = {
  name: "cellWidth-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$37(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.cellWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.cellWidth,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.cellWidth = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const cellWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$37, [["render", _sfc_render$37]]);
const __vite_glob_0_43 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cellWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$36 = {
  name: "bodyStyle-editor",
  mixins: [i18n$1, propertyMixin],
  components: { CodeEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      showEditFormCssDialogFlag: false,
      formCssCode: ""
    };
  },
  methods: {
    editFormCss() {
      this.formCssCode = this.optionModel.bodyStyle;
      this.showEditFormCssDialogFlag = true;
    },
    saveFormCss() {
      this.optionModel.bodyStyle = this.formCssCode;
      this.showEditFormCssDialogFlag = false;
    }
  }
};
const _hoisted_1$z = { class: "dialog-footer" };
function _sfc_render$36(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_modal = resolveComponent("a-modal");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, { label: "窗体样式" }, {
      default: withCtx(() => [
        createVNode(_component_a_button, { onClick: $options.editFormCss }, {
          default: withCtx(() => [
            createTextVNode("编写样式")
          ]),
          _: 1
        }, 8, ["onClick"])
      ]),
      _: 1
    }),
    createVNode(_component_a_modal, {
      title: `编写style`,
      visible: $data.showEditFormCssDialogFlag,
      "onUpdate:visible": _cache[2] || (_cache[2] = ($event) => $data.showEditFormCssDialogFlag = $event),
      "show-close": true,
      "custom-class": "drag-dialog small-padding-dialog",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_1$z, [
          createVNode(_component_a_button, {
            onClick: _cache[1] || (_cache[1] = ($event) => $data.showEditFormCssDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.saveFormCss
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_code_editor, {
          mode: "json",
          readonly: false,
          modelValue: $data.formCssCode,
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.formCssCode = $event)
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["visible"])
  ], 64);
}
const bodyStyleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$36, [["render", _sfc_render$36]]);
const __vite_glob_0_44 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: bodyStyleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$35 = {
  name: "cancelButtonHidden-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$35(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.cancelButtonHidden")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.cancelButtonHidden,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.cancelButtonHidden = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const cancelButtonHiddenEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$35, [["render", _sfc_render$35]]);
const __vite_glob_0_45 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cancelButtonHiddenEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$34 = {
  name: "cancelButtonLabel-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$34(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.cancelButtonLabel")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.cancelButtonLabel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.cancelButtonLabel = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const cancelButtonLabelEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$34, [["render", _sfc_render$34]]);
const __vite_glob_0_46 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cancelButtonLabelEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$33 = {
  name: "closeOnClickModal-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$33(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.closeOnClickModal")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.closeOnClickModal,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.closeOnClickModal = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const closeOnClickModalEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$33, [["render", _sfc_render$33]]);
const __vite_glob_0_47 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: closeOnClickModalEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$32 = {
  name: "closeOnPressEscape-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$32(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.closeOnPressEscape")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.closeOnPressEscape,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.closeOnPressEscape = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const closeOnPressEscapeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$32, [["render", _sfc_render$32]]);
const __vite_glob_0_48 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: closeOnPressEscapeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$31 = {
  name: "collapseIcon-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$31(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "折叠时icon" }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.collapseIcon,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.collapseIcon = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const collapseIconEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$31, [["render", _sfc_render$31]]);
const __vite_glob_0_49 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: collapseIconEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$30 = {
  name: "disabledMode-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$30(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.disabledMode")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.disabledMode,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.disabledMode = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const disabledModeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$30, [["render", _sfc_render$30]]);
const __vite_glob_0_50 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: disabledModeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2$ = {
  name: "formCode-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      ops: []
    };
  },
  created() {
    this.getOps();
  },
  methods: {
    async getOps() {
      const p = {
        pageCode: "FormDefinitionManagement",
        conditions: [],
        requiredFields: [
          "formCode",
          "terminalTypeName",
          "entityCode",
          "createDatetime",
          "createUserName",
          "modifyDatetime",
          "modifyUserName"
        ],
        page: 1,
        pageSize: null,
        sorts: []
      };
      this.ops = await this.$http.post("/api/tmgc2-query/dataQuery/execute", p).then((res) => res.data.object.list || []).then((list) => list.map((item) => ({ formCode: item.formCode })));
    }
  }
};
function _sfc_render$2$(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `关联表单` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.formCode,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.formCode = $event),
        allowClear: "",
        options: $data.ops,
        fieldNames: { label: "formCode", value: "formCode" }
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const formCodeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2$, [["render", _sfc_render$2$]]);
const __vite_glob_0_51 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: formCodeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2_ = {
  name: "fullscreen-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2_(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.fullscreen")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.fullscreen,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.fullscreen = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const fullscreenEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2_, [["render", _sfc_render$2_]]);
const __vite_glob_0_52 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: fullscreenEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2Z = {
  name: "height-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2Z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "高度(px)" }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.height,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.height = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const heightEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2Z, [["render", _sfc_render$2Z]]);
const __vite_glob_0_53 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: heightEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2Y = {
  name: "isCollapse-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2Y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "默认折叠" }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.isCollapse,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.isCollapse = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const isCollapseEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2Y, [["render", _sfc_render$2Y]]);
const __vite_glob_0_54 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: isCollapseEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2X = {
  name: "okButtonHidden-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2X(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.okButtonHidden")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.okButtonHidden,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.okButtonHidden = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const okButtonHiddenEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2X, [["render", _sfc_render$2X]]);
const __vite_glob_0_55 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: okButtonHiddenEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2W = {
  name: "okButtonLabel-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2W(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.okButtonLabel")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.okButtonLabel,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.okButtonLabel = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const okButtonLabelEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2W, [["render", _sfc_render$2W]]);
const __vite_glob_0_56 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: okButtonLabelEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2V = {
  name: "readMode-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2V(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.readMode")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.readMode,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.readMode = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const readModeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2V, [["render", _sfc_render$2V]]);
const __vite_glob_0_57 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: readModeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2U = {
  name: "showClose-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2U(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showClose")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showClose,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showClose = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showCloseEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2U, [["render", _sfc_render$2U]]);
const __vite_glob_0_58 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showCloseEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2T = {
  name: "title-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2T(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.title")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.title,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.title = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const titleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2T, [["render", _sfc_render$2T]]);
const __vite_glob_0_59 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: titleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2S = {
  name: "unCollapseIcon-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2S(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "未折叠时icon" }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.unCollapseIcon,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.unCollapseIcon = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const unCollapseIconEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2S, [["render", _sfc_render$2S]]);
const __vite_glob_0_60 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: unCollapseIconEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2R = {
  name: "width-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2R(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.dialogWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.width,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.width = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const widthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2R, [["render", _sfc_render$2R]]);
const __vite_glob_0_61 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: widthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2Q = {
  name: "vf-drawer-direction-editor",
  mixins: [i18n$1],
  components: {},
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    //
  }
};
function _sfc_render$2Q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.drawDirection")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_radio_group, {
        value: $props.optionModel.direction,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.direction = $event),
        class: "radio-group-custom"
      }, {
        default: withCtx(() => [
          createVNode(_component_a_radio_button, { value: "rtl" }, {
            default: withCtx(() => [
              createTextVNode("左")
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "ltr" }, {
            default: withCtx(() => [
              createTextVNode("右")
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "ttb" }, {
            default: withCtx(() => [
              createTextVNode("下")
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "btt" }, {
            default: withCtx(() => [
              createTextVNode("上")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const vfDrawerDirectionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2Q, [["render", _sfc_render$2Q], ["__scopeId", "data-v-3da0396a"]]);
const __vite_glob_0_62 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDrawerDirectionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2P = {
  name: "vf-drawer-size-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2P(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.drawSize")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.size,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.size = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const vfDrawerSizeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2P, [["render", _sfc_render$2P]]);
const __vite_glob_0_63 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDrawerSizeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2O = {
  name: "customClass-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      cssClassList: []
    };
  },
  created() {
    this.cssClassList = deepClone(this.designer.getCssClassList());
    this.designer.handleEvent("form-css-updated", (cssClassList) => {
      this.cssClassList = cssClassList;
    });
  }
};
function _sfc_render$2O(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.customClass")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.customClass,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.customClass = $event),
        allowClear: "",
        mode: "tags",
        options: $data.cssClassList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const customClassEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2O, [["render", _sfc_render$2O]]);
const __vite_glob_0_64 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: customClassEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2N = {
  name: "defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2N(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return !_ctx.hasConfig("optionItems") ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange
      }, null, 8, ["value", "onChange"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const defaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2N, [["render", _sfc_render$2N]]);
const __vite_glob_0_65 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: defaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2M = {
  name: "disabled-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      eventParams: ["event"]
    };
  }
};
function _sfc_render$2M(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.disabled")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_space, null, {
        default: withCtx(() => [
          createVNode(_component_a_switch, {
            checked: $props.optionModel.disabled,
            "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.disabled = $event)
          }, null, 8, ["checked"]),
          createVNode(_component_a_button, {
            type: "info",
            shape: "round",
            class: normalizeClass([!!$props.optionModel.onDisabled ? "button-text-highlight" : ""]),
            onClick: _cache[1] || (_cache[1] = ($event) => _ctx.editEventHandler("onDisabled", $data.eventParams))
          }, {
            default: withCtx(() => [
              createTextVNode(" 编辑函数 ")
            ]),
            _: 1
          }, 8, ["class"])
        ]),
        _: 1
      })
    ]),
    _: 1
  }, 8, ["label"]);
}
const disabledEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2M, [["render", _sfc_render$2M]]);
const __vite_glob_0_66 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: disabledEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2L = {
  name: "displayStyle-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2L(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio = resolveComponent("a-radio");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.displayStyle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_radio_group, {
        value: $props.optionModel.displayStyle,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.displayStyle = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_radio, { value: "inline" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.inlineLayout")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_radio, { value: "block" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.blockLayout")), 1)
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const displayStyleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2L, [["render", _sfc_render$2L]]);
const __vite_glob_0_67 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: displayStyleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2K = {
  name: "editable-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2K(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.editable")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.editable,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.editable = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const editableEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2K, [["render", _sfc_render$2K]]);
const __vite_glob_0_68 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: editableEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2J = {
  name: "endPlaceholder-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$2J(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.endPlaceholder")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.endPlaceholder,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.endPlaceholder = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const endPlaceholderEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2J, [["render", _sfc_render$2J]]);
const __vite_glob_0_69 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: endPlaceholderEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2I = {
  name: "onAppendButtonClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2I(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onAppendButtonClick",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onAppendButtonClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onAppendButtonClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2I, [["render", _sfc_render$2I]]);
const __vite_glob_0_70 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onAppendButtonClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2H = {
  name: "onBeforeUpload-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["file"]
    };
  }
};
function _sfc_render$2H(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onBeforeUpload",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onBeforeUpload", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onBeforeUploadEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2H, [["render", _sfc_render$2H]]);
const __vite_glob_0_71 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onBeforeUploadEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2G = {
  name: "onBlur-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["event"]
    };
  }
};
function _sfc_render$2G(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onBlur",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onBlur", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onBlurEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2G, [["render", _sfc_render$2G]]);
const __vite_glob_0_72 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onBlurEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2F = {
  name: "onCancelButtonClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2F(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCancelButtonClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCancelButtonClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onCancelButtonClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2F, [["render", _sfc_render$2F]]);
const __vite_glob_0_73 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onCancelButtonClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2E = {
  name: "onCellClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["row", "column", "cell", "event"]
    };
  }
};
function _sfc_render$2E(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCellClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCellClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onCellClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2E, [["render", _sfc_render$2E]]);
const __vite_glob_0_74 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onCellClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2D = {
  name: "onCellDoubleClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["row", "column", "cell", "event"]
    };
  }
};
function _sfc_render$2D(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCellDoubleClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCellDoubleClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onCellDoubleClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2D, [["render", _sfc_render$2D]]);
const __vite_glob_0_75 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onCellDoubleClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2C = {
  name: "onChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["value", "oldValue", "subFormData", "rowId"]
    };
  }
};
function _sfc_render$2C(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onChange",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2C, [["render", _sfc_render$2C]]);
const __vite_glob_0_76 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2B = {
  name: "onClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2B(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.optionModel.onClick ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2B, [["render", _sfc_render$2B]]);
const __vite_glob_0_77 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2A = {
  name: "onClickIcon-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2A(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onClickIcon",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.optionModel.onClickIcon ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onClickIcon", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onClickIconEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2A, [["render", _sfc_render$2A]]);
const __vite_glob_0_78 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onClickIconEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2z = {
  name: "onCreated-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCreated",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.optionModel.onCreated ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCreated", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onCreatedEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2z, [["render", _sfc_render$2z]]);
const __vite_glob_0_79 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onCreatedEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2y = {
  name: "onCurrentPageChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["pageSize", "currentPage"]
    };
  }
};
function _sfc_render$2y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCurrentPageChange",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCurrentPageChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onCurrentPageChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2y, [["render", _sfc_render$2y]]);
const __vite_glob_0_80 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onCurrentPageChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2x = {
  name: "onDialogBeforeClose-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2x(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onDialogBeforeClose",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onDialogBeforeClose", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onDialogBeforeCloseEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2x, [["render", _sfc_render$2x]]);
const __vite_glob_0_81 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onDialogBeforeCloseEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2w = {
  name: "onDialogOpened-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2w(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onDialogOpened",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onDialogOpened", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onDialogOpenedEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2w, [["render", _sfc_render$2w]]);
const __vite_glob_0_82 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onDialogOpenedEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2v = {
  name: "onDisableOperationButton-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["buttonConfig", "rowIndex", "row"]
    };
  }
};
function _sfc_render$2v(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onDisableOperationButton",
    title: "onDisableOperationButton",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onDisableOperationButton", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onDisableOperationButtonEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2v, [["render", _sfc_render$2v]]);
const __vite_glob_0_83 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onDisableOperationButtonEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2u = {
  name: "onDrawerBeforeClose-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2u(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onDrawerBeforeClose",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onDrawerBeforeClose", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onDrawerBeforeCloseEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2u, [["render", _sfc_render$2u]]);
const __vite_glob_0_84 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onDrawerBeforeCloseEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2t = {
  name: "onDrawerOpened-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2t(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onDrawerOpened",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onDrawerOpened", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onDrawerOpenedEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2t, [["render", _sfc_render$2t]]);
const __vite_glob_0_85 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onDrawerOpenedEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2s = {
  name: "onFileRemove-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["file", "fileList"]
    };
  }
};
function _sfc_render$2s(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onFileRemove",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onFileRemove", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onFileRemove = /* @__PURE__ */ _export_sfc$1(_sfc_main$2s, [["render", _sfc_render$2s]]);
const __vite_glob_0_86 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onFileRemove
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2r = {
  name: "onFocus-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["event"]
    };
  }
};
function _sfc_render$2r(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onFocus",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onFocus", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onFocusEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2r, [["render", _sfc_render$2r]]);
const __vite_glob_0_87 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onFocusEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2q = {
  name: "onGetOperationButtonLabel-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["buttonConfig", "rowIndex", "row"]
    };
  }
};
function _sfc_render$2q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onGetOperationButtonLabel",
    title: "onGetOperationButtonLabel",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onGetOperationButtonLabel", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onGetOperationButtonLabelEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2q, [["render", _sfc_render$2q]]);
const __vite_glob_0_88 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onGetOperationButtonLabelEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2p = {
  name: "onGetRowClassName-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["rowIndex", "row"]
    };
  }
};
function _sfc_render$2p(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onGetRowClassName",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onGetRowClassName", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onGetRowClassNameEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2p, [["render", _sfc_render$2p]]);
const __vite_glob_0_89 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onGetRowClassNameEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2o = {
  name: "onGetSpanMethod-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["row", "column", "rowIndex", "columnIndex"]
    };
  }
};
function _sfc_render$2o(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onGetSpanMethod",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onGetSpanMethod", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onGetSpanMethodEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2o, [["render", _sfc_render$2o]]);
const __vite_glob_0_90 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onGetSpanMethodEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2n = {
  name: "onHeaderClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["column", "event"]
    };
  }
};
function _sfc_render$2n(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onHeaderClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onHeaderClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onHeaderClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2n, [["render", _sfc_render$2n]]);
const __vite_glob_0_91 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onHeaderClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2m = {
  name: "onHideOperationButton-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["buttonConfig", "rowIndex", "row"]
    };
  }
};
function _sfc_render$2m(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onHideOperationButton",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onHideOperationButton", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onHideOperationButtonEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2m, [["render", _sfc_render$2m]]);
const __vite_glob_0_92 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onHideOperationButtonEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2l = {
  name: "onInput-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["value"]
    };
  }
};
function _sfc_render$2l(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onInput",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onInput", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onInputEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2l, [["render", _sfc_render$2l]]);
const __vite_glob_0_93 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onInputEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2k = {
  name: "onMenuClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["menuItem={ item, key, keyPath }"]
    };
  }
};
function _sfc_render$2k(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onMenuClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.optionModel.onMenuClick ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onMenuClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onMenuClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2k, [["render", _sfc_render$2k]]);
const __vite_glob_0_94 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onMenuClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2j = {
  name: "onMounted-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2j(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onMounted",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.optionModel.onMounted ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onMounted", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onMountedEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2j, [["render", _sfc_render$2j]]);
const __vite_glob_0_95 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onMountedEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2i = {
  name: "onOkButtonClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$2i(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onOkButtonClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onOkButtonClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onOkButtonClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2i, [["render", _sfc_render$2i]]);
const __vite_glob_0_96 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onOkButtonClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2h = {
  name: "onOperationButtonClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["buttonName", "rowIndex", "row"]
    };
  }
};
function _sfc_render$2h(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onOperationButtonClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onOperationButtonClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onOperationButtonClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2h, [["render", _sfc_render$2h]]);
const __vite_glob_0_97 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onOperationButtonClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2g = {
  name: "onPageSizeChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["pageSize", "currentPage"]
    };
  }
};
function _sfc_render$2g(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onPageSizeChange",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onPageSizeChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onPageSizeChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2g, [["render", _sfc_render$2g]]);
const __vite_glob_0_98 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onPageSizeChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2f = {
  name: "onRemoteQuery-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["keyword"]
    };
  }
};
function _sfc_render$2f(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onRemoteQuery",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onRemoteQuery", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onRemoteQueryEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2f, [["render", _sfc_render$2f]]);
const __vite_glob_0_99 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onRemoteQueryEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2e = {
  name: "onRowClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["row", "column", "event"]
    };
  }
};
function _sfc_render$2e(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onRowClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onRowClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onRowClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2e, [["render", _sfc_render$2e]]);
const __vite_glob_0_100 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onRowClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2d = {
  name: "onRowDoubleClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["row", "column", "event"]
    };
  }
};
function _sfc_render$2d(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onRowDoubleClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onRowDoubleClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onRowDoubleClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2d, [["render", _sfc_render$2d]]);
const __vite_glob_0_101 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onRowDoubleClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2c = {
  name: "onSelectionChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["selection", "selectedIndices"]
    };
  }
};
function _sfc_render$2c(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onSelectionChange",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onSelectionChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onSelectionChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2c, [["render", _sfc_render$2c]]);
const __vite_glob_0_102 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onSelectionChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2b = {
  name: "onSubFormRowAdd-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["subFormData", "newRowId"]
    };
  }
};
function _sfc_render$2b(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onSubFormRowAdd",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onSubFormRowAdd", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onSubFormRowAddEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2b, [["render", _sfc_render$2b]]);
const __vite_glob_0_103 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onSubFormRowAddEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$2a = {
  name: "onSubFormRowChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["subFormData"]
    };
  }
};
function _sfc_render$2a(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onSubFormRowChange",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onSubFormRowChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onSubFormRowChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$2a, [["render", _sfc_render$2a]]);
const __vite_glob_0_104 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onSubFormRowChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$29 = {
  name: "onSubFormRowDelete-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["subFormData", "deletedDataRow"]
    };
  }
};
function _sfc_render$29(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onSubFormRowDelete",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onSubFormRowDelete", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onSubFormRowDeleteEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$29, [["render", _sfc_render$29]]);
const __vite_glob_0_105 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onSubFormRowDeleteEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$28 = {
  name: "onSubFormRowInsert-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["subFormData", "newRowId"]
    };
  }
};
function _sfc_render$28(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onSubFormRowInsert",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onSubFormRowInsert", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onSubFormRowInsertEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$28, [["render", _sfc_render$28]]);
const __vite_glob_0_106 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onSubFormRowInsertEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$27 = {
  name: "onTabClick-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["tab", "index"]
    };
  }
};
function _sfc_render$27(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onTabClick",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onTabClick", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onTabClickEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$27, [["render", _sfc_render$27]]);
const __vite_glob_0_107 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onTabClickEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$26 = {
  name: "onTableChange-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["pagination", "filters", "sorter", "currentDataSource"]
    };
  }
};
function _sfc_render$26(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onTableChange",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onTableChange", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onTableChangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$26, [["render", _sfc_render$26]]);
const __vite_glob_0_108 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onTableChangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$25 = {
  name: "onUploadError-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["error", "file", "fileList"]
    };
  }
};
function _sfc_render$25(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onUploadError",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onUploadError", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onUploadErrorEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$25, [["render", _sfc_render$25]]);
const __vite_glob_0_109 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onUploadErrorEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$24 = {
  name: "onUploadSuccess-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["result", "file", "fileList"]
    };
  }
};
function _sfc_render$24(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onUploadSuccess",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onUploadSuccess", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onUploadSuccessEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$24, [["render", _sfc_render$24]]);
const __vite_glob_0_110 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onUploadSuccessEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$23 = {
  name: "onValidate-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: ["rule", "value"]
    };
  }
};
function _sfc_render$23(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onValidate",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onValidate", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onValidateEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$23, [["render", _sfc_render$23]]);
const __vite_glob_0_111 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onValidateEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$22 = {
  name: "onVformAdd-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object,
    eventHandled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      eventParams: []
    };
  }
};
function _sfc_render$22(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: "onCreated",
    labelAlign: "left",
    "label-width": "150px"
  }, {
    default: withCtx(() => [
      createVNode(_component_a_button, {
        type: "info",
        plain: "",
        shape: "round",
        class: normalizeClass([$props.eventHandled ? "button-text-highlight" : ""]),
        onClick: _cache[0] || (_cache[0] = ($event) => _ctx.editEventHandler("onCreated", $data.eventParams))
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
        ]),
        _: 1
      }, 8, ["class"])
    ]),
    _: 1
  });
}
const onVformAddEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$22, [["render", _sfc_render$22]]);
const __vite_glob_0_112 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: onVformAddEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$21 = {
  name: "circle-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$21(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.circle")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.circle,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.circle = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const circleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$21, [["render", _sfc_render$21]]);
const __vite_glob_0_113 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: circleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$20 = {
  name: "danger-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$20(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "设置危险按钮" }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.danger,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.danger = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const dangerEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$20, [["render", _sfc_render$20]]);
const __vite_glob_0_114 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dangerEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1$ = {
  name: "ghost-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1$(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "幽灵属性，使按钮背景透明" }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.ghost,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.ghost = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const ghostEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1$, [["render", _sfc_render$1$]]);
const __vite_glob_0_115 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ghostEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1_ = {
  name: "icon-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1_(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.buttonIcon")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.icon,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.icon = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const iconEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1_, [["render", _sfc_render$1_]]);
const __vite_glob_0_116 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: iconEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1Z = {
  name: "plain-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1Z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.plain")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.plain,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.plain = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const plainEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1Z, [["render", _sfc_render$1Z]]);
const __vite_glob_0_117 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: plainEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1Y = {
  name: "round-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1Y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.round")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.round,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.round = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const roundEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1Y, [["render", _sfc_render$1Y]]);
const __vite_glob_0_118 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: roundEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1X = {
  name: "shape-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1X(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "设置按钮形状" }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.shape,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.shape = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, { value: "default" }, {
            default: withCtx(() => [
              createTextVNode("default")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, { value: "circle" }, {
            default: withCtx(() => [
              createTextVNode("circle")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, { value: "round" }, {
            default: withCtx(() => [
              createTextVNode("round")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  });
}
const shapeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1X, [["render", _sfc_render$1X]]);
const __vite_glob_0_119 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: shapeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1W = {
  name: "type-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1W(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.displayType")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.type,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.type = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "primary",
            value: "primary"
          }, {
            default: withCtx(() => [
              createTextVNode("primary")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "warning",
            value: "ghost"
          }, {
            default: withCtx(() => [
              createTextVNode("ghost")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "success",
            value: "dashed"
          }, {
            default: withCtx(() => [
              createTextVNode("dashed")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "danger",
            value: "link"
          }, {
            default: withCtx(() => [
              createTextVNode("link")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "text",
            value: "text"
          }, {
            default: withCtx(() => [
              createTextVNode("text")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "default",
            value: "default"
          }, {
            default: withCtx(() => [
              createTextVNode("default ")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const typeEditor$1 = /* @__PURE__ */ _export_sfc$1(_sfc_main$1W, [["render", _sfc_render$1W]]);
const __vite_glob_0_120 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: typeEditor$1
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1V = {
  name: "cascader-defaultValue-editor",
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
const _hoisted_1$y = { style: { "display": "none" } };
function _sfc_render$1V(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$y);
}
const cascaderDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1V, [["render", _sfc_render$1V]]);
const __vite_glob_0_121 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cascaderDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1U = {
  name: "cascader-multiple-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1U(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.multiple")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.multiple,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.multiple = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const cascaderMultipleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1U, [["render", _sfc_render$1U]]);
const __vite_glob_0_122 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: cascaderMultipleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1T = {
  name: "checkbox-defaultValue-editor",
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
const _hoisted_1$x = { style: { "display": "none" } };
function _sfc_render$1T(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$x);
}
const checkboxDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1T, [["render", _sfc_render$1T]]);
const __vite_glob_0_123 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: checkboxDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1S = {
  name: "color-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1S(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        style: { "padding": "0", "width": "25px", "height": "25px" },
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange,
        type: "color"
      }, null, 8, ["value", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const colorDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1S, [["render", _sfc_render$1S]]);
const __vite_glob_0_124 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: colorDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1R = {
  name: "date-range-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1R(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_date_picker = resolveComponent("a-date-picker");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_date_picker, {
        type: $props.optionModel.type,
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange,
        format: $props.optionModel.format,
        "value-format": $props.optionModel.valueFormat,
        style: { "width": "100%" }
      }, null, 8, ["type", "value", "onChange", "format", "value-format"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateRangeDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1R, [["render", _sfc_render$1R]]);
const __vite_glob_0_125 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateRangeDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1Q = {
  name: "date-range-format-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1Q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.format")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.format,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.format = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD",
            value: "YYYY-MM-DD"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY-MM-DD")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY年MM月DD日",
            value: "YYYY年MM月DD日"
          }, {
            default: withCtx(() => [
              createTextVNode(" YYYY年MM月DD日 ")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD HH:mm:ss",
            value: "YYYY-MM-DD HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode(" YYYY-MM-DD HH:mm:ss ")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY:MM",
            value: "YYYY:MM"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY:MM")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY",
            value: "YYYY"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateRangeFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1Q, [["render", _sfc_render$1Q]]);
const __vite_glob_0_126 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateRangeFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1P = {
  name: "date-range-type-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1P(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.displayType")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        modelValue: $props.optionModel.type,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $props.optionModel.type = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "daterange",
            value: "daterange"
          }, {
            default: withCtx(() => [
              createTextVNode("daterange")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "datetimerange",
            value: "datetimerange"
          }, {
            default: withCtx(() => [
              createTextVNode("datetimerange")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "monthrange",
            value: "monthrange"
          }, {
            default: withCtx(() => [
              createTextVNode("monthrange")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["modelValue"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateRangeTypeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1P, [["render", _sfc_render$1P]]);
const __vite_glob_0_127 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateRangeTypeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1O = {
  name: "date-range-valueFormat-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1O(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.valueFormat")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.valueFormat,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.valueFormat = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD",
            value: "YYYY-MM-DD"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY-MM-DD")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD HH:mm:ss",
            value: "YYYY-MM-DD HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode(" YYYY-MM-DD HH:mm:ss ")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY:MM",
            value: "YYYY:MM"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY:MM")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY",
            value: "YYYY"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateRangeValueFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1O, [["render", _sfc_render$1O]]);
const __vite_glob_0_128 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateRangeValueFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1N = {
  name: "date-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1N(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_date_picker = resolveComponent("a-date-picker");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_date_picker, {
        type: $props.optionModel.type,
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange,
        format: $props.optionModel.format,
        "value-format": $props.optionModel.valueFormat,
        style: { "width": "100%" }
      }, null, 8, ["type", "value", "onChange", "format", "value-format"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1N, [["render", _sfc_render$1N]]);
const __vite_glob_0_129 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1M = {
  name: "date-format-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1M(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.format")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.format,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.format = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD",
            value: "YYYY-MM-DD"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY-MM-DD")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD HH-mm:ss",
            value: "YYYY-MM-DD HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode(" YYYY-MM-DD HH-mm:ss ")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY-MM",
            value: "YYYY-MM"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY-MM")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY",
            value: "YYYY"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1M, [["render", _sfc_render$1M]]);
const __vite_glob_0_130 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1L = {
  name: "date-type-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1L(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.displayType")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.type,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.type = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "date",
            value: "date"
          }, {
            default: withCtx(() => [
              createTextVNode("日")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "week",
            value: "week"
          }, {
            default: withCtx(() => [
              createTextVNode("周")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "month",
            value: "month"
          }, {
            default: withCtx(() => [
              createTextVNode("月")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "quarter",
            value: "quarter"
          }, {
            default: withCtx(() => [
              createTextVNode("季")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "year",
            value: "year"
          }, {
            default: withCtx(() => [
              createTextVNode("年")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateTypeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1L, [["render", _sfc_render$1L]]);
const __vite_glob_0_131 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateTypeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1K = {
  name: "date-valueFormat-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1K(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.valueFormat")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.valueFormat,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.valueFormat = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD",
            value: "YYYY-MM-DD"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY-MM-DD")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY-MM-DD HH:mm:ss",
            value: "YYYY-MM-DD HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode(" YYYY-MM-DD HH:mm:ss ")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY:MM",
            value: "YYYY:MM"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY:MM")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "YYYY",
            value: "YYYY"
          }, {
            default: withCtx(() => [
              createTextVNode("YYYY")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dateValueFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1K, [["render", _sfc_render$1K]]);
const __vite_glob_0_132 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dateValueFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1J = {
  name: "contentPosition-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1J(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.contentPosition")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.contentPosition,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.contentPosition = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "center",
            value: "center"
          }, {
            default: withCtx(() => [
              createTextVNode("center")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "left",
            value: "left"
          }, {
            default: withCtx(() => [
              createTextVNode("left")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "right",
            value: "right"
          }, {
            default: withCtx(() => [
              createTextVNode("right")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const contentPositionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1J, [["render", _sfc_render$1J]]);
const __vite_glob_0_133 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: contentPositionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1I = {
  name: "divider-direction-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1I(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.dividerDirection")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.direction,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.direction = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "horizontal",
            value: "horizontal"
          }, {
            default: withCtx(() => [
              createTextVNode("horizontal")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "vertical",
            value: "vertical"
          }, {
            default: withCtx(() => [
              createTextVNode("vertical")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const dividerDirectionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1I, [["render", _sfc_render$1I]]);
const __vite_glob_0_134 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dividerDirectionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1H = {
  name: "menuList-editor",
  mixins: [i18n$1],
  components: { CodeModalEditor },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      tableDataOptions: ""
    };
  },
  methods: {
    saveTableData() {
      try {
        this.optionModel.menuList = JSON.parse(this.tableDataOptions);
      } catch (ex) {
        this.$message.error(this.i18nt("designer.hint.invalidOptionsData") + ex.message);
      }
    },
    openTableDataEdit() {
      this.tableDataOptions = JSON.stringify(this.optionModel.menuList, null, "  ");
      this.$refs.CodeModalEditorRef.open(this.tableDataOptions);
    }
  }
};
function _sfc_render$1H(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_button = resolveComponent("a-button");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_CodeModalEditor = resolveComponent("CodeModalEditor");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, { label: `下拉菜单选项设置` }, {
      default: withCtx(() => [
        createVNode(_component_a_button, {
          type: "primary",
          shape: "round",
          onClick: $options.openTableDataEdit
        }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.editAction")), 1)
          ]),
          _: 1
        }, 8, ["onClick"])
      ]),
      _: 1
    }),
    createVNode(_component_CodeModalEditor, {
      ref: "CodeModalEditorRef",
      mode: "json",
      readonly: false,
      modelValue: $data.tableDataOptions,
      "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.tableDataOptions = $event),
      title: _ctx.i18nt("designer.setting.tableDataEdit"),
      onSave: $options.saveTableData
    }, null, 8, ["modelValue", "title", "onSave"])
  ], 64);
}
const dropdownMenuListEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1H, [["render", _sfc_render$1H]]);
const __vite_glob_0_135 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dropdownMenuListEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1G = {
  name: "file-upload-fileTypes-editor",
  mixins: [i18n$1],
  components: {
    SvgIcon
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      uploadFileTypes: [
        { value: "doc", label: "doc" },
        { value: "xls", label: "xls" },
        { value: "docx", label: "docx" },
        { value: "xlsx", label: "xlsx" }
      ]
    };
  }
};
function _sfc_render$1G(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, null, {
    label: withCtx(() => [
      createElementVNode("span", null, [
        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.fileTypes")) + " ", 1),
        createVNode(_component_a_tooltip, {
          title: _ctx.i18nt("designer.setting.fileTypesHelp")
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, { "icon-class": "el-info" })
          ]),
          _: 1
        }, 8, ["title"])
      ])
    ]),
    default: withCtx(() => [
      createVNode(_component_a_select, {
        multiple: "",
        "allow-create": "",
        filterable: "",
        "default-first-option": "",
        value: $props.optionModel.fileTypes,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.fileTypes = $event),
        style: { "width": "100%" },
        options: $data.uploadFileTypes
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const fileUploadFileTypesEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1G, [["render", _sfc_render$1G]]);
const __vite_glob_0_136 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: fileUploadFileTypesEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1F = {
  name: "htmlContent-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1F(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_textarea = resolveComponent("a-textarea");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.htmlContent")
    }, null, 8, ["label"]),
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_textarea, {
          value: $props.optionModel.htmlContent,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.htmlContent = $event),
          rows: 5,
          class: "html-content-editor"
        }, null, 8, ["value"])
      ]),
      _: 1
    })
  ]);
}
const htmlContentEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1F, [["render", _sfc_render$1F], ["__scopeId", "data-v-85305ed8"]]);
const __vite_glob_0_137 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: htmlContentEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1E = {
  name: "controlsPosition-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1E(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.controlsPosition")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.controlsPosition,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.controlsPosition = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "default",
            value: ""
          }, {
            default: withCtx(() => [
              createTextVNode("default")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "right",
            value: "right"
          }, {
            default: withCtx(() => [
              createTextVNode("right")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const controlsPositionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1E, [["render", _sfc_render$1E]]);
const __vite_glob_0_138 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: controlsPositionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1D = {
  name: "number-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1D(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return !_ctx.hasConfig("optionItems") ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        type: "text",
        style: { "width": "100%" },
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange
      }, null, 8, ["value", "onChange"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const numberDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1D, [["render", _sfc_render$1D]]);
const __vite_glob_0_139 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: numberDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1C = {
  name: "picture-upload-fileTypes-editor",
  mixins: [i18n$1],
  components: {
    SvgIcon
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      uploadPictureTypes: [
        {
          value: "jpg",
          label: "jpg"
        },
        { value: "jpeg", label: "jpeg" },
        { value: "png", label: "png" },
        { value: "gif", label: "gif" }
      ]
    };
  }
};
function _sfc_render$1C(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, null, {
    label: withCtx(() => [
      createElementVNode("span", null, [
        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.fileTypes")) + " ", 1),
        createVNode(_component_a_tooltip, {
          title: _ctx.i18nt("designer.setting.fileTypesHelp")
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, { "icon-class": "el-info" })
          ]),
          _: 1
        }, 8, ["title"])
      ])
    ]),
    default: withCtx(() => [
      createVNode(_component_a_select, {
        multiple: "",
        "allow-create": "",
        filterable: "",
        "default-first-option": "",
        modelValue: $props.optionModel.fileTypes,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $props.optionModel.fileTypes = $event),
        style: { "width": "100%" },
        options: $data.uploadPictureTypes
      }, null, 8, ["modelValue", "options"])
    ]),
    _: 1
  });
}
const pictureUploadFileTypesEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1C, [["render", _sfc_render$1C]]);
const __vite_glob_0_140 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: pictureUploadFileTypesEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1B = {
  name: "radio-defaultValue-editor",
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
const _hoisted_1$w = { style: { "display": "none" } };
function _sfc_render$1B(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$w);
}
const radioDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1B, [["render", _sfc_render$1B]]);
const __vite_glob_0_141 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: radioDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1A = {
  name: "allowHalf-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1A(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.allowHalf")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.allowHalf,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.allowHalf = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const allowHalfEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1A, [["render", _sfc_render$1A]]);
const __vite_glob_0_142 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: allowHalfEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1z = {
  name: "highThreshold-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.highThreshold")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.highThreshold,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.highThreshold = $event),
        min: $props.optionModel.lowThreshold,
        max: $props.optionModel.max,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value", "min", "max"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const highThresholdEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1z, [["render", _sfc_render$1z]]);
const __vite_glob_0_143 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: highThresholdEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1y = {
  name: "lowThreshold-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.lowThreshold")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.lowThreshold,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.lowThreshold = $event),
        min: 1,
        max: $props.optionModel.highThreshold,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value", "max"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const lowThresholdEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1y, [["render", _sfc_render$1y]]);
const __vite_glob_0_144 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: lowThresholdEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1x = {
  name: "rate-count-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1x(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.maxStars")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.count,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.count = $event),
        min: 1,
        max: 10,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const rateCountEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1x, [["render", _sfc_render$1x]]);
const __vite_glob_0_145 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rateCountEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1w = {
  name: "rate-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1w(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        min: 0,
        max: $props.optionModel.max,
        style: { "width": "100%" },
        onChange: _ctx.emitDefaultValueChange
      }, null, 8, ["value", "max", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const rateDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1w, [["render", _sfc_render$1w]]);
const __vite_glob_0_146 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rateDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1v = {
  name: "showScore-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1v(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showScore")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showScore,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showScore = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showScoreEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1v, [["render", _sfc_render$1v]]);
const __vite_glob_0_147 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showScoreEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1u = {
  name: "showText-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1u(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showText")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showText,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showText = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showTextEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1u, [["render", _sfc_render$1u]]);
const __vite_glob_0_148 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showTextEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1t = {
  name: "rich-editor-contentHeight-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1t(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.contentHeight")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          type: "text",
          value: $props.optionModel.contentHeight,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.contentHeight = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
const richEditorContentHeightEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1t, [["render", _sfc_render$1t]]);
const __vite_glob_0_149 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: richEditorContentHeightEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1s = {
  name: "mode-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      modeList: [
        { value: "combobox", label: "列表模式" },
        { value: "multiple", label: "多选模式" },
        { value: "tags", label: "标签模式" }
      ]
    };
  },
  methods: {
    changeMode(val) {
      if (["multiple", "tags"].includes(val)) {
        this.optionModel.defaultValue = [];
      } else {
        this.optionModel.defaultValue = null;
      }
    }
  }
};
function _sfc_render$1s(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "模式" }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.mode,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.mode = $event),
        options: $data.modeList,
        onChange: $options.changeMode
      }, null, 8, ["value", "options", "onChange"])
    ]),
    _: 1
  });
}
const modeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1s, [["render", _sfc_render$1s]]);
const __vite_glob_0_150 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: modeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1r = {
  name: "select-defaultValue-editor",
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
const _hoisted_1$v = { style: { "display": "none" } };
function _sfc_render$1r(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("div", _hoisted_1$v);
}
const selectDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1r, [["render", _sfc_render$1r]]);
const __vite_glob_0_151 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: selectDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1q = {
  name: "range-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  methods: {
    changeRange(val) {
      if (!!this.designer && !!this.designer.formWidget) {
        const fieldWidget = this.designer.formWidget.getWidgetRef(this.optionModel.name);
        if (!!fieldWidget && !!fieldWidget.refreshDefaultValue) {
          if (val) {
            this.optionModel.defaultValue = [];
          } else {
            this.optionModel.defaultValue = null;
          }
          fieldWidget.refreshDefaultValue();
        }
      }
    }
  }
};
function _sfc_render$1q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.range")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.range,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.range = $event),
        onChange: $options.changeRange
      }, null, 8, ["checked", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const rangeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1q, [["render", _sfc_render$1q]]);
const __vite_glob_0_152 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rangeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1p = {
  name: "vertical-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1p(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.vertical")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.vertical,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.vertical = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const verticalEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1p, [["render", _sfc_render$1p]]);
const __vite_glob_0_153 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: verticalEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1o = {
  name: "textContent-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1o(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.textContent")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.textContent,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.textContent = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const textContentEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1o, [["render", _sfc_render$1o]]);
const __vite_glob_0_154 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: textContentEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1n = {
  name: "activeColor-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1n(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.activeColor")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        style: { "padding": "0", "width": "25px", "height": "25px" },
        value: $props.optionModel.activeColor,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.activeColor = $event),
        onChange: _ctx.handleChangeEvent,
        type: "color"
      }, null, 8, ["value", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const activeColorEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1n, [["render", _sfc_render$1n]]);
const __vite_glob_0_155 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: activeColorEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1m = {
  name: "checkedValue-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1m(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.checkedValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.checkedValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.checkedValue = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const checkedValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1m, [["render", _sfc_render$1m]]);
const __vite_glob_0_156 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: checkedValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1l = {
  name: "inactiveColor-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1l(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.inactiveColor")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        style: { "padding": "0", "width": "25px", "height": "25px" },
        value: $props.optionModel.inactiveColor,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.inactiveColor = $event),
        onChange: _ctx.emitDefaultValueChange,
        type: "color"
      }, null, 8, ["value", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const inactiveColorEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1l, [["render", _sfc_render$1l]]);
const __vite_glob_0_157 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: inactiveColorEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1k = {
  name: "switch-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1k(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.defaultValue,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange,
        checkedValue: $props.optionModel.checkedValue,
        unCheckedValue: $props.optionModel.unCheckedValue
      }, null, 8, ["checked", "onChange", "checkedValue", "unCheckedValue"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const switchDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1k, [["render", _sfc_render$1k]]);
const __vite_glob_0_158 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: switchDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1j = {
  name: "switchWidth-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1j(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.switchWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.switchWidth,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.switchWidth = $event),
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const switchWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1j, [["render", _sfc_render$1j]]);
const __vite_glob_0_159 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: switchWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1i = {
  name: "unCheckedValue-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1i(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.unCheckedValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        value: $props.optionModel.unCheckedValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.unCheckedValue = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const unCheckedValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1i, [["render", _sfc_render$1i]]);
const __vite_glob_0_160 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: unCheckedValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1h = {
  name: "time-range-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1h(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_time_range_picker = resolveComponent("a-time-range-picker");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_time_range_picker, {
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        allowClear: "",
        onChange: _ctx.emitDefaultValueChange,
        format: $props.optionModel.format,
        "value-format": "HH:mm:ss",
        style: { "width": "100%" }
      }, null, 8, ["value", "onChange", "format"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const timeRangeDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1h, [["render", _sfc_render$1h]]);
const __vite_glob_0_161 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeRangeDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1g = {
  name: "time-range-format-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1g(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.format")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.format,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.format = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "HH:mm:ss",
            value: "HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode("HH:mm:ss")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "HH时mm分ss秒",
            value: "HH时mm分ss秒"
          }, {
            default: withCtx(() => [
              createTextVNode("HH时mm分ss秒")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const timeRangeFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1g, [["render", _sfc_render$1g]]);
const __vite_glob_0_162 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeRangeFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1f = {
  name: "time-defaultValue-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1f(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_time_picker = resolveComponent("a-time-picker");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.defaultValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_time_picker, {
        value: $props.optionModel.defaultValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.defaultValue = $event),
        onChange: _ctx.emitDefaultValueChange,
        format: $props.optionModel.format,
        "value-format": "HH:mm:ss",
        style: { "width": "100%" }
      }, null, 8, ["value", "onChange", "format"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const timeDefaultValueEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1f, [["render", _sfc_render$1f]]);
const __vite_glob_0_163 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeDefaultValueEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1e = {
  name: "time-format-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1e(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.format")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.format,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.format = $event),
        allowClear: ""
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, {
            label: "HH:mm:ss",
            value: "HH:mm:ss"
          }, {
            default: withCtx(() => [
              createTextVNode("HH:mm:ss")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, {
            label: "HH时mm分ss秒",
            value: "HH时mm分ss秒"
          }, {
            default: withCtx(() => [
              createTextVNode("HH时mm分ss秒")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const timeFormatEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1e, [["render", _sfc_render$1e]]);
const __vite_glob_0_164 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: timeFormatEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1d = {
  name: "treeDefaultExpandAll-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$1d(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `默认展开所有树节点` }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.treeDefaultExpandAll,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.treeDefaultExpandAll = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const treeSelectTreeDefaultExpandAllEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1d, [["render", _sfc_render$1d]]);
const __vite_glob_0_165 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: treeSelectTreeDefaultExpandAllEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1c = {
  name: "hidden-editor",
  mixins: [i18n$1, eventMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      eventParams: ["event"]
    };
  }
};
function _sfc_render$1c(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.hidden")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_space, null, {
          default: withCtx(() => [
            createVNode(_component_a_switch, {
              checked: $props.optionModel.hidden,
              "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.hidden = $event)
            }, null, 8, ["checked"]),
            createVNode(_component_a_button, {
              type: "info",
              shape: "round",
              class: normalizeClass([!!$props.optionModel.onHidden ? "button-text-highlight" : ""]),
              onClick: _cache[1] || (_cache[1] = ($event) => _ctx.editEventHandler("onHidden", $data.eventParams))
            }, {
              default: withCtx(() => [
                createTextVNode(" 编辑函数 ")
              ]),
              _: 1
            }, 8, ["class"])
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["label"]),
    !!$props.optionModel.hidden ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      label: `隐藏时是否占位`
    }, {
      default: withCtx(() => [
        createVNode(_component_a_space, null, {
          default: withCtx(() => [
            createVNode(_component_a_switch, {
              checked: $props.optionModel.holdHidden,
              "onUpdate:checked": _cache[2] || (_cache[2] = ($event) => $props.optionModel.holdHidden = $event)
            }, null, 8, ["checked"])
          ]),
          _: 1
        })
      ]),
      _: 1
    })) : createCommentVNode("", true)
  ], 64);
}
const hiddenEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1c, [["render", _sfc_render$1c]]);
const __vite_glob_0_166 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: hiddenEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1b = {
  name: "label-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    noLabelSetting() {
      return this.selectedWidget.type === "static-text" || this.selectedWidget.type === "html-text";
    }
  }
};
function _sfc_render$1b(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return !$options.noLabelSetting ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.label")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.label,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.label = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const labelEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1b, [["render", _sfc_render$1b]]);
const __vite_glob_0_167 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$1a = {
  name: "labelAlign-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    noLabelSetting() {
      return this.selectedWidget.type === "static-text" || this.selectedWidget.type === "html-text";
    }
  }
};
function _sfc_render$1a(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_form_item = resolveComponent("a-form-item");
  return !$options.noLabelSetting && $props.selectedWidget.type !== "button" ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.labelAlign")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_radio_group, {
        value: $props.optionModel.labelAlign,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelAlign = $event),
        class: "radio-group-custom"
      }, {
        default: withCtx(() => [
          createVNode(_component_a_radio_button, { value: "left" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.leftAlign")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_radio_button, { value: "right" }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.rightAlign")), 1)
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const labelAlignEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$1a, [["render", _sfc_render$1a], ["__scopeId", "data-v-c7ae9c26"]]);
const __vite_glob_0_168 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelAlignEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$19 = {
  name: "labelHidden-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$19(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.labelHidden")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.labelHidden,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelHidden = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const labelHiddenEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$19, [["render", _sfc_render$19]]);
const __vite_glob_0_169 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelHiddenEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$18 = {
  name: "labelIconClass-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$18(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_divider, { class: "custom-divider" }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.customLabelIcon")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.labelIconClass")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          type: "text",
          value: $props.optionModel.labelIconClass,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelIconClass = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
const labelIconClassEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$18, [["render", _sfc_render$18]]);
const __vite_glob_0_170 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelIconClassEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$17 = {
  name: "labelIconPosition-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      labelIconPosition: [
        { label: "标签前面", value: "front" },
        { label: "标签后面", value: "rear" }
      ]
    };
  }
};
function _sfc_render$17(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.labelIconPosition")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.labelIconPosition,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelIconPosition = $event)
      }, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList($data.labelIconPosition, (item) => {
            return openBlock(), createBlock(_component_a_select_option, {
              key: item.value,
              label: item.label,
              value: item.value
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(item.label), 1)
              ]),
              _: 2
            }, 1032, ["label", "value"]);
          }), 128))
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const labelIconPositionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$17, [["render", _sfc_render$17]]);
const __vite_glob_0_171 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelIconPositionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$16 = {
  name: "labelTooltip-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$16(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.labelTooltip")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.labelTooltip,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelTooltip = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const labelTooltipEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$16, [["render", _sfc_render$16]]);
const __vite_glob_0_172 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelTooltipEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$15 = {
  name: "labelWidth-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$15(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.labelWidth")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.labelWidth,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelWidth = $event),
        onInput: _ctx.inputNumberHandler,
        min: 0,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value", "onInput"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const labelWidthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$15, [["render", _sfc_render$15]]);
const __vite_glob_0_173 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: labelWidthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$14 = {
  name: "limit-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$14(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.limit")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.limit,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.limit = $event),
        min: 1,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const limitEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$14, [["render", _sfc_render$14]]);
const __vite_glob_0_174 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: limitEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$13 = {
  name: "loadingPage-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$13(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `使用分页加载` }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.loadingPage,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.loadingPage = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const loadingPageEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$13, [["render", _sfc_render$13]]);
const __vite_glob_0_175 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: loadingPageEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$12 = {
  name: "max-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    maxValue: {
      get() {
        return this.optionModel["max"];
      },
      set(newValue) {
        if (!newValue || isNaN(newValue)) {
          this.optionModel.max = null;
        } else {
          this.optionModel.max = Number(newValue);
        }
      }
    }
  }
};
function _sfc_render$12(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.maxValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $options.maxValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $options.maxValue = $event),
        class: "hide-spin-button",
        style: { "width": "100%" },
        min: -999999999,
        max: 999999999
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const maxEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$12, [["render", _sfc_render$12]]);
const __vite_glob_0_176 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: maxEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$11 = {
  name: "maxLength-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    maxLength: {
      get() {
        return this.optionModel["maxLength"];
      },
      set(newValue) {
        if (!newValue || isNaN(newValue)) {
          this.optionModel.maxLength = null;
        } else {
          this.optionModel.maxLength = Number(newValue);
        }
      }
    }
  }
};
function _sfc_render$11(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.maxLength")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        onInput: _ctx.inputNumberHandler,
        class: "hide-spin-button",
        min: 0,
        value: $options.maxLength,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $options.maxLength = $event),
        style: { "width": "100%" }
      }, null, 8, ["onInput", "value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const maxLengthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$11, [["render", _sfc_render$11]]);
const __vite_glob_0_177 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: maxLengthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$10 = {
  name: "maxSize-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$10(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `文件大小(M)` }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.maxSize,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.maxSize = $event),
        min: 1,
        max: 20,
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  });
}
const maxSizeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$10, [["render", _sfc_render$10]]);
const __vite_glob_0_178 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: maxSizeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$$ = {
  name: "min-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    minValue: {
      get() {
        return this.optionModel["min"];
      },
      set(newValue) {
        if (newValue === void 0 || newValue === null || isNaN(newValue)) {
          this.optionModel.min = null;
        } else {
          this.optionModel.min = Number(newValue);
        }
      }
    }
  }
};
function _sfc_render$$(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.minValue")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $options.minValue,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $options.minValue = $event),
        class: "hide-spin-button",
        style: { "width": "100%" },
        min: -999999999,
        max: 999999999
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const minEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$$, [["render", _sfc_render$$]]);
const __vite_glob_0_179 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: minEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$_ = {
  name: "minLength-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {
    minLength: {
      get() {
        return this.optionModel["minLength"];
      },
      set(newValue) {
        if (!newValue || isNaN(newValue)) {
          this.optionModel.minLength = null;
        } else {
          this.optionModel.minLength = Number(newValue);
        }
      }
    }
  }
};
function _sfc_render$_(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.minLength")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        onInput: _ctx.inputNumberHandler,
        class: "hide-spin-button",
        min: 0,
        value: $options.minLength,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $options.minLength = $event),
        style: { "width": "100%" }
      }, null, 8, ["onInput", "value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const minLengthEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$_, [["render", _sfc_render$_]]);
const __vite_glob_0_180 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: minLengthEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$Z = {
  name: "multiple-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  methods: {
    changeMultiple(val) {
      if (!!this.designer && !!this.designer.formWidget) {
        const fieldWidget = this.designer.formWidget.getWidgetRef(this.optionModel.name);
        if (!!fieldWidget && !!fieldWidget.refreshDefaultValue) {
          if (val) {
            this.optionModel.defaultValue = [];
          } else {
            this.optionModel.defaultValue = null;
          }
          fieldWidget.refreshDefaultValue();
        }
      }
    }
  }
};
function _sfc_render$Z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `是否可多选` }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.multiple,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.multiple = $event),
        onChange: $options.changeMultiple
      }, null, 8, ["checked", "onChange"])
    ]),
    _: 1
  });
}
const multipleEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$Z, [["render", _sfc_render$Z]]);
const __vite_glob_0_181 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: multipleEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$Y = {
  name: "multipleSelect-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$Y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.multipleSelect")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.multipleSelect,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.multipleSelect = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const multipleSelectEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$Y, [["render", _sfc_render$Y]]);
const __vite_glob_0_182 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: multipleSelectEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$X = {
  name: "name-editor",
  mixins: [i18n$1],
  components: {
    SvgIcon
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  inject: ["serverFieldList", "getDesignerConfig"],
  data() {
    return {
      nameRequiredRule: [{ required: true, message: "名称必填" }]
    };
  },
  watch: {
    fieldList: {
      deep: true,
      handler(val) {
        if (val.length) {
          this.optionModel.name = "";
        }
      }
    }
  },
  computed: {
    fieldList() {
      if (this.serverFieldList) {
        return this.serverFieldList() || [];
      }
      return [];
    },
    noFieldList() {
      if (this.fieldList) {
        return this.fieldList.length <= 0;
      }
      return true;
    },
    widgetNameReadonly() {
      return !!this.getDesignerConfig().widgetNameReadonly;
    }
  },
  methods: {
    copyFormJson(e2) {
      copyToClipboard(this.optionModel.name, e2, this.$message, "复制成功", "复制失败");
    },
    updateWidgetNameAndRef(newName, ops) {
      if (newName) {
        newName = newName.target ? newName.target.value : newName;
      }
      if (ops) {
        this.optionModel.label = ops.showName;
      }
      const oldName = this.designer.selectedWidgetName;
      if (isEmptyStr(newName)) {
        this.selectedWidget.options.name = oldName;
        this.$message.warning(this.i18nt("designer.hint.nameRequired"));
        return;
      }
      if (!!this.designer.formWidget) {
        const foundRef = this.designer.formWidget.getWidgetRef(newName);
        if (!!foundRef) {
          this.selectedWidget.options.name = oldName;
          this.$message.warning(this.i18nt("designer.hint.duplicateName") + newName);
          return;
        }
        const widgetInDesign = this.designer.formWidget.getWidgetRef(oldName);
        if (!!widgetInDesign && !!widgetInDesign.registerToRefList) {
          widgetInDesign.registerToRefList(oldName);
          const newLabel = this.getLabelByFieldName(newName);
          this.designer.updateSelectedWidgetNameAndLabel(this.selectedWidget, newName, newLabel);
        }
      }
    },
    getLabelByFieldName(fieldName) {
      for (let i = 0; i < this.serverFieldList.length; i++) {
        if (this.serverFieldList[i].name === fieldName) {
          return this.serverFieldList[i].label;
        }
      }
      return null;
    }
  }
};
function _sfc_render$X(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_tooltip = resolveComponent("a-tooltip");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item_rest = resolveComponent("a-form-item-rest");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    name: "name",
    rules: $data.nameRequiredRule
  }, {
    label: withCtx(() => [
      createElementVNode("span", null, [
        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.uniqueName")) + " ", 1),
        createVNode(_component_a_tooltip, {
          title: _ctx.i18nt("designer.setting.editNameHelp")
        }, {
          default: withCtx(() => [
            createVNode(_component_svg_icon, { "icon-class": "el-info" })
          ]),
          _: 1
        }, 8, ["title"])
      ])
    ]),
    default: withCtx(() => [
      createVNode(_component_a_form_item_rest, null, {
        default: withCtx(() => [
          createVNode(_component_a_input, {
            size: "small",
            class: "t-mb-[5px]",
            value: $props.optionModel.name,
            "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.name = $event),
            readonly: $options.widgetNameReadonly,
            onChange: $options.updateWidgetNameAndRef
          }, {
            suffix: withCtx(() => [
              createElementVNode("a", {
                onClick: _cache[0] || (_cache[0] = (...args) => $options.copyFormJson && $options.copyFormJson(...args))
              }, "复制")
            ]),
            _: 1
          }, 8, ["value", "readonly", "onChange"]),
          createVNode(_component_a_select, {
            value: $props.optionModel.name,
            "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.name = $event),
            allowClear: "",
            disabled: $options.widgetNameReadonly,
            onChange: $options.updateWidgetNameAndRef,
            title: _ctx.i18nt("designer.setting.editNameHelp"),
            options: $options.fieldList,
            fieldNames: { label: "showName", value: "fieldCode" }
          }, null, 8, ["value", "disabled", "onChange", "title", "options"])
        ]),
        _: 1
      })
    ]),
    _: 1
  }, 8, ["rules"]);
}
const nameEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$X, [["render", _sfc_render$X]]);
const __vite_glob_0_183 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: nameEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$W = {
  name: "OptionItemsSetting",
  mixins: [i18n$1],
  components: {
    CodeEditor
  },
  props: {
    designer: Object,
    selectedWidget: Object
  },
  data() {
    return {
      showImportDialogFlag: false,
      optionLines: "",
      cascaderOptions: "",
      showImportCascaderDialogFlag: false,
      //separator: '||',
      separator: ","
    };
  },
  computed: {
    optionModel() {
      return this.selectedWidget.options;
    }
  },
  watch: {
    "selectedWidget.options": {
      deep: true,
      handler(val) {
      }
    }
  },
  methods: {
    emitDefaultValueChange() {
      if (!!this.designer && !!this.designer.formWidget) {
        const fieldWidget = this.designer.formWidget.getWidgetRef(
          this.selectedWidget.options.name
        );
        if (!!fieldWidget && !!fieldWidget.refreshDefaultValue) {
          fieldWidget.refreshDefaultValue();
        }
      }
    },
    deleteOption(option2, index2) {
      this.optionModel.optionItems.splice(index2, 1);
    },
    addOption() {
      const newValue = this.optionModel.optionItems.length + 1;
      this.optionModel.optionItems.push({
        value: newValue,
        label: "new option"
      });
    },
    importOptions() {
      this.optionLines = "";
      if (this.optionModel.optionItems.length > 0) {
        this.optionModel.optionItems.forEach((opt) => {
          if (opt.value === opt.label) {
            this.optionLines += opt.value + "\n";
          } else {
            this.optionLines += opt.value + this.separator + opt.label + "\n";
          }
        });
      }
      this.showImportDialogFlag = true;
    },
    saveOptions() {
      const lineArray = this.optionLines.split("\n");
      if (lineArray.length > 0) {
        this.optionModel.optionItems = [];
        lineArray.forEach((optLine) => {
          if (!!optLine && !!optLine.trim()) {
            if (optLine.indexOf(this.separator) !== -1) {
              this.optionModel.optionItems.push({
                value: optLine.split(this.separator)[0],
                label: optLine.split(this.separator)[1]
              });
            } else {
              this.optionModel.optionItems.push({
                value: optLine,
                label: optLine
              });
            }
          }
        });
      } else {
        this.optionModel.optionItems = [];
      }
      this.showImportDialogFlag = false;
    },
    resetDefault() {
      if (this.selectedWidget.type === "checkbox" || this.selectedWidget.type === "select" && this.selectedWidget.options.multiple) {
        this.optionModel.defaultValue = [];
      } else {
        this.optionModel.defaultValue = "";
      }
      this.emitDefaultValueChange();
    },
    importCascaderOptions() {
      this.cascaderOptions = JSON.stringify(this.optionModel.optionItems, null, "  ");
      this.showImportCascaderDialogFlag = true;
    },
    saveCascaderOptions() {
      try {
        const newOptions = JSON.parse(this.cascaderOptions);
        this.optionModel.optionItems = newOptions;
        this.showImportCascaderDialogFlag = false;
      } catch (ex) {
        this.$message.error(this.i18nt("designer.hint.invalidOptionsData") + ex.message);
      }
    }
  }
};
const _withScopeId = (n) => (pushScopeId("data-v-ae832d59"), n = n(), popScopeId(), n);
const _hoisted_1$u = { class: "option-items-pane" };
const _hoisted_2$m = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("i", { class: "iconfont icon-drag drag-option" }, null, -1));
const _hoisted_3$l = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("i", { class: "iconfont icon-drag drag-option" }, null, -1));
const _hoisted_4$b = {
  key: 2,
  class: "full-width-input"
};
const _hoisted_5$5 = {
  key: 3,
  class: "full-width-input"
};
const _hoisted_6$4 = { key: 4 };
const _hoisted_7$2 = { key: 5 };
const _hoisted_8$2 = { class: "dialog-footer" };
const _hoisted_9$1 = { class: "dialog-footer" };
function _sfc_render$W(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_radio = resolveComponent("a-radio");
  const _component_draggable = resolveComponent("draggable");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_checkbox = resolveComponent("a-checkbox");
  const _component_a_checkbox_group = resolveComponent("a-checkbox-group");
  const _component_a_cascader = resolveComponent("a-cascader");
  const _component_a_tree_select = resolveComponent("a-tree-select");
  const _component_a_textarea = resolveComponent("a-textarea");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_code_editor = resolveComponent("code-editor");
  return openBlock(), createElementBlock("div", _hoisted_1$u, [
    $props.selectedWidget.type === "radio" || $props.selectedWidget.type === "select" && ["combobox"].includes($props.selectedWidget.options.mode) ? (openBlock(), createBlock(_component_a_radio_group, {
      key: 0,
      value: $options.optionModel.defaultValue,
      "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $options.optionModel.defaultValue = $event),
      onChange: $options.emitDefaultValueChange
    }, {
      default: withCtx(() => [
        createVNode(_component_draggable, mergeProps({
          tag: "ul",
          list: $options.optionModel.optionItems,
          "item-key": "id"
        }, { group: "optionsGroup", ghostClass: "ghost", handle: ".drag-option" }), {
          item: withCtx(({ element: option2, index: idx }) => [
            createElementVNode("li", null, [
              createVNode(_component_a_radio, {
                value: option2.value
              }, {
                default: withCtx(() => [
                  createVNode(_component_a_input, {
                    value: option2.value,
                    "onUpdate:value": ($event) => option2.value = $event,
                    size: "small",
                    style: { "width": "60px" }
                  }, null, 8, ["value", "onUpdate:value"]),
                  createVNode(_component_a_input, {
                    value: option2.label,
                    "onUpdate:value": ($event) => option2.label = $event,
                    size: "small",
                    style: { "width": "70px" }
                  }, null, 8, ["value", "onUpdate:value"]),
                  _hoisted_2$m,
                  createVNode(_component_a_button, {
                    size: "small",
                    type: "danger",
                    onClick: ($event) => $options.deleteOption(option2, idx)
                  }, {
                    default: withCtx(() => [
                      createTextVNode(" 删除 ")
                    ]),
                    _: 2
                  }, 1032, ["onClick"])
                ]),
                _: 2
              }, 1032, ["value"])
            ])
          ]),
          _: 1
        }, 16, ["list"])
      ]),
      _: 1
    }, 8, ["value", "onChange"])) : $props.selectedWidget.type === "checkbox" || $props.selectedWidget.type === "select" && ["multiple", "tags"].includes($props.selectedWidget.options.mode) ? (openBlock(), createBlock(_component_a_checkbox_group, {
      key: 1,
      value: $options.optionModel.defaultValue,
      "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $options.optionModel.defaultValue = $event),
      onChange: $options.emitDefaultValueChange,
      style: { "width": "100%" }
    }, {
      default: withCtx(() => [
        createVNode(_component_draggable, mergeProps({
          tag: "ul",
          list: $options.optionModel.optionItems,
          "item-key": "id"
        }, { group: "optionsGroup", ghostClass: "ghost", handle: ".drag-option" }), {
          item: withCtx(({ element: option2, index: idx }) => [
            createElementVNode("li", null, [
              createVNode(_component_a_checkbox, {
                value: option2.value
              }, {
                default: withCtx(() => [
                  createVNode(_component_a_input, {
                    value: option2.value,
                    "onUpdate:value": ($event) => option2.value = $event,
                    size: "small",
                    style: { "width": "60px" }
                  }, null, 8, ["value", "onUpdate:value"]),
                  createVNode(_component_a_input, {
                    value: option2.label,
                    "onUpdate:value": ($event) => option2.label = $event,
                    size: "small",
                    style: { "width": "80px" }
                  }, null, 8, ["value", "onUpdate:value"]),
                  _hoisted_3$l,
                  createVNode(_component_a_button, {
                    size: "small",
                    type: "danger",
                    onClick: ($event) => $options.deleteOption(option2, idx)
                  }, {
                    default: withCtx(() => [
                      createTextVNode(" 删除 ")
                    ]),
                    _: 2
                  }, 1032, ["onClick"])
                ]),
                _: 2
              }, 1032, ["value"])
            ])
          ]),
          _: 1
        }, 16, ["list"])
      ]),
      _: 1
    }, 8, ["value", "onChange"])) : $props.selectedWidget.type === "cascader" ? (openBlock(), createElementBlock("div", _hoisted_4$b, [
      createVNode(_component_a_cascader, {
        value: $options.optionModel.defaultValue,
        "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $options.optionModel.defaultValue = $event),
        multiple: $options.optionModel.multiple,
        options: $options.optionModel.optionItems,
        onChange: $options.emitDefaultValueChange,
        placeholder: _ctx.i18nt("render.hint.selectPlaceholder")
      }, null, 8, ["value", "multiple", "options", "onChange", "placeholder"])
    ])) : $props.selectedWidget.type === "treeSelect" ? (openBlock(), createElementBlock("div", _hoisted_5$5, [
      createVNode(_component_a_tree_select, {
        value: $options.optionModel.defaultValue,
        "onUpdate:value": _cache[3] || (_cache[3] = ($event) => $options.optionModel.defaultValue = $event),
        treeData: $options.optionModel.optionItems,
        onChange: $options.emitDefaultValueChange,
        placeholder: _ctx.i18nt("render.hint.selectPlaceholder")
      }, null, 8, ["value", "treeData", "onChange", "placeholder"])
    ])) : createCommentVNode("", true),
    ["cascader", "treeSelect"].includes($props.selectedWidget.type) ? (openBlock(), createElementBlock("div", _hoisted_6$4, [
      createVNode(_component_a_button, {
        type: "text",
        onClick: $options.importCascaderOptions
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.importOptions")), 1)
        ]),
        _: 1
      }, 8, ["onClick"]),
      createVNode(_component_a_button, {
        type: "text",
        onClick: $options.resetDefault
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.resetDefault")), 1)
        ]),
        _: 1
      }, 8, ["onClick"])
    ])) : createCommentVNode("", true),
    ["radio", "checkbox", "select"].includes($props.selectedWidget.type) ? (openBlock(), createElementBlock("div", _hoisted_7$2, [
      createVNode(_component_a_button, {
        type: "text",
        onClick: $options.addOption
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addOption")), 1)
        ]),
        _: 1
      }, 8, ["onClick"]),
      createVNode(_component_a_button, {
        type: "text",
        onClick: $options.importOptions
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.importOptions")), 1)
        ]),
        _: 1
      }, 8, ["onClick"]),
      createVNode(_component_a_button, {
        type: "text",
        onClick: $options.resetDefault
      }, {
        default: withCtx(() => [
          createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.resetDefault")), 1)
        ]),
        _: 1
      }, 8, ["onClick"])
    ])) : createCommentVNode("", true),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.importOptions"),
      visible: $data.showImportDialogFlag,
      "onUpdate:visible": _cache[6] || (_cache[6] = ($event) => $data.showImportDialogFlag = $event),
      "show-close": true,
      "custom-class": "drag-dialog small-padding-dialog",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_8$2, [
          createVNode(_component_a_button, {
            size: "large",
            type: "primary",
            onClick: $options.saveOptions
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            size: "large",
            onClick: _cache[5] || (_cache[5] = ($event) => $data.showImportDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_form_item, null, {
          default: withCtx(() => [
            createVNode(_component_a_textarea, {
              type: "textarea",
              rows: "10",
              value: $data.optionLines,
              "onUpdate:value": _cache[4] || (_cache[4] = ($event) => $data.optionLines = $event)
            }, null, 8, ["value"])
          ]),
          _: 1
        })
      ]),
      _: 1
    }, 8, ["title", "visible"]),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.importOptions"),
      visible: $data.showImportCascaderDialogFlag,
      "onUpdate:visible": _cache[9] || (_cache[9] = ($event) => $data.showImportCascaderDialogFlag = $event),
      "show-close": true,
      "custom-class": "drag-dialog small-padding-dialog",
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_9$1, [
          createVNode(_component_a_button, {
            size: "large",
            type: "primary",
            onClick: $options.saveCascaderOptions
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"]),
          createVNode(_component_a_button, {
            size: "large",
            onClick: _cache[8] || (_cache[8] = ($event) => $data.showImportCascaderDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          })
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_code_editor, {
          modelValue: $data.cascaderOptions,
          "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.cascaderOptions = $event),
          mode: "json",
          readonly: false
        }, null, 8, ["modelValue"])
      ]),
      _: 1
    }, 8, ["title", "visible"])
  ]);
}
const OptionItemsSetting = /* @__PURE__ */ _export_sfc$1(_sfc_main$W, [["render", _sfc_render$W], ["__scopeId", "data-v-ae832d59"]]);
const _sfc_main$V = {
  name: "optionItems-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  components: {
    OptionItemsSetting,
    HttpEditor
  },
  data() {
    return {
      dataSetList: []
    };
  },
  computed: {
    dataSourceList() {
      if (!this.designer.formConfig || !this.designer.formConfig.dataSources) {
        return [];
      } else {
        return this.designer.formConfig.dataSources;
      }
    }
  },
  watch: {
    selectedWidget: {
      handler(val, oldVal) {
        if (!val) {
          return;
        }
        this.loadDataSet(val.options.dsName);
      },
      immediate: true
    }
  },
  methods: {
    loadDataSet(dsName) {
      this.dataSetList.length = 0;
      if (!dsName) {
        return;
      }
      const dsModel = getDSByName(this.designer.formConfig, dsName);
      if (!!dsModel && !!dsModel.dataSets) {
        dsModel.dataSets.forEach((dSet) => {
          this.dataSetList.push({
            name: dSet.name,
            remark: dSet.remark
          });
        });
      }
    },
    getDataSetList() {
      this.optionModel.dataSetName = "";
      this.loadDataSet(this.optionModel.dsName);
    }
  }
};
function _sfc_render$V(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  const _component_a_switch = resolveComponent("a-switch");
  const _component_HttpEditor = resolveComponent("HttpEditor");
  const _component_option_items_setting = resolveComponent("option-items-setting");
  return openBlock(), createElementBlock(Fragment, null, [
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_divider, { class: "custom-divider-margin-top" }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.optionsSetting")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.labelKeyName")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          size: "small",
          value: $props.optionModel.labelKey,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.labelKey = $event),
          allowClear: ""
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"]),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.valueKeyName")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          size: "small",
          value: $props.optionModel.valueKey,
          "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.optionModel.valueKey = $event),
          allowClear: ""
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"]),
    _ctx.hasConfig("childrenKey") ? (openBlock(), createBlock(_component_a_form_item, {
      key: 0,
      label: _ctx.i18nt("designer.setting.childrenKeyName")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          size: "small",
          value: $props.optionModel.childrenKey,
          "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.optionModel.childrenKey = $event),
          allowClear: ""
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])) : createCommentVNode("", true),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.dsEnabled")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_switch, {
          checked: $props.optionModel.dsEnabled,
          "onUpdate:checked": _cache[3] || (_cache[3] = ($event) => $props.optionModel.dsEnabled = $event)
        }, null, 8, ["checked"])
      ]),
      _: 1
    }, 8, ["label"]),
    !!$props.optionModel.dsEnabled ? (openBlock(), createBlock(_component_HttpEditor, {
      key: 1,
      designer: $props.designer,
      "selected-widget": $props.selectedWidget,
      optionModel: $props.optionModel
    }, null, 8, ["designer", "selected-widget", "optionModel"])) : createCommentVNode("", true),
    !$props.optionModel.dsEnabled ? (openBlock(), createBlock(_component_a_form_item, {
      key: 2,
      "label-width": "0"
    }, {
      default: withCtx(() => [
        createVNode(_component_option_items_setting, {
          designer: $props.designer,
          "selected-widget": $props.selectedWidget
        }, null, 8, ["designer", "selected-widget"])
      ]),
      _: 1
    })) : createCommentVNode("", true)
  ], 64);
}
const optionItemsEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$V, [["render", _sfc_render$V]]);
const __vite_glob_0_184 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: optionItemsEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$U = {
  name: "placeholder-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$U(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.placeholder")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.placeholder,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.placeholder = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const placeholderEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$U, [["render", _sfc_render$U]]);
const __vite_glob_0_185 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: placeholderEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$T = {
  name: "placement-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      placementList: [
        { value: "bottomLeft", label: "下左 " },
        { value: "bottom", label: "下中" },
        { value: "bottomRight", label: "下右" },
        { value: "topLeft", label: "上左" },
        { value: "top", label: "上中" },
        { value: "topRight", label: "上右" }
      ]
    };
  },
  created() {
  }
};
function _sfc_render$T(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `菜单弹出位置` }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.placement,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.placement = $event),
        allowClear: "",
        options: $data.placementList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const placementEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$T, [["render", _sfc_render$T]]);
const __vite_glob_0_186 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: placementEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$S = {
  name: "precision-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$S(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.precision")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.precision,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.precision = $event),
        min: 0,
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const precisionEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$S, [["render", _sfc_render$S]]);
const __vite_glob_0_187 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: precisionEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$R = {
  name: "readonly-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$R(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.readonly")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.readonly,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.readonly = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const readonlyEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$R, [["render", _sfc_render$R]]);
const __vite_glob_0_188 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: readonlyEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$Q = {
  name: "required-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$Q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.required")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.required,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.required = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const requiredEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$Q, [["render", _sfc_render$Q]]);
const __vite_glob_0_189 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: requiredEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$P = {
  name: "requiredHint-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$P(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    size: "small",
    label: _ctx.i18nt("designer.setting.requiredHint")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        size: "small",
        value: $props.optionModel.requiredHint,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.requiredHint = $event),
        allowClear: ""
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const requiredHintEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$P, [["render", _sfc_render$P]]);
const __vite_glob_0_190 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: requiredHintEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$O = {
  name: "rightSlotCss-editor",
  componentName: "PropertyEditor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      cssClassList: []
    };
  },
  created() {
    this.cssClassList = deepClone(this.designer.getCssClassList());
    this.designer.handleEvent("form-css-updated", (cssClassList) => {
      this.cssClassList = cssClassList;
    });
  }
};
function _sfc_render$O(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "头部右插槽样式" }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.rightSlotCss,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.rightSlotCss = $event),
        allowClear: "",
        mode: "tags",
        options: $data.cssClassList
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const rightSlotCssEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$O, [["render", _sfc_render$O]]);
const __vite_glob_0_191 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rightSlotCssEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$N = {
  name: "rows-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$N(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.rows")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.rows,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.rows = $event),
        style: { "width": "100%" },
        min: 1,
        allowClear: ""
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const rowsEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$N, [["render", _sfc_render$N]]);
const __vite_glob_0_192 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: rowsEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$M = {
  name: "showCount-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$M(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showCount")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showCount,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showCount = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showCountEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$M, [["render", _sfc_render$M]]);
const __vite_glob_0_193 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showCountEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$L = {
  name: "showFileList-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$L(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showFileList")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showFileList,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showFileList = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showFileListEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$L, [["render", _sfc_render$L]]);
const __vite_glob_0_194 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showFileListEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$K = {
  name: "showPassword-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$K(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return $props.optionModel.type === "password" ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.showPassword")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showPassword,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showPassword = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const showPasswordEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$K, [["render", _sfc_render$K]]);
const __vite_glob_0_195 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showPasswordEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$J = {
  name: "showSearch-editor",
  mixins: [i18n$1, propertyMixin],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$J(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.showSearch")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showSearch,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showSearch = $event),
        onChange: _ctx.onRemoteChange
      }, null, 8, ["checked", "onChange"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const showSearchEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$J, [["render", _sfc_render$J]]);
const __vite_glob_0_196 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showSearchEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$I = {
  name: "showTime-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$I(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: "增加时间选择功能" }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.showTime,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.showTime = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const showTimeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$I, [["render", _sfc_render$I]]);
const __vite_glob_0_197 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: showTimeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$H = {
  name: "size-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      widgetSizes: [
        { label: "default", value: "default" },
        { label: "large", value: "large" },
        { label: "small", value: "small" }
      ]
    };
  }
};
function _sfc_render$H(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.widgetSize")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.size,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.size = $event),
        options: $data.widgetSizes,
        allowClear: ""
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const sizeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$H, [["render", _sfc_render$H]]);
const __vite_glob_0_198 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: sizeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$G = {
  name: "startPlaceholder-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$G(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.startPlaceholder")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.startPlaceholder,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.startPlaceholder = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const startPlaceholderEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$G, [["render", _sfc_render$G]]);
const __vite_glob_0_199 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: startPlaceholderEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$F = {
  name: "step-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$F(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.step")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input_number, {
        value: $props.optionModel.step,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.step = $event),
        class: "hide-spin-button",
        style: { "width": "100%" }
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const stepEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$F, [["render", _sfc_render$F]]);
const __vite_glob_0_200 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: stepEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$E = {
  name: "type-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  computed: {}
};
function _sfc_render$E(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select_option = resolveComponent("a-select-option");
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return $props.selectedWidget.type === "input" ? (openBlock(), createBlock(_component_a_form_item, {
    key: 0,
    label: _ctx.i18nt("designer.setting.displayType")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.type,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.type = $event)
      }, {
        default: withCtx(() => [
          createVNode(_component_a_select_option, { value: "text" }, {
            default: withCtx(() => [
              createTextVNode("text")
            ]),
            _: 1
          }),
          createVNode(_component_a_select_option, { value: "password" }, {
            default: withCtx(() => [
              createTextVNode(" password ")
            ]),
            _: 1
          })
        ]),
        _: 1
      }, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"])) : createCommentVNode("", true);
}
const typeEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$E, [["render", _sfc_render$E]]);
const __vite_glob_0_201 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: typeEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$D = {
  name: "uploadTip-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$D(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.uploadTip")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        type: "text",
        value: $props.optionModel.uploadTip,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.uploadTip = $event)
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const uploadTipEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$D, [["render", _sfc_render$D]]);
const __vite_glob_0_202 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: uploadTipEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$C = {
  name: "uploadURL-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$C(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_divider = resolveComponent("a-divider");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_input = resolveComponent("a-input");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form_item, { "label-width": "0" }, {
      default: withCtx(() => [
        createVNode(_component_a_divider, { class: "custom-divider" }, {
          default: withCtx(() => [
            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.uploadSetting")), 1)
          ]),
          _: 1
        })
      ]),
      _: 1
    }),
    createVNode(_component_a_form_item, {
      label: _ctx.i18nt("designer.setting.uploadURL")
    }, {
      default: withCtx(() => [
        createVNode(_component_a_input, {
          type: "text",
          value: $props.optionModel.uploadURL,
          "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.uploadURL = $event)
        }, null, 8, ["value"])
      ]),
      _: 1
    }, 8, ["label"])
  ]);
}
const uploadURLEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$C, [["render", _sfc_render$C]]);
const __vite_glob_0_203 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: uploadURLEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$B = {
  name: "useModal-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$B(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, { label: `使用功能按钮` }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.useModal,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.useModal = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  });
}
const useModelEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$B, [["render", _sfc_render$B]]);
const __vite_glob_0_204 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: useModelEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$A = {
  name: "validation-editor",
  mixins: [i18n$1],
  components: {
    // SvgIcon
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  },
  data() {
    return {
      fieldValidators: [
        { value: "number", label: this.i18nt("designer.hint.numberValidator") },
        { value: "letter", label: this.i18nt("designer.hint.letterValidator") },
        { value: "letterAndNumber", label: this.i18nt("designer.hint.letterAndNumberValidator") },
        { value: "mobilePhone", label: this.i18nt("designer.hint.mobilePhoneValidator") },
        { value: "email", label: this.i18nt("designer.hint.emailValidator") },
        { value: "url", label: this.i18nt("designer.hint.urlValidator") },
        { value: "noChinese", label: this.i18nt("designer.hint.noChineseValidator") },
        { value: "chinese", label: this.i18nt("designer.hint.chineseValidator") }
      ]
    };
  }
};
function _sfc_render$A(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, null, {
    label: withCtx(() => [
      createElementVNode("span", null, toDisplayString(_ctx.i18nt("designer.setting.validation")) + " ", 1)
    ]),
    default: withCtx(() => [
      createVNode(_component_a_select, {
        value: $props.optionModel.validation,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.validation = $event),
        allowClear: "",
        options: $data.fieldValidators
      }, null, 8, ["value", "options"])
    ]),
    _: 1
  });
}
const validationEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$A, [["render", _sfc_render$A]]);
const __vite_glob_0_205 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: validationEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$z = {
  name: "validationHint-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$z(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_input = resolveComponent("a-input");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    size: "small",
    label: _ctx.i18nt("designer.setting.validationHint")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_input, {
        size: "small",
        value: $props.optionModel.validationHint,
        "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.optionModel.validationHint = $event),
        allowClear: ""
      }, null, 8, ["value"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const validationHintEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$z, [["render", _sfc_render$z]]);
const __vite_glob_0_206 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: validationHintEditor
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$y = {
  name: "withCredentials-editor",
  mixins: [i18n$1],
  props: {
    designer: Object,
    selectedWidget: Object,
    optionModel: Object
  }
};
function _sfc_render$y(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_switch = resolveComponent("a-switch");
  const _component_a_form_item = resolveComponent("a-form-item");
  return openBlock(), createBlock(_component_a_form_item, {
    label: _ctx.i18nt("designer.setting.withCredentials")
  }, {
    default: withCtx(() => [
      createVNode(_component_a_switch, {
        checked: $props.optionModel.withCredentials,
        "onUpdate:checked": _cache[0] || (_cache[0] = ($event) => $props.optionModel.withCredentials = $event)
      }, null, 8, ["checked"])
    ]),
    _: 1
  }, 8, ["label"]);
}
const withCredentialsEditor = /* @__PURE__ */ _export_sfc$1(_sfc_main$y, [["render", _sfc_render$y]]);
const __vite_glob_0_207 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: withCredentialsEditor
}, Symbol.toStringTag, { value: "Module" }));
const comps = {};
const modules$1 = /* @__PURE__ */ Object.assign({ "./accept-editor.vue": __vite_glob_0_0$1, "./actionColumnPosition-editor.vue": __vite_glob_0_1$1, "./addonAfter-editor.vue": __vite_glob_0_2$1, "./addonBefore-editor.vue": __vite_glob_0_3$1, "./allowClear-editor.vue": __vite_glob_0_4$1, "./appendButton-editor.vue": __vite_glob_0_5$1, "./appendButtonDisabled-editor.vue": __vite_glob_0_6$1, "./autoFullWidth-editor.vue": __vite_glob_0_7$1, "./border-editor.vue": __vite_glob_0_8$1, "./buttonIcon-editor.vue": __vite_glob_0_9$1, "./buttonStyle-editor.vue": __vite_glob_0_10$1, "./code-editor/code-editor-mode.vue": __vite_glob_0_11$1, "./columnWidth-editor.vue": __vite_glob_0_12$1, "./container-data-table/customRowEvent/data-table-customRow-editor.vue": __vite_glob_0_13$1, "./container-data-table/data-table-colorRow-editor.vue": __vite_glob_0_14, "./container-data-table/data-table-customClass-editor.vue": __vite_glob_0_15, "./container-data-table/data-table-dsEnabled-editor.vue": __vite_glob_0_16, "./container-data-table/data-table-pagination-editor.vue": __vite_glob_0_17, "./container-data-table/data-table-rowKey-editor.vue": __vite_glob_0_18, "./container-data-table/data-table-selections-editor.vue": __vite_glob_0_19, "./container-data-table/data-table-showButtonsColumn-editor.vue": __vite_glob_0_20, "./container-data-table/data-table-showIndex-editor.vue": __vite_glob_0_21, "./container-data-table/data-table-stripe-editor.vue": __vite_glob_0_22, "./container-data-table/data-table-tableColumns-editor.vue": __vite_glob_0_23, "./container-data-table/data-table-tableHeight-editor.vue": __vite_glob_0_24, "./container-data-table/data-table-tableSize-editor.vue": __vite_glob_0_25, "./container-data-table/data-table-tableWidth-editor.vue": __vite_glob_0_26, "./container-data-table/data-table-treeDataEnabled-editor.vue": __vite_glob_0_27, "./container-grid-col/grid-col-offset-editor.vue": __vite_glob_0_28, "./container-grid-col/grid-col-pull-editor.vue": __vite_glob_0_29, "./container-grid-col/grid-col-push-editor.vue": __vite_glob_0_30, "./container-grid-col/grid-col-responsive-editor.vue": __vite_glob_0_31, "./container-grid-col/grid-col-span-editor.vue": __vite_glob_0_32, "./container-grid/colHeight-editor.vue": __vite_glob_0_33, "./container-grid/gutter-editor.vue": __vite_glob_0_34, "./container-sub-form/showBlankRow-editor.vue": __vite_glob_0_35, "./container-sub-form/showRowNumber-editor.vue": __vite_glob_0_36, "./container-sub-form/sub-form-labelAlign-editor.vue": __vite_glob_0_37, "./container-tab/tab-customClass-editor.vue": __vite_glob_0_38, "./container-tab/tab-tabBarGutter-editor.vue": __vite_glob_0_39, "./container-tab/tab-tabPosition-editor.vue": __vite_glob_0_40, "./container-tab/tab-type-editor.vue": __vite_glob_0_41, "./container-table-cell/cellHeight-editor.vue": __vite_glob_0_42, "./container-table-cell/cellWidth-editor.vue": __vite_glob_0_43, "./container-vf-dialog/bodyStyle-editor.vue": __vite_glob_0_44, "./container-vf-dialog/cancelButtonHidden-editor.vue": __vite_glob_0_45, "./container-vf-dialog/cancelButtonLabel-editor.vue": __vite_glob_0_46, "./container-vf-dialog/closeOnClickModal-editor.vue": __vite_glob_0_47, "./container-vf-dialog/closeOnPressEscape-editor.vue": __vite_glob_0_48, "./container-vf-dialog/collapseIcon-editor.vue": __vite_glob_0_49, "./container-vf-dialog/disabledMode-editor.vue": __vite_glob_0_50, "./container-vf-dialog/formCode-editor.vue": __vite_glob_0_51, "./container-vf-dialog/fullscreen-editor.vue": __vite_glob_0_52, "./container-vf-dialog/height-editor.vue": __vite_glob_0_53, "./container-vf-dialog/isCollapse-editor.vue": __vite_glob_0_54, "./container-vf-dialog/okButtonHidden-editor.vue": __vite_glob_0_55, "./container-vf-dialog/okButtonLabel-editor.vue": __vite_glob_0_56, "./container-vf-dialog/readMode-editor.vue": __vite_glob_0_57, "./container-vf-dialog/showClose-editor.vue": __vite_glob_0_58, "./container-vf-dialog/title-editor.vue": __vite_glob_0_59, "./container-vf-dialog/unCollapseIcon-editor.vue": __vite_glob_0_60, "./container-vf-dialog/width-editor.vue": __vite_glob_0_61, "./container-vf-drawer/vf-drawer-direction-editor.vue": __vite_glob_0_62, "./container-vf-drawer/vf-drawer-size-editor.vue": __vite_glob_0_63, "./customClass-editor.vue": __vite_glob_0_64, "./defaultValue-editor.vue": __vite_glob_0_65, "./disabled-editor.vue": __vite_glob_0_66, "./displayStyle-editor.vue": __vite_glob_0_67, "./editable-editor.vue": __vite_glob_0_68, "./endPlaceholder-editor.vue": __vite_glob_0_69, "./event-handler/onAppendButtonClick-editor.vue": __vite_glob_0_70, "./event-handler/onBeforeUpload-editor.vue": __vite_glob_0_71, "./event-handler/onBlur-editor.vue": __vite_glob_0_72, "./event-handler/onCancelButtonClick-editor.vue": __vite_glob_0_73, "./event-handler/onCellClick-editor.vue": __vite_glob_0_74, "./event-handler/onCellDoubleClick-editor.vue": __vite_glob_0_75, "./event-handler/onChange-editor.vue": __vite_glob_0_76, "./event-handler/onClick-editor.vue": __vite_glob_0_77, "./event-handler/onClickIcon-editor.vue": __vite_glob_0_78, "./event-handler/onCreated-editor.vue": __vite_glob_0_79, "./event-handler/onCurrentPageChange-editor.vue": __vite_glob_0_80, "./event-handler/onDialogBeforeClose-editor.vue": __vite_glob_0_81, "./event-handler/onDialogOpened-editor.vue": __vite_glob_0_82, "./event-handler/onDisableOperationButton-editor.vue": __vite_glob_0_83, "./event-handler/onDrawerBeforeClose-editor.vue": __vite_glob_0_84, "./event-handler/onDrawerOpened-editor.vue": __vite_glob_0_85, "./event-handler/onFileRemove.vue": __vite_glob_0_86, "./event-handler/onFocus-editor.vue": __vite_glob_0_87, "./event-handler/onGetOperationButtonLabel-editor.vue": __vite_glob_0_88, "./event-handler/onGetRowClassName-editor.vue": __vite_glob_0_89, "./event-handler/onGetSpanMethod-editor.vue": __vite_glob_0_90, "./event-handler/onHeaderClick-editor.vue": __vite_glob_0_91, "./event-handler/onHideOperationButton-editor.vue": __vite_glob_0_92, "./event-handler/onInput-editor.vue": __vite_glob_0_93, "./event-handler/onMenuClick-editor.vue": __vite_glob_0_94, "./event-handler/onMounted-editor.vue": __vite_glob_0_95, "./event-handler/onOkButtonClick-editor.vue": __vite_glob_0_96, "./event-handler/onOperationButtonClick-editor.vue": __vite_glob_0_97, "./event-handler/onPageSizeChange-editor.vue": __vite_glob_0_98, "./event-handler/onRemoteQuery-editor.vue": __vite_glob_0_99, "./event-handler/onRowClick-editor.vue": __vite_glob_0_100, "./event-handler/onRowDoubleClick-editor.vue": __vite_glob_0_101, "./event-handler/onSelectionChange-editor.vue": __vite_glob_0_102, "./event-handler/onSubFormRowAdd-editor.vue": __vite_glob_0_103, "./event-handler/onSubFormRowChange-editor.vue": __vite_glob_0_104, "./event-handler/onSubFormRowDelete-editor.vue": __vite_glob_0_105, "./event-handler/onSubFormRowInsert-editor.vue": __vite_glob_0_106, "./event-handler/onTabClick-editor.vue": __vite_glob_0_107, "./event-handler/onTableChange-editor.vue": __vite_glob_0_108, "./event-handler/onUploadError-editor.vue": __vite_glob_0_109, "./event-handler/onUploadSuccess-editor.vue": __vite_glob_0_110, "./event-handler/onValidate-editor.vue": __vite_glob_0_111, "./event-handler/onVformAdd-editor.vue": __vite_glob_0_112, "./field-button/circle-editor.vue": __vite_glob_0_113, "./field-button/danger-editor.vue": __vite_glob_0_114, "./field-button/ghost-editor.vue": __vite_glob_0_115, "./field-button/icon-editor.vue": __vite_glob_0_116, "./field-button/plain-editor.vue": __vite_glob_0_117, "./field-button/round-editor.vue": __vite_glob_0_118, "./field-button/shape-editor.vue": __vite_glob_0_119, "./field-button/type-editor.vue": __vite_glob_0_120, "./field-cascader/cascader-defaultValue-editor.vue": __vite_glob_0_121, "./field-cascader/cascader-multiple-editor.vue": __vite_glob_0_122, "./field-checkbox/checkbox-defaultValue-editor.vue": __vite_glob_0_123, "./field-color/color-defaultValue-editor.vue": __vite_glob_0_124, "./field-date-range/date-range-defaultValue-editor.vue": __vite_glob_0_125, "./field-date-range/date-range-format-editor.vue": __vite_glob_0_126, "./field-date-range/date-range-type-editor.vue": __vite_glob_0_127, "./field-date-range/date-range-valueFormat-editor.vue": __vite_glob_0_128, "./field-date/date-defaultValue-editor.vue": __vite_glob_0_129, "./field-date/date-format-editor.vue": __vite_glob_0_130, "./field-date/date-type-editor.vue": __vite_glob_0_131, "./field-date/date-valueFormat-editor.vue": __vite_glob_0_132, "./field-divider/contentPosition-editor.vue": __vite_glob_0_133, "./field-divider/divider-direction-editor.vue": __vite_glob_0_134, "./field-dropdown/dropdown-menuList-editor.vue": __vite_glob_0_135, "./field-file-upload/file-upload-fileTypes-editor.vue": __vite_glob_0_136, "./field-html-text/htmlContent-editor.vue": __vite_glob_0_137, "./field-number/controlsPosition-editor.vue": __vite_glob_0_138, "./field-number/number-defaultValue-editor.vue": __vite_glob_0_139, "./field-picture-upload/picture-upload-fileTypes-editor.vue": __vite_glob_0_140, "./field-radio/radio-defaultValue-editor.vue": __vite_glob_0_141, "./field-rate/allowHalf-editor.vue": __vite_glob_0_142, "./field-rate/highThreshold-editor.vue": __vite_glob_0_143, "./field-rate/lowThreshold-editor.vue": __vite_glob_0_144, "./field-rate/rate-count-editor.vue": __vite_glob_0_145, "./field-rate/rate-defaultValue-editor.vue": __vite_glob_0_146, "./field-rate/showScore-editor.vue": __vite_glob_0_147, "./field-rate/showText-editor.vue": __vite_glob_0_148, "./field-rich-editor/rich-editor-contentHeight-editor.vue": __vite_glob_0_149, "./field-select/mode-editor.vue": __vite_glob_0_150, "./field-select/select-defaultValue-editor.vue": __vite_glob_0_151, "./field-slider/range-editor.vue": __vite_glob_0_152, "./field-slider/vertical-editor.vue": __vite_glob_0_153, "./field-static-text/textContent-editor.vue": __vite_glob_0_154, "./field-switch/activeColor-editor.vue": __vite_glob_0_155, "./field-switch/checkedValue-editor.vue": __vite_glob_0_156, "./field-switch/inactiveColor-editor.vue": __vite_glob_0_157, "./field-switch/switch-defaultValue-editor.vue": __vite_glob_0_158, "./field-switch/switchWidth-editor.vue": __vite_glob_0_159, "./field-switch/unCheckedValue-editor.vue": __vite_glob_0_160, "./field-time-range/time-range-defaultValue-editor.vue": __vite_glob_0_161, "./field-time-range/time-range-format-editor.vue": __vite_glob_0_162, "./field-time/time-defaultValue-editor.vue": __vite_glob_0_163, "./field-time/time-format-editor.vue": __vite_glob_0_164, "./field-treeSelect/treeSelect-treeDefaultExpandAll-editor.vue": __vite_glob_0_165, "./hidden-editor.vue": __vite_glob_0_166, "./label-editor.vue": __vite_glob_0_167, "./labelAlign-editor.vue": __vite_glob_0_168, "./labelHidden-editor.vue": __vite_glob_0_169, "./labelIconClass-editor.vue": __vite_glob_0_170, "./labelIconPosition-editor.vue": __vite_glob_0_171, "./labelTooltip-editor.vue": __vite_glob_0_172, "./labelWidth-editor.vue": __vite_glob_0_173, "./limit-editor.vue": __vite_glob_0_174, "./loadingPage-editor.vue": __vite_glob_0_175, "./max-editor.vue": __vite_glob_0_176, "./maxLength-editor.vue": __vite_glob_0_177, "./maxSize-editor.vue": __vite_glob_0_178, "./min-editor.vue": __vite_glob_0_179, "./minLength-editor.vue": __vite_glob_0_180, "./multiple-editor.vue": __vite_glob_0_181, "./multipleSelect-editor.vue": __vite_glob_0_182, "./name-editor.vue": __vite_glob_0_183, "./optionItems-editor.vue": __vite_glob_0_184, "./placeholder-editor.vue": __vite_glob_0_185, "./placement-editor.vue": __vite_glob_0_186, "./precision-editor.vue": __vite_glob_0_187, "./readonly-editor.vue": __vite_glob_0_188, "./required-editor.vue": __vite_glob_0_189, "./requiredHint-editor.vue": __vite_glob_0_190, "./rightSlotCss-editor.vue": __vite_glob_0_191, "./rows-editor.vue": __vite_glob_0_192, "./showCount-editor.vue": __vite_glob_0_193, "./showFileList-editor.vue": __vite_glob_0_194, "./showPassword-editor.vue": __vite_glob_0_195, "./showSearch-editor.vue": __vite_glob_0_196, "./showTime-editor.vue": __vite_glob_0_197, "./size-editor.vue": __vite_glob_0_198, "./startPlaceholder-editor.vue": __vite_glob_0_199, "./step-editor.vue": __vite_glob_0_200, "./type-editor.vue": __vite_glob_0_201, "./uploadTip-editor.vue": __vite_glob_0_202, "./uploadURL-editor.vue": __vite_glob_0_203, "./useModel-editor.vue": __vite_glob_0_204, "./validation-editor.vue": __vite_glob_0_205, "./validationHint-editor.vue": __vite_glob_0_206, "./withCredentials-editor.vue": __vite_glob_0_207 });
for (const path in modules$1) {
  const cname = modules$1[path].default.name;
  comps[cname] = modules$1[path].default;
}
const _sfc_main$x = {
  name: "form-setting",
  mixins: [i18n$1],
  components: {
    CodeEditor
  },
  props: {
    designer: Object,
    formConfig: Object
  },
  inject: ["getDesignerConfig"],
  data() {
    return {
      designerConfig: this.getDesignerConfig(),
      formActiveCollapseNames: ["1", "2"],
      formSizes: [
        { label: "default", value: "middle" },
        { label: "large", value: "large" },
        { label: "small", value: "small" }
      ],
      showEditFormCssDialogFlag: false,
      formCssCode: "",
      cssClassList: [],
      showEditFunctionsDialogFlag: false,
      functionsCode: "",
      showFormEventDialogFlag: false,
      formEventHandlerCode: "",
      curEventName: "",
      eventParamsMap: {
        onFormCreated: "onFormCreated() {",
        onFormMounted: "onFormMounted() {",
        onFormDataChange: "onFormDataChange(fieldName, newValue, oldValue, formModel, subFormName, subFormRowIndex) {"
        //'onFormValidate':     'onFormValidate() {',
      }
    };
  },
  created() {
    this.designer.handleEvent("form-json-imported", () => {
      this.formCssCode = this.formConfig.cssCode;
      insertCustomCssToHead(this.formCssCode);
      this.extractCssClass();
      this.designer.emitEvent("form-css-updated", deepClone(this.cssClassList));
    });
  },
  mounted() {
    setTimeout(() => {
      this.formCssCode = this.formConfig.cssCode;
      insertCustomCssToHead(this.formCssCode);
      this.extractCssClass();
      this.designer.emitEvent("form-css-updated", deepClone(this.cssClassList));
    }, 1200);
  },
  methods: {
    getFormEventHandled(eventName) {
      return !!this.formConfig[eventName] && this.formConfig[eventName].length > 0;
    },
    showEventCollapse() {
      if (this.designerConfig["eventCollapse"] === void 0) {
        return true;
      }
      return !!this.designerConfig["eventCollapse"];
    },
    editFormCss() {
      this.formCssCode = this.designer.formConfig.cssCode;
      this.showEditFormCssDialogFlag = true;
    },
    extractCssClass() {
      const regExp = /\..*{/g;
      const result2 = this.formCssCode.match(regExp);
      const cssNameArray = [];
      if (!!result2 && result2.length > 0) {
        result2.forEach((rItem) => {
          const classArray = rItem.split(",");
          if (classArray.length > 0) {
            classArray.forEach((cItem) => {
              const caItem = cItem.trim();
              if (caItem.indexOf(".", 1) !== -1) {
                const newClass = caItem.substring(
                  caItem.indexOf(".") + 1,
                  caItem.indexOf(".", 1)
                );
                if (!!newClass) {
                  cssNameArray.push(newClass.trim());
                }
              } else if (caItem.indexOf(" ") !== -1) {
                const newClass = caItem.substring(caItem.indexOf(".") + 1, caItem.indexOf(" "));
                if (!!newClass) {
                  cssNameArray.push(newClass.trim());
                }
              } else {
                if (caItem.indexOf("{") !== -1) {
                  const newClass = caItem.substring(caItem.indexOf(".") + 1, caItem.indexOf("{"));
                  cssNameArray.push(newClass.trim());
                } else {
                  const newClass = caItem.substring(caItem.indexOf(".") + 1);
                  cssNameArray.push(newClass.trim());
                }
              }
            });
          }
        });
      }
    },
    saveFormCss() {
      this.extractCssClass();
      this.designer.formConfig.cssCode = this.formCssCode;
      insertCustomCssToHead(this.formCssCode);
      this.showEditFormCssDialogFlag = false;
      this.designer.emitEvent("form-css-updated", deepClone(this.cssClassList));
    },
    editGlobalFunctions() {
      this.functionsCode = this.designer.formConfig.functions;
      this.showEditFunctionsDialogFlag = true;
    },
    saveGlobalFunctions() {
      const codeHints = this.$refs.gfEditor.getEditorAnnotations();
      let syntaxErrorFlag = false;
      if (!!codeHints && codeHints.length > 0) {
        codeHints.forEach((chItem) => {
          if (chItem.type === "error") {
            syntaxErrorFlag = true;
          }
        });
        if (syntaxErrorFlag) {
          this.$message.error(this.i18nt("designer.setting.syntaxCheckWarning"));
          return;
        }
      }
      this.designer.formConfig.functions = this.functionsCode;
      insertGlobalFunctionsToHtml(this.functionsCode);
      this.showEditFunctionsDialogFlag = false;
    },
    editFormEventHandler(eventName) {
      this.curEventName = eventName;
      this.formEventHandlerCode = this.formConfig[eventName];
      this.showFormEventDialogFlag = true;
    },
    saveFormEventHandler() {
      const codeHints = this.$refs.ecEditor.getEditorAnnotations();
      let syntaxErrorFlag = false;
      if (!!codeHints && codeHints.length > 0) {
        codeHints.forEach((chItem) => {
          if (chItem.type === "error") {
            syntaxErrorFlag = true;
          }
        });
        if (syntaxErrorFlag) {
          this.$message.error(this.i18nt("designer.setting.syntaxCheckWarning"));
          return;
        }
      }
      this.formConfig[this.curEventName] = this.formEventHandlerCode;
      this.showFormEventDialogFlag = false;
    }
  }
};
const _hoisted_1$t = {
  key: 0,
  class: ""
};
const _hoisted_2$l = { class: "dialog-footer" };
const _hoisted_3$k = {
  key: 1,
  class: ""
};
const _hoisted_4$a = { class: "dialog-footer" };
const _hoisted_5$4 = {
  key: 2,
  class: ""
};
const _hoisted_6$3 = { class: "dialog-footer" };
function _sfc_render$x(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_select = resolveComponent("a-select");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_radio_button = resolveComponent("a-radio-button");
  const _component_a_radio_group = resolveComponent("a-radio-group");
  const _component_a_input_number = resolveComponent("a-input-number");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_collapse_panel = resolveComponent("a-collapse-panel");
  const _component_a_collapse = resolveComponent("a-collapse");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_modal = resolveComponent("a-modal");
  return openBlock(), createElementBlock("div", null, [
    createVNode(_component_a_form, {
      model: $props.formConfig,
      labelAlign: "left",
      "label-width": "120px",
      class: "setting-form tpf-form",
      onSubmit: _cache[9] || (_cache[9] = withModifiers(() => {
      }, ["prevent"]))
    }, {
      default: withCtx(() => [
        createVNode(_component_a_collapse, {
          activeKey: $data.formActiveCollapseNames,
          "onUpdate:activeKey": _cache[8] || (_cache[8] = ($event) => $data.formActiveCollapseNames = $event),
          class: "setting-collapse"
        }, {
          default: withCtx(() => [
            createVNode(_component_a_collapse_panel, {
              key: "1",
              header: _ctx.i18nt("designer.setting.basicSetting")
            }, {
              default: withCtx(() => [
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.formSize")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_select, {
                      value: $props.formConfig.size,
                      "onUpdate:value": _cache[0] || (_cache[0] = ($event) => $props.formConfig.size = $event),
                      options: $data.formSizes,
                      allowClear: ""
                    }, null, 8, ["value", "options"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.labelPosition")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_radio_group, {
                      value: $props.formConfig.labelPosition,
                      "onUpdate:value": _cache[1] || (_cache[1] = ($event) => $props.formConfig.labelPosition = $event),
                      class: "radio-group-custom"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_radio_button, { value: "horizontal" }, {
                          default: withCtx(() => [
                            createTextVNode("水平")
                          ]),
                          _: 1
                        }),
                        createVNode(_component_a_radio_button, { value: "vertical" }, {
                          default: withCtx(() => [
                            createTextVNode("垂直")
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["value"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.labelAlign")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_radio_group, {
                      value: $props.formConfig.labelAlign,
                      "onUpdate:value": _cache[2] || (_cache[2] = ($event) => $props.formConfig.labelAlign = $event),
                      class: "radio-group-custom"
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_radio_button, { value: "left" }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.leftAlign")), 1)
                          ]),
                          _: 1
                        }),
                        createVNode(_component_a_radio_button, { value: "right" }, {
                          default: withCtx(() => [
                            createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.rightAlign")), 1)
                          ]),
                          _: 1
                        })
                      ]),
                      _: 1
                    }, 8, ["value"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.labelWidth")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_input_number, {
                      value: $props.formConfig.labelWidth,
                      "onUpdate:value": _cache[3] || (_cache[3] = ($event) => $props.formConfig.labelWidth = $event),
                      min: 0,
                      style: { "width": "100%" },
                      allowClear: ""
                    }, null, 8, ["value"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.formCss")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "info",
                      shape: "round",
                      onClick: $options.editFormCss,
                      class: normalizeClass([{ "button-text-highlight": !!$props.formConfig.cssCode }])
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addCss")), 1)
                      ]),
                      _: 1
                    }, 8, ["onClick", "class"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.customClass")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_select, {
                      value: $props.formConfig.customClass,
                      "onUpdate:value": _cache[4] || (_cache[4] = ($event) => $props.formConfig.customClass = $event),
                      allowClear: "",
                      mode: "tags",
                      onChange: $options.extractCssClass,
                      options: $data.cssClassList
                    }, null, 8, ["value", "onChange", "options"])
                  ]),
                  _: 1
                }, 8, ["label"]),
                createVNode(_component_a_form_item, {
                  label: _ctx.i18nt("designer.setting.globalFunctions")
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "info",
                      class: normalizeClass([{ "button-text-highlight": !!$props.formConfig.functions }]),
                      shape: "round",
                      onClick: $options.editGlobalFunctions
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
                      ]),
                      _: 1
                    }, 8, ["class", "onClick"])
                  ]),
                  _: 1
                }, 8, ["label"])
              ]),
              _: 1
            }, 8, ["header"]),
            $options.showEventCollapse() ? (openBlock(), createBlock(_component_a_collapse_panel, {
              key: "2",
              header: _ctx.i18nt("designer.setting.eventSetting")
            }, {
              default: withCtx(() => [
                createVNode(_component_a_form_item, {
                  label: "onFormCreated",
                  "label-width": "150px"
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "info",
                      plain: "",
                      shape: "round",
                      class: normalizeClass([$options.getFormEventHandled("onFormCreated") ? "button-text-highlight" : ""]),
                      onClick: _cache[5] || (_cache[5] = ($event) => $options.editFormEventHandler("onFormCreated"))
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
                      ]),
                      _: 1
                    }, 8, ["class"])
                  ]),
                  _: 1
                }),
                createVNode(_component_a_form_item, {
                  label: "onFormMounted",
                  "label-width": "150px"
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "info",
                      shape: "round",
                      class: normalizeClass([$options.getFormEventHandled("onFormMounted") ? "button-text-highlight" : ""]),
                      onClick: _cache[6] || (_cache[6] = ($event) => $options.editFormEventHandler("onFormMounted"))
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
                      ]),
                      _: 1
                    }, 8, ["class"])
                  ]),
                  _: 1
                }),
                createVNode(_component_a_form_item, {
                  label: "onFormDataChange",
                  "label-width": "150px"
                }, {
                  default: withCtx(() => [
                    createVNode(_component_a_button, {
                      type: "info",
                      plain: "",
                      shape: "round",
                      class: normalizeClass([$options.getFormEventHandled("onFormDataChange") ? "button-text-highlight" : ""]),
                      onClick: _cache[7] || (_cache[7] = ($event) => $options.editFormEventHandler("onFormDataChange"))
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.addEventHandler")), 1)
                      ]),
                      _: 1
                    }, 8, ["class"])
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }, 8, ["header"])) : createCommentVNode("", true)
          ]),
          _: 1
        }, 8, ["activeKey"])
      ]),
      _: 1
    }, 8, ["model"]),
    $data.showFormEventDialogFlag ? (openBlock(), createElementBlock("div", _hoisted_1$t, [
      createVNode(_component_a_modal, {
        title: _ctx.i18nt("designer.setting.editFormEventHandler"),
        visible: $data.showFormEventDialogFlag,
        "onUpdate:visible": _cache[12] || (_cache[12] = ($event) => $data.showFormEventDialogFlag = $event),
        "show-close": true,
        "custom-class": "drag-dialog small-padding-dialog",
        "append-to-body": "",
        "close-on-click-modal": false,
        "close-on-press-escape": false,
        "destroy-on-close": true,
        width: 800
      }, {
        footer: withCtx(() => [
          createElementVNode("div", _hoisted_2$l, [
            createVNode(_component_a_button, {
              onClick: _cache[11] || (_cache[11] = ($event) => $data.showFormEventDialogFlag = false)
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
              ]),
              _: 1
            }),
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.saveFormEventHandler
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
              ]),
              _: 1
            }, 8, ["onClick"])
          ])
        ]),
        default: withCtx(() => [
          createVNode(_component_a_alert, {
            type: "info",
            closable: false,
            message: "form." + $data.eventParamsMap[$data.curEventName]
          }, null, 8, ["message"]),
          createVNode(_component_code_editor, {
            mode: "javascript",
            readonly: false,
            modelValue: $data.formEventHandlerCode,
            "onUpdate:modelValue": _cache[10] || (_cache[10] = ($event) => $data.formEventHandlerCode = $event),
            ref: "ecEditor"
          }, null, 8, ["modelValue"]),
          createVNode(_component_a_alert, {
            type: "info",
            closable: false,
            message: "}"
          })
        ]),
        _: 1
      }, 8, ["title", "visible"])
    ])) : createCommentVNode("", true),
    $data.showEditFormCssDialogFlag ? (openBlock(), createElementBlock("div", _hoisted_3$k, [
      createVNode(_component_a_modal, {
        title: _ctx.i18nt("designer.setting.formCss"),
        visible: $data.showEditFormCssDialogFlag,
        "onUpdate:visible": _cache[15] || (_cache[15] = ($event) => $data.showEditFormCssDialogFlag = $event),
        "show-close": true,
        "custom-class": "drag-dialog small-padding-dialog",
        "append-to-body": "",
        "close-on-click-modal": false,
        "close-on-press-escape": false,
        "destroy-on-close": true
      }, {
        footer: withCtx(() => [
          createElementVNode("div", _hoisted_4$a, [
            createVNode(_component_a_button, {
              onClick: _cache[14] || (_cache[14] = ($event) => $data.showEditFormCssDialogFlag = false)
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
              ]),
              _: 1
            }),
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.saveFormCss
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
              ]),
              _: 1
            }, 8, ["onClick"])
          ])
        ]),
        default: withCtx(() => [
          createVNode(_component_code_editor, {
            mode: "css",
            readonly: false,
            modelValue: $data.formCssCode,
            "onUpdate:modelValue": _cache[13] || (_cache[13] = ($event) => $data.formCssCode = $event)
          }, null, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["title", "visible"])
    ])) : createCommentVNode("", true),
    $data.showEditFunctionsDialogFlag ? (openBlock(), createElementBlock("div", _hoisted_5$4, [
      createVNode(_component_a_modal, {
        title: _ctx.i18nt("designer.setting.globalFunctions"),
        visible: $data.showEditFunctionsDialogFlag,
        "onUpdate:visible": _cache[18] || (_cache[18] = ($event) => $data.showEditFunctionsDialogFlag = $event),
        width: 600,
        "show-close": true,
        "custom-class": "drag-dialog small-padding-dialog",
        "append-to-body": "",
        "close-on-click-modal": false,
        "close-on-press-escape": false,
        "destroy-on-close": true
      }, {
        footer: withCtx(() => [
          createElementVNode("div", _hoisted_6$3, [
            createVNode(_component_a_button, {
              onClick: _cache[17] || (_cache[17] = ($event) => $data.showEditFunctionsDialogFlag = false)
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
              ]),
              _: 1
            }),
            createVNode(_component_a_button, {
              type: "primary",
              onClick: $options.saveGlobalFunctions
            }, {
              default: withCtx(() => [
                createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
              ]),
              _: 1
            }, 8, ["onClick"])
          ])
        ]),
        default: withCtx(() => [
          createVNode(_component_code_editor, {
            mode: "javascript",
            readonly: false,
            modelValue: $data.functionsCode,
            "onUpdate:modelValue": _cache[16] || (_cache[16] = ($event) => $data.functionsCode = $event),
            ref: "gfEditor"
          }, null, 8, ["modelValue"])
        ]),
        _: 1
      }, 8, ["title", "visible"])
    ])) : createCommentVNode("", true)
  ]);
}
const FormSetting = /* @__PURE__ */ _export_sfc$1(_sfc_main$x, [["render", _sfc_render$x]]);
const _sfc_main$w = {
  name: "form-crud-setting",
  mixins: [i18n$1],
  inject: ["getGlobalDsv"],
  components: { HttpEditor, CodeEditor },
  props: {
    designer: Object,
    formConfig: Object
  },
  data() {
    return {
      curEventName: "",
      formEventHandlerCode: "",
      showFormEventDialogFlag: false,
      eventParamsMap: {}
    };
  },
  methods: {
    saveFormEventHandler() {
      const codeHints = this.$refs.ecEditor.getEditorAnnotations();
      let syntaxErrorFlag = false;
      if (!!codeHints && codeHints.length > 0) {
        codeHints.forEach((chItem) => {
          if (chItem.type === "error") {
            syntaxErrorFlag = true;
          }
        });
        if (syntaxErrorFlag) {
          this.$message.error(this.i18nt("designer.setting.syntaxCheckWarning"));
          return;
        }
      }
      this.formConfig[this.curEventName] = this.formEventHandlerCode;
      this.showFormEventDialogFlag = false;
    },
    editFormEventHandler(eventName) {
      this.curEventName = eventName;
      this.formEventHandlerCode = this.formConfig[eventName];
      this.showFormEventDialogFlag = true;
    },
    getFormEventHandled(eventName) {
      return !!this.formConfig[eventName] && this.formConfig[eventName].length > 0;
    }
  }
};
const _hoisted_1$s = { class: "t-p-[10px]" };
const _hoisted_2$k = { class: "dialog-footer" };
function _sfc_render$w(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_HttpEditor = resolveComponent("HttpEditor");
  const _component_a_form_item = resolveComponent("a-form-item");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_modal = resolveComponent("a-modal");
  return openBlock(), createElementBlock("div", _hoisted_1$s, [
    createVNode(_component_a_form_item, null, {
      default: withCtx(() => [
        createVNode(_component_HttpEditor, {
          label: "设置表单编辑api",
          buttonName: "编辑",
          drawerTitle: "表单配置",
          optionModel: $props.formConfig.serveList.vformUpdate
        }, null, 8, ["optionModel"]),
        createVNode(_component_HttpEditor, {
          label: "设置表单获取详情api",
          buttonName: "编辑",
          drawerTitle: "表单配置",
          optionModel: $props.formConfig.serveList.vformDetail
        }, null, 8, ["optionModel"])
      ]),
      _: 1
    }),
    createCommentVNode("", true),
    createVNode(_component_a_modal, {
      title: _ctx.i18nt("designer.setting.editFormEventHandler"),
      visible: $data.showFormEventDialogFlag,
      "onUpdate:visible": _cache[2] || (_cache[2] = ($event) => $data.showFormEventDialogFlag = $event),
      "show-close": true,
      "append-to-body": "",
      "close-on-click-modal": false,
      "close-on-press-escape": false,
      "destroy-on-close": true
    }, {
      footer: withCtx(() => [
        createElementVNode("div", _hoisted_2$k, [
          createVNode(_component_a_button, {
            onClick: _cache[1] || (_cache[1] = ($event) => $data.showFormEventDialogFlag = false)
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
            ]),
            _: 1
          }),
          createVNode(_component_a_button, {
            type: "primary",
            onClick: $options.saveFormEventHandler
          }, {
            default: withCtx(() => [
              createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
            ]),
            _: 1
          }, 8, ["onClick"])
        ])
      ]),
      default: withCtx(() => [
        createVNode(_component_a_alert, {
          type: "info",
          closable: false,
          message: "form." + $data.eventParamsMap[$data.curEventName]
        }, null, 8, ["message"]),
        createVNode(_component_code_editor, {
          mode: "javascript",
          readonly: false,
          modelValue: $data.formEventHandlerCode,
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.formEventHandlerCode = $event),
          ref: "ecEditor"
        }, null, 8, ["modelValue"]),
        createVNode(_component_a_alert, {
          type: "info",
          closable: false,
          message: "}"
        })
      ]),
      _: 1
    }, 8, ["title", "visible"])
  ]);
}
const FormCrudSetting = /* @__PURE__ */ _export_sfc$1(_sfc_main$w, [["render", _sfc_render$w]]);
const COMMON_PROPERTIES$1 = {
  //字段
  name: "name-editor",
  label: "label-editor",
  labelAlign: "labelAlign-editor",
  type: "type-editor",
  tabPosition: "tabPosition-editor",
  tabBarGutter: "tabBarGutter-editor",
  shape: "shape-editor",
  danger: "danger-editor",
  ghost: "ghost-editor",
  defaultValue: "defaultValue-editor",
  placeholder: "placeholder-editor",
  startPlaceholder: "startPlaceholder-editor",
  endPlaceholder: "endPlaceholder-editor",
  columnWidth: "columnWidth-editor",
  autoFullWidth: "autoFullWidth-editor",
  size: "size-editor",
  // displayStyle: 'displayStyle-editor',
  buttonStyle: "buttonStyle-editor",
  border: "border-editor",
  labelWidth: "labelWidth-editor",
  labelHidden: "labelHidden-editor",
  rows: "rows-editor",
  required: "required-editor",
  requiredHint: "requiredHint-editor",
  validation: "validation-editor",
  validationHint: "validationHint-editor",
  readonly: "readonly-editor",
  disabled: "disabled-editor",
  loadingPage: "loadingPage-editor",
  hidden: "hidden-editor",
  useModal: "useModal-editor",
  checkedValue: "checkedValue-editor",
  unCheckedValue: "unCheckedValue-editor",
  placement: "placement-editor",
  rowKey: "rowKey-editor",
  tableWidth: "tableWidth-editor",
  tableHeight: "tableHeight-editor",
  showIndex: "showIndex-editor",
  stripe: "stripe-editor",
  colorRow: "colorRow-editor",
  tableSize: "tableSize-editor",
  pagination: "pagination-editor",
  showButtonsColumn: "showButtonsColumn-editor",
  rowSelection: "rowSelection-editor",
  dsEnabled: "dsEnabled-editor",
  tableColumns: "tableColumns-editor",
  treeDataEnabled: "treeDataEnabled-editor",
  allowClear: "allowClear-editor",
  treeDefaultExpandAll: "treeDefaultExpandAll-editor",
  showTime: "showTime-editor",
  editable: "editable-editor",
  showPassword: "showPassword-editor",
  textContent: "textContent-editor",
  htmlContent: "htmlContent-editor",
  format: "format-editor",
  valueFormat: "valueFormat-editor",
  // filterable: 'filterable-editor',
  // allowCreate: 'allowCreate-editor',
  showSearch: "showSearch-editor",
  // automaticDropdown: 'automaticDropdown-editor',
  // checkStrictly: 'checkStrictly-editor',
  // showAllLevels: 'showAllLevels-editor',
  multiple: "multiple-editor",
  accept: "accept-editor",
  // multipleLimit: 'multipleLimit-editor',
  mode: "mode-editor",
  menuList: "menuList-editor",
  contentPosition: "contentPosition-editor",
  optionItems: "optionItems-editor",
  // uploadURL: 'uploadURL-editor',
  // uploadTip: 'uploadTip-editor',
  // withCredentials: 'withCredentials-editor',
  // multipleSelect: 'multipleSelect-editor',
  limit: "limit-editor",
  maxSize: "maxSize-editor",
  fileTypes: "fileTypes-editor",
  contentHeight: "contentHeight-editor",
  customClass: "customClass-editor",
  //容器
  showBlankRow: "showBlankRow-editor",
  showRowNumber: "showRowNumber-editor",
  actionColumnPosition: "actionColumnPosition-editor",
  cellWidth: "cellWidth-editor",
  cellHeight: "cellHeight-editor",
  colHeight: "colHeight-editor",
  gutter: "gutter-editor",
  responsive: "responsive-editor",
  span: "span-editor",
  offset: "offset-editor",
  push: "push-editor",
  pull: "pull-editor",
  title: "title-editor",
  width: "width-editor",
  height: "height-editor",
  formCode: "formCode-editor",
  collapseIcon: "collapseIcon-editor",
  unCollapseIcon: "unCollapseIcon-editor",
  isCollapse: "isCollapse-editor",
  rightSlotCss: "rightSlotCss-editor",
  bodyStyle: "bodyStyle-editor",
  fullscreen: "fullscreen-editor",
  // showModal: 'showModal-editor',
  showClose: "showClose-editor",
  closeOnClickModal: "closeOnClickModal-editor",
  closeOnPressEscape: "closeOnPressEscape-editor",
  // center: 'center-editor',
  direction: "direction-editor",
  readMode: "readMode-editor",
  disabledMode: "disabledMode-editor",
  okButtonLabel: "okButtonLabel-editor",
  okButtonHidden: "okButtonHidden-editor",
  cancelButtonLabel: "cancelButtonLabel-editor",
  cancelButtonHidden: "cancelButtonHidden-editor"
};
const ADVANCED_PROPERTIES$1 = {
  min: "min-editor",
  max: "max-editor",
  count: "count-editor",
  precision: "precision-editor",
  step: "step-editor",
  controlsPosition: "controlsPosition-editor",
  minLength: "minLength-editor",
  maxLength: "maxLength-editor",
  showCount: "showCount-editor",
  addonBefore: "addonBefore-editor",
  addonAfter: "addonAfter-editor",
  switchWidth: "switchWidth-editor",
  activeColor: "activeColor-editor",
  inactiveColor: "inactiveColor-editor",
  lowThreshold: "lowThreshold-editor",
  highThreshold: "highThreshold-editor",
  allowHalf: "allowHalf-editor",
  showText: "showText-editor",
  showScore: "showScore-editor",
  range: "range-editor",
  vertical: "vertical-editor",
  plain: "plain-editor",
  round: "round-editor",
  circle: "circle-editor",
  icon: "icon-editor",
  labelIconClass: "labelIconClass-editor",
  labelIconPosition: "labelIconPosition-editor",
  labelTooltip: "labelTooltip-editor",
  appendButton: "appendButton-editor",
  appendButtonDisabled: "appendButtonDisabled-editor",
  buttonIcon: "buttonIcon-editor"
};
const EVENT_PROPERTIES$1 = {
  //字段
  onCreated: "onCreated-editor",
  onMounted: "onMounted-editor",
  onClick: "onClick-editor",
  onInput: "onInput-editor",
  onChange: "onChange-editor",
  onTableChange: "onTableChange-editor",
  onFocus: "onFocus-editor",
  onBlur: "onBlur-editor",
  onRemoteQuery: "onRemoteQuery-editor",
  onBeforeUpload: "onBeforeUpload-editor",
  onUploadSuccess: "onUploadSuccess-editor",
  onUploadError: "onUploadError-editor",
  onFileRemove: "onFileRemove-editor",
  onValidate: "onValidate-editor",
  onAppendButtonClick: "onAppendButtonClick-editor",
  onClickIcon: "onClickIcon-editor",
  onMenuClick: "onMenuClick-editor",
  //容器
  onTabClick: "onTabClick-editor",
  onSubFormRowAdd: "onSubFormRowAdd-editor",
  onSubFormRowInsert: "onSubFormRowInsert-editor",
  onSubFormRowDelete: "onSubFormRowDelete-editor",
  onSubFormRowChange: "onSubFormRowChange-editor",
  onPageSizeChange: "onPageSizeChange-editor",
  onCurrentPageChange: "onCurrentPageChange-editor",
  onSelectionChange: "onSelectionChange-editor",
  onHideOperationButton: "onHideOperationButton-editor",
  onDisableOperationButton: "onDisableOperationButton-editor",
  onGetOperationButtonLabel: "onGetOperationButtonLabel-editor",
  onOperationButtonClick: "onOperationButtonClick-editor",
  onHeaderClick: "onHeaderClick-editor",
  onRowClick: "onRowClick-editor",
  onRowDoubleClick: "onRowDoubleClick-editor",
  onCellClick: "onCellClick-editor",
  onCellDoubleClick: "onCellDoubleClick-editor",
  onGetRowClassName: "onGetRowClassName-editor",
  onGetSpanMethod: "onGetSpanMethod-editor",
  onOkButtonClick: "onOkButtonClick-editor",
  onCancelButtonClick: "onCancelButtonClick-editor",
  onDialogOpened: "onDialogOpened-editor",
  onDialogBeforeClose: "onDialogBeforeClose-editor",
  onDrawerOpened: "onDrawerOpened-editor",
  onDrawerBeforeClose: "onDrawerBeforeClose-editor",
  customRow: "customRow-editor"
};
function registerCommonProperty(uniquePropName, propEditorName) {
  COMMON_PROPERTIES$1[uniquePropName] = propEditorName;
}
function registerAdvancedProperty(uniquePropName, propEditorName) {
  ADVANCED_PROPERTIES$1[uniquePropName] = propEditorName;
}
function registerEventProperty(uniquePropName, propEditorName) {
  EVENT_PROPERTIES$1[uniquePropName] = propEditorName;
}
function propertyRegistered(uniquePropName) {
  return !!COMMON_PROPERTIES$1[uniquePropName] || !!ADVANCED_PROPERTIES$1[uniquePropName] || !!EVENT_PROPERTIES$1[uniquePropName];
}
function registerCPEditor(app, uniquePropName, propEditorName, editorComponent) {
  app.component(propEditorName, editorComponent);
  registerCommonProperty(uniquePropName, propEditorName);
}
function registerAPEditor(app, uniquePropName, propEditorName, editorComponent) {
  app.component(propEditorName, editorComponent);
  registerAdvancedProperty(uniquePropName, propEditorName);
}
function registerEPEditor(app, uniquePropName, propEditorName, editorComponent) {
  app.component(propEditorName, editorComponent);
  registerEventProperty(uniquePropName, propEditorName);
}
const WidgetProperties = {
  COMMON_PROPERTIES: COMMON_PROPERTIES$1,
  ADVANCED_PROPERTIES: ADVANCED_PROPERTIES$1,
  EVENT_PROPERTIES: EVENT_PROPERTIES$1
};
const PERegister = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: WidgetProperties,
  propertyRegistered,
  registerAPEditor,
  registerAdvancedProperty,
  registerCPEditor,
  registerCommonProperty,
  registerEPEditor,
  registerEventProperty
}, Symbol.toStringTag, { value: "Module" }));
const { COMMON_PROPERTIES, ADVANCED_PROPERTIES, EVENT_PROPERTIES } = WidgetProperties;
const _sfc_main$v = {
  name: "SettingPanel",
  componentName: "SettingPanel",
  mixins: [i18n$1, emitter],
  components: {
    CodeEditor,
    FormSetting,
    // DataSourceSetting,
    FormCrudSetting,
    ...comps
  },
  props: {
    designer: Object,
    selectedWidget: Object,
    formConfig: Object,
    globalDsv: {
      type: Object,
      default: () => ({})
    }
  },
  provide() {
    return {
      isSubFormChildWidget: () => this.subFormChildWidgetFlag,
      getGlobalDsv: () => this.globalDsv
      // 全局数据源变量
    };
  },
  inject: ["getDesignerConfig"],
  data() {
    return {
      designerConfig: this.getDesignerConfig(),
      scrollerHeight: 0,
      activeTab: "2",
      widgetActiveCollapseNames: ["1", "2", "3"],
      formActiveCollapseNames: ["1", "2"],
      commonProps: COMMON_PROPERTIES,
      advProps: ADVANCED_PROPERTIES,
      eventProps: EVENT_PROPERTIES,
      showWidgetEventDialogFlag: false,
      eventHandlerCode: "",
      curEventName: "",
      eventHeader: "",
      subFormChildWidgetFlag: false
    };
  },
  computed: {
    optionModel: {
      get() {
        return this.selectedWidget.options;
      },
      set(newValue) {
        this.selectedWidget.options = newValue;
      }
    }
  },
  watch: {
    "designer.selectedWidget": {
      handler(val) {
        if (!!val) {
          this.activeTab = "1";
        }
      }
    },
    "selectedWidget.options": {
      //组件属性变动后，立即保存表单JSON！！
      deep: true,
      handler() {
        this.designer.saveCurrentHistoryStep();
      }
    },
    formConfig: {
      deep: true,
      handler() {
        this.designer.saveCurrentHistoryStep();
      }
    }
  },
  created() {
    this.on$("editEventHandler", (eventParams) => {
      this.editEventHandler(eventParams[0], eventParams[1]);
    });
    this.designer.handleEvent("form-css-updated", (cssClassList) => {
      this.designer.setCssClassList(cssClassList);
    });
    this.designer.handleEvent("field-selected", (parentWidget) => {
      this.subFormChildWidgetFlag = !!parentWidget && parentWidget.type === "sub-form";
    });
  },
  mounted() {
    if (!this.designer.selectedWidget) {
      this.activeTab = "2";
    } else {
      this.activeTab = "1";
    }
    this.scrollerHeight = window.innerHeight - 56 - 48 + "px";
    addWindowResizeHandler(() => {
      this.$nextTick(() => {
        this.scrollerHeight = window.innerHeight - 56 - 48 + "px";
      });
    });
  },
  methods: {
    getEventHandled(eventName) {
      return !!this.optionModel[eventName] && this.optionModel[eventName].length > 0;
    },
    showEventCollapse() {
      if (this.designerConfig["eventCollapse"] === void 0) {
        return true;
      }
      return !!this.designerConfig["eventCollapse"];
    },
    hasPropEditor(propName, editorName) {
      if (!editorName) {
        return false;
      }
      if (propName.indexOf("-") <= -1) {
        const uniquePropName = this.selectedWidget.type + "-" + propName;
        if (propertyRegistered(uniquePropName)) {
          return false;
        }
      }
      const originalPropName = propName.replace(this.selectedWidget.type + "-", "");
      const res = this.designer.hasConfig(this.selectedWidget, originalPropName);
      return res;
    },
    getPropEditor(propName, editorName) {
      const originalPropName = propName.replace(this.selectedWidget.type + "-", "");
      const ownPropEditorName = `${this.selectedWidget.type}-${originalPropName}-editor`;
      if (!!this.$options.components[ownPropEditorName]) {
        return ownPropEditorName;
      }
      return !!this.$root.$.appContext.components[ownPropEditorName] ? ownPropEditorName : editorName;
    },
    showCollapse(propsObj) {
      let result2 = false;
      for (const propName in propsObj) {
        if (!propsObj.hasOwnProperty(propName)) {
          continue;
        }
        if (this.hasPropEditor(propName, propsObj[propName])) {
          result2 = true;
          break;
        }
      }
      return result2;
    },
    editEventHandler(eventName, eventParams) {
      this.curEventName = eventName;
      this.eventHeader = `${this.optionModel.name}.${eventName}(${eventParams.join(", ")}) {`;
      this.eventHandlerCode = this.selectedWidget.options[eventName] || "";
      if (eventName === "onValidate" && !this.optionModel["onValidate"]) {
        this.eventHandlerCode = "  /* sample code */\n  /*\n  if ((value > 100) || (value < 0)) {\n    return Promise.reject('error message')  //fail\n  } else {\n    return Promise.resolve();  //pass\n  }\n  */";
      }
      this.showWidgetEventDialogFlag = true;
    },
    saveEventHandler() {
      const codeHints = this.$refs.ecEditor.getEditorAnnotations();
      let syntaxErrorFlag = false;
      if (!!codeHints && codeHints.length > 0) {
        codeHints.forEach((chItem) => {
          if (chItem.type === "error") {
            syntaxErrorFlag = true;
          }
        });
        if (syntaxErrorFlag) {
          this.$message.error(this.i18nt("designer.setting.syntaxCheckWarning"));
          return;
        }
      }
      if (this.curEventName.includes(".")) {
        const [a, b] = this.curEventName.split(".");
        this.selectedWidget.options[a][b] = this.eventHandlerCode;
      } else {
        this.selectedWidget.options[this.curEventName] = this.eventHandlerCode;
      }
      this.showWidgetEventDialogFlag = false;
    }
  }
};
const _hoisted_1$r = { class: "dialog-footer" };
function _sfc_render$v(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_collapse_panel = resolveComponent("a-collapse-panel");
  const _component_a_collapse = resolveComponent("a-collapse");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_empty = resolveComponent("a-empty");
  const _component_a_tab_pane = resolveComponent("a-tab-pane");
  const _component_form_setting = resolveComponent("form-setting");
  const _component_FormCrudSetting = resolveComponent("FormCrudSetting");
  const _component_a_tabs = resolveComponent("a-tabs");
  const _component_a_alert = resolveComponent("a-alert");
  const _component_code_editor = resolveComponent("code-editor");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_modal = resolveComponent("a-modal");
  const _component_a_layout = resolveComponent("a-layout");
  const _component_a_config_provider = resolveComponent("a-config-provider");
  return openBlock(), createBlock(_component_a_config_provider, {
    "component-size": "small",
    input: { autocomplete: "off" }
  }, {
    default: withCtx(() => [
      createVNode(_component_a_layout, { class: "panel-container" }, {
        default: withCtx(() => [
          createVNode(_component_a_tabs, {
            activeKey: $data.activeTab,
            "onUpdate:activeKey": _cache[4] || (_cache[4] = ($event) => $data.activeTab = $event),
            style: { "height": "100%", "width": "100%", "overflow": "hidden" }
          }, {
            default: withCtx(() => [
              createVNode(_component_a_tab_pane, {
                tab: _ctx.i18nt("designer.hint.widgetSetting"),
                key: "1"
              }, {
                default: withCtx(() => [
                  createElementVNode("div", {
                    class: "setting-scrollbar",
                    style: normalizeStyle({ height: $data.scrollerHeight })
                  }, [
                    !!$props.designer.selectedWidget && !$props.designer.selectedWidget.category ? (openBlock(), createBlock(_component_a_form, {
                      key: 0,
                      model: $options.optionModel,
                      labelAlign: "left",
                      "label-width": "120px",
                      class: "setting-form tpf-form",
                      onSubmit: _cache[1] || (_cache[1] = withModifiers(() => {
                      }, ["prevent"]))
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_collapse, {
                          activeKey: $data.widgetActiveCollapseNames,
                          "onUpdate:activeKey": _cache[0] || (_cache[0] = ($event) => $data.widgetActiveCollapseNames = $event),
                          class: "setting-collapse"
                        }, {
                          default: withCtx(() => [
                            $options.showCollapse($data.commonProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "1",
                              header: _ctx.i18nt("designer.setting.commonSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.commonProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel
                                    }, null, 8, ["designer", "selected-widget", "option-model"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true),
                            $options.showCollapse($data.advProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "2",
                              header: _ctx.i18nt("designer.setting.advancedSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.advProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel
                                    }, null, 8, ["designer", "selected-widget", "option-model"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true),
                            $options.showEventCollapse() && $options.showCollapse($data.eventProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "3",
                              header: _ctx.i18nt("designer.setting.eventSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.eventProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel,
                                      "event-handled": $options.getEventHandled(propName)
                                    }, null, 8, ["designer", "selected-widget", "option-model", "event-handled"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true)
                          ]),
                          _: 1
                        }, 8, ["activeKey"])
                      ]),
                      _: 1
                    }, 8, ["model"])) : createCommentVNode("", true),
                    !!$props.designer.selectedWidget && !!$props.designer.selectedWidget.category ? (openBlock(), createBlock(_component_a_form, {
                      key: 1,
                      model: $options.optionModel,
                      labelAlign: "left",
                      "label-width": "120px",
                      class: "setting-form tpf-form",
                      onSubmit: _cache[3] || (_cache[3] = withModifiers(() => {
                      }, ["prevent"]))
                    }, {
                      default: withCtx(() => [
                        createVNode(_component_a_collapse, {
                          activeKey: $data.widgetActiveCollapseNames,
                          "onUpdate:activeKey": _cache[2] || (_cache[2] = ($event) => $data.widgetActiveCollapseNames = $event),
                          class: "setting-collapse"
                        }, {
                          default: withCtx(() => [
                            $options.showCollapse($data.commonProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "1",
                              header: _ctx.i18nt("designer.setting.commonSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.commonProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel
                                    }, null, 8, ["designer", "selected-widget", "option-model"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true),
                            $options.showCollapse($data.advProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "2",
                              header: _ctx.i18nt("designer.setting.advancedSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.advProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel
                                    }, null, 8, ["designer", "selected-widget", "option-model"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true),
                            $options.showEventCollapse() && $options.showCollapse($data.eventProps) ? (openBlock(), createBlock(_component_a_collapse_panel, {
                              key: "3",
                              header: _ctx.i18nt("designer.setting.eventSetting")
                            }, {
                              default: withCtx(() => [
                                (openBlock(true), createElementBlock(Fragment, null, renderList($data.eventProps, (editorName, propName) => {
                                  return openBlock(), createElementBlock(Fragment, null, [
                                    $options.hasPropEditor(propName, editorName) ? (openBlock(), createBlock(resolveDynamicComponent($options.getPropEditor(propName, editorName)), {
                                      key: propName,
                                      designer: $props.designer,
                                      "selected-widget": $props.selectedWidget,
                                      "option-model": $options.optionModel,
                                      "event-handled": $options.getEventHandled(propName)
                                    }, null, 8, ["designer", "selected-widget", "option-model", "event-handled"])) : createCommentVNode("", true)
                                  ], 64);
                                }), 256))
                              ]),
                              _: 1
                            }, 8, ["header"])) : createCommentVNode("", true)
                          ]),
                          _: 1
                        }, 8, ["activeKey"])
                      ]),
                      _: 1
                    }, 8, ["model"])) : createCommentVNode("", true),
                    !$props.designer.selectedWidget ? (openBlock(), createBlock(_component_a_empty, {
                      key: 2,
                      description: _ctx.i18nt("designer.hint.noSelectedWidgetHint")
                    }, null, 8, ["description"])) : createCommentVNode("", true)
                  ], 4)
                ]),
                _: 1
              }, 8, ["tab"]),
              !!$props.designer ? (openBlock(), createBlock(_component_a_tab_pane, {
                tab: _ctx.i18nt("designer.hint.formSetting"),
                key: "2"
              }, {
                default: withCtx(() => [
                  createElementVNode("div", {
                    class: "setting-scrollbar",
                    style: normalizeStyle({ height: $data.scrollerHeight })
                  }, [
                    createVNode(_component_form_setting, {
                      designer: $props.designer,
                      "form-config": $props.formConfig
                    }, null, 8, ["designer", "form-config"])
                  ], 4)
                ]),
                _: 1
              }, 8, ["tab"])) : createCommentVNode("", true),
              createVNode(_component_a_tab_pane, {
                tab: "表单api配置",
                key: "3"
              }, {
                default: withCtx(() => [
                  createElementVNode("div", {
                    class: "ds-setting-scrollbar",
                    style: normalizeStyle({ height: $data.scrollerHeight })
                  }, [
                    createVNode(_component_FormCrudSetting, {
                      designer: $props.designer,
                      "form-config": $props.formConfig
                    }, null, 8, ["designer", "form-config"])
                  ], 4)
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["activeKey"]),
          createVNode(_component_a_modal, {
            title: _ctx.i18nt("designer.setting.editWidgetEventHandler"),
            visible: $data.showWidgetEventDialogFlag,
            "onUpdate:visible": _cache[7] || (_cache[7] = ($event) => $data.showWidgetEventDialogFlag = $event),
            "show-close": true,
            "custom-class": "drag-dialog small-padding-dialog",
            "append-to-body": "",
            "close-on-click-modal": false,
            "close-on-press-escape": false,
            "destroy-on-close": true,
            width: 800
          }, {
            footer: withCtx(() => [
              createElementVNode("div", _hoisted_1$r, [
                createVNode(_component_a_button, {
                  onClick: _cache[6] || (_cache[6] = ($event) => $data.showWidgetEventDialogFlag = false)
                }, {
                  default: withCtx(() => [
                    createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.cancel")), 1)
                  ]),
                  _: 1
                }),
                createVNode(_component_a_button, {
                  type: "primary",
                  onClick: $options.saveEventHandler
                }, {
                  default: withCtx(() => [
                    createTextVNode(toDisplayString(_ctx.i18nt("designer.hint.confirm")), 1)
                  ]),
                  _: 1
                }, 8, ["onClick"])
              ])
            ]),
            default: withCtx(() => [
              createVNode(_component_a_alert, {
                type: "info",
                closable: false,
                message: $data.eventHeader
              }, null, 8, ["message"]),
              createVNode(_component_code_editor, {
                mode: "javascript",
                readonly: false,
                modelValue: $data.eventHandlerCode,
                "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.eventHandlerCode = $event),
                ref: "ecEditor"
              }, null, 8, ["modelValue"]),
              createVNode(_component_a_alert, {
                type: "info",
                closable: false,
                message: "}"
              })
            ]),
            _: 1
          }, 8, ["title", "visible"])
        ]),
        _: 1
      })
    ]),
    _: 1
  });
}
const SettingPanel = /* @__PURE__ */ _export_sfc$1(_sfc_main$v, [["render", _sfc_render$v], ["__scopeId", "data-v-9ce73054"]]);
const containerMixin = {
  inject: ["getFormConfig"],
  computed: {
    formConfig() {
      return this.getFormConfig();
    }
  },
  methods: {
    appendTableRow(widget) {
      this.designer.appendTableRow(widget);
    },
    appendTableCol(widget) {
      this.designer.appendTableCol(widget);
    },
    onContainerDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onContainerDragUpdate() {
      this.designer.emitHistoryChange();
    },
    /* draggable组件的move钩子是在内部子组件被拖放到其他draggable组件时触发！！ */
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    selectWidget(widget) {
      this.designer.setSelected(widget);
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
      this.designer.emitHistoryChange();
    },
    cloneContainer(widget) {
      if (!!this.parentList) {
        const newCon = this.designer.cloneContainer(widget);
        this.parentList.splice(this.indexOfParentList + 1, 0, newCon);
        this.designer.setSelected(newCon);
        this.designer.emitHistoryChange();
      }
    },
    removeWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    },
    setWidgetOption(optionName, optionValue) {
      if (this.widget.options.hasOwnProperty(optionName)) {
        this.widget.options[optionName] = optionValue;
      }
    }
  }
};
const _sfc_main$u = {
  name: "container-wrapper",
  mixins: [i18n$1, containerMixin],
  components: {
    SvgIcon
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  computed: {
    customClass() {
      return !!this.widget.options.customClass ? this.widget.options.customClass.join(" ") : "";
    }
  }
};
const _hoisted_1$q = {
  key: 0,
  class: "container-action"
};
const _hoisted_2$j = ["title"];
const _hoisted_3$j = ["title"];
const _hoisted_4$9 = ["title"];
const _hoisted_5$3 = ["title"];
const _hoisted_6$2 = ["title"];
const _hoisted_7$1 = ["title"];
const _hoisted_8$1 = ["title"];
const _hoisted_9 = {
  key: 1,
  class: "drag-handler"
};
const _hoisted_10 = ["title"];
const _hoisted_11 = { key: 0 };
function _sfc_render$u(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_svg_icon = resolveComponent("svg-icon");
  return openBlock(), createElementBlock("div", {
    class: normalizeClass(["container-wrapper", [$options.customClass]])
  }, [
    renderSlot(_ctx.$slots, "default", {}, void 0, true),
    $props.designer.selectedId === $props.widget.id && !$props.widget.internal ? (openBlock(), createElementBlock("div", _hoisted_1$q, [
      createElementVNode("i", {
        title: _ctx.i18nt("designer.hint.selectParentWidget"),
        onClick: _cache[0] || (_cache[0] = withModifiers(($event) => _ctx.selectParentWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-back" })
      ], 8, _hoisted_2$j),
      !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
        key: 0,
        title: _ctx.i18nt("designer.hint.moveUpWidget"),
        onClick: _cache[1] || (_cache[1] = withModifiers(($event) => _ctx.moveUpWidget(), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-move-up" })
      ], 8, _hoisted_3$j)) : createCommentVNode("", true),
      !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
        key: 1,
        title: _ctx.i18nt("designer.hint.moveDownWidget"),
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => _ctx.moveDownWidget(), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-move-down" })
      ], 8, _hoisted_4$9)) : createCommentVNode("", true),
      $props.widget.type === "table" ? (openBlock(), createElementBlock("i", {
        key: 2,
        title: _ctx.i18nt("designer.hint.insertRow"),
        onClick: _cache[3] || (_cache[3] = withModifiers(($event) => _ctx.appendTableRow($props.widget), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-insert-row" })
      ], 8, _hoisted_5$3)) : createCommentVNode("", true),
      $props.widget.type === "table" ? (openBlock(), createElementBlock("i", {
        key: 3,
        title: _ctx.i18nt("designer.hint.insertColumn"),
        onClick: _cache[4] || (_cache[4] = withModifiers(($event) => _ctx.appendTableCol($props.widget), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-insert-column" })
      ], 8, _hoisted_6$2)) : createCommentVNode("", true),
      $props.widget.type === "grid" || $props.widget.type === "table" ? (openBlock(), createElementBlock("i", {
        key: 4,
        title: _ctx.i18nt("designer.hint.cloneWidget"),
        onClick: _cache[5] || (_cache[5] = withModifiers(($event) => _ctx.cloneContainer($props.widget), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-clone" })
      ], 8, _hoisted_7$1)) : createCommentVNode("", true),
      createElementVNode("i", {
        title: _ctx.i18nt("designer.hint.remove"),
        onClick: _cache[6] || (_cache[6] = withModifiers((...args) => _ctx.removeWidget && _ctx.removeWidget(...args), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-delete" })
      ], 8, _hoisted_8$1)
    ])) : createCommentVNode("", true),
    $props.designer.selectedId === $props.widget.id && !$props.widget.internal ? (openBlock(), createElementBlock("div", _hoisted_9, [
      createElementVNode("i", {
        title: _ctx.i18nt("designer.hint.dragHandler")
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-drag-move" })
      ], 8, _hoisted_10),
      createElementVNode("i", null, toDisplayString($props.widget.showName || _ctx.i18n2t(`designer.widgetLabel.${$props.widget.type}`, `extension.widgetLabel.${$props.widget.type}`)), 1),
      $props.widget.options.hidden === true ? (openBlock(), createElementBlock("i", _hoisted_11, [
        createVNode(_component_svg_icon, { "icon-class": "el-hide" })
      ])) : createCommentVNode("", true)
    ])) : createCommentVNode("", true)
  ], 2);
}
const ContainerWrapper = /* @__PURE__ */ _export_sfc$1(_sfc_main$u, [["render", _sfc_render$u], ["__scopeId", "data-v-a00b7598"]]);
const __vite_glob_0_0 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: ContainerWrapper
}, Symbol.toStringTag, { value: "Module" }));
const refMixinDesign = {
  methods: {
    initRefList() {
      if (this.refList !== null && !!this.widget.options.name) {
        this.refList[this.widget.options.name] = this;
      }
    },
    getWidgetRef(widgetName, showError) {
      const foundRef = this.refList[widgetName];
      if (!foundRef && !!showError) {
        this.$message.error(this.i18nt("render.hint.refNotFound") + widgetName);
      }
      return foundRef;
    },
    /* 该方法用于组件重名检查！！ */
    registerToRefList(oldRefName) {
      if (this.refList !== null && !!this.widget.options.name) {
        if (!!oldRefName) {
          delete this.refList[oldRefName];
        }
        this.refList[this.widget.options.name] = this;
      }
    }
  }
};
const _sfc_main$t = {
  name: "DataTableWidget",
  componentName: "DataTableWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign, emitter, useDataTableMixin],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  data() {
    return {
      // selectAllFlag: false
    };
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  created() {
    this.initRefList();
  },
  mounted() {
    this.loadDataTableDataSource();
  },
  beforeUnmount() {
  },
  computed: {
    // paginationLayout() {
    //   return !!this.widget.options.smallPagination
    //     ? 'prev, pager, next'
    //     : 'total, sizes, prev, pager, next, jumper';
    // },
    selected() {
      return this.widget.id === this.designer.selectedId;
    }
    // customClass() {
    //   return this.widget.options.customClass || '';
    // },
    // widgetSize() {
    //   return this.widget.options.tableSize || 'default';
    // },
    // buttonsColumnFixed() {
    //   if (this.widget.options.buttonsColumnFixed === undefined) {
    //     return 'right';
    //   }
    //   return !this.widget.options.buttonsColumnFixed
    //     ? false
    //     : this.widget.options.buttonsColumnFixed;
    // },
    // tableHeight() {
    //   return this.widget.options.tableHeight || undefined;
    // },
    // selectionWidth() {
    //   return !this.widget.options.showSummary
    //     ? !this.widget.options.treeDataEnabled
    //       ? 42
    //       : 70
    //     : 53;
    // }
  },
  methods: {
    // getOperationButtonLabel(buttonConfig, rowIndex, row) {
    //   if (!!this.widget.options.onGetOperationButtonLabel) {
    //     const customFn = new Function(
    //       'buttonConfig',
    //       'rowIndex',
    //       'row',
    //       this.widget.options.onGetOperationButtonLabel
    //     );
    //     //return customFn.call(this, buttonConfig, rowIndex, row) || buttonConfig.label
    //     return customFn.call(this, buttonConfig, rowIndex, row);
    //   } else {
    //     return buttonConfig.label;
    //   }
    // },
    // handleOperationButtonClick(btnName, rowIndex, row, scope, ob) {
    //   this.skipSelectionChangeEvent = true;
    //   try {
    //     if (ob.onClick) {
    //       const clcFn = new Function('record', 'index', 'column', 'btn', ob.onClick);
    //       clcFn.call(this, row, rowIndex, scope.column, ob);
    //       return;
    //     }
    //     if (!!this.widget.options.onOperationButtonClick) {
    //       const customFn = new Function(
    //         'buttonName',
    //         'rowIndex',
    //         'row',
    //         this.widget.options.onOperationButtonClick
    //       );
    //       customFn.call(this, btnName, rowIndex, row);
    //     } else {
    //       this.dispatch('VFormRender', 'operationButtonClick', [this, btnName, rowIndex, row]);
    //     }
    //   } finally {
    //     this.skipSelectionChangeEvent = false;
    //   }
    // },
    // showOperationButton(buttonConfig, rowIndex, row) {
    //   if (!!this.widget.options.onHideOperationButton) {
    //     const customFn = new Function(
    //       'buttonConfig',
    //       'rowIndex',
    //       'row',
    //       this.widget.options.onHideOperationButton
    //     );
    //     return !customFn.call(this, buttonConfig, rowIndex, row);
    //   } else {
    //     return !buttonConfig.hidden;
    //   }
    // },
    // disableOperationButton(buttonConfig, rowIndex, row) {
    //   if (!!this.widget.options.onDisableOperationButton) {
    //     const customFn = new Function(
    //       'buttonConfig',
    //       'rowIndex',
    //       'row',
    //       this.widget.options.onDisableOperationButton
    //     );
    //     return customFn.call(this, buttonConfig, rowIndex, row);
    //   } else {
    //     return buttonConfig.disabled;
    //   }
    // },
    // customRenderIndex({ index }) {
    //   return index + 1;
    // },
    // handleTablePageChange(pagination, filters, sorter, { currentDataSource }) {
    //   const fn = this.widget.options.onTableChange;
    //   this.widget.options.pagination.current = pagination.current;
    //   this.widget.options.pagination.pageSize = pagination.pageSize;
    //   if (fn) {
    //     const changeFunc = new Function(
    //       'pagination',
    //       'filters',
    //       'sorter',
    //       'currentDataSource',
    //       fn
    //     );
    //     changeFunc.call(this, pagination, filters, sorter, currentDataSource);
    //   }
    // },
    // handleRowSelection(info) {
    //   if (!info.hasRowSelection) {
    //     return undefined;
    //   }
    //   return {
    //     ...omit(info, ['onChange']),
    //     onChange: (selectedRowKeys, selectedRows) => {
    //       const rcFunc = new Function('selectedRowKeys', 'selectedRows', info.onChange);
    //       rcFunc.call(this, selectedRowKeys, selectedRows);
    //     }
    //   };
    // },
    selectWidget(widget) {
      this.designer.setSelected(widget);
    }
    // getTableColumns() {
    //   return this.widget.options.tableColumns;
    // }
    // setChildrenSelected(children, flag) {
    //   const childrenKey = this.widget.options.childrenKey;
    //   children.map(child => {
    //     this.toggleSelection(child, flag);
    //     if (child[childrenKey]) {
    //       this.setChildrenSelected(child[childrenKey], flag);
    //     }
    //   });
    // },
    // toggleSelection(row, flag) {
    //   if (row) {
    //     this.$nextTick(() => {
    //       this.$refs.dataTable.toggleRowSelection(row, flag);
    //     });
    //   }
    // },
    // handleRowSelect(selection, row) {
    //   const childrenKey = this.widget.options.childrenKey;
    //   if (
    //     selection.some(el => {
    //       return row.id === el.id;
    //     })
    //   ) {
    //     if (row[childrenKey]) {
    //       this.setChildrenSelected(row[childrenKey], true);
    //     }
    //   } else {
    //     if (row[childrenKey]) {
    //       this.setChildrenSelected(row[childrenKey], false);
    //     }
    //   }
    // },
    // setSelectedFlag(data, flag) {
    //   const childrenKey = this.widget.options.childrenKey;
    //   data.forEach(row => {
    //     this.$refs.dataTable.toggleRowSelection(row, flag);
    //     if (row[childrenKey]) {
    //       this.setSelectedFlag(row[childrenKey], flag);
    //     }
    //   });
    // },
    // handleAllSelect(selection) {
    //   this.selectAllFlag = !this.selectAllFlag;
    //   this.setSelectedFlag(this.widget.options.tableData, this.selectAllFlag);
    // }
  }
};
function _sfc_render$t(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_a_empty = resolveComponent("a-empty");
  const _component_a_table_column = resolveComponent("a-table-column");
  const _component_a_button = resolveComponent("a-button");
  const _component_a_space = resolveComponent("a-space");
  const _component_a_table = resolveComponent("a-table");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList,
    style: normalizeStyle({ display: "flex", height: parseFloat(_ctx.tableHeight || 0) + "px" })
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["collapse-container data-table-container", { selected: $options.selected }]),
        onClick: _cache[1] || (_cache[1] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_a_table, {
          ref: "dataTable1",
          class: normalizeClass(["tpf-table", [_ctx.customClass]]),
          dataSource: $props.widget.options.dataSource,
          rowKey: (record) => record[$props.widget.options.rowKey],
          scroll: { y: parseFloat(_ctx.tableHeight || 0), x: 300 },
          size: _ctx.widgetSize,
          bordered: $props.widget.options.border,
          style: normalizeStyle({ width: $props.widget.options.tableWidth }),
          onClick: _cache[0] || (_cache[0] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"])),
          "row-class-name": _ctx.rowClassName,
          rowSelection: _ctx.handleRowSelection(),
          pagination: _ctx.fmtPagination,
          rowClassName: _ctx.rowClassName,
          onChange: _ctx.handleTablePageChange,
          customRow: _ctx.handleCustomRow,
          onResizeColumn: _ctx.handleResizeColumn
        }, {
          emptyText: withCtx(() => [
            createVNode(_component_a_empty)
          ]),
          default: withCtx(() => [
            $props.widget.options.showIndex ? (openBlock(), createBlock(_component_a_table_column, {
              key: 0,
              title: "序号",
              align: "left",
              width: 80,
              fixed: "left",
              customRender: _ctx.customRenderIndex
            }, null, 8, ["customRender"])) : createCommentVNode("", true),
            (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.options.tableColumns, (item, index2) => {
              return openBlock(), createElementBlock(Fragment, null, [
                item.show !== false ? (openBlock(), createBlock(_component_a_table_column, mergeProps({ key: index2 }, _ctx.handleColumnItem(item), { showSorterTooltip: false }), null, 16)) : createCommentVNode("", true)
              ], 64);
            }), 256)),
            !!$props.widget.options.showButtonsColumn ? (openBlock(), createBlock(_component_a_table_column, {
              key: 1,
              fixed: "right",
              align: "center",
              title: $props.widget.options.buttonsColumnTitle,
              width: $props.widget.options.buttonsColumnWidth
            }, {
              default: withCtx((scope) => [
                createVNode(_component_a_space, null, {
                  default: withCtx(() => [
                    (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.options.operationButtons, (ob, inx) => {
                      return withDirectives((openBlock(), createBlock(_component_a_button, {
                        key: inx,
                        type: ob.type,
                        size: ob.size,
                        shape: ob.shape,
                        disabled: _ctx.disableOperationButton(ob, scope.index, scope.record),
                        onClick: ($event) => _ctx.handleOperationButtonClick(ob.name, scope.index, scope.record, scope, ob),
                        class: normalizeClass(["data-table-" + ob.name + "-button"])
                      }, {
                        default: withCtx(() => [
                          createTextVNode(toDisplayString(_ctx.getOperationButtonLabel(ob, scope.index, scope.record)), 1)
                        ]),
                        _: 2
                      }, 1032, ["type", "size", "shape", "disabled", "onClick", "class"])), [
                        [vShow, _ctx.showOperationButton(ob, scope.index, scope.record)]
                      ]);
                    }), 128))
                  ]),
                  _: 2
                }, 1024)
              ]),
              _: 1
            }, 8, ["title", "width"])) : createCommentVNode("", true)
          ]),
          _: 1
        }, 8, ["dataSource", "rowKey", "scroll", "class", "size", "bordered", "style", "row-class-name", "rowSelection", "pagination", "rowClassName", "onChange", "customRow", "onResizeColumn"])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list", "style"]);
}
const dataTableWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$t, [["render", _sfc_render$t], ["__scopeId", "data-v-19e67e23"]]);
const __vite_glob_0_1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dataTableWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$s = {
  name: "GridColWidget",
  componentName: "GridColWidget",
  mixins: [i18n$1, refMixinDesign],
  inject: ["refList"],
  components: {
    ...comps$1,
    SvgIcon
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    colHeight: {
      type: String,
      default: null
    }
  },
  data() {
    return {
      layoutProps: {
        span: this.widget.options.span || 12,
        // md: this.widget.options.md || 12,
        // sm: this.widget.options.sm || 12,
        // xs: this.widget.options.xs || 12,
        offset: this.widget.options.offset || 0,
        push: this.widget.options.push || 0,
        pull: this.widget.options.pull || 0
      }
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    },
    colHeightStyle() {
      return !!this.colHeight ? { height: this.colHeight + "px" } : {};
    }
  },
  watch: {
    "designer.formConfig.layoutType": {
      handler(val) {
        if (!!this.widget.options.responsive) {
          if (val === "H5") {
            this.layoutProps.span = this.widget.options.xs || 12;
          } else if (val === "Pad") {
            this.layoutProps.span = this.widget.options.sm || 12;
          } else {
            this.layoutProps.span = this.widget.options.md || 12;
          }
        } else {
          this.layoutProps.span = this.widget.options.span || 12;
        }
      }
    },
    "widget.options.responsive": {
      handler(val) {
        const lyType = this.designer.formConfig.layoutType;
        if (!!val) {
          if (lyType === "H5") {
            this.layoutProps.span = this.widget.options.xs || 12;
          } else if (lyType === "Pad") {
            this.layoutProps.span = this.widget.options.sm || 12;
          } else {
            this.layoutProps.span = this.widget.options.md || 12;
          }
        } else {
          this.layoutProps.span = this.widget.options.span || 12;
        }
      }
    },
    "widget.options.span": {
      handler(val) {
        this.layoutProps.span = val;
      }
    },
    "widget.options.md": {
      handler(val) {
        this.layoutProps.span = val;
      }
    },
    "widget.options.sm": {
      handler(val) {
        this.layoutProps.span = val;
      }
    },
    "widget.options.xs": {
      handler(val) {
        this.layoutProps.span = val;
      }
    },
    "widget.options.offset": {
      handler(val) {
        this.layoutProps.offset = val;
      }
    },
    "widget.options.push": {
      handler(val) {
        this.layoutProps.push = val;
      }
    },
    "widget.options.pull": {
      handler(val) {
        this.layoutProps.pull = val;
      }
    }
  },
  created() {
    this.initRefList();
    this.initLayoutProps();
  },
  methods: {
    initLayoutProps() {
      if (!!this.widget.options.responsive) {
        const lyType = this.designer.formConfig.layoutType;
        if (lyType === "H5") {
          this.layoutProps.span = this.widget.options.xs || 12;
        } else if (lyType === "Pad") {
          this.layoutProps.span = this.widget.options.sm || 12;
        } else {
          this.layoutProps.span = this.widget.options.md || 12;
        }
      } else {
        this.layoutProps.spn = this.widget.options.span;
      }
    },
    onGridDragEnd(evt, subList) {
    },
    onGridDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onGridDragUpdate() {
      this.designer.emitHistoryChange();
    },
    selectWidget(widget) {
      console.log("id: " + widget.id);
      this.designer.setSelected(widget);
    },
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
    },
    cloneGridCol(widget) {
      this.designer.cloneGridCol(widget, this.parentWidget);
    },
    removeWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    }
  }
};
const _hoisted_1$p = { class: "form-widget-list" };
const _hoisted_2$i = {
  key: 0,
  class: "grid-col-action"
};
const _hoisted_3$i = ["title"];
const _hoisted_4$8 = ["title"];
const _hoisted_5$2 = ["title"];
const _hoisted_6$1 = ["title"];
const _hoisted_7 = ["title"];
const _hoisted_8 = {
  key: 1,
  class: "grid-col-handler"
};
function _sfc_render$s(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_col = resolveComponent("a-col");
  return $props.widget.type === "grid-col" ? (openBlock(), createBlock(_component_a_col, mergeProps({
    key: 0,
    class: "grid-cell"
  }, $data.layoutProps, {
    class: [$options.selected ? "selected" : "", $options.customClass],
    style: $options.colHeightStyle,
    key: $props.widget.id,
    onClick: _cache[7] || (_cache[7] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
  }), {
    default: withCtx(() => [
      createVNode(_component_draggable, mergeProps({
        list: $props.widget.widgetList,
        "item-key": "id"
      }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
        tag: "transition-group",
        "component-data": { name: "fade" },
        handle: ".drag-handler",
        onEnd: _cache[0] || (_cache[0] = (evt) => $options.onGridDragEnd(evt, $props.widget.widgetList)),
        onAdd: _cache[1] || (_cache[1] = (evt) => $options.onGridDragAdd(evt, $props.widget.widgetList)),
        onUpdate: $options.onGridDragUpdate,
        move: $options.checkContainerMove
      }), {
        item: withCtx(({ element: subWidget, index: swIdx }) => [
          createElementVNode("div", _hoisted_1$p, [
            "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
              widget: subWidget,
              designer: $props.designer,
              key: subWidget.id,
              "parent-list": $props.widget.widgetList,
              "index-of-parent-list": swIdx,
              "parent-widget": $props.widget
            }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
              field: subWidget,
              designer: $props.designer,
              key: subWidget.id,
              "parent-list": $props.widget.widgetList,
              "index-of-parent-list": swIdx,
              "parent-widget": $props.widget,
              "design-state": true
            }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
          ])
        ]),
        _: 1
      }, 16, ["list", "onUpdate", "move"]),
      $props.designer.selectedId === $props.widget.id && $props.widget.type === "grid-col" ? (openBlock(), createElementBlock("div", _hoisted_2$i, [
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.selectParentWidget"),
          onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectParentWidget($props.widget), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-back" })
        ], 8, _hoisted_3$i),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 0,
          title: _ctx.i18nt("designer.hint.moveUpWidget"),
          onClick: _cache[3] || (_cache[3] = withModifiers(($event) => $options.moveUpWidget(), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-up" })
        ], 8, _hoisted_4$8)) : createCommentVNode("", true),
        !!$props.parentList && $props.parentList.length > 1 ? (openBlock(), createElementBlock("i", {
          key: 1,
          title: _ctx.i18nt("designer.hint.moveDownWidget"),
          onClick: _cache[4] || (_cache[4] = withModifiers(($event) => $options.moveDownWidget(), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-move-down" })
        ], 8, _hoisted_5$2)) : createCommentVNode("", true),
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.cloneWidget"),
          onClick: _cache[5] || (_cache[5] = withModifiers(($event) => $options.cloneGridCol($props.widget), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-clone" })
        ], 8, _hoisted_6$1),
        createElementVNode("i", {
          title: _ctx.i18nt("designer.hint.remove"),
          onClick: _cache[6] || (_cache[6] = withModifiers((...args) => $options.removeWidget && $options.removeWidget(...args), ["stop"]))
        }, [
          createVNode(_component_svg_icon, { "icon-class": "el-delete" })
        ], 8, _hoisted_7)
      ])) : createCommentVNode("", true),
      $props.designer.selectedId === $props.widget.id && $props.widget.type === "grid-col" ? (openBlock(), createElementBlock("div", _hoisted_8, [
        createElementVNode("i", null, toDisplayString(_ctx.i18nt("designer.widgetLabel." + $props.widget.type)), 1)
      ])) : createCommentVNode("", true)
    ]),
    _: 1
  }, 16, ["class", "style"])) : createCommentVNode("", true);
}
const GridColWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$s, [["render", _sfc_render$s], ["__scopeId", "data-v-e53ef040"]]);
const __vite_glob_0_2 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: GridColWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$r = {
  name: "grid-sub-form-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  provide() {
    return {
      getSubFormFieldFlag: () => true,
      getSubFormName: () => this.widget.options.name
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
  },
  mounted() {
  },
  methods: {
    onSubFormDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      console.log("test", "onSubFormDragAdd");
      this.designer.emitEvent("field-selected", this.widget);
    },
    onSubFormDragEnd(evt) {
      console.log("sub form drag end: ", evt);
    }
  }
};
const _hoisted_1$o = { class: "grid-sub-form" };
function _sfc_render$r(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["sub-form-container", { selected: $options.selected }]),
        onClick: _cache[1] || (_cache[1] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
      }, [
        createElementVNode("div", _hoisted_1$o, [
          createVNode(_component_draggable, mergeProps({
            list: $props.widget.widgetList,
            "item-key": "id"
          }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
            tag: "transition-group",
            "component-data": { name: "fade" },
            handle: ".drag-handler",
            onAdd: _cache[0] || (_cache[0] = (evt) => $options.onSubFormDragAdd(evt, $props.widget.widgetList)),
            onEnd: $options.onSubFormDragEnd,
            onUpdate: _ctx.onContainerDragUpdate,
            move: _ctx.checkContainerMove
          }), {
            item: withCtx(({ element: subWidget, index: swIdx }) => [
              "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                widget: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget
              }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : createCommentVNode("", true)
            ]),
            _: 1
          }, 16, ["list", "onEnd", "onUpdate", "move"])
        ])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const gridSubFormWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$r, [["render", _sfc_render$r], ["__scopeId", "data-v-1fae3721"]]);
const __vite_glob_0_3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridSubFormWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$q = {
  name: "grid-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    GridColWidget
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
  },
  mounted() {
  },
  methods: {}
};
function _sfc_render$q(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_grid_col_widget = resolveComponent("grid-col-widget");
  const _component_a_row = resolveComponent("a-row");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createBlock(_component_a_row, {
        key: $props.widget.id,
        gutter: $props.widget.options.gutter,
        class: normalizeClass(["grid-container", [$options.selected ? "selected" : "", $options.customClass]]),
        onClick: _cache[0] || (_cache[0] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
      }, {
        default: withCtx(() => [
          (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.cols, (colWidget, colIdx) => {
            return openBlock(), createBlock(_component_grid_col_widget, {
              key: colWidget.id,
              widget: colWidget,
              designer: $props.designer,
              "parent-list": $props.widget.cols,
              "index-of-parent-list": colIdx,
              "parent-widget": $props.widget,
              "col-height": $props.widget.options.colHeight
            }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget", "col-height"]);
          }), 128))
        ]),
        _: 1
      }, 8, ["gutter", "class"]))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const gridWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$q, [["render", _sfc_render$q], ["__scopeId", "data-v-95f5c98f"]]);
const __vite_glob_0_4 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: gridWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$p = {
  name: "sub-form-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  provide() {
    return {
      getSubFormFieldFlag: () => true,
      getSubFormName: () => this.widget.options.name
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
  },
  mounted() {
  },
  methods: {
    onSubFormDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      console.log("test", "onSubFormDragAdd");
      this.designer.emitEvent("field-selected", this.widget);
    },
    onSubFormDragEnd(evt) {
      console.log("sub form drag end: ", evt);
    }
  }
};
const _hoisted_1$n = { class: "sub-form-table" };
function _sfc_render$p(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_a_form = resolveComponent("a-form");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["sub-form-container", { selected: $options.selected }]),
        onClick: _cache[1] || (_cache[1] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_a_form, {
          layout: "horizontal",
          class: "tpf-form"
        }, {
          default: withCtx(() => [
            createElementVNode("div", _hoisted_1$n, [
              createVNode(_component_draggable, mergeProps({
                list: $props.widget.widgetList,
                "item-key": "id"
              }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
                tag: "transition-group",
                "component-data": { name: "fade" },
                handle: ".drag-handler",
                onAdd: _cache[0] || (_cache[0] = (evt) => $options.onSubFormDragAdd(evt, $props.widget.widgetList)),
                onEnd: $options.onSubFormDragEnd,
                onUpdate: _ctx.onContainerDragUpdate,
                move: _ctx.checkContainerMove
              }), {
                item: withCtx(({ element: subWidget, index: swIdx }) => [
                  createElementVNode("div", {
                    class: "sub-form-table-column",
                    style: normalizeStyle({ width: subWidget.options.columnWidth })
                  }, [
                    (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                      field: subWidget,
                      designer: $props.designer,
                      key: subWidget.id,
                      "parent-list": $props.widget.widgetList,
                      "index-of-parent-list": swIdx,
                      "parent-widget": $props.widget,
                      "design-state": true,
                      "sub-form-item-flag": true
                    }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
                  ], 4)
                ]),
                _: 1
              }, 16, ["list", "onEnd", "onUpdate", "move"])
            ])
          ]),
          _: 1
        })
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const subFormWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$p, [["render", _sfc_render$p], ["__scopeId", "data-v-6f4a48e4"]]);
const __vite_glob_0_5 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: subFormWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$o = {
  name: "tab-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    designState: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      //
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
    this.handleOnCreated();
  },
  mounted() {
    this.handleOnMounted();
  },
  methods: {
    handleOnCreated() {
      if (!!this.widget.options.onCreated) {
        const customFunc = new Function(this.widget.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.designState) {
        return;
      }
      if (!!this.widget.options.onMounted) {
        const mountFunc = new Function(this.widget.options.onMounted);
        mountFunc.call(this);
      }
    },
    changeCurrentTab(inx) {
      var _a, _b;
      const str = ((_b = (_a = this.widget.tabs[inx]) == null ? void 0 : _a.options) == null ? void 0 : _b.label) || "";
      this.onTabClick(str);
      this.widget.options.activeTab = str;
    },
    onTabClick(evt) {
      const index2 = this.widget.tabs.findIndex((item) => item.options.label === evt);
      const paneName = evt;
      this.widget.tabs.forEach((tp) => {
        tp.options.active = tp.options.name === paneName;
      });
      if (!!this.designState) {
        return;
      }
      const onTabClick = this.widget.options.onTabClick;
      if (onTabClick) {
        const onTabClickFn = new Function("tab", "index", onTabClick);
        onTabClickFn.call(this, paneName, index2);
      }
    }
  }
};
const _hoisted_1$m = { class: "form-widget-list" };
function _sfc_render$o(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_a_tab_pane = resolveComponent("a-tab-pane");
  const _component_a_tabs = resolveComponent("a-tabs");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["tab-container", { selected: $options.selected }]),
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_a_tabs, {
          type: $props.widget.options.type,
          tabBarGutter: $props.widget.options.tabBarGutter,
          tabPosition: $props.widget.options.tabPosition,
          activeKey: $props.widget.options.activeTab,
          "onUpdate:activeKey": _cache[1] || (_cache[1] = ($event) => $props.widget.options.activeTab = $event),
          onTabClick: $options.onTabClick
        }, {
          default: withCtx(() => [
            (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.tabs, (tab2) => {
              return openBlock(), createBlock(_component_a_tab_pane, {
                tab: tab2.options.label,
                key: tab2.options.label,
                onClick: _cache[0] || (_cache[0] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
              }, {
                default: withCtx(() => [
                  createVNode(_component_draggable, mergeProps({
                    list: tab2.widgetList,
                    "item-key": "id"
                  }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
                    handle: ".drag-handler",
                    tag: "transition-group",
                    "component-data": { name: "fade" },
                    onAdd: (evt) => _ctx.onContainerDragAdd(evt, tab2.widgetList),
                    onUpdate: _ctx.onContainerDragUpdate,
                    move: _ctx.checkContainerMove
                  }), {
                    item: withCtx(({ element: subWidget, index: swIdx }) => [
                      createElementVNode("div", _hoisted_1$m, [
                        "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                          widget: subWidget,
                          designer: $props.designer,
                          key: subWidget.id,
                          "parent-list": tab2.widgetList,
                          "index-of-parent-list": swIdx,
                          "parent-widget": $props.widget
                        }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                          field: subWidget,
                          designer: $props.designer,
                          key: subWidget.id,
                          "parent-list": tab2.widgetList,
                          "index-of-parent-list": swIdx,
                          "parent-widget": $props.widget,
                          "design-state": true
                        }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
                      ])
                    ]),
                    _: 2
                  }, 1040, ["list", "onAdd", "onUpdate", "move"])
                ]),
                _: 2
              }, 1032, ["tab"]);
            }), 128))
          ]),
          _: 1
        }, 8, ["type", "tabBarGutter", "tabPosition", "activeKey", "onTabClick"])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const tabWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$o, [["render", _sfc_render$o], ["__scopeId", "data-v-743d0c0c"]]);
const __vite_glob_0_6 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tabWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$n = {
  name: "TableCellWidget",
  componentName: "TableCellWidget",
  mixins: [i18n$1, refMixinDesign],
  inject: ["refList"],
  components: {
    ...comps$1,
    SvgIcon
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    rowIndex: Number,
    colIndex: Number,
    rowLength: Number,
    colLength: Number,
    colArray: Array,
    rowArray: Array,
    designer: Object
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    },
    mergeLeftColDisabled() {
      return this.colIndex <= 0 || this.colArray[this.colIndex - 1].options.rowspan !== this.widget.options.rowspan;
    },
    mergeRightColDisabled() {
      const rightColIndex = this.colIndex + this.widget.options.colspan;
      return this.colIndex >= this.colLength - 1 || rightColIndex > this.colLength - 1 || this.colArray[rightColIndex].options.rowspan !== this.widget.options.rowspan;
    },
    mergeWholeRowDisabled() {
      return this.colLength <= 1 || this.colLength === this.widget.options.colspan;
    },
    mergeAboveRowDisabled() {
      return this.rowIndex <= 0 || this.rowArray[this.rowIndex - 1].cols[this.colIndex].options.colspan !== this.widget.options.colspan;
    },
    mergeBelowRowDisabled() {
      const belowRowIndex = this.rowIndex + this.widget.options.rowspan;
      return this.rowIndex >= this.rowLength - 1 || belowRowIndex > this.rowLength - 1 || this.rowArray[belowRowIndex].cols[this.colIndex].options.colspan !== this.widget.options.colspan;
    },
    mergeWholeColDisabled() {
      return this.rowLength <= 1 || this.rowLength === this.widget.options.rowspan;
    },
    undoMergeColDisabled() {
      return this.widget.merged || this.widget.options.colspan <= 1;
    },
    undoMergeRowDisabled() {
      return this.widget.merged || this.widget.options.rowspan <= 1;
    },
    deleteWholeColDisabled() {
      return this.colLength === 1 || this.widget.options.colspan === this.colLength;
    },
    deleteWholeRowDisabled() {
      return this.rowLength === 1 || this.widget.options.rowspan === this.rowLength;
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
  },
  methods: {
    selectWidget(widget) {
      this.designer.setSelected(widget);
    },
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    onTableDragEnd(obj, subList) {
    },
    onTableDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onTableDragUpdate() {
      this.designer.emitHistoryChange();
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    handleTableCellCommand(command) {
      if (command === "insertLeftCol") {
        this.insertLeftCol();
      } else if (command === "insertRightCol") {
        this.insertRightCol();
      } else if (command === "insertAboveRow") {
        this.insertAboveRow();
      } else if (command === "insertBelowRow") {
        this.insertBelowRow();
      } else if (command === "mergeLeftCol") {
        this.mergeLeftCol();
      } else if (command === "mergeRightCol") {
        this.mergeRightCol();
      } else if (command === "mergeWholeCol") {
        this.mergeWholeCol();
      } else if (command === "mergeAboveRow") {
        this.mergeAboveRow();
      } else if (command === "mergeBelowRow") {
        this.mergeBelowRow();
      } else if (command === "mergeWholeRow") {
        this.mergeWholeRow();
      } else if (command === "undoMergeCol") {
        this.undoMergeCol();
      } else if (command === "undoMergeRow") {
        this.undoMergeRow();
      } else if (command === "deleteWholeCol") {
        this.deleteWholeCol();
      } else if (command === "deleteWholeRow") {
        this.deleteWholeRow();
      }
    },
    insertLeftCol() {
      this.designer.insertTableCol(this.parentWidget, this.colIndex, this.rowIndex, true);
    },
    insertRightCol() {
      this.designer.insertTableCol(this.parentWidget, this.colIndex, this.rowIndex, false);
    },
    insertAboveRow() {
      this.designer.insertTableRow(
        this.parentWidget,
        this.rowIndex,
        this.rowIndex,
        this.colIndex,
        true
      );
    },
    insertBelowRow() {
      this.designer.insertTableRow(
        this.parentWidget,
        this.rowIndex,
        this.rowIndex,
        this.colIndex,
        false
      );
    },
    mergeLeftCol() {
      this.designer.mergeTableCol(
        this.rowArray,
        this.colArray,
        this.rowIndex,
        this.colIndex,
        true,
        this.widget
      );
    },
    mergeRightCol() {
      this.designer.mergeTableCol(
        this.rowArray,
        this.colArray,
        this.rowIndex,
        this.colIndex,
        false,
        this.widget
      );
    },
    mergeWholeRow() {
      this.designer.mergeTableWholeRow(
        this.rowArray,
        this.colArray,
        this.rowIndex,
        this.colIndex
      );
    },
    mergeAboveRow() {
      this.designer.mergeTableRow(this.rowArray, this.rowIndex, this.colIndex, true, this.widget);
    },
    mergeBelowRow() {
      this.designer.mergeTableRow(
        this.rowArray,
        this.rowIndex,
        this.colIndex,
        false,
        this.widget
      );
    },
    mergeWholeCol() {
      this.designer.mergeTableWholeCol(
        this.rowArray,
        this.colArray,
        this.rowIndex,
        this.colIndex
      );
    },
    undoMergeCol() {
      this.designer.undoMergeTableCol(
        this.rowArray,
        this.rowIndex,
        this.colIndex,
        this.widget.options.colspan,
        this.widget.options.rowspan
      );
    },
    undoMergeRow() {
      this.designer.undoMergeTableRow(
        this.rowArray,
        this.rowIndex,
        this.colIndex,
        this.widget.options.colspan,
        this.widget.options.rowspan
      );
    },
    deleteWholeCol() {
      this.designer.deleteTableWholeCol(this.rowArray, this.colIndex);
    },
    deleteWholeRow() {
      this.designer.deleteTableWholeRow(this.rowArray, this.rowIndex);
    }
  }
};
const _hoisted_1$l = ["colspan", "rowspan"];
const _hoisted_2$h = { class: "form-widget-list" };
const _hoisted_3$h = {
  key: 0,
  class: "table-cell-action"
};
const _hoisted_4$7 = ["title"];
const _hoisted_5$1 = ["title"];
const _hoisted_6 = {
  key: 1,
  class: "table-cell-handler"
};
function _sfc_render$n(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_svg_icon = resolveComponent("svg-icon");
  const _component_a_menu_item = resolveComponent("a-menu-item");
  const _component_a_menu = resolveComponent("a-menu");
  const _component_a_dropdown = resolveComponent("a-dropdown");
  return openBlock(), createElementBlock("td", {
    class: normalizeClass(["table-cell", [$options.selected ? "selected" : "", $options.customClass]]),
    style: normalizeStyle({
      width: $props.widget.options.cellWidth + "!important" || "",
      height: $props.widget.options.cellHeight + "!important" || ""
    }),
    colspan: $props.widget.options.colspan || 1,
    rowspan: $props.widget.options.rowspan || 1,
    onClick: _cache[3] || (_cache[3] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
  }, [
    createVNode(_component_draggable, mergeProps({
      list: $props.widget.widgetList,
      "item-key": "id"
    }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
      tag: "transition-group",
      "component-data": { name: "fade" },
      handle: ".drag-handler",
      onEnd: _cache[0] || (_cache[0] = (evt) => $options.onTableDragEnd(evt, $props.widget.widgetList)),
      onAdd: _cache[1] || (_cache[1] = (evt) => $options.onTableDragAdd(evt, $props.widget.widgetList)),
      onUpdate: $options.onTableDragUpdate,
      move: $options.checkContainerMove
    }), {
      item: withCtx(({ element: subWidget, index: swIdx }) => [
        createElementVNode("div", _hoisted_2$h, [
          "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
            widget: subWidget,
            designer: $props.designer,
            key: subWidget.id,
            "parent-list": $props.widget.widgetList,
            "index-of-parent-list": swIdx,
            "parent-widget": $props.widget
          }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
            field: subWidget,
            designer: $props.designer,
            key: subWidget.id,
            "parent-list": $props.widget.widgetList,
            "index-of-parent-list": swIdx,
            "parent-widget": $props.widget,
            "design-state": true
          }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
        ])
      ]),
      _: 1
    }, 16, ["list", "onUpdate", "move"]),
    $props.designer.selectedId === $props.widget.id && $props.widget.type === "table-cell" ? (openBlock(), createElementBlock("div", _hoisted_3$h, [
      createElementVNode("i", {
        title: _ctx.i18nt("designer.hint.selectParentWidget"),
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectParentWidget(), ["stop"]))
      }, [
        createVNode(_component_svg_icon, { "icon-class": "el-back" })
      ], 8, _hoisted_4$7),
      createVNode(_component_a_dropdown, {
        trigger: "click",
        onCommand: $options.handleTableCellCommand,
        size: "small"
      }, {
        overlay: withCtx(() => [
          createVNode(_component_a_menu, { onClick: $options.handleTableCellCommand }, {
            default: withCtx(() => [
              createVNode(_component_a_menu_item, { key: "insertLeftCol" }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.insertColumnToLeft")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_a_menu_item, { key: "insertRightCol" }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.insertColumnToRight")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_a_menu_item, { key: "insertAboveRow" }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.insertRowAbove")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_a_menu_item, { key: "insertBelowRow" }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.insertRowBelow")), 1)
                ]),
                _: 1
              }),
              createVNode(_component_a_menu_item, {
                key: "mergeLeftCol",
                disabled: $options.mergeLeftColDisabled,
                divided: ""
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeLeftColumn")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "mergeRightCol",
                disabled: $options.mergeRightColDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeRightColumn")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "mergeWholeRow",
                disabled: $options.mergeWholeRowDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeEntireRow")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "mergeAboveRow",
                disabled: $options.mergeAboveRowDisabled,
                divided: ""
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeRowAbove")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "mergeBelowRow",
                disabled: $options.mergeBelowRowDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeRowBelow")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "mergeWholeCol",
                disabled: $options.mergeWholeColDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.mergeEntireColumn")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "undoMergeRow",
                disabled: $options.undoMergeRowDisabled,
                divided: ""
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.undoMergeRow")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "undoMergeCol",
                disabled: $options.undoMergeColDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.undoMergeCol")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "deleteWholeCol",
                disabled: $options.deleteWholeColDisabled,
                divided: ""
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.deleteEntireCol")), 1)
                ]),
                _: 1
              }, 8, ["disabled"]),
              createVNode(_component_a_menu_item, {
                key: "deleteWholeRow",
                disabled: $options.deleteWholeRowDisabled
              }, {
                default: withCtx(() => [
                  createTextVNode(toDisplayString(_ctx.i18nt("designer.setting.deleteEntireRow")), 1)
                ]),
                _: 1
              }, 8, ["disabled"])
            ]),
            _: 1
          }, 8, ["onClick"])
        ]),
        default: withCtx(() => [
          createElementVNode("i", {
            title: _ctx.i18nt("designer.hint.cellSetting")
          }, [
            createVNode(_component_svg_icon, { "icon-class": "el-menu" })
          ], 8, _hoisted_5$1)
        ]),
        _: 1
      }, 8, ["onCommand"])
    ])) : createCommentVNode("", true),
    $props.designer.selectedId === $props.widget.id && $props.widget.type === "table-cell" ? (openBlock(), createElementBlock("div", _hoisted_6, [
      createElementVNode("i", null, toDisplayString(_ctx.i18nt("designer.widgetLabel." + $props.widget.type)), 1)
    ])) : createCommentVNode("", true)
  ], 14, _hoisted_1$l);
}
const TableCellWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$n, [["render", _sfc_render$n], ["__scopeId", "data-v-fd07d4fd"]]);
const __vite_glob_0_7 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: TableCellWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$m = {
  name: "table-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    TableCellWidget
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  watch: {
    //
  },
  created() {
    this.initRefList();
  },
  mounted() {
  },
  methods: {}
};
const _hoisted_1$k = { class: "table-layout" };
function _sfc_render$m(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_table_cell_widget = resolveComponent("table-cell-widget");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["table-container", [$options.selected ? "selected" : "", $options.customClass]]),
        onClick: _cache[0] || (_cache[0] = withModifiers(($event) => _ctx.selectWidget($props.widget), ["stop"]))
      }, [
        createElementVNode("table", _hoisted_1$k, [
          createElementVNode("tbody", null, [
            (openBlock(true), createElementBlock(Fragment, null, renderList($props.widget.rows, (row, rowIdx) => {
              return openBlock(), createElementBlock("tr", {
                key: row.id
              }, [
                (openBlock(true), createElementBlock(Fragment, null, renderList(row.cols, (colWidget, colIdx) => {
                  return openBlock(), createElementBlock(Fragment, null, [
                    !colWidget.merged ? (openBlock(), createBlock(_component_table_cell_widget, {
                      widget: colWidget,
                      designer: $props.designer,
                      key: colWidget.id,
                      "parent-list": $props.widget.cols,
                      "row-index": rowIdx,
                      "row-length": $props.widget.rows.length,
                      "col-index": colIdx,
                      "col-length": row.cols.length,
                      "col-array": row.cols,
                      "row-array": $props.widget.rows,
                      "parent-widget": $props.widget
                    }, null, 8, ["widget", "designer", "parent-list", "row-index", "row-length", "col-index", "col-length", "col-array", "row-array", "parent-widget"])) : createCommentVNode("", true)
                  ], 64);
                }), 256))
              ]);
            }), 128))
          ])
        ])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const tableWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$m, [["render", _sfc_render$m], ["__scopeId", "data-v-264f6e94"]]);
const __vite_glob_0_8 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: tableWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$l = {
  name: "VfBoxItem",
  componentName: "boxItem",
  // 必须固定为ContainerItem，用于接收父级组件的broadcast事件
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    SvgIcon,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    },
    formJson: {
      type: Object
    },
    formData: {
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentFormRef: {
      type: Object,
      default: null
    },
    extraData: {
      type: Object,
      default: () => ({})
    },
    wrapperId: {
      type: String,
      default: null
    }
  },
  inject: ["refList", "sfRefList", "globalModel", "getFormConfig", "getGlobalDsv"],
  data() {
    return {};
  },
  computed: {
    customClass() {
      return this.widget.options.customClass || "";
    },
    formConfig() {
      return this.getFormConfig();
    }
  },
  created() {
    this.initRefList();
    this.handleOnCreated();
  },
  mounted() {
    this.loadFormCode(this.widget.options.formCode);
    this.$nextTick(() => {
      this.handleOnMounted();
    });
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    async loadFormCode(formCode) {
      if (formCode) {
        const res = await this.$http.get(`/api/tmgc2-query/dataQuery/detail/FormDefinitionManagement`, {
          params: { code: formCode }
        }).then((res2) => res2.data.object.frontendDefinition || "{}");
        this.$refs.dFormRef.setFormJson(JSON.parse(res));
      }
    },
    handleOnCreated() {
      if (!!this.widget.options.onCreated) {
        const customFunc = new Function(this.widget.options.onCreated);
        customFunc.call(this);
      }
    },
    handleOnMounted() {
      if (!!this.widget.options.onMounted) {
        const customFunc = new Function(this.widget.options.onMounted);
        customFunc.call(this);
      }
    },
    getFormRef() {
      return this.$refs.dFormRef;
    }
  }
};
function _sfc_render$l(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_container_item_wrapper = resolveComponent("container-item-wrapper");
  return withDirectives((openBlock(), createBlock(_component_container_item_wrapper, { widget: $props.widget }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        class: normalizeClass(["box-container-item", [$options.customClass]]),
        key: $props.widget.id
      }, [
        $props.widget.options.formCode ? (openBlock(), createBlock(_component_VFormRender, {
          key: 0,
          ref: "dFormRef",
          "parent-form": $props.parentFormRef,
          "disabled-mode": $props.widget.options.disabledMode,
          "dynamic-creation": true
        }, null, 8, ["parent-form", "disabled-mode"])) : createCommentVNode("", true),
        !!$props.widget.widgetList && $props.widget.widgetList.length > 0 ? (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList($props.widget.widgetList, (subWidget, swIdx) => {
          return openBlock(), createElementBlock(Fragment, null, [
            "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.getComponentByContainer(subWidget)), {
              widget: subWidget,
              key: swIdx,
              "parent-list": $props.widget.widgetList,
              "index-of-parent-list": swIdx,
              "parent-widget": $props.widget,
              "sub-form-row-id": $props.subFormRowId,
              "sub-form-row-index": $props.subFormRowIndex,
              "sub-form-col-index": $props.subFormColIndex
            }, createSlots({ _: 2 }, [
              renderList(Object.keys(_ctx.$slots), (slot) => {
                return {
                  name: slot,
                  fn: withCtx((scope) => [
                    renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                  ])
                };
              })
            ]), 1032, ["widget", "parent-list", "index-of-parent-list", "parent-widget", "sub-form-row-id", "sub-form-row-index", "sub-form-col-index"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
              field: subWidget,
              designer: null,
              key: swIdx,
              "parent-list": $props.widget.widgetList,
              "index-of-parent-list": swIdx,
              "parent-widget": $props.widget
            }, createSlots({ _: 2 }, [
              renderList(Object.keys(_ctx.$slots), (slot) => {
                return {
                  name: slot,
                  fn: withCtx((scope) => [
                    renderSlot(_ctx.$slots, slot, normalizeProps(guardReactiveProps(scope)), void 0, true)
                  ])
                };
              })
            ]), 1032, ["field", "parent-list", "index-of-parent-list", "parent-widget"]))
          ], 64);
        }), 256)) : createCommentVNode("", true)
      ], 2))
    ]),
    _: 3
  }, 8, ["widget"])), [
    [vShow, !$props.widget.options.hidden]
  ]);
}
const vfBoxItem = /* @__PURE__ */ _export_sfc$1(_sfc_main$l, [["render", _sfc_render$l], ["__scopeId", "data-v-0daceeb9"]]);
const __vite_glob_0_9 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfBoxItem
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$k = {
  name: "vf-box-widget",
  componentName: "VfBoxWidget",
  mixins: [i18n$1, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    parentFormRef: {
      type: Object,
      default: null
    }
  },
  data() {
    return {
      //
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
    this.initRefList();
    this.loadFormCode(this.widget.options.formCode);
  },
  watch: {
    "widget.options.formCode"(val) {
      this.loadFormCode(val);
    }
  },
  methods: {
    async loadFormCode(formCode) {
      if (formCode) {
        const res = await this.$http.get(`/api/tmgc2-query/dataQuery/detail/FormDefinitionManagement`, {
          params: { code: formCode }
        }).then((res2) => res2.data.object.frontendDefinition || "{}");
        this.$refs.dFormRef.setFormJson(JSON.parse(res));
      }
    },
    onDialogDragEnd(evt, subList) {
    },
    onDialogDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onDialogDragUpdate() {
      this.designer.emitHistoryChange();
    },
    selectWidget(widget) {
      console.log("id: " + widget.id);
      this.designer.setSelected(widget);
    },
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
    },
    removeWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    },
    getFormRef() {
      return this.$refs.dFormRef;
    }
  }
};
const _hoisted_1$j = { class: "vf-box-drop-zone" };
function _sfc_render$k(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_draggable = resolveComponent("draggable");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        class: normalizeClass(["box-container", [$options.selected ? "selected" : "", $options.customClass]]),
        key: $props.widget.id,
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
      }, [
        $props.widget.options.formCode ? (openBlock(), createBlock(_component_VFormRender, {
          key: 0,
          ref: "dFormRef",
          "parent-form": $props.parentFormRef,
          "disabled-mode": $props.widget.options.disabledMode,
          "dynamic-creation": true
        }, null, 8, ["parent-form", "disabled-mode"])) : createCommentVNode("", true),
        createVNode(_component_draggable, mergeProps({
          list: $props.widget.widgetList,
          "item-key": "id"
        }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
          handle: ".drag-handler",
          onEnd: _cache[0] || (_cache[0] = (evt) => $options.onDialogDragEnd(evt, $props.widget.widgetList)),
          onAdd: _cache[1] || (_cache[1] = (evt) => $options.onDialogDragAdd(evt, $props.widget.widgetList)),
          onUpdate: $options.onDialogDragUpdate,
          move: $options.checkContainerMove
        }), {
          item: withCtx(({ element: subWidget, index: swIdx }) => [
            createElementVNode("div", _hoisted_1$j, [
              "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                widget: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget
              }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                field: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget,
                "design-state": true
              }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
            ])
          ]),
          _: 1
        }, 16, ["list", "onUpdate", "move"])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const vfBoxWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$k, [["render", _sfc_render$k], ["__scopeId", "data-v-8b832a99"]]);
const __vite_glob_0_10 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfBoxWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$j = {
  name: "VfCollapseWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign, emitter],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    TpfCollapseTitle,
    SvgIcon,
    gridWidget,
    ...comps$1
  },
  data() {
    return {};
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    },
    options: {
      type: Object,
      default: () => ({})
    },
    formJson: {
      type: Object
    },
    formData: {
      type: Object,
      default: () => ({})
    },
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      // 全局数据源变量
      type: Object,
      default: () => ({})
    },
    parentFormRef: {
      type: Object,
      default: null
    },
    extraData: {
      type: Object,
      default: () => ({})
    },
    wrapperId: {
      type: String,
      default: null
    }
  },
  created() {
    this.initRefList();
  },
  mounted() {
    this.loadFormCode(this.widget.options.formCode);
  },
  beforeUnmount() {
  },
  computed: {
    rightSlotCss() {
      return this.widget.options.rightSlotCss || "";
    },
    selected() {
      return this.widget.id === this.designer.selectedId;
    }
  },
  watch: {
    "widget.options.formCode"(val) {
      this.loadFormCode(val);
    }
  },
  methods: {
    selectWidget(widget) {
      this.designer.setSelected(widget);
    },
    toggleCollapse() {
      this.widget.options.isCollapse = !this.widget.options.isCollapse;
    },
    async loadFormCode(formCode) {
      if (formCode) {
        const res = await this.$http.get(`/api/tmgc2-query/dataQuery/detail/FormDefinitionManagement`, {
          params: {
            code: formCode
          }
        }).then((res2) => res2.data.object.frontendDefinition || "{}");
        this.$refs.dFormRef.setFormJson(JSON.parse(res));
      }
    },
    getFormRef() {
      return this.$refs.dFormRef;
    }
  }
};
const _hoisted_1$i = { class: "tpf-collapse" };
const _hoisted_2$g = { class: "tpf-collapse-header" };
const _hoisted_3$g = { class: "form-widget-list" };
const _hoisted_4$6 = { class: "form-widget-list" };
function _sfc_render$j(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_TpfCollapseTitle = resolveComponent("TpfCollapseTitle");
  const _component_SvgIcon = resolveComponent("SvgIcon");
  const _component_a_space = resolveComponent("a-space");
  const _component_draggable = resolveComponent("draggable");
  const _component_VFormRender = resolveComponent("VFormRender");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        key: $props.widget.id,
        class: normalizeClass(["collapse-container data-table-container", { selected: $options.selected }]),
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
      }, [
        createElementVNode("div", _hoisted_1$i, [
          createElementVNode("div", _hoisted_2$g, [
            createVNode(_component_a_space, { size: 5 }, {
              default: withCtx(() => [
                createVNode(_component_TpfCollapseTitle, {
                  title: $props.widget.options.title
                }, null, 8, ["title"]),
                createVNode(_component_SvgIcon, {
                  "icon-class": $props.widget.options.isCollapse ? $props.widget.options.collapseIcon : $props.widget.options.unCollapseIcon,
                  size: "24px",
                  shadow: "",
                  cursor: "",
                  onClick: $options.toggleCollapse
                }, null, 8, ["icon-class", "onClick"])
              ]),
              _: 1
            }),
            $props.widget.options.isCollapse ? (openBlock(), createElementBlock("div", {
              key: 0,
              class: normalizeClass(["header-right", $options.rightSlotCss])
            }, [
              createVNode(_component_draggable, mergeProps({
                list: $props.widget.headerRightSlotList,
                "item-key": "id"
              }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
                handle: ".drag-handler",
                tag: "transition-group",
                "component-data": { name: "fade" },
                onAdd: _cache[0] || (_cache[0] = (evt) => _ctx.onContainerDragAdd(evt, $props.widget.headerRightSlotList)),
                onUpdate: _ctx.onContainerDragUpdate,
                move: _ctx.checkContainerMove
              }), {
                item: withCtx(({ element: subWidget, index: swIdx }) => [
                  createElementVNode("div", _hoisted_3$g, [
                    "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                      widget: subWidget,
                      designer: $props.designer,
                      key: subWidget.id,
                      "parent-list": $props.widget.headerRightSlotList,
                      "index-of-parent-list": swIdx,
                      "parent-widget": $props.widget
                    }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                      field: subWidget,
                      designer: $props.designer,
                      key: subWidget.id,
                      "parent-list": $props.widget.headerRightSlotList,
                      "index-of-parent-list": swIdx,
                      "parent-widget": $props.widget,
                      "design-state": true
                    }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
                  ])
                ]),
                _: 1
              }, 16, ["list", "onUpdate", "move"])
            ], 2)) : createCommentVNode("", true)
          ]),
          createVNode(Transition, {
            mode: "out-in",
            appear: "",
            "enter-active-class": "animate__animated animate__fadeIn animate__faster",
            "leave-active-class": "animate__animated animate__fadeOut animate__faster"
          }, {
            default: withCtx(() => [
              withDirectives(createElementVNode("div", {
                class: normalizeClass(["tpf-collapse-content"]),
                style: normalizeStyle({
                  height: $props.widget.options.height || "unset",
                  ...JSON.parse($props.widget.options.bodyStyle || "{}")
                })
              }, [
                $props.widget.options.formCode ? (openBlock(), createBlock(_component_VFormRender, {
                  key: 0,
                  ref: "dFormRef",
                  "form-json": $props.formJson,
                  "form-data": $props.formData,
                  "global-dsv": $props.globalDsv,
                  "parent-form": $props.parentFormRef,
                  "disabled-mode": $props.options.disabledMode,
                  "dynamic-creation": true
                }, null, 8, ["form-json", "form-data", "global-dsv", "parent-form", "disabled-mode"])) : createCommentVNode("", true),
                createVNode(_component_draggable, mergeProps({
                  list: $props.widget.defaultSlotsList,
                  "item-key": "id"
                }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
                  handle: ".drag-handler",
                  tag: "transition-group",
                  "component-data": { name: "fade" },
                  onAdd: _cache[1] || (_cache[1] = (evt) => _ctx.onContainerDragAdd(evt, $props.widget.defaultSlotsList)),
                  onUpdate: _ctx.onContainerDragUpdate,
                  move: _ctx.checkContainerMove
                }), {
                  item: withCtx(({ element: subWidget, index: swIdx }) => [
                    createElementVNode("div", _hoisted_4$6, [
                      "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                        widget: subWidget,
                        designer: $props.designer,
                        key: subWidget.id,
                        "parent-list": $props.widget.defaultSlotsList,
                        "index-of-parent-list": swIdx,
                        "parent-widget": $props.widget
                      }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                        field: subWidget,
                        designer: $props.designer,
                        key: subWidget.id,
                        "parent-list": $props.widget.defaultSlotsList,
                        "index-of-parent-list": swIdx,
                        "parent-widget": $props.widget,
                        "design-state": true
                      }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
                    ])
                  ]),
                  _: 1
                }, 16, ["list", "onUpdate", "move"])
              ], 4), [
                [vShow, $props.widget.options.isCollapse]
              ])
            ]),
            _: 1
          })
        ])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const vfCollapseWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$j, [["render", _sfc_render$j], ["__scopeId", "data-v-7a58d12a"]]);
const __vite_glob_0_11 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfCollapseWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$i = {
  name: "vf-dialog-widget",
  componentName: "VfDialogWidget",
  mixins: [i18n$1, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  data() {
    return {
      //
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
    this.initRefList();
  },
  methods: {
    onDialogDragEnd(evt, subList) {
    },
    onDialogDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onDialogDragUpdate() {
      this.designer.emitHistoryChange();
    },
    selectWidget(widget) {
      console.log("id: " + widget.id);
      this.designer.setSelected(widget);
    },
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
    },
    removeWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    }
  }
};
const _hoisted_1$h = { class: "vf-dialog-drop-zone" };
function _sfc_render$i(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        class: normalizeClass(["dialog-container", [$options.selected ? "selected" : "", $options.customClass]]),
        key: $props.widget.id,
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_draggable, mergeProps({
          list: $props.widget.widgetList,
          "item-key": "id"
        }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
          handle: ".drag-handler",
          onEnd: _cache[0] || (_cache[0] = (evt) => $options.onDialogDragEnd(evt, $props.widget.widgetList)),
          onAdd: _cache[1] || (_cache[1] = (evt) => $options.onDialogDragAdd(evt, $props.widget.widgetList)),
          onUpdate: $options.onDialogDragUpdate,
          move: $options.checkContainerMove
        }), {
          item: withCtx(({ element: subWidget, index: swIdx }) => [
            createElementVNode("div", _hoisted_1$h, [
              "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                widget: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget
              }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                field: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget,
                "design-state": true
              }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
            ])
          ]),
          _: 1
        }, 16, ["list", "onUpdate", "move"])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const vfDialogWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$i, [["render", _sfc_render$i], ["__scopeId", "data-v-38e82f5f"]]);
const __vite_glob_0_12 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDialogWidget
}, Symbol.toStringTag, { value: "Module" }));
const _sfc_main$h = {
  name: "vf-drawer-widget",
  componentName: "VfDialogWidget",
  mixins: [i18n$1, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  data() {
    return {
      //
    };
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
    this.initRefList();
  },
  methods: {
    onDrawerDragEnd(evt, subList) {
    },
    onDrawerDragAdd(evt, subList) {
      const newIndex2 = evt.newIndex;
      if (!!subList[newIndex2]) {
        this.designer.setSelected(subList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", this.widget);
    },
    onDrawerDragUpdate() {
      this.designer.emitHistoryChange();
    },
    selectWidget(widget) {
      console.log("id: " + widget.id);
      this.designer.setSelected(widget);
    },
    checkContainerMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    selectParentWidget() {
      if (this.parentWidget) {
        this.designer.setSelected(this.parentWidget);
      } else {
        this.designer.clearSelected();
      }
    },
    moveUpWidget() {
      this.designer.moveUpWidget(this.parentList, this.indexOfParentList);
    },
    moveDownWidget() {
      this.designer.moveDownWidget(this.parentList, this.indexOfParentList);
    },
    removeWidget() {
      if (!!this.parentList) {
        let nextSelected = null;
        if (this.parentList.length === 1) {
          if (!!this.parentWidget) {
            nextSelected = this.parentWidget;
          }
        } else if (this.parentList.length === 1 + this.indexOfParentList) {
          nextSelected = this.parentList[this.indexOfParentList - 1];
        } else {
          nextSelected = this.parentList[this.indexOfParentList + 1];
        }
        this.$nextTick(() => {
          this.parentList.splice(this.indexOfParentList, 1);
          this.designer.setSelected(nextSelected);
          this.designer.emitHistoryChange();
        });
      }
    }
  }
};
const _hoisted_1$g = { class: "vf-drawer-drop-zone" };
function _sfc_render$h(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_container_wrapper = resolveComponent("container-wrapper");
  return openBlock(), createBlock(_component_container_wrapper, {
    designer: $props.designer,
    widget: $props.widget,
    "parent-widget": $props.parentWidget,
    "parent-list": $props.parentList,
    "index-of-parent-list": $props.indexOfParentList
  }, {
    default: withCtx(() => [
      (openBlock(), createElementBlock("div", {
        class: normalizeClass(["drawer-container", [$options.selected ? "selected" : "", $options.customClass]]),
        key: $props.widget.id,
        onClick: _cache[2] || (_cache[2] = withModifiers(($event) => $options.selectWidget($props.widget), ["stop"]))
      }, [
        createVNode(_component_draggable, mergeProps({
          list: $props.widget.widgetList,
          "item-key": "id"
        }, { group: "dragGroup", ghostClass: "ghost", animation: 200 }, {
          handle: ".drag-handler",
          onEnd: _cache[0] || (_cache[0] = (evt) => $options.onDrawerDragEnd(evt, $props.widget.widgetList)),
          onAdd: _cache[1] || (_cache[1] = (evt) => $options.onDrawerDragAdd(evt, $props.widget.widgetList)),
          onUpdate: $options.onDrawerDragUpdate,
          move: $options.checkContainerMove
        }), {
          item: withCtx(({ element: subWidget, index: swIdx }) => [
            createElementVNode("div", _hoisted_1$g, [
              "container" === subWidget.category ? (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                widget: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget
              }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list", "parent-widget"])) : (openBlock(), createBlock(resolveDynamicComponent(subWidget.type + "-widget"), {
                field: subWidget,
                designer: $props.designer,
                key: subWidget.id,
                "parent-list": $props.widget.widgetList,
                "index-of-parent-list": swIdx,
                "parent-widget": $props.widget,
                "design-state": true
              }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list", "parent-widget"]))
            ])
          ]),
          _: 1
        }, 16, ["list", "onUpdate", "move"])
      ], 2))
    ]),
    _: 1
  }, 8, ["designer", "widget", "parent-widget", "parent-list", "index-of-parent-list"]);
}
const vfDrawerWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$h, [["render", _sfc_render$h], ["__scopeId", "data-v-20e0629d"]]);
const __vite_glob_0_13 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: vfDrawerWidget
}, Symbol.toStringTag, { value: "Module" }));
const modules = /* @__PURE__ */ Object.assign({ "./container-wrapper.vue": __vite_glob_0_0, "./data-table-widget.vue": __vite_glob_0_1, "./grid-col-widget.vue": __vite_glob_0_2, "./grid-sub-form-widget.vue": __vite_glob_0_3, "./grid-widget.vue": __vite_glob_0_4, "./sub-form-widget.vue": __vite_glob_0_5, "./tab-widget.vue": __vite_glob_0_6, "./table-cell-widget.vue": __vite_glob_0_7, "./table-widget.vue": __vite_glob_0_8, "./vf-box-item.vue": __vite_glob_0_9, "./vf-box-widget.vue": __vite_glob_0_10, "./vf-collapse-widget.vue": __vite_glob_0_11, "./vf-dialog-widget.vue": __vite_glob_0_12, "./vf-drawer-widget.vue": __vite_glob_0_13 });
const ContainerWidgets = {
  install(app) {
    for (const path in modules) {
      const cname = modules[path].default.name;
      app.component(cname, modules[path].default);
    }
  }
};
const _sfc_main$g = {
  name: "VFormWidget",
  componentName: "VFormWidget",
  mixins: [i18n$1],
  components: {
    ...comps$1
  },
  props: {
    designer: Object,
    formConfig: Object,
    optionData: {
      //prop传入的选项数据
      type: Object,
      default: () => ({})
    },
    globalDsv: {
      type: Object,
      default: () => ({})
    }
  },
  provide() {
    return {
      refList: this.widgetRefList,
      getFormConfig: () => this.formConfig,
      getGlobalDsv: () => this.globalDsv,
      // 全局数据源变量
      globalOptionData: this.optionData,
      getOptionData: () => this.optionData,
      getReadMode: () => false,
      globalModel: {
        formModel: this.formModel
      },
      getSubFormFieldFlag: () => false,
      getSubFormName: () => "",
      getDSResultCache: () => this.dsResultCache
    };
  },
  inject: ["getDesignerConfig"],
  data() {
    return {
      formModel: {},
      widgetRefList: {},
      dsResultCache: {}
    };
  },
  computed: {
    labelPosition() {
      if (!!this.designer.formConfig && !!this.designer.formConfig.labelPosition) {
        return this.designer.formConfig.labelPosition;
      }
      return "horizontal";
    },
    size() {
      if (!!this.designer.formConfig && !!this.designer.formConfig.size) {
        return this.designer.formConfig.size;
      }
      return "default";
    },
    customClass() {
      return this.designer.formConfig.customClass || "";
    },
    layoutType() {
      return this.designer.getLayoutType();
    },
    canvasMinHeight() {
      return this.getDesignerConfig().logoHeader !== false ? "calc(100vh - 56px - 68px)" : "calc(100vh - 56px - 68px + 48px)";
    }
  },
  watch: {
    "designer.widgetList": {
      deep: true,
      handler(val) {
      }
    },
    "designer.formConfig": {
      deep: true,
      handler(val) {
      }
    }
  },
  created() {
    this.designer.initDesigner(!!this.getDesignerConfig().resetFormJson);
    this.designer.loadPresetCssCode(this.getDesignerConfig().presetCssCode);
  },
  mounted() {
    this.disableFirefoxDefaultDrop();
    this.designer.registerFormWidget(this);
  },
  methods: {
    getWidgetName(widget) {
      return widget.type + "-widget";
    },
    disableFirefoxDefaultDrop() {
      const isFirefox = navigator.userAgent.toLowerCase().indexOf("firefox") !== -1;
      if (isFirefox) {
        document.body.ondrop = function(event2) {
          event2.stopPropagation();
          event2.preventDefault();
        };
      }
    },
    onDragEnd(evt) {
    },
    onDragAdd(evt) {
      const newIndex2 = evt.newIndex;
      if (!!this.designer.widgetList[newIndex2]) {
        this.designer.setSelected(this.designer.widgetList[newIndex2]);
      }
      this.designer.emitHistoryChange();
      this.designer.emitEvent("field-selected", null);
    },
    onDragUpdate() {
      this.designer.emitHistoryChange();
    },
    checkMove(evt) {
      return this.designer.checkWidgetMove(evt);
    },
    getFormData() {
      return this.formModel;
    },
    getWidgetRef(widgetName, showError = false) {
      const foundRef = this.widgetRefList[widgetName];
      if (!foundRef && !!showError) {
        this.$message.error(this.i18nt("designer.hint.refNotFound") + widgetName);
      }
      return foundRef;
    },
    getSelectedWidgetRef() {
      const wName = this.designer.selectedWidgetName;
      return this.getWidgetRef(wName);
    },
    clearWidgetRefList() {
      Object.keys(this.widgetRefList).forEach((key) => {
        delete this.widgetRefList[key];
      });
    }
  }
};
const _hoisted_1$f = { class: "form-widget-container" };
const _hoisted_2$f = {
  key: 0,
  class: "no-widget-hint"
};
const _hoisted_3$f = { class: "transition-group-el" };
function _sfc_render$g(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_draggable = resolveComponent("draggable");
  const _component_a_form = resolveComponent("a-form");
  const _component_a_config_provider = resolveComponent("a-config-provider");
  return openBlock(), createBlock(_component_a_config_provider, {
    "component-size": $options.size,
    input: { autocomplete: "off" }
  }, {
    default: withCtx(() => [
      createElementVNode("div", _hoisted_1$f, [
        createVNode(_component_a_form, {
          class: normalizeClass(["full-height-width widget-form tpf-form", [$options.customClass, $options.layoutType + "-layout"]]),
          layout: ["horizontal", "vertical", "inline"].includes($options.labelPosition) ? $options.labelPosition : "horizontal",
          size: $options.size,
          "validate-on-rule-change": false
        }, {
          default: withCtx(() => [
            $props.designer.widgetList.length === 0 ? (openBlock(), createElementBlock("div", _hoisted_2$f, toDisplayString(_ctx.i18nt("designer.noWidgetHint")), 1)) : createCommentVNode("", true),
            createElementVNode("div", {
              class: "form-widget-canvas",
              style: normalizeStyle({ minHeight: $options.canvasMinHeight })
            }, [
              createVNode(_component_draggable, mergeProps({
                list: $props.designer.widgetList,
                "item-key": "id"
              }, { group: "dragGroup", ghostClass: "ghost", animation: 300 }, {
                tag: "transition-group",
                "component-data": { name: "fade" },
                handle: ".drag-handler",
                onEnd: $options.onDragEnd,
                onAdd: $options.onDragAdd,
                onUpdate: $options.onDragUpdate,
                move: $options.checkMove
              }), {
                item: withCtx(({ element: widget, index: index2 }) => [
                  createElementVNode("div", _hoisted_3$f, [
                    "container" === widget.category ? (openBlock(), createBlock(resolveDynamicComponent($options.getWidgetName(widget)), {
                      widget,
                      designer: $props.designer,
                      key: widget.id,
                      "parent-list": $props.designer.widgetList,
                      "index-of-parent-list": index2,
                      "parent-widget": null,
                      "design-state": true
                    }, null, 8, ["widget", "designer", "parent-list", "index-of-parent-list"])) : (openBlock(), createBlock(resolveDynamicComponent($options.getWidgetName(widget)), {
                      field: widget,
                      designer: $props.designer,
                      key: widget.id,
                      "parent-list": $props.designer.widgetList,
                      "index-of-parent-list": index2,
                      "parent-widget": null,
                      "design-state": true
                    }, null, 8, ["field", "designer", "parent-list", "index-of-parent-list"]))
                  ])
                ]),
                _: 1
              }, 16, ["list", "onEnd", "onAdd", "onUpdate", "move"])
            ], 4)
          ]),
          _: 1
        }, 8, ["layout", "class", "size"])
      ])
    ]),
    _: 1
  }, 8, ["component-size"]);
}
const VFormWidget = /* @__PURE__ */ _export_sfc$1(_sfc_main$g, [["render", _sfc_render$g], ["__scopeId", "data-v-8cb2596a"]]);
function mitt(n) {
  return { all: n = n || /* @__PURE__ */ new Map(), on: function(t, e2) {
    var i = n.get(t);
    i ? i.push(e2) : n.set(t, [e2]);
  }, off: function(t, e2) {
    var i = n.get(t);
    i && (e2 ? i.splice(i.indexOf(e2) >>> 0, 1) : n.set(t, []));
  }, emit: function(t, e2) {
    var i = n.get(t);
    i && i.slice().map(function(n2) {
      n2(e2);
    }), (i = n.get("*")) && i.slice().map(function(n2) {
      n2(t, e2);
    });
  } };
}
const instance = mitt();
const eventBus = {};
eventBus.$on = instance.on;
eventBus.$off = instance.off;
eventBus.$emit = instance.emit;
function createDesigner(vueInstance) {
  const defaultFormConfig = deepClone(getDefaultFormConfig());
  return {
    widgetList: [],
    formConfig: { cssCode: "" },
    selectedId: null,
    selectedWidget: null,
    selectedWidgetName: null,
    //选中组件名称（唯一）
    vueInstance,
    formWidget: null,
    //表单设计容器
    cssClassList: [],
    //自定义样式列表
    historyData: {
      index: -1,
      //index: 0,
      maxStep: 20,
      steps: []
    },
    initDesigner(resetFormJson) {
      this.widgetList = [];
      this.formConfig = deepClone(defaultFormConfig);
      console.info(
        `%cVer${VARIANT_FORM_VERSION} %chttps://www.yuque.com/visualdev/vform3`,
        "color:#999;font-size: 12px",
        "color:#333"
      );
      if (!resetFormJson) {
        this.initHistoryData();
      }
    },
    clearDesigner(skipHistoryChange) {
      const emptyWidgetListFlag = this.widgetList.length === 0;
      this.widgetList = [];
      this.selectedId = null;
      this.selectedWidgetName = null;
      this.selectedWidget = {};
      overwriteObj(this.formConfig, defaultFormConfig);
      if (!!skipHistoryChange)
        ;
      else if (!emptyWidgetListFlag) {
        this.emitHistoryChange();
      } else {
        this.saveCurrentHistoryStep();
      }
    },
    loadPresetCssCode(preCssCode) {
      if (this.formConfig.cssCode === "" && !!preCssCode) {
        this.formConfig.cssCode = preCssCode;
      }
    },
    getLayoutType() {
      return this.formConfig.layoutType || "PC";
    },
    changeLayoutType(newType) {
      this.formConfig.layoutType = newType;
    },
    getImportTemplate() {
      return {
        widgetList: [],
        //formConfig: deepClone(this.formConfig)
        formConfig: deepClone(defaultFormConfig)
      };
    },
    loadFormJson(formJson) {
      let modifiedFlag = false;
      if (!!formJson && !!formJson.widgetList) {
        this.widgetList = formJson.widgetList;
        modifiedFlag = true;
      }
      if (!!formJson && !!formJson.formConfig) {
        overwriteObj(
          this.formConfig,
          formJson.formConfig
        );
        modifiedFlag = true;
      }
      if (modifiedFlag) {
        this.emitEvent("form-json-imported", []);
      }
      return modifiedFlag;
    },
    setSelected(selected) {
      if (!selected) {
        this.clearSelected();
        return;
      }
      this.selectedWidget = selected;
      if (!!selected.id) {
        this.selectedId = selected.id;
        this.selectedWidgetName = selected.options.name;
      }
    },
    updateSelectedWidgetNameAndLabel(selectedWidget, newName, newLabel) {
      this.selectedWidgetName = newName;
      if (!!newLabel && Object.keys(selectedWidget.options).indexOf("label") > -1) {
        selectedWidget.options.label = newLabel;
      }
    },
    clearSelected() {
      this.selectedId = null;
      this.selectedWidgetName = null;
      this.selectedWidget = {};
    },
    checkWidgetMove(evt) {
      if (!!evt.draggedContext && !!evt.draggedContext.element) {
        const wgCategory = evt.draggedContext.element.category;
        const wgType = evt.draggedContext.element.type + "";
        if (!!evt.to) {
          if (evt.to.className === "sub-form-table" && wgCategory === "container") {
            return false;
          }
          if (evt.to.className === "grid-sub-form" && wgType !== "grid") {
            return false;
          }
          if (evt.to.className === "vf-dialog-drop-zone" && (wgType === "vf-dialog" || wgType === "vf-drawer")) {
            return false;
          }
          if (evt.to.className === "vf-drawer-drop-zone" && (wgType === "vf-dialog" || wgType === "vf-drawer")) {
            return false;
          }
          if (evt.to.className !== "form-widget-canvas" && (wgType === "vf-dialog" || wgType === "vf-drawer")) {
            return false;
          }
        }
      }
      return true;
    },
    checkFieldMove(evt) {
      if (!!evt.draggedContext && !!evt.draggedContext.element) {
        evt.draggedContext.element.category;
        const wgType = evt.draggedContext.element.type + "";
        if (!!evt.to) {
          if ((evt.to.className === "sub-form-table" || evt.to.className === "grid-sub-form") && wgType === "slot") {
            return false;
          }
          if (evt.to.className === "grid-sub-form" && wgType !== "grid") {
            return false;
          }
        }
      }
      return true;
    },
    /**
     * 追加表格新行
     * @param widget
     */
    appendTableRow(widget) {
      const rowIdx = widget.rows.length;
      const newRow = deepClone(widget.rows[widget.rows.length - 1]);
      newRow.id = "table-row-" + generateId();
      newRow.merged = false;
      newRow.cols.forEach((col) => {
        col.id = "table-cell-" + generateId();
        col.options.name = col.id;
        col.merged = false;
        col.options.colspan = 1;
        col.options.rowspan = 1;
        col.widgetList.length = 0;
      });
      widget.rows.splice(rowIdx, 0, newRow);
      this.emitHistoryChange();
    },
    /**
     * 追加表格新列
     * @param widget
     */
    appendTableCol(widget) {
      const colIdx = widget.rows[0].cols.length;
      widget.rows.forEach((row) => {
        const newCol = deepClone(this.getContainerByType("table-cell"));
        newCol.id = "table-cell-" + generateId();
        newCol.options.name = newCol.id;
        newCol.merged = false;
        newCol.options.colspan = 1;
        newCol.options.rowspan = 1;
        newCol.widgetList.length = 0;
        row.cols.splice(colIdx, 0, newCol);
      });
      this.emitHistoryChange();
    },
    insertTableRow(widget, insertPos, cloneRowIdx, curCol, aboveFlag) {
      let newRowIdx = !!aboveFlag ? insertPos : insertPos + 1;
      if (!aboveFlag) {
        let tmpRowIdx = newRowIdx;
        let rowFoundFlag = false;
        while (tmpRowIdx < widget.rows.length) {
          if (!widget.rows[tmpRowIdx].cols[curCol].merged) {
            newRowIdx = tmpRowIdx;
            rowFoundFlag = true;
            break;
          } else {
            tmpRowIdx++;
          }
        }
        if (!rowFoundFlag) {
          newRowIdx = widget.rows.length;
        }
      }
      const newRow = deepClone(widget.rows[cloneRowIdx]);
      newRow.id = "table-row-" + generateId();
      newRow.merged = false;
      newRow.cols.forEach((col) => {
        col.id = "table-cell-" + generateId();
        col.options.name = col.id;
        col.merged = false;
        col.options.colspan = 1;
        col.options.rowspan = 1;
        col.widgetList.length = 0;
      });
      widget.rows.splice(newRowIdx, 0, newRow);
      let colNo = 0;
      while (newRowIdx < widget.rows.length - 1 && colNo < widget.rows[0].cols.length) {
        const cellOfNextRow = widget.rows[newRowIdx + 1].cols[colNo];
        const rowMerged = cellOfNextRow.merged;
        if (!!rowMerged) {
          const rowArray = widget.rows;
          let unMergedCell = {};
          let startRowIndex = null;
          for (let i = newRowIdx; i >= 0; i--) {
            if (!rowArray[i].cols[colNo].merged && rowArray[i].cols[colNo].options.rowspan > 1) {
              startRowIndex = i;
              unMergedCell = rowArray[i].cols[colNo];
              break;
            }
          }
          if (!!unMergedCell.options) {
            const newRowspan = unMergedCell.options.rowspan + 1;
            this.setPropsOfMergedRows(
              widget.rows,
              startRowIndex,
              colNo,
              unMergedCell.options.colspan,
              newRowspan
            );
            colNo += unMergedCell.options.colspan;
          } else {
            colNo += 1;
          }
        } else {
          colNo += cellOfNextRow.options.colspan || 1;
        }
      }
      this.emitHistoryChange();
    },
    insertTableCol(widget, insertPos, curRow, leftFlag) {
      let newColIdx = !!leftFlag ? insertPos : insertPos + 1;
      if (!leftFlag) {
        let tmpColIdx = newColIdx;
        let colFoundFlag = false;
        while (tmpColIdx < widget.rows[curRow].cols.length) {
          if (!widget.rows[curRow].cols[tmpColIdx].merged) {
            newColIdx = tmpColIdx;
            colFoundFlag = true;
            break;
          } else {
            tmpColIdx++;
          }
          if (!colFoundFlag) {
            newColIdx = widget.rows[curRow].cols.length;
          }
        }
      }
      widget.rows.forEach((row) => {
        const newCol = deepClone(this.getContainerByType("table-cell"));
        newCol.id = "table-cell-" + generateId();
        newCol.options.name = newCol.id;
        newCol.merged = false;
        newCol.options.colspan = 1;
        newCol.options.rowspan = 1;
        newCol.widgetList.length = 0;
        row.cols.splice(newColIdx, 0, newCol);
      });
      let rowNo = 0;
      while (newColIdx < widget.rows[0].cols.length - 1 && rowNo < widget.rows.length) {
        const cellOfNextCol = widget.rows[rowNo].cols[newColIdx + 1];
        const colMerged = cellOfNextCol.merged;
        if (!!colMerged) {
          const colArray = widget.rows[rowNo].cols;
          let unMergedCell = {};
          let startColIndex = null;
          for (let i = newColIdx; i >= 0; i--) {
            if (!colArray[i].merged && colArray[i].options.colspan > 1) {
              startColIndex = i;
              unMergedCell = colArray[i];
              break;
            }
          }
          if (!!unMergedCell.options) {
            const newColspan = unMergedCell.options.colspan + 1;
            this.setPropsOfMergedCols(
              widget.rows,
              rowNo,
              startColIndex,
              newColspan,
              unMergedCell.options.rowspan
            );
            rowNo += unMergedCell.options.rowspan;
          } else {
            rowNo += 1;
          }
        } else {
          rowNo += cellOfNextCol.options.rowspan || 1;
        }
      }
      this.emitHistoryChange();
    },
    setPropsOfMergedCols(rowArray, startRowIndex, startColIndex, newColspan, rowspan) {
      for (let i = startRowIndex; i < startRowIndex + rowspan; i++) {
        for (let j = startColIndex; j < startColIndex + newColspan; j++) {
          if (i === startRowIndex && j === startColIndex) {
            rowArray[i].cols[j].options.colspan = newColspan;
            continue;
          }
          rowArray[i].cols[j].merged = true;
          rowArray[i].cols[j].options.colspan = newColspan;
          rowArray[i].cols[j].widgetList = [];
        }
      }
    },
    setPropsOfMergedRows(rowArray, startRowIndex, startColIndex, colspan, newRowspan) {
      for (let i = startRowIndex; i < startRowIndex + newRowspan; i++) {
        for (let j = startColIndex; j < startColIndex + colspan; j++) {
          if (i === startRowIndex && j === startColIndex) {
            rowArray[i].cols[j].options.rowspan = newRowspan;
            continue;
          }
          rowArray[i].cols[j].merged = true;
          rowArray[i].cols[j].options.rowspan = newRowspan;
          rowArray[i].cols[j].widgetList = [];
        }
      }
    },
    setPropsOfSplitCol(rowArray, startRowIndex, startColIndex, colspan, rowspan) {
      for (let i = startRowIndex; i < startRowIndex + rowspan; i++) {
        for (let j = startColIndex; j < startColIndex + colspan; j++) {
          rowArray[i].cols[j].merged = false;
          rowArray[i].cols[j].options.rowspan = 1;
          rowArray[i].cols[j].options.colspan = 1;
        }
      }
    },
    setPropsOfSplitRow(rowArray, startRowIndex, startColIndex, colspan, rowspan) {
      for (let i = startRowIndex; i < startRowIndex + rowspan; i++) {
        for (let j = startColIndex; j < startColIndex + colspan; j++) {
          rowArray[i].cols[j].merged = false;
          rowArray[i].cols[j].options.rowspan = 1;
          rowArray[i].cols[j].options.colspan = 1;
        }
      }
    },
    mergeTableCol(rowArray, colArray, curRow, curCol, leftFlag, cellWidget) {
      const mergedColIdx = !!leftFlag ? curCol : curCol + colArray[curCol].options.colspan;
      let remainedColIdx = !!leftFlag ? curCol - 1 : curCol;
      if (!!leftFlag) {
        let tmpColIdx = remainedColIdx;
        while (tmpColIdx >= 0) {
          if (!rowArray[curRow].cols[tmpColIdx].merged) {
            remainedColIdx = tmpColIdx;
            break;
          } else {
            tmpColIdx--;
          }
        }
      }
      if (!!colArray[mergedColIdx].widgetList && colArray[mergedColIdx].widgetList.length > 0) {
        if (!colArray[remainedColIdx].widgetList || colArray[remainedColIdx].widgetList.length === 0) {
          colArray[remainedColIdx].widgetList = deepClone(colArray[mergedColIdx].widgetList);
        }
      }
      const newColspan = colArray[mergedColIdx].options.colspan * 1 + colArray[remainedColIdx].options.colspan * 1;
      this.setPropsOfMergedCols(
        rowArray,
        curRow,
        remainedColIdx,
        newColspan,
        cellWidget.options.rowspan
      );
      this.emitHistoryChange();
    },
    mergeTableWholeRow(rowArray, colArray, rowIndex, colIndex) {
      const startRowspan = rowArray[rowIndex].cols[0].options.rowspan;
      let unmatchedFlag = false;
      for (let i = 1; i < rowArray[rowIndex].cols.length; i++) {
        if (rowArray[rowIndex].cols[i].options.rowspan !== startRowspan) {
          unmatchedFlag = true;
          break;
        }
      }
      if (unmatchedFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.rowspanNotConsistentForMergeEntireRow")
        );
        return;
      }
      const widgetListCols = colArray.filter((colItem) => {
        return !colItem.merged && !!colItem.widgetList && colItem.widgetList.length > 0;
      });
      if (!!widgetListCols && widgetListCols.length > 0) {
        if (widgetListCols[0].id !== colArray[0].id && (!colArray[0].widgetList || colArray[0].widgetList.length <= 0)) {
          colArray[0].widgetList = deepClone(widgetListCols[0].widgetList);
        }
      }
      this.setPropsOfMergedCols(
        rowArray,
        rowIndex,
        0,
        colArray.length,
        colArray[colIndex].options.rowspan
      );
      this.emitHistoryChange();
    },
    mergeTableRow(rowArray, curRow, curCol, aboveFlag, cellWidget) {
      const mergedRowIdx = !!aboveFlag ? curRow : curRow + cellWidget.options.rowspan;
      let remainedRowIdx = !!aboveFlag ? curRow - 1 : curRow;
      if (!!aboveFlag) {
        let tmpRowIdx = remainedRowIdx;
        while (tmpRowIdx >= 0) {
          if (!rowArray[tmpRowIdx].cols[curCol].merged) {
            remainedRowIdx = tmpRowIdx;
            break;
          } else {
            tmpRowIdx--;
          }
        }
      }
      if (!!rowArray[mergedRowIdx].cols[curCol].widgetList && rowArray[mergedRowIdx].cols[curCol].widgetList.length > 0) {
        if (!rowArray[remainedRowIdx].cols[curCol].widgetList || rowArray[remainedRowIdx].cols[curCol].widgetList.length === 0) {
          rowArray[remainedRowIdx].cols[curCol].widgetList = deepClone(
            rowArray[mergedRowIdx].cols[curCol].widgetList
          );
        }
      }
      const newRowspan = rowArray[mergedRowIdx].cols[curCol].options.rowspan * 1 + rowArray[remainedRowIdx].cols[curCol].options.rowspan * 1;
      this.setPropsOfMergedRows(
        rowArray,
        remainedRowIdx,
        curCol,
        cellWidget.options.colspan,
        newRowspan
      );
      this.emitHistoryChange();
    },
    mergeTableWholeCol(rowArray, colArray, rowIndex, colIndex) {
      const startColspan = rowArray[0].cols[colIndex].options.colspan;
      let unmatchedFlag = false;
      for (let i = 1; i < rowArray.length; i++) {
        if (rowArray[i].cols[colIndex].options.colspan !== startColspan) {
          unmatchedFlag = true;
          break;
        }
      }
      if (unmatchedFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.colspanNotConsistentForMergeEntireColumn")
        );
        return;
      }
      const widgetListCols = [];
      rowArray.forEach((rowItem) => {
        const tempCell = rowItem.cols[colIndex];
        if (!tempCell.merged && !!tempCell.widgetList && tempCell.widgetList.length > 0) {
          widgetListCols.push(tempCell);
        }
      });
      const firstCellOfCol = rowArray[0].cols[colIndex];
      if (!!widgetListCols && widgetListCols.length > 0) {
        if (widgetListCols[0].id !== firstCellOfCol.id && (!firstCellOfCol.widgetList || firstCellOfCol.widgetList.length <= 0)) {
          firstCellOfCol.widgetList = deepClone(widgetListCols[0].widgetList);
        }
      }
      this.setPropsOfMergedRows(
        rowArray,
        0,
        colIndex,
        firstCellOfCol.options.colspan,
        rowArray.length
      );
      this.emitHistoryChange();
    },
    undoMergeTableCol(rowArray, rowIndex, colIndex, colspan, rowspan) {
      this.setPropsOfSplitCol(rowArray, rowIndex, colIndex, colspan, rowspan);
      this.emitHistoryChange();
    },
    undoMergeTableRow(rowArray, rowIndex, colIndex, colspan, rowspan) {
      this.setPropsOfSplitRow(rowArray, rowIndex, colIndex, colspan, rowspan);
      this.emitHistoryChange();
    },
    deleteTableWholeCol(rowArray, colIndex) {
      let onlyOneColFlag = true;
      rowArray.forEach((ri) => {
        if (ri.cols[0].options.colspan !== rowArray[0].cols.length) {
          onlyOneColFlag = false;
        }
      });
      if (onlyOneColFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.lastColCannotBeDeleted")
        );
        return;
      }
      const startColspan = rowArray[0].cols[colIndex].options.colspan;
      let unmatchedFlag = false;
      for (let i = 1; i < rowArray.length; i++) {
        if (rowArray[i].cols[colIndex].options.colspan !== startColspan) {
          unmatchedFlag = true;
          break;
        }
      }
      if (unmatchedFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.colspanNotConsistentForDeleteEntireColumn")
        );
        return;
      }
      rowArray.forEach((rItem) => {
        rItem.cols.splice(colIndex, startColspan);
      });
      this.emitHistoryChange();
    },
    deleteTableWholeRow(rowArray, rowIndex) {
      let onlyOneRowFlag = true;
      rowArray[0].cols.forEach((ci) => {
        if (ci.options.rowspan !== rowArray.length) {
          onlyOneRowFlag = false;
        }
      });
      if (onlyOneRowFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.lastRowCannotBeDeleted")
        );
        return;
      }
      const startRowspan = rowArray[rowIndex].cols[0].options.rowspan;
      let unmatchedFlag = false;
      for (let i = 1; i < rowArray[rowIndex].cols.length; i++) {
        if (rowArray[rowIndex].cols[i].options.rowspan !== startRowspan) {
          unmatchedFlag = true;
          break;
        }
      }
      if (unmatchedFlag) {
        this.vueInstance.$message.info(
          this.vueInstance.i18nt("designer.hint.rowspanNotConsistentForDeleteEntireRow")
        );
        return;
      }
      rowArray.splice(rowIndex, startRowspan);
      this.emitHistoryChange();
    },
    getContainerByType(typeName) {
      const allWidgets = [...containers$1, ...basicFields, ...advancedFields, ...customFields];
      let foundCon = null;
      allWidgets.forEach((con) => {
        if (!!con.category && !!con.type && con.type === typeName) {
          foundCon = con;
        }
      });
      return foundCon;
    },
    getFieldWidgetByType(typeName) {
      const allWidgets = [...containers$1, ...basicFields, ...advancedFields, ...customFields];
      let foundWidget = null;
      allWidgets.forEach((widget) => {
        if (!!!widget.category && !!widget.type && widget.type === typeName) {
          foundWidget = widget;
        }
      });
      return foundWidget;
    },
    hasConfig(widget, configName) {
      let originalWidget = null;
      if (!!widget.category) {
        originalWidget = this.getContainerByType(widget.type);
      } else {
        originalWidget = this.getFieldWidgetByType(widget.type);
      }
      if (!originalWidget || !originalWidget.options) {
        return false;
      }
      return Object.keys(originalWidget.options).indexOf(configName) > -1;
    },
    upgradeWidgetConfig(oldWidget) {
      let newWidget = null;
      if (!!oldWidget.category) {
        newWidget = this.getContainerByType(oldWidget.type);
      } else {
        newWidget = this.getFieldWidgetByType(oldWidget.type);
      }
      if (!newWidget || !newWidget.options) {
        return;
      }
      Object.keys(newWidget.options).forEach((ck) => {
        if (!oldWidget.hasOwnProperty(ck)) {
          oldWidget.options[ck] = deepClone(newWidget.options[ck]);
        }
      });
    },
    upgradeFormConfig(oldFormConfig) {
      Object.keys(this.formConfig).forEach((fc) => {
        if (!oldFormConfig.hasOwnProperty(fc)) {
          oldFormConfig[fc] = deepClone(this.formConfig[fc]);
        }
      });
    },
    cloneGridCol(widget, parentWidget) {
      const newGridCol = deepClone(this.getContainerByType("grid-col"));
      newGridCol.options.span = widget.options.span;
      const tmpId = generateId();
      newGridCol.id = "grid-col-" + tmpId;
      newGridCol.options.name = "gridCol" + tmpId;
      parentWidget.cols.push(newGridCol);
    },
    cloneContainer(containWidget) {
      if (containWidget.type === "grid") {
        const newGrid = deepClone(this.getContainerByType("grid"));
        newGrid.id = newGrid.type + generateId();
        newGrid.options.name = newGrid.id;
        containWidget.cols.forEach((gridCol2) => {
          const newGridCol = deepClone(this.getContainerByType("grid-col"));
          const tmpId = generateId();
          newGridCol.id = "grid-col-" + tmpId;
          newGridCol.options.name = "gridCol" + tmpId;
          newGridCol.options.span = gridCol2.options.span;
          newGrid.cols.push(newGridCol);
        });
        return newGrid;
      } else if (containWidget.type === "table") {
        const newTable = deepClone(this.getContainerByType("table"));
        newTable.id = newTable.type + generateId();
        newTable.options.name = newTable.id;
        containWidget.rows.forEach((tRow) => {
          const newRow = deepClone(tRow);
          newRow.id = "table-row-" + generateId();
          newRow.cols.forEach((col) => {
            col.id = "table-cell-" + generateId();
            col.options.name = col.id;
            col.widgetList = [];
          });
          newTable.rows.push(newRow);
        });
        return newTable;
      } else {
        return null;
      }
    },
    moveUpWidget(parentList, indexOfParentList) {
      if (!!parentList) {
        if (indexOfParentList === 0) {
          this.vueInstance.$message(this.vueInstance.i18nt("designer.hint.moveUpFirstChildHint"));
          return;
        }
        const tempWidget = parentList[indexOfParentList];
        parentList.splice(indexOfParentList, 1);
        parentList.splice(indexOfParentList - 1, 0, tempWidget);
      }
    },
    moveDownWidget(parentList, indexOfParentList) {
      if (!!parentList) {
        if (indexOfParentList === parentList.length - 1) {
          this.vueInstance.$message(this.vueInstance.i18nt("designer.hint.moveDownLastChildHint"));
          return;
        }
        const tempWidget = parentList[indexOfParentList];
        parentList.splice(indexOfParentList, 1);
        parentList.splice(indexOfParentList + 1, 0, tempWidget);
      }
    },
    copyNewFieldWidget(origin) {
      const newWidget = deepClone(origin);
      const tempId = generateId();
      newWidget.id = newWidget.type.replace(/-/g, "") + tempId;
      newWidget.options.name = newWidget.id;
      newWidget.options.label = newWidget.options.label || newWidget.type.toLowerCase();
      delete newWidget.displayName;
      return newWidget;
    },
    copyNewContainerWidget(origin) {
      const newCon = deepClone(origin);
      newCon.id = newCon.type.replace(/-/g, "") + generateId();
      newCon.options.name = newCon.id;
      if (newCon.type === "grid") {
        let newCol = deepClone(this.getContainerByType("grid-col"));
        let tmpId = generateId();
        newCol.id = "grid-col-" + tmpId;
        newCol.options.name = "gridCol" + tmpId;
        newCon.cols.push(newCol);
        newCol = deepClone(newCol);
        tmpId = generateId();
        newCol.id = "grid-col-" + tmpId;
        newCol.options.name = "gridCol" + tmpId;
        newCon.cols.push(newCol);
      } else if (newCon.type === "table") {
        const newRow = { cols: [] };
        newRow.id = "table-row-" + generateId();
        newRow.merged = false;
        const newCell = deepClone(this.getContainerByType("table-cell"));
        newCell.id = "table-cell-" + generateId();
        newCell.options.name = newCell.id;
        newCell.merged = false;
        newCell.options.colspan = 1;
        newCell.options.rowspan = 1;
        newRow.cols.push(newCell);
        newCon.rows.push(newRow);
      } else if (newCon.type === "tab") {
        const newTabPane = deepClone(this.getContainerByType("tab-pane"));
        newTabPane.id = "tab-pane-" + generateId();
        newTabPane.options.name = "tab1";
        newTabPane.options.label = "tab 1";
        newCon.tabs.push(newTabPane);
      }
      delete newCon.displayName;
      return newCon;
    },
    addContainerByDbClick(container) {
      const newCon = this.copyNewContainerWidget(container);
      this.widgetList.push(newCon);
      this.setSelected(newCon);
    },
    addFieldByDbClick(widget) {
      const newWidget = this.copyNewFieldWidget(widget);
      if (!!this.selectedWidget && this.selectedWidget.type === "tab") {
        let activeTab = this.selectedWidget.tabs[0];
        this.selectedWidget.tabs.forEach((tabPane2) => {
          if (!!tabPane2.options.active) {
            activeTab = tabPane2;
          }
        });
        !!activeTab && activeTab.widgetList.push(newWidget);
      } else if (!!this.selectedWidget && !!this.selectedWidget.widgetList) {
        this.selectedWidget.widgetList.push(newWidget);
      } else {
        this.widgetList.push(newWidget);
      }
      this.setSelected(newWidget);
      this.emitHistoryChange();
    },
    deleteColOfGrid(gridWidget2, colIdx) {
      if (!!gridWidget2 && !!gridWidget2.cols) {
        gridWidget2.cols.splice(colIdx, 1);
      }
    },
    addNewColOfGrid(gridWidget2) {
      const cols = gridWidget2.cols;
      const newGridCol = deepClone(this.getContainerByType("grid-col"));
      const tmpId = generateId();
      newGridCol.id = "grid-col-" + tmpId;
      newGridCol.options.name = "gridCol" + tmpId;
      if (!!cols && cols.length > 0) {
        let spanSum = 0;
        cols.forEach((col) => {
          spanSum += col.options.span;
        });
        if (spanSum >= 24) {
          console.log("列栅格之和超出24");
          gridWidget2.cols.push(newGridCol);
        } else {
          newGridCol.options.span = 24 - spanSum > 12 ? 12 : 24 - spanSum;
          gridWidget2.cols.push(newGridCol);
        }
      } else {
        gridWidget2.cols = [newGridCol];
      }
    },
    addTabPaneOfTabs(tabsWidget) {
      const tabPanes = tabsWidget.tabs;
      const newTabPane = deepClone(this.getContainerByType("tab-pane"));
      newTabPane.id = "tab-pane-" + generateId();
      newTabPane.options.name = newTabPane.id;
      newTabPane.options.label = "tab " + (tabPanes.length + 1);
      tabPanes.push(newTabPane);
    },
    deleteTabPaneOfTabs(tabsWidget, tpIdx) {
      tabsWidget.tabs.splice(tpIdx, 1);
    },
    emitEvent(evtName, evtData) {
      eventBus.$emit(evtName, evtData);
    },
    handleEvent(evtName, callback) {
      eventBus.$on(evtName, (data) => callback(data));
    },
    setCssClassList(cssClassList) {
      this.cssClassList = cssClassList;
    },
    getCssClassList() {
      return this.cssClassList;
    },
    registerFormWidget(formWidget) {
      this.formWidget = formWidget;
    },
    initHistoryData() {
      this.loadFormContentFromStorage();
      this.historyData.index++;
      this.historyData.steps[this.historyData.index] = {
        widgetList: deepClone(this.widgetList),
        formConfig: deepClone(this.formConfig)
      };
    },
    emitHistoryChange() {
      if (this.historyData.index === this.historyData.maxStep - 1) {
        this.historyData.steps.shift();
      } else {
        this.historyData.index++;
      }
      this.historyData.steps[this.historyData.index] = {
        widgetList: deepClone(this.widgetList),
        formConfig: deepClone(this.formConfig)
      };
      this.saveFormContentToStorage();
      if (this.historyData.index < this.historyData.steps.length - 1) {
        this.historyData.steps = this.historyData.steps.slice(0, this.historyData.index + 1);
      }
    },
    saveCurrentHistoryStep() {
      this.historyData.steps[this.historyData.index] = deepClone({
        widgetList: this.widgetList,
        formConfig: this.formConfig
      });
      this.saveFormContentToStorage();
    },
    undoHistoryStep() {
      if (this.historyData.index !== 0) {
        this.historyData.index--;
      }
      this.widgetList = deepClone(this.historyData.steps[this.historyData.index].widgetList);
      this.formConfig = deepClone(this.historyData.steps[this.historyData.index].formConfig);
    },
    redoHistoryStep() {
      if (this.historyData.index !== this.historyData.steps.length - 1) {
        this.historyData.index++;
      }
      this.widgetList = deepClone(this.historyData.steps[this.historyData.index].widgetList);
      this.formConfig = deepClone(this.historyData.steps[this.historyData.index].formConfig);
    },
    undoEnabled() {
      return this.historyData.index > 0 && this.historyData.steps.length > 0;
    },
    redoEnabled() {
      return this.historyData.index < this.historyData.steps.length - 1;
    },
    saveFormContentToStorage() {
      window.localStorage.setItem("widget__list__backup", JSON.stringify(this.widgetList));
      window.localStorage.setItem("form__config__backup", JSON.stringify(this.formConfig));
    },
    loadFormContentFromStorage() {
    }
  };
}
const _sfc_main$f = {
  name: "VFormDesigner",
  componentName: "VFormDesigner",
  mixins: [i18n$1],
  components: {
    WidgetPanel,
    ToolbarPanel,
    SettingPanel,
    VFormWidget
  },
  props: {
    /* 保存jsonApi */
    saveJsonApi: {
      type: Function,
      default: null
    },
    /* 后端字段列表API */
    fieldListApi: {
      type: Function,
      default: null
    },
    /* 禁止显示的组件名称数组 */
    bannedWidgets: {
      type: Array,
      default: () => []
    },
    /* 设计器配置参数 */
    designerConfig: {
      type: Object,
      default: () => {
        return {
          languageMenu: true,
          //是否显示语言切换菜单
          // externalLink: true, //是否显示GitHub、文档等外部链接
          // formTemplates: true, //是否显示表单模板
          eventCollapse: true,
          //是否显示组件事件属性折叠面板
          widgetNameReadonly: false,
          //禁止修改组件名称
          clearDesignerButton: true,
          //是否显示清空设计器按钮
          previewFormButton: true,
          //是否显示预览表单按钮
          importJsonButton: true,
          //是否显示导入JSON按钮
          exportJsonButton: true,
          //是否显示导出JSON器按钮
          exportCodeButton: true,
          //是否显示导出代码按钮
          // generateSFCButton: true, //是否显示生成SFC按钮
          toolbarMaxWidth: 450,
          //设计器工具按钮栏最大宽度（单位像素）
          toolbarMinWidth: 300,
          //设计器工具按钮栏最小宽度（单位像素）
          presetCssCode: "",
          //设计器预设CSS样式代码
          resetFormJson: false
          //是否在设计器初始化时将表单内容重置为空
        };
      }
    },
    /* 全局数据源变量 */
    globalDsv: {
      type: Object,
      default: () => ({})
    }
  },
  data() {
    return {
      leftWidth: 270,
      rightWidth: 300,
      vFormVersion: VARIANT_FORM_VERSION,
      curLangName: "",
      curLocale: "",
      vsCodeFlag: false,
      caseName: "",
      docUrl: "https://www.vform666.com/document3.html",
      gitUrl: "https://github.com/vform666/variant-form3-vite",
      chatUrl: "https://www.vform666.com/pages/chat-group/",
      subScribeUrl: "https://www.vform666.com/pages/pro/",
      scrollerHeight: 0,
      designer: createDesigner(this),
      fieldList: []
    };
  },
  provide() {
    return {
      serverFieldList: () => this.fieldList,
      getDesignerConfig: () => this.designerConfig,
      getBannedWidgets: () => this.bannedWidgets
    };
  },
  created() {
  },
  mounted() {
    this.initLocale();
    this.scrollerHeight = window.innerHeight - 56 - 36 + "px";
    addWindowResizeHandler(() => {
      this.$nextTick(() => {
        this.scrollerHeight = window.innerHeight - 56 - 36 + "px";
      });
    });
    this.loadCase();
    this.loadFieldListFromServer();
  },
  methods: {
    changeLeftWidth() {
      if (this.leftWidth === 270) {
        this.leftWidth = 0;
      } else {
        this.leftWidth = 270;
      }
    },
    changeRightWidth() {
      if (this.rightWidth === 300) {
        this.rightWidth = 0;
      } else {
        this.rightWidth = 300;
      }
    },
    /**
     * json回填
     * @param {*} importObj
     */
    setJsonImport(importObj = {}) {
      if (isEmpty(importObj))
        return;
      try {
        if (!importObj || !importObj.formConfig) {
          throw new Error(this.i18nt("designer.hint.invalidJsonFormat"));
        }
        this.designer.loadFormJson(importObj);
        this.designer.emitHistoryChange();
        this.designer.emitEvent("form-json-imported", []);
      } catch (ex) {
        this.$message.error(ex + "");
      }
    },
    testEEH(eventName, eventParams) {
      console.log("test", eventName);
      console.log("test222222", eventParams);
    },
    showLink(configName) {
      if (this.designerConfig[configName] === void 0) {
        return true;
      }
      return !!this.designerConfig[configName];
    },
    openHome() {
      if (!!this.vsCodeFlag) {
        const msgObj = {
          cmd: "openUrl",
          data: {
            url: "https://www.vform666.com/"
          }
        };
        window.parent.postMessage(msgObj, "*");
      }
    },
    openUrl(event2, url) {
      if (!!this.vsCodeFlag) {
        const msgObj = {
          cmd: "openUrl",
          data: {
            url
          }
        };
        window.parent.postMessage(msgObj, "*");
      } else {
        const aDom = event2.currentTarget;
        aDom.href = url;
      }
    },
    loadCase() {
      if (!this.caseName) {
        return;
      }
    },
    initLocale() {
      this.curLocale = localStorage.getItem("v_form_locale");
      if (!!this.vsCodeFlag) {
        this.curLocale = this.curLocale || "en-US";
      } else {
        this.curLocale = this.curLocale || "zh-CN";
      }
      this.curLangName = this.i18nt("application." + this.curLocale);
      this.changeLanguage(this.curLocale);
    },
    async loadFieldListFromServer() {
      if (!this.fieldListApi) {
        return;
      }
      this.fieldList = await this.fieldListApi();
      console.log("this.fieldList: ", this.fieldList);
    },
    handleLanguageChanged(command) {
      this.changeLanguage(command);
      this.curLangName = this.i18nt("application." + command);
    },
    changeLanguage(langName) {
      changeLocale(langName);
    },
    setFormJson(formJson) {
      console.log("formJson: ", formJson);
      let modifiedFlag = false;
      if (!!formJson) {
        if (typeof formJson === "string") {
          modifiedFlag = this.designer.loadFormJson(JSON.parse(formJson));
        } else if (formJson.constructor === Object) {
          modifiedFlag = this.designer.loadFormJson(formJson);
        }
        if (modifiedFlag) {
          this.designer.emitHistoryChange();
        }
      }
    },
    getFormJson() {
      return {
        widgetList: deepClone(this.designer.widgetList),
        formConfig: deepClone(this.designer.formConfig)
      };
    },
    clearDesigner() {
      this.$refs.toolbarRef.clearFormWidget();
    },
    /**
     * 刷新表单设计器
     */
    refreshDesigner() {
      const fJson = this.getFormJson();
      this.designer.clearDesigner(true);
      this.designer.loadFormJson(fJson);
    },
    /**
     * 预览表单
     */
    previewForm() {
      this.$refs.toolbarRef.previewForm();
    },
    /**
     * 导入表单JSON
     */
    importJson() {
      this.$refs.toolbarRef.importJson();
    },
    /**
     * 导出表单JSON
     */
    exportJson() {
      this.$refs.toolbarRef.exportJson();
    },
    /**
     * 导出Vue/HTML代码
     */
    exportCode() {
      this.$refs.toolbarRef.exportCode();
    },
    /**
     * 生成SFC代码
     */
    generateSFC() {
      this.$refs.toolbarRef.generateSFC();
    },
    /**
     * 获取所有字段组件
     * @returns {*[]}
     */
    getFieldWidgets(widgetList = null) {
      return !!widgetList ? getAllFieldWidgets(widgetList) : getAllFieldWidgets(this.designer.widgetList);
    },
    /**
     * 获取所有容器组件
     * @returns {*[]}
     */
    getContainerWidgets(widgetList = null) {
      return !!widgetList ? getAllContainerWidgets(widgetList) : getAllContainerWidgets(this.designer.widgetList);
    },
    /**
     * 升级表单json，以补充最新的组件属性
     * @param formJson
     */
    upgradeFormJson(formJson) {
      if (!formJson.widgetList || !formJson.formConfig) {
        this.$message.error("Invalid form json!");
        return;
      }
      traverseAllWidgets(formJson.widgetList, (w) => {
        this.designer.upgradeWidgetConfig(w);
      });
      this.designer.upgradeFormConfig(formJson.formConfig);
      return formJson;
    },
    getWidgetRef(widgetName, showError = false) {
      return this.$refs["formRef"].getWidgetRef(widgetName, showError);
    },
    getSelectedWidgetRef() {
      return this.$refs["formRef"].getSelectedWidgetRef();
    },
    /**
     * 添加数据源对象
     * @param dsObj
     */
    addDataSource(dsObj) {
      this.designer.formConfig.dataSources.push(dsObj);
    },
    /**
     * 增加外部组件引用，可通过getEC()方法获取外部组件，以便在VForm内部调用外部组件方法
     * @param componentName 外部组件名称
     * @param externalComponent 外部组件实例
     */
    addEC(componentName, externalComponent) {
      this.externalComponents[componentName] = externalComponent;
    },
    /**
     * 判断外部组件是否可获取
     * @param componentName 外部组件名称
     * @returns {boolean}
     */
    hasEC(componentName) {
      return this.externalComponents.hasOwnProperty(componentName);
    },
    /**
     * 获取外部组件实例
     * @param componentName
     * @returns {*}
     */
    getEC(componentName) {
      return this.externalComponents[componentName];
    }
    //TODO: 增加更多方法！！
  }
};
const _hoisted_4$5 = { class: "container-scroll-bar" };
function _sfc_render$f(_ctx, _cache, $props, $setup, $data, $options) {
  resolveComponent("a-select-option");
  resolveComponent("a-select");
  const _component_a_layout_header = resolveComponent("a-layout-header");
  const _component_widget_panel = resolveComponent("widget-panel");
  const _component_a_layout_sider = resolveComponent("a-layout-sider");
  const _component_toolbar_panel = resolveComponent("toolbar-panel");
  const _component_v_form_widget = resolveComponent("v-form-widget");
  const _component_a_layout_content = resolveComponent("a-layout-content");
  const _component_setting_panel = resolveComponent("setting-panel");
  const _component_a_layout = resolveComponent("a-layout");
  return openBlock(), createBlock(_component_a_layout, { class: "main-container full-height" }, {
    default: withCtx(() => [
      createCommentVNode("", true),
      createVNode(_component_a_layout, null, {
        default: withCtx(() => [
          createVNode(_component_a_layout_sider, {
            width: $data.leftWidth,
            class: "side-panel"
          }, {
            default: withCtx(() => [
              createVNode(_component_widget_panel, { designer: $data.designer }, null, 8, ["designer"])
            ]),
            _: 1
          }, 8, ["width"]),
          createVNode(_component_a_layout_content, { class: "center-layout-container" }, {
            default: withCtx(() => [
              createVNode(_component_a_layout_header, { class: "toolbar-header" }, {
                default: withCtx(() => [
                  createVNode(_component_toolbar_panel, {
                    saveJsonApi: $props.saveJsonApi,
                    designer: $data.designer,
                    "global-dsv": $props.globalDsv,
                    changeLeftWidth: $options.changeLeftWidth,
                    changeRightWidth: $options.changeRightWidth,
                    leftWidth: $data.leftWidth,
                    rightWidth: $data.rightWidth,
                    ref: "toolbarRef"
                  }, createSlots({ _: 2 }, [
                    renderList(_ctx.$slots, (idx, slotName) => {
                      return {
                        name: slotName,
                        fn: withCtx(() => [
                          renderSlot(_ctx.$slots, slotName, {}, void 0, true)
                        ])
                      };
                    })
                  ]), 1032, ["saveJsonApi", "designer", "global-dsv", "changeLeftWidth", "changeRightWidth", "leftWidth", "rightWidth"])
                ]),
                _: 3
              }),
              createVNode(_component_a_layout_content, { class: "form-widget-main" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_4$5, [
                    createVNode(_component_v_form_widget, {
                      designer: $data.designer,
                      "form-config": $data.designer.formConfig,
                      "global-dsv": $props.globalDsv,
                      ref: "formRef"
                    }, null, 8, ["designer", "form-config", "global-dsv"])
                  ])
                ]),
                _: 1
              })
            ]),
            _: 3
          }),
          createVNode(_component_a_layout_sider, { width: $data.rightWidth }, {
            default: withCtx(() => [
              createVNode(_component_setting_panel, {
                designer: $data.designer,
                "selected-widget": $data.designer.selectedWidget,
                "global-dsv": $props.globalDsv,
                "form-config": $data.designer.formConfig,
                onEditEventHandler: $options.testEEH
              }, null, 8, ["designer", "selected-widget", "global-dsv", "form-config", "onEditEventHandler"])
            ]),
            _: 1
          }, 8, ["width"])
        ]),
        _: 3
      })
    ]),
    _: 3
  });
}
const VFormDesigner = /* @__PURE__ */ _export_sfc$1(_sfc_main$f, [["render", _sfc_render$f], ["__scopeId", "data-v-8a4df010"]]);
var vuedraggable_umd = { exports: {} };
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory) {
    module.exports = factory(require$$0$1, Sortable);
  })(typeof self !== "undefined" ? self : commonjsGlobal, function(__WEBPACK_EXTERNAL_MODULE__8bbf__, __WEBPACK_EXTERNAL_MODULE_a352__) {
    return (
      /******/
      function(modules2) {
        var installedModules = {};
        function __webpack_require__(moduleId) {
          if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
          }
          var module2 = installedModules[moduleId] = {
            /******/
            i: moduleId,
            /******/
            l: false,
            /******/
            exports: {}
            /******/
          };
          modules2[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
          module2.l = true;
          return module2.exports;
        }
        __webpack_require__.m = modules2;
        __webpack_require__.c = installedModules;
        __webpack_require__.d = function(exports2, name2, getter2) {
          if (!__webpack_require__.o(exports2, name2)) {
            Object.defineProperty(exports2, name2, { enumerable: true, get: getter2 });
          }
        };
        __webpack_require__.r = function(exports2) {
          if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(exports2, Symbol.toStringTag, { value: "Module" });
          }
          Object.defineProperty(exports2, "__esModule", { value: true });
        };
        __webpack_require__.t = function(value2, mode) {
          if (mode & 1)
            value2 = __webpack_require__(value2);
          if (mode & 8)
            return value2;
          if (mode & 4 && typeof value2 === "object" && value2 && value2.__esModule)
            return value2;
          var ns2 = /* @__PURE__ */ Object.create(null);
          __webpack_require__.r(ns2);
          Object.defineProperty(ns2, "default", { enumerable: true, value: value2 });
          if (mode & 2 && typeof value2 != "string")
            for (var key in value2)
              __webpack_require__.d(ns2, key, (function(key2) {
                return value2[key2];
              }).bind(null, key));
          return ns2;
        };
        __webpack_require__.n = function(module2) {
          var getter2 = module2 && module2.__esModule ? (
            /******/
            function getDefault() {
              return module2["default"];
            }
          ) : (
            /******/
            function getModuleExports() {
              return module2;
            }
          );
          __webpack_require__.d(getter2, "a", getter2);
          return getter2;
        };
        __webpack_require__.o = function(object, property) {
          return Object.prototype.hasOwnProperty.call(object, property);
        };
        __webpack_require__.p = "";
        return __webpack_require__(__webpack_require__.s = "fb15");
      }({
        /***/
        "00ee": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var test = {};
            test[TO_STRING_TAG] = "z";
            module2.exports = String(test) === "[object z]";
          }
        ),
        /***/
        "0366": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var aFunction = __webpack_require__("1c0b");
            module2.exports = function(fn, that, length) {
              aFunction(fn);
              if (that === void 0)
                return fn;
              switch (length) {
                case 0:
                  return function() {
                    return fn.call(that);
                  };
                case 1:
                  return function(a) {
                    return fn.call(that, a);
                  };
                case 2:
                  return function(a, b) {
                    return fn.call(that, a, b);
                  };
                case 3:
                  return function(a, b, c) {
                    return fn.call(that, a, b, c);
                  };
              }
              return function() {
                return fn.apply(that, arguments);
              };
            };
          }
        ),
        /***/
        "057f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toIndexedObject = __webpack_require__("fc6a");
            var nativeGetOwnPropertyNames = __webpack_require__("241c").f;
            var toString3 = {}.toString;
            var windowNames = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            var getWindowNames = function(it) {
              try {
                return nativeGetOwnPropertyNames(it);
              } catch (error2) {
                return windowNames.slice();
              }
            };
            module2.exports.f = function getOwnPropertyNames(it) {
              return windowNames && toString3.call(it) == "[object Window]" ? getWindowNames(it) : nativeGetOwnPropertyNames(toIndexedObject(it));
            };
          }
        ),
        /***/
        "06cf": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var propertyIsEnumerableModule = __webpack_require__("d1e7");
            var createPropertyDescriptor = __webpack_require__("5c6c");
            var toIndexedObject = __webpack_require__("fc6a");
            var toPrimitive2 = __webpack_require__("c04e");
            var has2 = __webpack_require__("5135");
            var IE8_DOM_DEFINE = __webpack_require__("0cfb");
            var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
            exports2.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
              O = toIndexedObject(O);
              P = toPrimitive2(P, true);
              if (IE8_DOM_DEFINE)
                try {
                  return nativeGetOwnPropertyDescriptor(O, P);
                } catch (error2) {
                }
              if (has2(O, P))
                return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);
            };
          }
        ),
        /***/
        "0cfb": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var fails = __webpack_require__("d039");
            var createElement = __webpack_require__("cc12");
            module2.exports = !DESCRIPTORS && !fails(function() {
              return Object.defineProperty(createElement("div"), "a", {
                get: function() {
                  return 7;
                }
              }).a != 7;
            });
          }
        ),
        /***/
        "13d5": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $reduce = __webpack_require__("d58f").left;
            var arrayMethodIsStrict = __webpack_require__("a640");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var STRICT_METHOD = arrayMethodIsStrict("reduce");
            var USES_TO_LENGTH = arrayMethodUsesToLength("reduce", { 1: 0 });
            $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
              reduce: function reduce2(callbackfn) {
                return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
          }
        ),
        /***/
        "14c3": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var classof = __webpack_require__("c6b6");
            var regexpExec = __webpack_require__("9263");
            module2.exports = function(R, S) {
              var exec = R.exec;
              if (typeof exec === "function") {
                var result2 = exec.call(R, S);
                if (typeof result2 !== "object") {
                  throw TypeError("RegExp exec method returned something other than an Object or null");
                }
                return result2;
              }
              if (classof(R) !== "RegExp") {
                throw TypeError("RegExp#exec called on incompatible receiver");
              }
              return regexpExec.call(R, S);
            };
          }
        ),
        /***/
        "159b": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var DOMIterables = __webpack_require__("fdbc");
            var forEach2 = __webpack_require__("17c2");
            var createNonEnumerableProperty = __webpack_require__("9112");
            for (var COLLECTION_NAME in DOMIterables) {
              var Collection2 = global2[COLLECTION_NAME];
              var CollectionPrototype = Collection2 && Collection2.prototype;
              if (CollectionPrototype && CollectionPrototype.forEach !== forEach2)
                try {
                  createNonEnumerableProperty(CollectionPrototype, "forEach", forEach2);
                } catch (error2) {
                  CollectionPrototype.forEach = forEach2;
                }
            }
          }
        ),
        /***/
        "17c2": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $forEach = __webpack_require__("b727").forEach;
            var arrayMethodIsStrict = __webpack_require__("a640");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var STRICT_METHOD = arrayMethodIsStrict("forEach");
            var USES_TO_LENGTH = arrayMethodUsesToLength("forEach");
            module2.exports = !STRICT_METHOD || !USES_TO_LENGTH ? function forEach2(callbackfn) {
              return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
            } : [].forEach;
          }
        ),
        /***/
        "1be4": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var getBuiltIn = __webpack_require__("d066");
            module2.exports = getBuiltIn("document", "documentElement");
          }
        ),
        /***/
        "1c0b": (
          /***/
          function(module2, exports2) {
            module2.exports = function(it) {
              if (typeof it != "function") {
                throw TypeError(String(it) + " is not a function");
              }
              return it;
            };
          }
        ),
        /***/
        "1c7e": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            var ITERATOR = wellKnownSymbol("iterator");
            var SAFE_CLOSING = false;
            try {
              var called = 0;
              var iteratorWithReturn = {
                next: function() {
                  return { done: !!called++ };
                },
                "return": function() {
                  SAFE_CLOSING = true;
                }
              };
              iteratorWithReturn[ITERATOR] = function() {
                return this;
              };
              Array.from(iteratorWithReturn, function() {
                throw 2;
              });
            } catch (error2) {
            }
            module2.exports = function(exec, SKIP_CLOSING) {
              if (!SKIP_CLOSING && !SAFE_CLOSING)
                return false;
              var ITERATION_SUPPORT = false;
              try {
                var object = {};
                object[ITERATOR] = function() {
                  return {
                    next: function() {
                      return { done: ITERATION_SUPPORT = true };
                    }
                  };
                };
                exec(object);
              } catch (error2) {
              }
              return ITERATION_SUPPORT;
            };
          }
        ),
        /***/
        "1d80": (
          /***/
          function(module2, exports2) {
            module2.exports = function(it) {
              if (it == void 0)
                throw TypeError("Can't call method on " + it);
              return it;
            };
          }
        ),
        /***/
        "1dde": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            var wellKnownSymbol = __webpack_require__("b622");
            var V8_VERSION = __webpack_require__("2d00");
            var SPECIES = wellKnownSymbol("species");
            module2.exports = function(METHOD_NAME) {
              return V8_VERSION >= 51 || !fails(function() {
                var array = [];
                var constructor = array.constructor = {};
                constructor[SPECIES] = function() {
                  return { foo: 1 };
                };
                return array[METHOD_NAME](Boolean).foo !== 1;
              });
            };
          }
        ),
        /***/
        "23cb": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toInteger = __webpack_require__("a691");
            var max = Math.max;
            var min = Math.min;
            module2.exports = function(index2, length) {
              var integer = toInteger(index2);
              return integer < 0 ? max(integer + length, 0) : min(integer, length);
            };
          }
        ),
        /***/
        "23e7": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var getOwnPropertyDescriptor = __webpack_require__("06cf").f;
            var createNonEnumerableProperty = __webpack_require__("9112");
            var redefine = __webpack_require__("6eeb");
            var setGlobal = __webpack_require__("ce4e");
            var copyConstructorProperties = __webpack_require__("e893");
            var isForced = __webpack_require__("94ca");
            module2.exports = function(options, source) {
              var TARGET = options.target;
              var GLOBAL = options.global;
              var STATIC = options.stat;
              var FORCED, target, key, targetProperty, sourceProperty, descriptor;
              if (GLOBAL) {
                target = global2;
              } else if (STATIC) {
                target = global2[TARGET] || setGlobal(TARGET, {});
              } else {
                target = (global2[TARGET] || {}).prototype;
              }
              if (target)
                for (key in source) {
                  sourceProperty = source[key];
                  if (options.noTargetGet) {
                    descriptor = getOwnPropertyDescriptor(target, key);
                    targetProperty = descriptor && descriptor.value;
                  } else
                    targetProperty = target[key];
                  FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? "." : "#") + key, options.forced);
                  if (!FORCED && targetProperty !== void 0) {
                    if (typeof sourceProperty === typeof targetProperty)
                      continue;
                    copyConstructorProperties(sourceProperty, targetProperty);
                  }
                  if (options.sham || targetProperty && targetProperty.sham) {
                    createNonEnumerableProperty(sourceProperty, "sham", true);
                  }
                  redefine(target, key, sourceProperty, options);
                }
            };
          }
        ),
        /***/
        "241c": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var internalObjectKeys = __webpack_require__("ca84");
            var enumBugKeys = __webpack_require__("7839");
            var hiddenKeys = enumBugKeys.concat("length", "prototype");
            exports2.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
              return internalObjectKeys(O, hiddenKeys);
            };
          }
        ),
        /***/
        "25f0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var redefine = __webpack_require__("6eeb");
            var anObject = __webpack_require__("825a");
            var fails = __webpack_require__("d039");
            var flags = __webpack_require__("ad6d");
            var TO_STRING = "toString";
            var RegExpPrototype = RegExp.prototype;
            var nativeToString2 = RegExpPrototype[TO_STRING];
            var NOT_GENERIC = fails(function() {
              return nativeToString2.call({ source: "a", flags: "b" }) != "/a/b";
            });
            var INCORRECT_NAME = nativeToString2.name != TO_STRING;
            if (NOT_GENERIC || INCORRECT_NAME) {
              redefine(RegExp.prototype, TO_STRING, function toString3() {
                var R = anObject(this);
                var p = String(R.source);
                var rf = R.flags;
                var f = String(rf === void 0 && R instanceof RegExp && !("flags" in RegExpPrototype) ? flags.call(R) : rf);
                return "/" + p + "/" + f;
              }, { unsafe: true });
            }
          }
        ),
        /***/
        "2ca0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var getOwnPropertyDescriptor = __webpack_require__("06cf").f;
            var toLength = __webpack_require__("50c4");
            var notARegExp = __webpack_require__("5a34");
            var requireObjectCoercible = __webpack_require__("1d80");
            var correctIsRegExpLogic = __webpack_require__("ab13");
            var IS_PURE = __webpack_require__("c430");
            var nativeStartsWith = "".startsWith;
            var min = Math.min;
            var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic("startsWith");
            var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function() {
              var descriptor = getOwnPropertyDescriptor(String.prototype, "startsWith");
              return descriptor && !descriptor.writable;
            }();
            $({ target: "String", proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
              startsWith: function startsWith(searchString) {
                var that = String(requireObjectCoercible(this));
                notARegExp(searchString);
                var index2 = toLength(min(arguments.length > 1 ? arguments[1] : void 0, that.length));
                var search2 = String(searchString);
                return nativeStartsWith ? nativeStartsWith.call(that, search2, index2) : that.slice(index2, index2 + search2.length) === search2;
              }
            });
          }
        ),
        /***/
        "2d00": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var userAgent2 = __webpack_require__("342f");
            var process2 = global2.process;
            var versions = process2 && process2.versions;
            var v8 = versions && versions.v8;
            var match, version2;
            if (v8) {
              match = v8.split(".");
              version2 = match[0] + match[1];
            } else if (userAgent2) {
              match = userAgent2.match(/Edge\/(\d+)/);
              if (!match || match[1] >= 74) {
                match = userAgent2.match(/Chrome\/(\d+)/);
                if (match)
                  version2 = match[1];
              }
            }
            module2.exports = version2 && +version2;
          }
        ),
        /***/
        "342f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var getBuiltIn = __webpack_require__("d066");
            module2.exports = getBuiltIn("navigator", "userAgent") || "";
          }
        ),
        /***/
        "35a1": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var classof = __webpack_require__("f5df");
            var Iterators = __webpack_require__("3f8c");
            var wellKnownSymbol = __webpack_require__("b622");
            var ITERATOR = wellKnownSymbol("iterator");
            module2.exports = function(it) {
              if (it != void 0)
                return it[ITERATOR] || it["@@iterator"] || Iterators[classof(it)];
            };
          }
        ),
        /***/
        "37e8": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var definePropertyModule = __webpack_require__("9bf2");
            var anObject = __webpack_require__("825a");
            var objectKeys = __webpack_require__("df75");
            module2.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties2) {
              anObject(O);
              var keys = objectKeys(Properties2);
              var length = keys.length;
              var index2 = 0;
              var key;
              while (length > index2)
                definePropertyModule.f(O, key = keys[index2++], Properties2[key]);
              return O;
            };
          }
        ),
        /***/
        "3bbe": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject2 = __webpack_require__("861d");
            module2.exports = function(it) {
              if (!isObject2(it) && it !== null) {
                throw TypeError("Can't set " + String(it) + " as a prototype");
              }
              return it;
            };
          }
        ),
        /***/
        "3ca3": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var charAt = __webpack_require__("6547").charAt;
            var InternalStateModule = __webpack_require__("69f3");
            var defineIterator = __webpack_require__("7dd0");
            var STRING_ITERATOR = "String Iterator";
            var setInternalState = InternalStateModule.set;
            var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);
            defineIterator(String, "String", function(iterated) {
              setInternalState(this, {
                type: STRING_ITERATOR,
                string: String(iterated),
                index: 0
              });
            }, function next() {
              var state = getInternalState(this);
              var string = state.string;
              var index2 = state.index;
              var point;
              if (index2 >= string.length)
                return { value: void 0, done: true };
              point = charAt(string, index2);
              state.index += point.length;
              return { value: point, done: false };
            });
          }
        ),
        /***/
        "3f8c": (
          /***/
          function(module2, exports2) {
            module2.exports = {};
          }
        ),
        /***/
        "4160": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var forEach2 = __webpack_require__("17c2");
            $({ target: "Array", proto: true, forced: [].forEach != forEach2 }, {
              forEach: forEach2
            });
          }
        ),
        /***/
        "428f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            module2.exports = global2;
          }
        ),
        /***/
        "44ad": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            var classof = __webpack_require__("c6b6");
            var split = "".split;
            module2.exports = fails(function() {
              return !Object("z").propertyIsEnumerable(0);
            }) ? function(it) {
              return classof(it) == "String" ? split.call(it, "") : Object(it);
            } : Object;
          }
        ),
        /***/
        "44d2": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            var create2 = __webpack_require__("7c73");
            var definePropertyModule = __webpack_require__("9bf2");
            var UNSCOPABLES = wellKnownSymbol("unscopables");
            var ArrayPrototype = Array.prototype;
            if (ArrayPrototype[UNSCOPABLES] == void 0) {
              definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {
                configurable: true,
                value: create2(null)
              });
            }
            module2.exports = function(key) {
              ArrayPrototype[UNSCOPABLES][key] = true;
            };
          }
        ),
        /***/
        "44e7": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject2 = __webpack_require__("861d");
            var classof = __webpack_require__("c6b6");
            var wellKnownSymbol = __webpack_require__("b622");
            var MATCH = wellKnownSymbol("match");
            module2.exports = function(it) {
              var isRegExp2;
              return isObject2(it) && ((isRegExp2 = it[MATCH]) !== void 0 ? !!isRegExp2 : classof(it) == "RegExp");
            };
          }
        ),
        /***/
        "4930": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            module2.exports = !!Object.getOwnPropertySymbols && !fails(function() {
              return !String(Symbol());
            });
          }
        ),
        /***/
        "4d64": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toIndexedObject = __webpack_require__("fc6a");
            var toLength = __webpack_require__("50c4");
            var toAbsoluteIndex = __webpack_require__("23cb");
            var createMethod = function(IS_INCLUDES) {
              return function($this, el, fromIndex) {
                var O = toIndexedObject($this);
                var length = toLength(O.length);
                var index2 = toAbsoluteIndex(fromIndex, length);
                var value2;
                if (IS_INCLUDES && el != el)
                  while (length > index2) {
                    value2 = O[index2++];
                    if (value2 != value2)
                      return true;
                  }
                else
                  for (; length > index2; index2++) {
                    if ((IS_INCLUDES || index2 in O) && O[index2] === el)
                      return IS_INCLUDES || index2 || 0;
                  }
                return !IS_INCLUDES && -1;
              };
            };
            module2.exports = {
              // `Array.prototype.includes` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.includes
              includes: createMethod(true),
              // `Array.prototype.indexOf` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.indexof
              indexOf: createMethod(false)
            };
          }
        ),
        /***/
        "4de4": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $filter = __webpack_require__("b727").filter;
            var arrayMethodHasSpeciesSupport = __webpack_require__("1dde");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("filter");
            var USES_TO_LENGTH = arrayMethodUsesToLength("filter");
            $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
              filter: function filter3(callbackfn) {
                return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
          }
        ),
        /***/
        "4df4": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var bind2 = __webpack_require__("0366");
            var toObject = __webpack_require__("7b0b");
            var callWithSafeIterationClosing = __webpack_require__("9bdd");
            var isArrayIteratorMethod = __webpack_require__("e95a");
            var toLength = __webpack_require__("50c4");
            var createProperty = __webpack_require__("8418");
            var getIteratorMethod = __webpack_require__("35a1");
            module2.exports = function from(arrayLike) {
              var O = toObject(arrayLike);
              var C = typeof this == "function" ? this : Array;
              var argumentsLength = arguments.length;
              var mapfn = argumentsLength > 1 ? arguments[1] : void 0;
              var mapping = mapfn !== void 0;
              var iteratorMethod = getIteratorMethod(O);
              var index2 = 0;
              var length, result2, step, iterator, next, value2;
              if (mapping)
                mapfn = bind2(mapfn, argumentsLength > 2 ? arguments[2] : void 0, 2);
              if (iteratorMethod != void 0 && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {
                iterator = iteratorMethod.call(O);
                next = iterator.next;
                result2 = new C();
                for (; !(step = next.call(iterator)).done; index2++) {
                  value2 = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index2], true) : step.value;
                  createProperty(result2, index2, value2);
                }
              } else {
                length = toLength(O.length);
                result2 = new C(length);
                for (; length > index2; index2++) {
                  value2 = mapping ? mapfn(O[index2], index2) : O[index2];
                  createProperty(result2, index2, value2);
                }
              }
              result2.length = index2;
              return result2;
            };
          }
        ),
        /***/
        "4fad": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $entries = __webpack_require__("6f53").entries;
            $({ target: "Object", stat: true }, {
              entries: function entries(O) {
                return $entries(O);
              }
            });
          }
        ),
        /***/
        "50c4": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toInteger = __webpack_require__("a691");
            var min = Math.min;
            module2.exports = function(argument) {
              return argument > 0 ? min(toInteger(argument), 9007199254740991) : 0;
            };
          }
        ),
        /***/
        "5135": (
          /***/
          function(module2, exports2) {
            var hasOwnProperty2 = {}.hasOwnProperty;
            module2.exports = function(it, key) {
              return hasOwnProperty2.call(it, key);
            };
          }
        ),
        /***/
        "5319": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fixRegExpWellKnownSymbolLogic = __webpack_require__("d784");
            var anObject = __webpack_require__("825a");
            var toObject = __webpack_require__("7b0b");
            var toLength = __webpack_require__("50c4");
            var toInteger = __webpack_require__("a691");
            var requireObjectCoercible = __webpack_require__("1d80");
            var advanceStringIndex = __webpack_require__("8aa5");
            var regExpExec = __webpack_require__("14c3");
            var max = Math.max;
            var min = Math.min;
            var floor = Math.floor;
            var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d\d?|<[^>]*>)/g;
            var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d\d?)/g;
            var maybeToString = function(it) {
              return it === void 0 ? it : String(it);
            };
            fixRegExpWellKnownSymbolLogic("replace", 2, function(REPLACE, nativeReplace, maybeCallNative, reason) {
              var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;
              var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;
              var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? "$" : "$0";
              return [
                // `String.prototype.replace` method
                // https://tc39.github.io/ecma262/#sec-string.prototype.replace
                function replace(searchValue, replaceValue) {
                  var O = requireObjectCoercible(this);
                  var replacer2 = searchValue == void 0 ? void 0 : searchValue[REPLACE];
                  return replacer2 !== void 0 ? replacer2.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);
                },
                // `RegExp.prototype[@@replace]` method
                // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace
                function(regexp, replaceValue) {
                  if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === "string" && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {
                    var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);
                    if (res.done)
                      return res.value;
                  }
                  var rx = anObject(regexp);
                  var S = String(this);
                  var functionalReplace = typeof replaceValue === "function";
                  if (!functionalReplace)
                    replaceValue = String(replaceValue);
                  var global2 = rx.global;
                  if (global2) {
                    var fullUnicode = rx.unicode;
                    rx.lastIndex = 0;
                  }
                  var results = [];
                  while (true) {
                    var result2 = regExpExec(rx, S);
                    if (result2 === null)
                      break;
                    results.push(result2);
                    if (!global2)
                      break;
                    var matchStr = String(result2[0]);
                    if (matchStr === "")
                      rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
                  }
                  var accumulatedResult = "";
                  var nextSourcePosition = 0;
                  for (var i = 0; i < results.length; i++) {
                    result2 = results[i];
                    var matched = String(result2[0]);
                    var position = max(min(toInteger(result2.index), S.length), 0);
                    var captures = [];
                    for (var j = 1; j < result2.length; j++)
                      captures.push(maybeToString(result2[j]));
                    var namedCaptures = result2.groups;
                    if (functionalReplace) {
                      var replacerArgs = [matched].concat(captures, position, S);
                      if (namedCaptures !== void 0)
                        replacerArgs.push(namedCaptures);
                      var replacement = String(replaceValue.apply(void 0, replacerArgs));
                    } else {
                      replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
                    }
                    if (position >= nextSourcePosition) {
                      accumulatedResult += S.slice(nextSourcePosition, position) + replacement;
                      nextSourcePosition = position + matched.length;
                    }
                  }
                  return accumulatedResult + S.slice(nextSourcePosition);
                }
              ];
              function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {
                var tailPos = position + matched.length;
                var m = captures.length;
                var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
                if (namedCaptures !== void 0) {
                  namedCaptures = toObject(namedCaptures);
                  symbols = SUBSTITUTION_SYMBOLS;
                }
                return nativeReplace.call(replacement, symbols, function(match, ch) {
                  var capture;
                  switch (ch.charAt(0)) {
                    case "$":
                      return "$";
                    case "&":
                      return matched;
                    case "`":
                      return str.slice(0, position);
                    case "'":
                      return str.slice(tailPos);
                    case "<":
                      capture = namedCaptures[ch.slice(1, -1)];
                      break;
                    default:
                      var n = +ch;
                      if (n === 0)
                        return match;
                      if (n > m) {
                        var f = floor(n / 10);
                        if (f === 0)
                          return match;
                        if (f <= m)
                          return captures[f - 1] === void 0 ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);
                        return match;
                      }
                      capture = captures[n - 1];
                  }
                  return capture === void 0 ? "" : capture;
                });
              }
            });
          }
        ),
        /***/
        "5692": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var IS_PURE = __webpack_require__("c430");
            var store = __webpack_require__("c6cd");
            (module2.exports = function(key, value2) {
              return store[key] || (store[key] = value2 !== void 0 ? value2 : {});
            })("versions", []).push({
              version: "3.6.5",
              mode: IS_PURE ? "pure" : "global",
              copyright: "© 2020 Denis Pushkarev (zloirock.ru)"
            });
          }
        ),
        /***/
        "56ef": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var getBuiltIn = __webpack_require__("d066");
            var getOwnPropertyNamesModule = __webpack_require__("241c");
            var getOwnPropertySymbolsModule = __webpack_require__("7418");
            var anObject = __webpack_require__("825a");
            module2.exports = getBuiltIn("Reflect", "ownKeys") || function ownKeys2(it) {
              var keys = getOwnPropertyNamesModule.f(anObject(it));
              var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
              return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;
            };
          }
        ),
        /***/
        "5a34": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isRegExp2 = __webpack_require__("44e7");
            module2.exports = function(it) {
              if (isRegExp2(it)) {
                throw TypeError("The method doesn't accept regular expressions");
              }
              return it;
            };
          }
        ),
        /***/
        "5c6c": (
          /***/
          function(module2, exports2) {
            module2.exports = function(bitmap, value2) {
              return {
                enumerable: !(bitmap & 1),
                configurable: !(bitmap & 2),
                writable: !(bitmap & 4),
                value: value2
              };
            };
          }
        ),
        /***/
        "5db7": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var flattenIntoArray = __webpack_require__("a2bf");
            var toObject = __webpack_require__("7b0b");
            var toLength = __webpack_require__("50c4");
            var aFunction = __webpack_require__("1c0b");
            var arraySpeciesCreate = __webpack_require__("65f0");
            $({ target: "Array", proto: true }, {
              flatMap: function flatMap(callbackfn) {
                var O = toObject(this);
                var sourceLen = toLength(O.length);
                var A;
                aFunction(callbackfn);
                A = arraySpeciesCreate(O, 0);
                A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
                return A;
              }
            });
          }
        ),
        /***/
        "6547": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toInteger = __webpack_require__("a691");
            var requireObjectCoercible = __webpack_require__("1d80");
            var createMethod = function(CONVERT_TO_STRING) {
              return function($this, pos) {
                var S = String(requireObjectCoercible($this));
                var position = toInteger(pos);
                var size = S.length;
                var first, second;
                if (position < 0 || position >= size)
                  return CONVERT_TO_STRING ? "" : void 0;
                first = S.charCodeAt(position);
                return first < 55296 || first > 56319 || position + 1 === size || (second = S.charCodeAt(position + 1)) < 56320 || second > 57343 ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 55296 << 10) + (second - 56320) + 65536;
              };
            };
            module2.exports = {
              // `String.prototype.codePointAt` method
              // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat
              codeAt: createMethod(false),
              // `String.prototype.at` method
              // https://github.com/mathiasbynens/String.prototype.at
              charAt: createMethod(true)
            };
          }
        ),
        /***/
        "65f0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject2 = __webpack_require__("861d");
            var isArray2 = __webpack_require__("e8b5");
            var wellKnownSymbol = __webpack_require__("b622");
            var SPECIES = wellKnownSymbol("species");
            module2.exports = function(originalArray, length) {
              var C;
              if (isArray2(originalArray)) {
                C = originalArray.constructor;
                if (typeof C == "function" && (C === Array || isArray2(C.prototype)))
                  C = void 0;
                else if (isObject2(C)) {
                  C = C[SPECIES];
                  if (C === null)
                    C = void 0;
                }
              }
              return new (C === void 0 ? Array : C)(length === 0 ? 0 : length);
            };
          }
        ),
        /***/
        "69f3": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var NATIVE_WEAK_MAP = __webpack_require__("7f9a");
            var global2 = __webpack_require__("da84");
            var isObject2 = __webpack_require__("861d");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var objectHas = __webpack_require__("5135");
            var sharedKey = __webpack_require__("f772");
            var hiddenKeys = __webpack_require__("d012");
            var WeakMap = global2.WeakMap;
            var set2, get2, has2;
            var enforce = function(it) {
              return has2(it) ? get2(it) : set2(it, {});
            };
            var getterFor = function(TYPE) {
              return function(it) {
                var state;
                if (!isObject2(it) || (state = get2(it)).type !== TYPE) {
                  throw TypeError("Incompatible receiver, " + TYPE + " required");
                }
                return state;
              };
            };
            if (NATIVE_WEAK_MAP) {
              var store = new WeakMap();
              var wmget = store.get;
              var wmhas = store.has;
              var wmset = store.set;
              set2 = function(it, metadata) {
                wmset.call(store, it, metadata);
                return metadata;
              };
              get2 = function(it) {
                return wmget.call(store, it) || {};
              };
              has2 = function(it) {
                return wmhas.call(store, it);
              };
            } else {
              var STATE = sharedKey("state");
              hiddenKeys[STATE] = true;
              set2 = function(it, metadata) {
                createNonEnumerableProperty(it, STATE, metadata);
                return metadata;
              };
              get2 = function(it) {
                return objectHas(it, STATE) ? it[STATE] : {};
              };
              has2 = function(it) {
                return objectHas(it, STATE);
              };
            }
            module2.exports = {
              set: set2,
              get: get2,
              has: has2,
              enforce,
              getterFor
            };
          }
        ),
        /***/
        "6eeb": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var has2 = __webpack_require__("5135");
            var setGlobal = __webpack_require__("ce4e");
            var inspectSource = __webpack_require__("8925");
            var InternalStateModule = __webpack_require__("69f3");
            var getInternalState = InternalStateModule.get;
            var enforceInternalState = InternalStateModule.enforce;
            var TEMPLATE = String(String).split("String");
            (module2.exports = function(O, key, value2, options) {
              var unsafe = options ? !!options.unsafe : false;
              var simple2 = options ? !!options.enumerable : false;
              var noTargetGet = options ? !!options.noTargetGet : false;
              if (typeof value2 == "function") {
                if (typeof key == "string" && !has2(value2, "name"))
                  createNonEnumerableProperty(value2, "name", key);
                enforceInternalState(value2).source = TEMPLATE.join(typeof key == "string" ? key : "");
              }
              if (O === global2) {
                if (simple2)
                  O[key] = value2;
                else
                  setGlobal(key, value2);
                return;
              } else if (!unsafe) {
                delete O[key];
              } else if (!noTargetGet && O[key]) {
                simple2 = true;
              }
              if (simple2)
                O[key] = value2;
              else
                createNonEnumerableProperty(O, key, value2);
            })(Function.prototype, "toString", function toString3() {
              return typeof this == "function" && getInternalState(this).source || inspectSource(this);
            });
          }
        ),
        /***/
        "6f53": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var objectKeys = __webpack_require__("df75");
            var toIndexedObject = __webpack_require__("fc6a");
            var propertyIsEnumerable = __webpack_require__("d1e7").f;
            var createMethod = function(TO_ENTRIES) {
              return function(it) {
                var O = toIndexedObject(it);
                var keys = objectKeys(O);
                var length = keys.length;
                var i = 0;
                var result2 = [];
                var key;
                while (length > i) {
                  key = keys[i++];
                  if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {
                    result2.push(TO_ENTRIES ? [key, O[key]] : O[key]);
                  }
                }
                return result2;
              };
            };
            module2.exports = {
              // `Object.entries` method
              // https://tc39.github.io/ecma262/#sec-object.entries
              entries: createMethod(true),
              // `Object.values` method
              // https://tc39.github.io/ecma262/#sec-object.values
              values: createMethod(false)
            };
          }
        ),
        /***/
        "73d9": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var addToUnscopables = __webpack_require__("44d2");
            addToUnscopables("flatMap");
          }
        ),
        /***/
        "7418": (
          /***/
          function(module2, exports2) {
            exports2.f = Object.getOwnPropertySymbols;
          }
        ),
        /***/
        "746f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var path = __webpack_require__("428f");
            var has2 = __webpack_require__("5135");
            var wrappedWellKnownSymbolModule = __webpack_require__("e538");
            var defineProperty2 = __webpack_require__("9bf2").f;
            module2.exports = function(NAME) {
              var Symbol2 = path.Symbol || (path.Symbol = {});
              if (!has2(Symbol2, NAME))
                defineProperty2(Symbol2, NAME, {
                  value: wrappedWellKnownSymbolModule.f(NAME)
                });
            };
          }
        ),
        /***/
        "7839": (
          /***/
          function(module2, exports2) {
            module2.exports = [
              "constructor",
              "hasOwnProperty",
              "isPrototypeOf",
              "propertyIsEnumerable",
              "toLocaleString",
              "toString",
              "valueOf"
            ];
          }
        ),
        /***/
        "7b0b": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var requireObjectCoercible = __webpack_require__("1d80");
            module2.exports = function(argument) {
              return Object(requireObjectCoercible(argument));
            };
          }
        ),
        /***/
        "7c73": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var anObject = __webpack_require__("825a");
            var defineProperties = __webpack_require__("37e8");
            var enumBugKeys = __webpack_require__("7839");
            var hiddenKeys = __webpack_require__("d012");
            var html = __webpack_require__("1be4");
            var documentCreateElement = __webpack_require__("cc12");
            var sharedKey = __webpack_require__("f772");
            var GT = ">";
            var LT = "<";
            var PROTOTYPE = "prototype";
            var SCRIPT = "script";
            var IE_PROTO = sharedKey("IE_PROTO");
            var EmptyConstructor = function() {
            };
            var scriptTag = function(content) {
              return LT + SCRIPT + GT + content + LT + "/" + SCRIPT + GT;
            };
            var NullProtoObjectViaActiveX = function(activeXDocument2) {
              activeXDocument2.write(scriptTag(""));
              activeXDocument2.close();
              var temp = activeXDocument2.parentWindow.Object;
              activeXDocument2 = null;
              return temp;
            };
            var NullProtoObjectViaIFrame = function() {
              var iframe = documentCreateElement("iframe");
              var JS = "java" + SCRIPT + ":";
              var iframeDocument;
              iframe.style.display = "none";
              html.appendChild(iframe);
              iframe.src = String(JS);
              iframeDocument = iframe.contentWindow.document;
              iframeDocument.open();
              iframeDocument.write(scriptTag("document.F=Object"));
              iframeDocument.close();
              return iframeDocument.F;
            };
            var activeXDocument;
            var NullProtoObject = function() {
              try {
                activeXDocument = document.domain && new ActiveXObject("htmlfile");
              } catch (error2) {
              }
              NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();
              var length = enumBugKeys.length;
              while (length--)
                delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
              return NullProtoObject();
            };
            hiddenKeys[IE_PROTO] = true;
            module2.exports = Object.create || function create2(O, Properties2) {
              var result2;
              if (O !== null) {
                EmptyConstructor[PROTOTYPE] = anObject(O);
                result2 = new EmptyConstructor();
                EmptyConstructor[PROTOTYPE] = null;
                result2[IE_PROTO] = O;
              } else
                result2 = NullProtoObject();
              return Properties2 === void 0 ? result2 : defineProperties(result2, Properties2);
            };
          }
        ),
        /***/
        "7dd0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var createIteratorConstructor = __webpack_require__("9ed3");
            var getPrototypeOf2 = __webpack_require__("e163");
            var setPrototypeOf = __webpack_require__("d2bb");
            var setToStringTag = __webpack_require__("d44e");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var redefine = __webpack_require__("6eeb");
            var wellKnownSymbol = __webpack_require__("b622");
            var IS_PURE = __webpack_require__("c430");
            var Iterators = __webpack_require__("3f8c");
            var IteratorsCore = __webpack_require__("ae93");
            var IteratorPrototype = IteratorsCore.IteratorPrototype;
            var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
            var ITERATOR = wellKnownSymbol("iterator");
            var KEYS = "keys";
            var VALUES = "values";
            var ENTRIES = "entries";
            var returnThis = function() {
              return this;
            };
            module2.exports = function(Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
              createIteratorConstructor(IteratorConstructor, NAME, next);
              var getIterationMethod = function(KIND) {
                if (KIND === DEFAULT && defaultIterator)
                  return defaultIterator;
                if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype)
                  return IterablePrototype[KIND];
                switch (KIND) {
                  case KEYS:
                    return function keys() {
                      return new IteratorConstructor(this, KIND);
                    };
                  case VALUES:
                    return function values() {
                      return new IteratorConstructor(this, KIND);
                    };
                  case ENTRIES:
                    return function entries() {
                      return new IteratorConstructor(this, KIND);
                    };
                }
                return function() {
                  return new IteratorConstructor(this);
                };
              };
              var TO_STRING_TAG = NAME + " Iterator";
              var INCORRECT_VALUES_NAME = false;
              var IterablePrototype = Iterable.prototype;
              var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype["@@iterator"] || DEFAULT && IterablePrototype[DEFAULT];
              var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
              var anyNativeIterator = NAME == "Array" ? IterablePrototype.entries || nativeIterator : nativeIterator;
              var CurrentIteratorPrototype, methods, KEY;
              if (anyNativeIterator) {
                CurrentIteratorPrototype = getPrototypeOf2(anyNativeIterator.call(new Iterable()));
                if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
                  if (!IS_PURE && getPrototypeOf2(CurrentIteratorPrototype) !== IteratorPrototype) {
                    if (setPrototypeOf) {
                      setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
                    } else if (typeof CurrentIteratorPrototype[ITERATOR] != "function") {
                      createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);
                    }
                  }
                  setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
                  if (IS_PURE)
                    Iterators[TO_STRING_TAG] = returnThis;
                }
              }
              if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
                INCORRECT_VALUES_NAME = true;
                defaultIterator = function values() {
                  return nativeIterator.call(this);
                };
              }
              if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
                createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);
              }
              Iterators[NAME] = defaultIterator;
              if (DEFAULT) {
                methods = {
                  values: getIterationMethod(VALUES),
                  keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
                  entries: getIterationMethod(ENTRIES)
                };
                if (FORCED)
                  for (KEY in methods) {
                    if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
                      redefine(IterablePrototype, KEY, methods[KEY]);
                    }
                  }
                else
                  $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
              }
              return methods;
            };
          }
        ),
        /***/
        "7f9a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var inspectSource = __webpack_require__("8925");
            var WeakMap = global2.WeakMap;
            module2.exports = typeof WeakMap === "function" && /native code/.test(inspectSource(WeakMap));
          }
        ),
        /***/
        "825a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject2 = __webpack_require__("861d");
            module2.exports = function(it) {
              if (!isObject2(it)) {
                throw TypeError(String(it) + " is not an object");
              }
              return it;
            };
          }
        ),
        /***/
        "83ab": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            module2.exports = !fails(function() {
              return Object.defineProperty({}, 1, { get: function() {
                return 7;
              } })[1] != 7;
            });
          }
        ),
        /***/
        "8418": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toPrimitive2 = __webpack_require__("c04e");
            var definePropertyModule = __webpack_require__("9bf2");
            var createPropertyDescriptor = __webpack_require__("5c6c");
            module2.exports = function(object, key, value2) {
              var propertyKey = toPrimitive2(key);
              if (propertyKey in object)
                definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value2));
              else
                object[propertyKey] = value2;
            };
          }
        ),
        /***/
        "861d": (
          /***/
          function(module2, exports2) {
            module2.exports = function(it) {
              return typeof it === "object" ? it !== null : typeof it === "function";
            };
          }
        ),
        /***/
        "8875": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
            (function(root, factory) {
              {
                !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports2, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== void 0 && (module2.exports = __WEBPACK_AMD_DEFINE_RESULT__));
              }
            })(typeof self !== "undefined" ? self : this, function() {
              function getCurrentScript() {
                var descriptor = Object.getOwnPropertyDescriptor(document, "currentScript");
                if (!descriptor && "currentScript" in document && document.currentScript) {
                  return document.currentScript;
                }
                if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {
                  return document.currentScript;
                }
                try {
                  throw new Error();
                } catch (err) {
                  var ieStackRegExp = /.*at [^(]*\((.*):(.+):(.+)\)$/ig, ffStackRegExp = /@([^@]*):(\d+):(\d+)\s*$/ig, stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack), scriptLocation = stackDetails && stackDetails[1] || false, line = stackDetails && stackDetails[2] || false, currentLocation = document.location.href.replace(document.location.hash, ""), pageSource, inlineScriptSourceRegExp, inlineScriptSource, scripts = document.getElementsByTagName("script");
                  if (scriptLocation === currentLocation) {
                    pageSource = document.documentElement.outerHTML;
                    inlineScriptSourceRegExp = new RegExp("(?:[^\\n]+?\\n){0," + (line - 2) + "}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*", "i");
                    inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, "$1").trim();
                  }
                  for (var i = 0; i < scripts.length; i++) {
                    if (scripts[i].readyState === "interactive") {
                      return scripts[i];
                    }
                    if (scripts[i].src === scriptLocation) {
                      return scripts[i];
                    }
                    if (scriptLocation === currentLocation && scripts[i].innerHTML && scripts[i].innerHTML.trim() === inlineScriptSource) {
                      return scripts[i];
                    }
                  }
                  return null;
                }
              }
              return getCurrentScript;
            });
          }
        ),
        /***/
        "8925": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var store = __webpack_require__("c6cd");
            var functionToString = Function.toString;
            if (typeof store.inspectSource != "function") {
              store.inspectSource = function(it) {
                return functionToString.call(it);
              };
            }
            module2.exports = store.inspectSource;
          }
        ),
        /***/
        "8aa5": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var charAt = __webpack_require__("6547").charAt;
            module2.exports = function(S, index2, unicode) {
              return index2 + (unicode ? charAt(S, index2).length : 1);
            };
          }
        ),
        /***/
        "8bbf": (
          /***/
          function(module2, exports2) {
            module2.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;
          }
        ),
        /***/
        "90e3": (
          /***/
          function(module2, exports2) {
            var id = 0;
            var postfix = Math.random();
            module2.exports = function(key) {
              return "Symbol(" + String(key === void 0 ? "" : key) + ")_" + (++id + postfix).toString(36);
            };
          }
        ),
        /***/
        "9112": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var definePropertyModule = __webpack_require__("9bf2");
            var createPropertyDescriptor = __webpack_require__("5c6c");
            module2.exports = DESCRIPTORS ? function(object, key, value2) {
              return definePropertyModule.f(object, key, createPropertyDescriptor(1, value2));
            } : function(object, key, value2) {
              object[key] = value2;
              return object;
            };
          }
        ),
        /***/
        "9263": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var regexpFlags = __webpack_require__("ad6d");
            var stickyHelpers = __webpack_require__("9f7f");
            var nativeExec = RegExp.prototype.exec;
            var nativeReplace = String.prototype.replace;
            var patchedExec = nativeExec;
            var UPDATES_LAST_INDEX_WRONG = function() {
              var re1 = /a/;
              var re2 = /b*/g;
              nativeExec.call(re1, "a");
              nativeExec.call(re2, "a");
              return re1.lastIndex !== 0 || re2.lastIndex !== 0;
            }();
            var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;
            var NPCG_INCLUDED = /()??/.exec("")[1] !== void 0;
            var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;
            if (PATCH) {
              patchedExec = function exec(str) {
                var re = this;
                var lastIndex, reCopy, match, i;
                var sticky = UNSUPPORTED_Y && re.sticky;
                var flags = regexpFlags.call(re);
                var source = re.source;
                var charsAdded = 0;
                var strCopy = str;
                if (sticky) {
                  flags = flags.replace("y", "");
                  if (flags.indexOf("g") === -1) {
                    flags += "g";
                  }
                  strCopy = String(str).slice(re.lastIndex);
                  if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== "\n")) {
                    source = "(?: " + source + ")";
                    strCopy = " " + strCopy;
                    charsAdded++;
                  }
                  reCopy = new RegExp("^(?:" + source + ")", flags);
                }
                if (NPCG_INCLUDED) {
                  reCopy = new RegExp("^" + source + "$(?!\\s)", flags);
                }
                if (UPDATES_LAST_INDEX_WRONG)
                  lastIndex = re.lastIndex;
                match = nativeExec.call(sticky ? reCopy : re, strCopy);
                if (sticky) {
                  if (match) {
                    match.input = match.input.slice(charsAdded);
                    match[0] = match[0].slice(charsAdded);
                    match.index = re.lastIndex;
                    re.lastIndex += match[0].length;
                  } else
                    re.lastIndex = 0;
                } else if (UPDATES_LAST_INDEX_WRONG && match) {
                  re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
                }
                if (NPCG_INCLUDED && match && match.length > 1) {
                  nativeReplace.call(match[0], reCopy, function() {
                    for (i = 1; i < arguments.length - 2; i++) {
                      if (arguments[i] === void 0)
                        match[i] = void 0;
                    }
                  });
                }
                return match;
              };
            }
            module2.exports = patchedExec;
          }
        ),
        /***/
        "94ca": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            var replacement = /#|\.prototype\./;
            var isForced = function(feature, detection) {
              var value2 = data[normalize(feature)];
              return value2 == POLYFILL ? true : value2 == NATIVE ? false : typeof detection == "function" ? fails(detection) : !!detection;
            };
            var normalize = isForced.normalize = function(string) {
              return String(string).replace(replacement, ".").toLowerCase();
            };
            var data = isForced.data = {};
            var NATIVE = isForced.NATIVE = "N";
            var POLYFILL = isForced.POLYFILL = "P";
            module2.exports = isForced;
          }
        ),
        /***/
        "99af": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var fails = __webpack_require__("d039");
            var isArray2 = __webpack_require__("e8b5");
            var isObject2 = __webpack_require__("861d");
            var toObject = __webpack_require__("7b0b");
            var toLength = __webpack_require__("50c4");
            var createProperty = __webpack_require__("8418");
            var arraySpeciesCreate = __webpack_require__("65f0");
            var arrayMethodHasSpeciesSupport = __webpack_require__("1dde");
            var wellKnownSymbol = __webpack_require__("b622");
            var V8_VERSION = __webpack_require__("2d00");
            var IS_CONCAT_SPREADABLE = wellKnownSymbol("isConcatSpreadable");
            var MAX_SAFE_INTEGER = 9007199254740991;
            var MAXIMUM_ALLOWED_INDEX_EXCEEDED = "Maximum allowed index exceeded";
            var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function() {
              var array = [];
              array[IS_CONCAT_SPREADABLE] = false;
              return array.concat()[0] !== array;
            });
            var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("concat");
            var isConcatSpreadable = function(O) {
              if (!isObject2(O))
                return false;
              var spreadable = O[IS_CONCAT_SPREADABLE];
              return spreadable !== void 0 ? !!spreadable : isArray2(O);
            };
            var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;
            $({ target: "Array", proto: true, forced: FORCED }, {
              concat: function concat(arg) {
                var O = toObject(this);
                var A = arraySpeciesCreate(O, 0);
                var n = 0;
                var i, k, length, len, E;
                for (i = -1, length = arguments.length; i < length; i++) {
                  E = i === -1 ? O : arguments[i];
                  if (isConcatSpreadable(E)) {
                    len = toLength(E.length);
                    if (n + len > MAX_SAFE_INTEGER)
                      throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
                    for (k = 0; k < len; k++, n++)
                      if (k in E)
                        createProperty(A, n, E[k]);
                  } else {
                    if (n >= MAX_SAFE_INTEGER)
                      throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
                    createProperty(A, n++, E);
                  }
                }
                A.length = n;
                return A;
              }
            });
          }
        ),
        /***/
        "9bdd": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var anObject = __webpack_require__("825a");
            module2.exports = function(iterator, fn, value2, ENTRIES) {
              try {
                return ENTRIES ? fn(anObject(value2)[0], value2[1]) : fn(value2);
              } catch (error2) {
                var returnMethod = iterator["return"];
                if (returnMethod !== void 0)
                  anObject(returnMethod.call(iterator));
                throw error2;
              }
            };
          }
        ),
        /***/
        "9bf2": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var IE8_DOM_DEFINE = __webpack_require__("0cfb");
            var anObject = __webpack_require__("825a");
            var toPrimitive2 = __webpack_require__("c04e");
            var nativeDefineProperty = Object.defineProperty;
            exports2.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty2(O, P, Attributes) {
              anObject(O);
              P = toPrimitive2(P, true);
              anObject(Attributes);
              if (IE8_DOM_DEFINE)
                try {
                  return nativeDefineProperty(O, P, Attributes);
                } catch (error2) {
                }
              if ("get" in Attributes || "set" in Attributes)
                throw TypeError("Accessors not supported");
              if ("value" in Attributes)
                O[P] = Attributes.value;
              return O;
            };
          }
        ),
        /***/
        "9ed3": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var IteratorPrototype = __webpack_require__("ae93").IteratorPrototype;
            var create2 = __webpack_require__("7c73");
            var createPropertyDescriptor = __webpack_require__("5c6c");
            var setToStringTag = __webpack_require__("d44e");
            var Iterators = __webpack_require__("3f8c");
            var returnThis = function() {
              return this;
            };
            module2.exports = function(IteratorConstructor, NAME, next) {
              var TO_STRING_TAG = NAME + " Iterator";
              IteratorConstructor.prototype = create2(IteratorPrototype, { next: createPropertyDescriptor(1, next) });
              setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
              Iterators[TO_STRING_TAG] = returnThis;
              return IteratorConstructor;
            };
          }
        ),
        /***/
        "9f7f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            function RE(s, f) {
              return RegExp(s, f);
            }
            exports2.UNSUPPORTED_Y = fails(function() {
              var re = RE("a", "y");
              re.lastIndex = 2;
              return re.exec("abcd") != null;
            });
            exports2.BROKEN_CARET = fails(function() {
              var re = RE("^r", "gy");
              re.lastIndex = 2;
              return re.exec("str") != null;
            });
          }
        ),
        /***/
        "a2bf": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isArray2 = __webpack_require__("e8b5");
            var toLength = __webpack_require__("50c4");
            var bind2 = __webpack_require__("0366");
            var flattenIntoArray = function(target, original, source, sourceLen, start, depth, mapper, thisArg) {
              var targetIndex = start;
              var sourceIndex = 0;
              var mapFn = mapper ? bind2(mapper, thisArg, 3) : false;
              var element;
              while (sourceIndex < sourceLen) {
                if (sourceIndex in source) {
                  element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];
                  if (depth > 0 && isArray2(element)) {
                    targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;
                  } else {
                    if (targetIndex >= 9007199254740991)
                      throw TypeError("Exceed the acceptable array length");
                    target[targetIndex] = element;
                  }
                  targetIndex++;
                }
                sourceIndex++;
              }
              return targetIndex;
            };
            module2.exports = flattenIntoArray;
          }
        ),
        /***/
        "a352": (
          /***/
          function(module2, exports2) {
            module2.exports = __WEBPACK_EXTERNAL_MODULE_a352__;
          }
        ),
        /***/
        "a434": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var toAbsoluteIndex = __webpack_require__("23cb");
            var toInteger = __webpack_require__("a691");
            var toLength = __webpack_require__("50c4");
            var toObject = __webpack_require__("7b0b");
            var arraySpeciesCreate = __webpack_require__("65f0");
            var createProperty = __webpack_require__("8418");
            var arrayMethodHasSpeciesSupport = __webpack_require__("1dde");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("splice");
            var USES_TO_LENGTH = arrayMethodUsesToLength("splice", { ACCESSORS: true, 0: 0, 1: 2 });
            var max = Math.max;
            var min = Math.min;
            var MAX_SAFE_INTEGER = 9007199254740991;
            var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = "Maximum allowed length exceeded";
            $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
              splice: function splice(start, deleteCount) {
                var O = toObject(this);
                var len = toLength(O.length);
                var actualStart = toAbsoluteIndex(start, len);
                var argumentsLength = arguments.length;
                var insertCount, actualDeleteCount, A, k, from, to;
                if (argumentsLength === 0) {
                  insertCount = actualDeleteCount = 0;
                } else if (argumentsLength === 1) {
                  insertCount = 0;
                  actualDeleteCount = len - actualStart;
                } else {
                  insertCount = argumentsLength - 2;
                  actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);
                }
                if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {
                  throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);
                }
                A = arraySpeciesCreate(O, actualDeleteCount);
                for (k = 0; k < actualDeleteCount; k++) {
                  from = actualStart + k;
                  if (from in O)
                    createProperty(A, k, O[from]);
                }
                A.length = actualDeleteCount;
                if (insertCount < actualDeleteCount) {
                  for (k = actualStart; k < len - actualDeleteCount; k++) {
                    from = k + actualDeleteCount;
                    to = k + insertCount;
                    if (from in O)
                      O[to] = O[from];
                    else
                      delete O[to];
                  }
                  for (k = len; k > len - actualDeleteCount + insertCount; k--)
                    delete O[k - 1];
                } else if (insertCount > actualDeleteCount) {
                  for (k = len - actualDeleteCount; k > actualStart; k--) {
                    from = k + actualDeleteCount - 1;
                    to = k + insertCount - 1;
                    if (from in O)
                      O[to] = O[from];
                    else
                      delete O[to];
                  }
                }
                for (k = 0; k < insertCount; k++) {
                  O[k + actualStart] = arguments[k + 2];
                }
                O.length = len - actualDeleteCount + insertCount;
                return A;
              }
            });
          }
        ),
        /***/
        "a4d3": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var global2 = __webpack_require__("da84");
            var getBuiltIn = __webpack_require__("d066");
            var IS_PURE = __webpack_require__("c430");
            var DESCRIPTORS = __webpack_require__("83ab");
            var NATIVE_SYMBOL = __webpack_require__("4930");
            var USE_SYMBOL_AS_UID = __webpack_require__("fdbf");
            var fails = __webpack_require__("d039");
            var has2 = __webpack_require__("5135");
            var isArray2 = __webpack_require__("e8b5");
            var isObject2 = __webpack_require__("861d");
            var anObject = __webpack_require__("825a");
            var toObject = __webpack_require__("7b0b");
            var toIndexedObject = __webpack_require__("fc6a");
            var toPrimitive2 = __webpack_require__("c04e");
            var createPropertyDescriptor = __webpack_require__("5c6c");
            var nativeObjectCreate = __webpack_require__("7c73");
            var objectKeys = __webpack_require__("df75");
            var getOwnPropertyNamesModule = __webpack_require__("241c");
            var getOwnPropertyNamesExternal = __webpack_require__("057f");
            var getOwnPropertySymbolsModule = __webpack_require__("7418");
            var getOwnPropertyDescriptorModule = __webpack_require__("06cf");
            var definePropertyModule = __webpack_require__("9bf2");
            var propertyIsEnumerableModule = __webpack_require__("d1e7");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var redefine = __webpack_require__("6eeb");
            var shared = __webpack_require__("5692");
            var sharedKey = __webpack_require__("f772");
            var hiddenKeys = __webpack_require__("d012");
            var uid = __webpack_require__("90e3");
            var wellKnownSymbol = __webpack_require__("b622");
            var wrappedWellKnownSymbolModule = __webpack_require__("e538");
            var defineWellKnownSymbol = __webpack_require__("746f");
            var setToStringTag = __webpack_require__("d44e");
            var InternalStateModule = __webpack_require__("69f3");
            var $forEach = __webpack_require__("b727").forEach;
            var HIDDEN = sharedKey("hidden");
            var SYMBOL = "Symbol";
            var PROTOTYPE = "prototype";
            var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
            var setInternalState = InternalStateModule.set;
            var getInternalState = InternalStateModule.getterFor(SYMBOL);
            var ObjectPrototype = Object[PROTOTYPE];
            var $Symbol = global2.Symbol;
            var $stringify = getBuiltIn("JSON", "stringify");
            var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
            var nativeDefineProperty = definePropertyModule.f;
            var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
            var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
            var AllSymbols = shared("symbols");
            var ObjectPrototypeSymbols = shared("op-symbols");
            var StringToSymbolRegistry = shared("string-to-symbol-registry");
            var SymbolToStringRegistry = shared("symbol-to-string-registry");
            var WellKnownSymbolsStore = shared("wks");
            var QObject = global2.QObject;
            var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
            var setSymbolDescriptor = DESCRIPTORS && fails(function() {
              return nativeObjectCreate(nativeDefineProperty({}, "a", {
                get: function() {
                  return nativeDefineProperty(this, "a", { value: 7 }).a;
                }
              })).a != 7;
            }) ? function(O, P, Attributes) {
              var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
              if (ObjectPrototypeDescriptor)
                delete ObjectPrototype[P];
              nativeDefineProperty(O, P, Attributes);
              if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
                nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
              }
            } : nativeDefineProperty;
            var wrap = function(tag, description) {
              var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);
              setInternalState(symbol, {
                type: SYMBOL,
                tag,
                description
              });
              if (!DESCRIPTORS)
                symbol.description = description;
              return symbol;
            };
            var isSymbol = USE_SYMBOL_AS_UID ? function(it) {
              return typeof it == "symbol";
            } : function(it) {
              return Object(it) instanceof $Symbol;
            };
            var $defineProperty = function defineProperty2(O, P, Attributes) {
              if (O === ObjectPrototype)
                $defineProperty(ObjectPrototypeSymbols, P, Attributes);
              anObject(O);
              var key = toPrimitive2(P, true);
              anObject(Attributes);
              if (has2(AllSymbols, key)) {
                if (!Attributes.enumerable) {
                  if (!has2(O, HIDDEN))
                    nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
                  O[HIDDEN][key] = true;
                } else {
                  if (has2(O, HIDDEN) && O[HIDDEN][key])
                    O[HIDDEN][key] = false;
                  Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
                }
                return setSymbolDescriptor(O, key, Attributes);
              }
              return nativeDefineProperty(O, key, Attributes);
            };
            var $defineProperties = function defineProperties(O, Properties2) {
              anObject(O);
              var properties = toIndexedObject(Properties2);
              var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
              $forEach(keys, function(key) {
                if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key))
                  $defineProperty(O, key, properties[key]);
              });
              return O;
            };
            var $create = function create2(O, Properties2) {
              return Properties2 === void 0 ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties2);
            };
            var $propertyIsEnumerable = function propertyIsEnumerable(V) {
              var P = toPrimitive2(V, true);
              var enumerable = nativePropertyIsEnumerable.call(this, P);
              if (this === ObjectPrototype && has2(AllSymbols, P) && !has2(ObjectPrototypeSymbols, P))
                return false;
              return enumerable || !has2(this, P) || !has2(AllSymbols, P) || has2(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
            };
            var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
              var it = toIndexedObject(O);
              var key = toPrimitive2(P, true);
              if (it === ObjectPrototype && has2(AllSymbols, key) && !has2(ObjectPrototypeSymbols, key))
                return;
              var descriptor = nativeGetOwnPropertyDescriptor(it, key);
              if (descriptor && has2(AllSymbols, key) && !(has2(it, HIDDEN) && it[HIDDEN][key])) {
                descriptor.enumerable = true;
              }
              return descriptor;
            };
            var $getOwnPropertyNames = function getOwnPropertyNames(O) {
              var names2 = nativeGetOwnPropertyNames(toIndexedObject(O));
              var result2 = [];
              $forEach(names2, function(key) {
                if (!has2(AllSymbols, key) && !has2(hiddenKeys, key))
                  result2.push(key);
              });
              return result2;
            };
            var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
              var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
              var names2 = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
              var result2 = [];
              $forEach(names2, function(key) {
                if (has2(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has2(ObjectPrototype, key))) {
                  result2.push(AllSymbols[key]);
                }
              });
              return result2;
            };
            if (!NATIVE_SYMBOL) {
              $Symbol = function Symbol2() {
                if (this instanceof $Symbol)
                  throw TypeError("Symbol is not a constructor");
                var description = !arguments.length || arguments[0] === void 0 ? void 0 : String(arguments[0]);
                var tag = uid(description);
                var setter = function(value2) {
                  if (this === ObjectPrototype)
                    setter.call(ObjectPrototypeSymbols, value2);
                  if (has2(this, HIDDEN) && has2(this[HIDDEN], tag))
                    this[HIDDEN][tag] = false;
                  setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value2));
                };
                if (DESCRIPTORS && USE_SETTER)
                  setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
                return wrap(tag, description);
              };
              redefine($Symbol[PROTOTYPE], "toString", function toString3() {
                return getInternalState(this).tag;
              });
              redefine($Symbol, "withoutSetter", function(description) {
                return wrap(uid(description), description);
              });
              propertyIsEnumerableModule.f = $propertyIsEnumerable;
              definePropertyModule.f = $defineProperty;
              getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
              getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
              getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;
              wrappedWellKnownSymbolModule.f = function(name2) {
                return wrap(wellKnownSymbol(name2), name2);
              };
              if (DESCRIPTORS) {
                nativeDefineProperty($Symbol[PROTOTYPE], "description", {
                  configurable: true,
                  get: function description() {
                    return getInternalState(this).description;
                  }
                });
                if (!IS_PURE) {
                  redefine(ObjectPrototype, "propertyIsEnumerable", $propertyIsEnumerable, { unsafe: true });
                }
              }
            }
            $({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
              Symbol: $Symbol
            });
            $forEach(objectKeys(WellKnownSymbolsStore), function(name2) {
              defineWellKnownSymbol(name2);
            });
            $({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
              // `Symbol.for` method
              // https://tc39.github.io/ecma262/#sec-symbol.for
              "for": function(key) {
                var string = String(key);
                if (has2(StringToSymbolRegistry, string))
                  return StringToSymbolRegistry[string];
                var symbol = $Symbol(string);
                StringToSymbolRegistry[string] = symbol;
                SymbolToStringRegistry[symbol] = string;
                return symbol;
              },
              // `Symbol.keyFor` method
              // https://tc39.github.io/ecma262/#sec-symbol.keyfor
              keyFor: function keyFor(sym) {
                if (!isSymbol(sym))
                  throw TypeError(sym + " is not a symbol");
                if (has2(SymbolToStringRegistry, sym))
                  return SymbolToStringRegistry[sym];
              },
              useSetter: function() {
                USE_SETTER = true;
              },
              useSimple: function() {
                USE_SETTER = false;
              }
            });
            $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
              // `Object.create` method
              // https://tc39.github.io/ecma262/#sec-object.create
              create: $create,
              // `Object.defineProperty` method
              // https://tc39.github.io/ecma262/#sec-object.defineproperty
              defineProperty: $defineProperty,
              // `Object.defineProperties` method
              // https://tc39.github.io/ecma262/#sec-object.defineproperties
              defineProperties: $defineProperties,
              // `Object.getOwnPropertyDescriptor` method
              // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors
              getOwnPropertyDescriptor: $getOwnPropertyDescriptor
            });
            $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL }, {
              // `Object.getOwnPropertyNames` method
              // https://tc39.github.io/ecma262/#sec-object.getownpropertynames
              getOwnPropertyNames: $getOwnPropertyNames,
              // `Object.getOwnPropertySymbols` method
              // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols
              getOwnPropertySymbols: $getOwnPropertySymbols
            });
            $({ target: "Object", stat: true, forced: fails(function() {
              getOwnPropertySymbolsModule.f(1);
            }) }, {
              getOwnPropertySymbols: function getOwnPropertySymbols(it) {
                return getOwnPropertySymbolsModule.f(toObject(it));
              }
            });
            if ($stringify) {
              var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function() {
                var symbol = $Symbol();
                return $stringify([symbol]) != "[null]" || $stringify({ a: symbol }) != "{}" || $stringify(Object(symbol)) != "{}";
              });
              $({ target: "JSON", stat: true, forced: FORCED_JSON_STRINGIFY }, {
                // eslint-disable-next-line no-unused-vars
                stringify: function stringify(it, replacer2, space) {
                  var args = [it];
                  var index2 = 1;
                  var $replacer;
                  while (arguments.length > index2)
                    args.push(arguments[index2++]);
                  $replacer = replacer2;
                  if (!isObject2(replacer2) && it === void 0 || isSymbol(it))
                    return;
                  if (!isArray2(replacer2))
                    replacer2 = function(key, value2) {
                      if (typeof $replacer == "function")
                        value2 = $replacer.call(this, key, value2);
                      if (!isSymbol(value2))
                        return value2;
                    };
                  args[1] = replacer2;
                  return $stringify.apply(null, args);
                }
              });
            }
            if (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {
              createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
            }
            setToStringTag($Symbol, SYMBOL);
            hiddenKeys[HIDDEN] = true;
          }
        ),
        /***/
        "a630": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var from = __webpack_require__("4df4");
            var checkCorrectnessOfIteration = __webpack_require__("1c7e");
            var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function(iterable) {
              Array.from(iterable);
            });
            $({ target: "Array", stat: true, forced: INCORRECT_ITERATION }, {
              from
            });
          }
        ),
        /***/
        "a640": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            module2.exports = function(METHOD_NAME, argument) {
              var method = [][METHOD_NAME];
              return !!method && fails(function() {
                method.call(null, argument || function() {
                  throw 1;
                }, 1);
              });
            };
          }
        ),
        /***/
        "a691": (
          /***/
          function(module2, exports2) {
            var ceil = Math.ceil;
            var floor = Math.floor;
            module2.exports = function(argument) {
              return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);
            };
          }
        ),
        /***/
        "ab13": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            var MATCH = wellKnownSymbol("match");
            module2.exports = function(METHOD_NAME) {
              var regexp = /./;
              try {
                "/./"[METHOD_NAME](regexp);
              } catch (e2) {
                try {
                  regexp[MATCH] = false;
                  return "/./"[METHOD_NAME](regexp);
                } catch (f) {
                }
              }
              return false;
            };
          }
        ),
        /***/
        "ac1f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var exec = __webpack_require__("9263");
            $({ target: "RegExp", proto: true, forced: /./.exec !== exec }, {
              exec
            });
          }
        ),
        /***/
        "ad6d": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var anObject = __webpack_require__("825a");
            module2.exports = function() {
              var that = anObject(this);
              var result2 = "";
              if (that.global)
                result2 += "g";
              if (that.ignoreCase)
                result2 += "i";
              if (that.multiline)
                result2 += "m";
              if (that.dotAll)
                result2 += "s";
              if (that.unicode)
                result2 += "u";
              if (that.sticky)
                result2 += "y";
              return result2;
            };
          }
        ),
        /***/
        "ae40": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var fails = __webpack_require__("d039");
            var has2 = __webpack_require__("5135");
            var defineProperty2 = Object.defineProperty;
            var cache = {};
            var thrower = function(it) {
              throw it;
            };
            module2.exports = function(METHOD_NAME, options) {
              if (has2(cache, METHOD_NAME))
                return cache[METHOD_NAME];
              if (!options)
                options = {};
              var method = [][METHOD_NAME];
              var ACCESSORS = has2(options, "ACCESSORS") ? options.ACCESSORS : false;
              var argument0 = has2(options, 0) ? options[0] : thrower;
              var argument1 = has2(options, 1) ? options[1] : void 0;
              return cache[METHOD_NAME] = !!method && !fails(function() {
                if (ACCESSORS && !DESCRIPTORS)
                  return true;
                var O = { length: -1 };
                if (ACCESSORS)
                  defineProperty2(O, 1, { enumerable: true, get: thrower });
                else
                  O[1] = 1;
                method.call(O, argument0, argument1);
              });
            };
          }
        ),
        /***/
        "ae93": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var getPrototypeOf2 = __webpack_require__("e163");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var has2 = __webpack_require__("5135");
            var wellKnownSymbol = __webpack_require__("b622");
            var IS_PURE = __webpack_require__("c430");
            var ITERATOR = wellKnownSymbol("iterator");
            var BUGGY_SAFARI_ITERATORS = false;
            var returnThis = function() {
              return this;
            };
            var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;
            if ([].keys) {
              arrayIterator = [].keys();
              if (!("next" in arrayIterator))
                BUGGY_SAFARI_ITERATORS = true;
              else {
                PrototypeOfArrayIteratorPrototype = getPrototypeOf2(getPrototypeOf2(arrayIterator));
                if (PrototypeOfArrayIteratorPrototype !== Object.prototype)
                  IteratorPrototype = PrototypeOfArrayIteratorPrototype;
              }
            }
            if (IteratorPrototype == void 0)
              IteratorPrototype = {};
            if (!IS_PURE && !has2(IteratorPrototype, ITERATOR)) {
              createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);
            }
            module2.exports = {
              IteratorPrototype,
              BUGGY_SAFARI_ITERATORS
            };
          }
        ),
        /***/
        "b041": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var TO_STRING_TAG_SUPPORT = __webpack_require__("00ee");
            var classof = __webpack_require__("f5df");
            module2.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString3() {
              return "[object " + classof(this) + "]";
            };
          }
        ),
        /***/
        "b0c0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var DESCRIPTORS = __webpack_require__("83ab");
            var defineProperty2 = __webpack_require__("9bf2").f;
            var FunctionPrototype = Function.prototype;
            var FunctionPrototypeToString = FunctionPrototype.toString;
            var nameRE = /^\s*function ([^ (]*)/;
            var NAME = "name";
            if (DESCRIPTORS && !(NAME in FunctionPrototype)) {
              defineProperty2(FunctionPrototype, NAME, {
                configurable: true,
                get: function() {
                  try {
                    return FunctionPrototypeToString.call(this).match(nameRE)[1];
                  } catch (error2) {
                    return "";
                  }
                }
              });
            }
          }
        ),
        /***/
        "b622": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var shared = __webpack_require__("5692");
            var has2 = __webpack_require__("5135");
            var uid = __webpack_require__("90e3");
            var NATIVE_SYMBOL = __webpack_require__("4930");
            var USE_SYMBOL_AS_UID = __webpack_require__("fdbf");
            var WellKnownSymbolsStore = shared("wks");
            var Symbol2 = global2.Symbol;
            var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol2 : Symbol2 && Symbol2.withoutSetter || uid;
            module2.exports = function(name2) {
              if (!has2(WellKnownSymbolsStore, name2)) {
                if (NATIVE_SYMBOL && has2(Symbol2, name2))
                  WellKnownSymbolsStore[name2] = Symbol2[name2];
                else
                  WellKnownSymbolsStore[name2] = createWellKnownSymbol("Symbol." + name2);
              }
              return WellKnownSymbolsStore[name2];
            };
          }
        ),
        /***/
        "b64b": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var toObject = __webpack_require__("7b0b");
            var nativeKeys = __webpack_require__("df75");
            var fails = __webpack_require__("d039");
            var FAILS_ON_PRIMITIVES = fails(function() {
              nativeKeys(1);
            });
            $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
              keys: function keys(it) {
                return nativeKeys(toObject(it));
              }
            });
          }
        ),
        /***/
        "b727": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var bind2 = __webpack_require__("0366");
            var IndexedObject = __webpack_require__("44ad");
            var toObject = __webpack_require__("7b0b");
            var toLength = __webpack_require__("50c4");
            var arraySpeciesCreate = __webpack_require__("65f0");
            var push = [].push;
            var createMethod = function(TYPE) {
              var IS_MAP = TYPE == 1;
              var IS_FILTER = TYPE == 2;
              var IS_SOME = TYPE == 3;
              var IS_EVERY = TYPE == 4;
              var IS_FIND_INDEX = TYPE == 6;
              var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
              return function($this, callbackfn, that, specificCreate) {
                var O = toObject($this);
                var self2 = IndexedObject(O);
                var boundFunction = bind2(callbackfn, that, 3);
                var length = toLength(self2.length);
                var index2 = 0;
                var create2 = specificCreate || arraySpeciesCreate;
                var target = IS_MAP ? create2($this, length) : IS_FILTER ? create2($this, 0) : void 0;
                var value2, result2;
                for (; length > index2; index2++)
                  if (NO_HOLES || index2 in self2) {
                    value2 = self2[index2];
                    result2 = boundFunction(value2, index2, O);
                    if (TYPE) {
                      if (IS_MAP)
                        target[index2] = result2;
                      else if (result2)
                        switch (TYPE) {
                          case 3:
                            return true;
                          case 5:
                            return value2;
                          case 6:
                            return index2;
                          case 2:
                            push.call(target, value2);
                        }
                      else if (IS_EVERY)
                        return false;
                    }
                  }
                return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
              };
            };
            module2.exports = {
              // `Array.prototype.forEach` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.foreach
              forEach: createMethod(0),
              // `Array.prototype.map` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.map
              map: createMethod(1),
              // `Array.prototype.filter` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.filter
              filter: createMethod(2),
              // `Array.prototype.some` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.some
              some: createMethod(3),
              // `Array.prototype.every` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.every
              every: createMethod(4),
              // `Array.prototype.find` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.find
              find: createMethod(5),
              // `Array.prototype.findIndex` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex
              findIndex: createMethod(6)
            };
          }
        ),
        /***/
        "c04e": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var isObject2 = __webpack_require__("861d");
            module2.exports = function(input2, PREFERRED_STRING) {
              if (!isObject2(input2))
                return input2;
              var fn, val;
              if (PREFERRED_STRING && typeof (fn = input2.toString) == "function" && !isObject2(val = fn.call(input2)))
                return val;
              if (typeof (fn = input2.valueOf) == "function" && !isObject2(val = fn.call(input2)))
                return val;
              if (!PREFERRED_STRING && typeof (fn = input2.toString) == "function" && !isObject2(val = fn.call(input2)))
                return val;
              throw TypeError("Can't convert object to primitive value");
            };
          }
        ),
        /***/
        "c430": (
          /***/
          function(module2, exports2) {
            module2.exports = false;
          }
        ),
        /***/
        "c6b6": (
          /***/
          function(module2, exports2) {
            var toString3 = {}.toString;
            module2.exports = function(it) {
              return toString3.call(it).slice(8, -1);
            };
          }
        ),
        /***/
        "c6cd": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var setGlobal = __webpack_require__("ce4e");
            var SHARED = "__core-js_shared__";
            var store = global2[SHARED] || setGlobal(SHARED, {});
            module2.exports = store;
          }
        ),
        /***/
        "c740": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $findIndex = __webpack_require__("b727").findIndex;
            var addToUnscopables = __webpack_require__("44d2");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var FIND_INDEX = "findIndex";
            var SKIPS_HOLES = true;
            var USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);
            if (FIND_INDEX in [])
              Array(1)[FIND_INDEX](function() {
                SKIPS_HOLES = false;
              });
            $({ target: "Array", proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {
              findIndex: function findIndex2(callbackfn) {
                return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
            addToUnscopables(FIND_INDEX);
          }
        ),
        /***/
        "c8ba": (
          /***/
          function(module2, exports2) {
            var g;
            g = /* @__PURE__ */ function() {
              return this;
            }();
            try {
              g = g || new Function("return this")();
            } catch (e2) {
              if (typeof window === "object")
                g = window;
            }
            module2.exports = g;
          }
        ),
        /***/
        "c975": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $indexOf = __webpack_require__("4d64").indexOf;
            var arrayMethodIsStrict = __webpack_require__("a640");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var nativeIndexOf = [].indexOf;
            var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;
            var STRICT_METHOD = arrayMethodIsStrict("indexOf");
            var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
            $({ target: "Array", proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {
              indexOf: function indexOf(searchElement) {
                return NEGATIVE_ZERO ? nativeIndexOf.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
          }
        ),
        /***/
        "ca84": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var has2 = __webpack_require__("5135");
            var toIndexedObject = __webpack_require__("fc6a");
            var indexOf = __webpack_require__("4d64").indexOf;
            var hiddenKeys = __webpack_require__("d012");
            module2.exports = function(object, names2) {
              var O = toIndexedObject(object);
              var i = 0;
              var result2 = [];
              var key;
              for (key in O)
                !has2(hiddenKeys, key) && has2(O, key) && result2.push(key);
              while (names2.length > i)
                if (has2(O, key = names2[i++])) {
                  ~indexOf(result2, key) || result2.push(key);
                }
              return result2;
            };
          }
        ),
        /***/
        "caad": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $includes = __webpack_require__("4d64").includes;
            var addToUnscopables = __webpack_require__("44d2");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
            $({ target: "Array", proto: true, forced: !USES_TO_LENGTH }, {
              includes: function includes(el) {
                return $includes(this, el, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
            addToUnscopables("includes");
          }
        ),
        /***/
        "cc12": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var isObject2 = __webpack_require__("861d");
            var document2 = global2.document;
            var EXISTS = isObject2(document2) && isObject2(document2.createElement);
            module2.exports = function(it) {
              return EXISTS ? document2.createElement(it) : {};
            };
          }
        ),
        /***/
        "ce4e": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var createNonEnumerableProperty = __webpack_require__("9112");
            module2.exports = function(key, value2) {
              try {
                createNonEnumerableProperty(global2, key, value2);
              } catch (error2) {
                global2[key] = value2;
              }
              return value2;
            };
          }
        ),
        /***/
        "d012": (
          /***/
          function(module2, exports2) {
            module2.exports = {};
          }
        ),
        /***/
        "d039": (
          /***/
          function(module2, exports2) {
            module2.exports = function(exec) {
              try {
                return !!exec();
              } catch (error2) {
                return true;
              }
            };
          }
        ),
        /***/
        "d066": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var path = __webpack_require__("428f");
            var global2 = __webpack_require__("da84");
            var aFunction = function(variable) {
              return typeof variable == "function" ? variable : void 0;
            };
            module2.exports = function(namespace, method) {
              return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global2[namespace]) : path[namespace] && path[namespace][method] || global2[namespace] && global2[namespace][method];
            };
          }
        ),
        /***/
        "d1e7": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var nativePropertyIsEnumerable = {}.propertyIsEnumerable;
            var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
            var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);
            exports2.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
              var descriptor = getOwnPropertyDescriptor(this, V);
              return !!descriptor && descriptor.enumerable;
            } : nativePropertyIsEnumerable;
          }
        ),
        /***/
        "d28b": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var defineWellKnownSymbol = __webpack_require__("746f");
            defineWellKnownSymbol("iterator");
          }
        ),
        /***/
        "d2bb": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var anObject = __webpack_require__("825a");
            var aPossiblePrototype = __webpack_require__("3bbe");
            module2.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
              var CORRECT_SETTER = false;
              var test = {};
              var setter;
              try {
                setter = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set;
                setter.call(test, []);
                CORRECT_SETTER = test instanceof Array;
              } catch (error2) {
              }
              return function setPrototypeOf(O, proto) {
                anObject(O);
                aPossiblePrototype(proto);
                if (CORRECT_SETTER)
                  setter.call(O, proto);
                else
                  O.__proto__ = proto;
                return O;
              };
            }() : void 0);
          }
        ),
        /***/
        "d3b7": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var TO_STRING_TAG_SUPPORT = __webpack_require__("00ee");
            var redefine = __webpack_require__("6eeb");
            var toString3 = __webpack_require__("b041");
            if (!TO_STRING_TAG_SUPPORT) {
              redefine(Object.prototype, "toString", toString3, { unsafe: true });
            }
          }
        ),
        /***/
        "d44e": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var defineProperty2 = __webpack_require__("9bf2").f;
            var has2 = __webpack_require__("5135");
            var wellKnownSymbol = __webpack_require__("b622");
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            module2.exports = function(it, TAG, STATIC) {
              if (it && !has2(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {
                defineProperty2(it, TO_STRING_TAG, { configurable: true, value: TAG });
              }
            };
          }
        ),
        /***/
        "d58f": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var aFunction = __webpack_require__("1c0b");
            var toObject = __webpack_require__("7b0b");
            var IndexedObject = __webpack_require__("44ad");
            var toLength = __webpack_require__("50c4");
            var createMethod = function(IS_RIGHT) {
              return function(that, callbackfn, argumentsLength, memo) {
                aFunction(callbackfn);
                var O = toObject(that);
                var self2 = IndexedObject(O);
                var length = toLength(O.length);
                var index2 = IS_RIGHT ? length - 1 : 0;
                var i = IS_RIGHT ? -1 : 1;
                if (argumentsLength < 2)
                  while (true) {
                    if (index2 in self2) {
                      memo = self2[index2];
                      index2 += i;
                      break;
                    }
                    index2 += i;
                    if (IS_RIGHT ? index2 < 0 : length <= index2) {
                      throw TypeError("Reduce of empty array with no initial value");
                    }
                  }
                for (; IS_RIGHT ? index2 >= 0 : length > index2; index2 += i)
                  if (index2 in self2) {
                    memo = callbackfn(memo, self2[index2], index2, O);
                  }
                return memo;
              };
            };
            module2.exports = {
              // `Array.prototype.reduce` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.reduce
              left: createMethod(false),
              // `Array.prototype.reduceRight` method
              // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright
              right: createMethod(true)
            };
          }
        ),
        /***/
        "d784": (
          /***/
          function(module2, exports2, __webpack_require__) {
            __webpack_require__("ac1f");
            var redefine = __webpack_require__("6eeb");
            var fails = __webpack_require__("d039");
            var wellKnownSymbol = __webpack_require__("b622");
            var regexpExec = __webpack_require__("9263");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var SPECIES = wellKnownSymbol("species");
            var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function() {
              var re = /./;
              re.exec = function() {
                var result2 = [];
                result2.groups = { a: "7" };
                return result2;
              };
              return "".replace(re, "$<a>") !== "7";
            });
            var REPLACE_KEEPS_$0 = function() {
              return "a".replace(/./, "$0") === "$0";
            }();
            var REPLACE = wellKnownSymbol("replace");
            var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function() {
              if (/./[REPLACE]) {
                return /./[REPLACE]("a", "$0") === "";
              }
              return false;
            }();
            var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function() {
              var re = /(?:)/;
              var originalExec = re.exec;
              re.exec = function() {
                return originalExec.apply(this, arguments);
              };
              var result2 = "ab".split(re);
              return result2.length !== 2 || result2[0] !== "a" || result2[1] !== "b";
            });
            module2.exports = function(KEY, length, exec, sham) {
              var SYMBOL = wellKnownSymbol(KEY);
              var DELEGATES_TO_SYMBOL = !fails(function() {
                var O = {};
                O[SYMBOL] = function() {
                  return 7;
                };
                return ""[KEY](O) != 7;
              });
              var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function() {
                var execCalled = false;
                var re = /a/;
                if (KEY === "split") {
                  re = {};
                  re.constructor = {};
                  re.constructor[SPECIES] = function() {
                    return re;
                  };
                  re.flags = "";
                  re[SYMBOL] = /./[SYMBOL];
                }
                re.exec = function() {
                  execCalled = true;
                  return null;
                };
                re[SYMBOL]("");
                return !execCalled;
              });
              if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === "replace" && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === "split" && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {
                var nativeRegExpMethod = /./[SYMBOL];
                var methods = exec(SYMBOL, ""[KEY], function(nativeMethod, regexp, str, arg2, forceStringMethod) {
                  if (regexp.exec === regexpExec) {
                    if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
                      return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };
                    }
                    return { done: true, value: nativeMethod.call(str, regexp, arg2) };
                  }
                  return { done: false };
                }, {
                  REPLACE_KEEPS_$0,
                  REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
                });
                var stringMethod = methods[0];
                var regexMethod = methods[1];
                redefine(String.prototype, KEY, stringMethod);
                redefine(
                  RegExp.prototype,
                  SYMBOL,
                  length == 2 ? function(string, arg) {
                    return regexMethod.call(string, this, arg);
                  } : function(string) {
                    return regexMethod.call(string, this);
                  }
                );
              }
              if (sham)
                createNonEnumerableProperty(RegExp.prototype[SYMBOL], "sham", true);
            };
          }
        ),
        /***/
        "d81d": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var $map = __webpack_require__("b727").map;
            var arrayMethodHasSpeciesSupport = __webpack_require__("1dde");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("map");
            var USES_TO_LENGTH = arrayMethodUsesToLength("map");
            $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
              map: function map2(callbackfn) {
                return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
              }
            });
          }
        ),
        /***/
        "da84": (
          /***/
          function(module2, exports2, __webpack_require__) {
            (function(global2) {
              var check = function(it) {
                return it && it.Math == Math && it;
              };
              module2.exports = // eslint-disable-next-line no-undef
              check(typeof globalThis == "object" && globalThis) || check(typeof window == "object" && window) || check(typeof self == "object" && self) || check(typeof global2 == "object" && global2) || // eslint-disable-next-line no-new-func
              Function("return this")();
            }).call(this, __webpack_require__("c8ba"));
          }
        ),
        /***/
        "dbb4": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var DESCRIPTORS = __webpack_require__("83ab");
            var ownKeys2 = __webpack_require__("56ef");
            var toIndexedObject = __webpack_require__("fc6a");
            var getOwnPropertyDescriptorModule = __webpack_require__("06cf");
            var createProperty = __webpack_require__("8418");
            $({ target: "Object", stat: true, sham: !DESCRIPTORS }, {
              getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
                var O = toIndexedObject(object);
                var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
                var keys = ownKeys2(O);
                var result2 = {};
                var index2 = 0;
                var key, descriptor;
                while (keys.length > index2) {
                  descriptor = getOwnPropertyDescriptor(O, key = keys[index2++]);
                  if (descriptor !== void 0)
                    createProperty(result2, key, descriptor);
                }
                return result2;
              }
            });
          }
        ),
        /***/
        "dbf1": (
          /***/
          function(module2, __webpack_exports__, __webpack_require__) {
            (function(global2) {
              __webpack_require__.d(__webpack_exports__, "a", function() {
                return console2;
              });
              function getConsole() {
                if (typeof window !== "undefined") {
                  return window.console;
                }
                return global2.console;
              }
              var console2 = getConsole();
            }).call(this, __webpack_require__("c8ba"));
          }
        ),
        /***/
        "ddb0": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var global2 = __webpack_require__("da84");
            var DOMIterables = __webpack_require__("fdbc");
            var ArrayIteratorMethods = __webpack_require__("e260");
            var createNonEnumerableProperty = __webpack_require__("9112");
            var wellKnownSymbol = __webpack_require__("b622");
            var ITERATOR = wellKnownSymbol("iterator");
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var ArrayValues = ArrayIteratorMethods.values;
            for (var COLLECTION_NAME in DOMIterables) {
              var Collection2 = global2[COLLECTION_NAME];
              var CollectionPrototype = Collection2 && Collection2.prototype;
              if (CollectionPrototype) {
                if (CollectionPrototype[ITERATOR] !== ArrayValues)
                  try {
                    createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
                  } catch (error2) {
                    CollectionPrototype[ITERATOR] = ArrayValues;
                  }
                if (!CollectionPrototype[TO_STRING_TAG]) {
                  createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
                }
                if (DOMIterables[COLLECTION_NAME])
                  for (var METHOD_NAME in ArrayIteratorMethods) {
                    if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME])
                      try {
                        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
                      } catch (error2) {
                        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
                      }
                  }
              }
            }
          }
        ),
        /***/
        "df75": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var internalObjectKeys = __webpack_require__("ca84");
            var enumBugKeys = __webpack_require__("7839");
            module2.exports = Object.keys || function keys(O) {
              return internalObjectKeys(O, enumBugKeys);
            };
          }
        ),
        /***/
        "e01a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var DESCRIPTORS = __webpack_require__("83ab");
            var global2 = __webpack_require__("da84");
            var has2 = __webpack_require__("5135");
            var isObject2 = __webpack_require__("861d");
            var defineProperty2 = __webpack_require__("9bf2").f;
            var copyConstructorProperties = __webpack_require__("e893");
            var NativeSymbol = global2.Symbol;
            if (DESCRIPTORS && typeof NativeSymbol == "function" && (!("description" in NativeSymbol.prototype) || // Safari 12 bug
            NativeSymbol().description !== void 0)) {
              var EmptyStringDescriptionStore = {};
              var SymbolWrapper = function Symbol2() {
                var description = arguments.length < 1 || arguments[0] === void 0 ? void 0 : String(arguments[0]);
                var result2 = this instanceof SymbolWrapper ? new NativeSymbol(description) : description === void 0 ? NativeSymbol() : NativeSymbol(description);
                if (description === "")
                  EmptyStringDescriptionStore[result2] = true;
                return result2;
              };
              copyConstructorProperties(SymbolWrapper, NativeSymbol);
              var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;
              symbolPrototype.constructor = SymbolWrapper;
              var symbolToString = symbolPrototype.toString;
              var native = String(NativeSymbol("test")) == "Symbol(test)";
              var regexp = /^Symbol\((.*)\)[^)]+$/;
              defineProperty2(symbolPrototype, "description", {
                configurable: true,
                get: function description() {
                  var symbol = isObject2(this) ? this.valueOf() : this;
                  var string = symbolToString.call(symbol);
                  if (has2(EmptyStringDescriptionStore, symbol))
                    return "";
                  var desc = native ? string.slice(7, -1) : string.replace(regexp, "$1");
                  return desc === "" ? void 0 : desc;
                }
              });
              $({ global: true, forced: true }, {
                Symbol: SymbolWrapper
              });
            }
          }
        ),
        /***/
        "e163": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var has2 = __webpack_require__("5135");
            var toObject = __webpack_require__("7b0b");
            var sharedKey = __webpack_require__("f772");
            var CORRECT_PROTOTYPE_GETTER = __webpack_require__("e177");
            var IE_PROTO = sharedKey("IE_PROTO");
            var ObjectPrototype = Object.prototype;
            module2.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function(O) {
              O = toObject(O);
              if (has2(O, IE_PROTO))
                return O[IE_PROTO];
              if (typeof O.constructor == "function" && O instanceof O.constructor) {
                return O.constructor.prototype;
              }
              return O instanceof Object ? ObjectPrototype : null;
            };
          }
        ),
        /***/
        "e177": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var fails = __webpack_require__("d039");
            module2.exports = !fails(function() {
              function F() {
              }
              F.prototype.constructor = null;
              return Object.getPrototypeOf(new F()) !== F.prototype;
            });
          }
        ),
        /***/
        "e260": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var toIndexedObject = __webpack_require__("fc6a");
            var addToUnscopables = __webpack_require__("44d2");
            var Iterators = __webpack_require__("3f8c");
            var InternalStateModule = __webpack_require__("69f3");
            var defineIterator = __webpack_require__("7dd0");
            var ARRAY_ITERATOR = "Array Iterator";
            var setInternalState = InternalStateModule.set;
            var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);
            module2.exports = defineIterator(Array, "Array", function(iterated, kind) {
              setInternalState(this, {
                type: ARRAY_ITERATOR,
                target: toIndexedObject(iterated),
                // target
                index: 0,
                // next index
                kind
                // kind
              });
            }, function() {
              var state = getInternalState(this);
              var target = state.target;
              var kind = state.kind;
              var index2 = state.index++;
              if (!target || index2 >= target.length) {
                state.target = void 0;
                return { value: void 0, done: true };
              }
              if (kind == "keys")
                return { value: index2, done: false };
              if (kind == "values")
                return { value: target[index2], done: false };
              return { value: [index2, target[index2]], done: false };
            }, "values");
            Iterators.Arguments = Iterators.Array;
            addToUnscopables("keys");
            addToUnscopables("values");
            addToUnscopables("entries");
          }
        ),
        /***/
        "e439": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var fails = __webpack_require__("d039");
            var toIndexedObject = __webpack_require__("fc6a");
            var nativeGetOwnPropertyDescriptor = __webpack_require__("06cf").f;
            var DESCRIPTORS = __webpack_require__("83ab");
            var FAILS_ON_PRIMITIVES = fails(function() {
              nativeGetOwnPropertyDescriptor(1);
            });
            var FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;
            $({ target: "Object", stat: true, forced: FORCED, sham: !DESCRIPTORS }, {
              getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
                return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);
              }
            });
          }
        ),
        /***/
        "e538": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            exports2.f = wellKnownSymbol;
          }
        ),
        /***/
        "e893": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var has2 = __webpack_require__("5135");
            var ownKeys2 = __webpack_require__("56ef");
            var getOwnPropertyDescriptorModule = __webpack_require__("06cf");
            var definePropertyModule = __webpack_require__("9bf2");
            module2.exports = function(target, source) {
              var keys = ownKeys2(source);
              var defineProperty2 = definePropertyModule.f;
              var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
              for (var i = 0; i < keys.length; i++) {
                var key = keys[i];
                if (!has2(target, key))
                  defineProperty2(target, key, getOwnPropertyDescriptor(source, key));
              }
            };
          }
        ),
        /***/
        "e8b5": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var classof = __webpack_require__("c6b6");
            module2.exports = Array.isArray || function isArray2(arg) {
              return classof(arg) == "Array";
            };
          }
        ),
        /***/
        "e95a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var wellKnownSymbol = __webpack_require__("b622");
            var Iterators = __webpack_require__("3f8c");
            var ITERATOR = wellKnownSymbol("iterator");
            var ArrayPrototype = Array.prototype;
            module2.exports = function(it) {
              return it !== void 0 && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
            };
          }
        ),
        /***/
        "f5df": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var TO_STRING_TAG_SUPPORT = __webpack_require__("00ee");
            var classofRaw = __webpack_require__("c6b6");
            var wellKnownSymbol = __webpack_require__("b622");
            var TO_STRING_TAG = wellKnownSymbol("toStringTag");
            var CORRECT_ARGUMENTS = classofRaw(/* @__PURE__ */ function() {
              return arguments;
            }()) == "Arguments";
            var tryGet = function(it, key) {
              try {
                return it[key];
              } catch (error2) {
              }
            };
            module2.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function(it) {
              var O, tag, result2;
              return it === void 0 ? "Undefined" : it === null ? "Null" : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == "string" ? tag : CORRECT_ARGUMENTS ? classofRaw(O) : (result2 = classofRaw(O)) == "Object" && typeof O.callee == "function" ? "Arguments" : result2;
            };
          }
        ),
        /***/
        "f772": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var shared = __webpack_require__("5692");
            var uid = __webpack_require__("90e3");
            var keys = shared("keys");
            module2.exports = function(key) {
              return keys[key] || (keys[key] = uid(key));
            };
          }
        ),
        /***/
        "fb15": (
          /***/
          function(module2, __webpack_exports__, __webpack_require__) {
            __webpack_require__.r(__webpack_exports__);
            if (typeof window !== "undefined") {
              var currentScript = window.document.currentScript;
              {
                var getCurrentScript = __webpack_require__("8875");
                currentScript = getCurrentScript();
                if (!("currentScript" in document)) {
                  Object.defineProperty(document, "currentScript", { get: getCurrentScript });
                }
              }
              var src = currentScript && currentScript.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);
              if (src) {
                __webpack_require__.p = src[1];
              }
            }
            __webpack_require__("99af");
            __webpack_require__("4de4");
            __webpack_require__("4160");
            __webpack_require__("c975");
            __webpack_require__("d81d");
            __webpack_require__("a434");
            __webpack_require__("159b");
            __webpack_require__("a4d3");
            __webpack_require__("e439");
            __webpack_require__("dbb4");
            __webpack_require__("b64b");
            function _defineProperty2(obj, key, value2) {
              if (key in obj) {
                Object.defineProperty(obj, key, {
                  value: value2,
                  enumerable: true,
                  configurable: true,
                  writable: true
                });
              } else {
                obj[key] = value2;
              }
              return obj;
            }
            function ownKeys2(object, enumerableOnly) {
              var keys = Object.keys(object);
              if (Object.getOwnPropertySymbols) {
                var symbols = Object.getOwnPropertySymbols(object);
                if (enumerableOnly)
                  symbols = symbols.filter(function(sym) {
                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;
                  });
                keys.push.apply(keys, symbols);
              }
              return keys;
            }
            function _objectSpread22(target) {
              for (var i = 1; i < arguments.length; i++) {
                var source = arguments[i] != null ? arguments[i] : {};
                if (i % 2) {
                  ownKeys2(Object(source), true).forEach(function(key) {
                    _defineProperty2(target, key, source[key]);
                  });
                } else if (Object.getOwnPropertyDescriptors) {
                  Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
                } else {
                  ownKeys2(Object(source)).forEach(function(key) {
                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
                  });
                }
              }
              return target;
            }
            function _arrayWithHoles2(arr) {
              if (Array.isArray(arr))
                return arr;
            }
            __webpack_require__("e01a");
            __webpack_require__("d28b");
            __webpack_require__("e260");
            __webpack_require__("d3b7");
            __webpack_require__("3ca3");
            __webpack_require__("ddb0");
            function _iterableToArrayLimit2(arr, i) {
              if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
                return;
              var _arr = [];
              var _n = true;
              var _d = false;
              var _e = void 0;
              try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                  _arr.push(_s.value);
                  if (i && _arr.length === i)
                    break;
                }
              } catch (err) {
                _d = true;
                _e = err;
              } finally {
                try {
                  if (!_n && _i["return"] != null)
                    _i["return"]();
                } finally {
                  if (_d)
                    throw _e;
                }
              }
              return _arr;
            }
            __webpack_require__("a630");
            __webpack_require__("fb6a");
            __webpack_require__("b0c0");
            __webpack_require__("25f0");
            function _arrayLikeToArray2(arr, len) {
              if (len == null || len > arr.length)
                len = arr.length;
              for (var i = 0, arr2 = new Array(len); i < len; i++) {
                arr2[i] = arr[i];
              }
              return arr2;
            }
            function _unsupportedIterableToArray2(o, minLen) {
              if (!o)
                return;
              if (typeof o === "string")
                return _arrayLikeToArray2(o, minLen);
              var n = Object.prototype.toString.call(o).slice(8, -1);
              if (n === "Object" && o.constructor)
                n = o.constructor.name;
              if (n === "Map" || n === "Set")
                return Array.from(o);
              if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
                return _arrayLikeToArray2(o, minLen);
            }
            function _nonIterableRest2() {
              throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            function _slicedToArray2(arr, i) {
              return _arrayWithHoles2(arr) || _iterableToArrayLimit2(arr, i) || _unsupportedIterableToArray2(arr, i) || _nonIterableRest2();
            }
            function _arrayWithoutHoles(arr) {
              if (Array.isArray(arr))
                return _arrayLikeToArray2(arr);
            }
            function _iterableToArray(iter) {
              if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter))
                return Array.from(iter);
            }
            function _nonIterableSpread() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            function _toConsumableArray(arr) {
              return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray2(arr) || _nonIterableSpread();
            }
            var external_commonjs_sortablejs_commonjs2_sortablejs_amd_sortablejs_root_Sortable_ = __webpack_require__("a352");
            var external_commonjs_sortablejs_commonjs2_sortablejs_amd_sortablejs_root_Sortable_default = /* @__PURE__ */ __webpack_require__.n(external_commonjs_sortablejs_commonjs2_sortablejs_amd_sortablejs_root_Sortable_);
            function removeNode(node2) {
              if (node2.parentElement !== null) {
                node2.parentElement.removeChild(node2);
              }
            }
            function insertNodeAt(fatherNode, node2, position) {
              var refNode = position === 0 ? fatherNode.children[0] : fatherNode.children[position - 1].nextSibling;
              fatherNode.insertBefore(node2, refNode);
            }
            var util_console = __webpack_require__("dbf1");
            __webpack_require__("13d5");
            __webpack_require__("4fad");
            __webpack_require__("ac1f");
            __webpack_require__("5319");
            function cached(fn) {
              var cache = /* @__PURE__ */ Object.create(null);
              return function cachedFn(str) {
                var hit = cache[str];
                return hit || (cache[str] = fn(str));
              };
            }
            var regex = /-(\w)/g;
            var camelize = cached(function(str) {
              return str.replace(regex, function(_, c) {
                return c.toUpperCase();
              });
            });
            __webpack_require__("5db7");
            __webpack_require__("73d9");
            var manageAndEmit = ["Start", "Add", "Remove", "Update", "End"];
            var emit = ["Choose", "Unchoose", "Sort", "Filter", "Clone"];
            var manage = ["Move"];
            var eventHandlerNames = [manage, manageAndEmit, emit].flatMap(function(events2) {
              return events2;
            }).map(function(evt) {
              return "on".concat(evt);
            });
            var events = {
              manage,
              manageAndEmit,
              emit
            };
            function isReadOnly(eventName) {
              return eventHandlerNames.indexOf(eventName) !== -1;
            }
            __webpack_require__("caad");
            __webpack_require__("2ca0");
            var tags = ["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "label", "legend", "li", "link", "main", "map", "mark", "math", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rb", "rp", "rt", "rtc", "ruby", "s", "samp", "script", "section", "select", "slot", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "svg", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr"];
            function isHtmlTag(name2) {
              return tags.includes(name2);
            }
            function isTransition(name2) {
              return ["transition-group", "TransitionGroup"].includes(name2);
            }
            function isHtmlAttribute(value2) {
              return ["id", "class", "role", "style"].includes(value2) || value2.startsWith("data-") || value2.startsWith("aria-") || value2.startsWith("on");
            }
            function project(entries) {
              return entries.reduce(function(res, _ref) {
                var _ref2 = _slicedToArray2(_ref, 2), key = _ref2[0], value2 = _ref2[1];
                res[key] = value2;
                return res;
              }, {});
            }
            function getComponentAttributes(_ref3) {
              var $attrs = _ref3.$attrs, _ref3$componentData = _ref3.componentData, componentData = _ref3$componentData === void 0 ? {} : _ref3$componentData;
              var attributes = project(Object.entries($attrs).filter(function(_ref4) {
                var _ref5 = _slicedToArray2(_ref4, 2), key = _ref5[0];
                _ref5[1];
                return isHtmlAttribute(key);
              }));
              return _objectSpread22(_objectSpread22({}, attributes), componentData);
            }
            function createSortableOption(_ref6) {
              var $attrs = _ref6.$attrs, callBackBuilder = _ref6.callBackBuilder;
              var options = project(getValidSortableEntries($attrs));
              Object.entries(callBackBuilder).forEach(function(_ref7) {
                var _ref8 = _slicedToArray2(_ref7, 2), eventType = _ref8[0], eventBuilder = _ref8[1];
                events[eventType].forEach(function(event2) {
                  options["on".concat(event2)] = eventBuilder(event2);
                });
              });
              var draggable = "[data-draggable]".concat(options.draggable || "");
              return _objectSpread22(_objectSpread22({}, options), {}, {
                draggable
              });
            }
            function getValidSortableEntries(value2) {
              return Object.entries(value2).filter(function(_ref9) {
                var _ref10 = _slicedToArray2(_ref9, 2), key = _ref10[0];
                _ref10[1];
                return !isHtmlAttribute(key);
              }).map(function(_ref11) {
                var _ref12 = _slicedToArray2(_ref11, 2), key = _ref12[0], value3 = _ref12[1];
                return [camelize(key), value3];
              }).filter(function(_ref13) {
                var _ref14 = _slicedToArray2(_ref13, 2), key = _ref14[0];
                _ref14[1];
                return !isReadOnly(key);
              });
            }
            __webpack_require__("c740");
            function _classCallCheck(instance2, Constructor) {
              if (!(instance2 instanceof Constructor)) {
                throw new TypeError("Cannot call a class as a function");
              }
            }
            function _defineProperties(target, props2) {
              for (var i = 0; i < props2.length; i++) {
                var descriptor = props2[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor)
                  descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
              }
            }
            function _createClass(Constructor, protoProps, staticProps) {
              if (protoProps)
                _defineProperties(Constructor.prototype, protoProps);
              if (staticProps)
                _defineProperties(Constructor, staticProps);
              return Constructor;
            }
            var getHtmlElementFromNode = function getHtmlElementFromNode2(node2) {
              var el = node2.el || Array.isArray(node2.children) && node2.children[0].el.parentNode;
              if (!el) {
                console.error("使用 transition-group , 需要在slot中template内至少2层html标签");
              }
              return el || {};
            };
            var addContext = function addContext2(domElement, context) {
              return domElement.__draggable_context = context;
            };
            var getContext = function getContext2(domElement) {
              return domElement.__draggable_context;
            };
            var componentStructure_ComponentStructure = /* @__PURE__ */ function() {
              function ComponentStructure(_ref) {
                var _ref$nodes = _ref.nodes, header = _ref$nodes.header, defaultNodes = _ref$nodes.default, footer = _ref$nodes.footer, root = _ref.root, realList = _ref.realList;
                _classCallCheck(this, ComponentStructure);
                this.defaultNodes = defaultNodes;
                this.children = [].concat(_toConsumableArray(header), _toConsumableArray(defaultNodes), _toConsumableArray(footer));
                this.externalComponent = root.externalComponent;
                this.rootTransition = root.transition;
                this.tag = root.tag;
                this.realList = realList;
              }
              _createClass(ComponentStructure, [{
                key: "render",
                value: function render2(h2, attributes) {
                  var tag = this.tag, children = this.children, _isRootComponent = this._isRootComponent;
                  var option2 = !_isRootComponent ? children : {
                    default: function _default() {
                      return children;
                    }
                  };
                  return h2(tag, attributes, option2);
                }
              }, {
                key: "updated",
                value: function updated() {
                  var defaultNodes = this.defaultNodes, realList = this.realList;
                  defaultNodes.forEach(function(node2, index2) {
                    addContext(getHtmlElementFromNode(node2), {
                      element: realList[index2],
                      index: index2
                    });
                  });
                }
              }, {
                key: "getUnderlyingVm",
                value: function getUnderlyingVm(domElement) {
                  return getContext(domElement);
                }
              }, {
                key: "getVmIndexFromDomIndex",
                value: function getVmIndexFromDomIndex(domIndex, element) {
                  var defaultNodes = this.defaultNodes;
                  var length = defaultNodes.length;
                  var domChildren = element.children;
                  var domElement = domChildren.item(domIndex);
                  if (domElement === null) {
                    return length;
                  }
                  var context = getContext(domElement);
                  if (context) {
                    return context.index;
                  }
                  if (length === 0) {
                    return 0;
                  }
                  var firstDomListElement = getHtmlElementFromNode(defaultNodes[0]);
                  var indexFirstDomListElement = _toConsumableArray(domChildren).findIndex(function(element2) {
                    return element2 === firstDomListElement;
                  });
                  return domIndex < indexFirstDomListElement ? 0 : length;
                }
              }, {
                key: "_isRootComponent",
                get: function get2() {
                  return this.externalComponent || this.rootTransition;
                }
              }]);
              return ComponentStructure;
            }();
            var external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__("8bbf");
            function getSlot(slots, key) {
              var slotValue = slots[key];
              return slotValue ? slotValue() : [];
            }
            function computeNodes(_ref) {
              var $slots = _ref.$slots, realList = _ref.realList, getKey = _ref.getKey;
              var normalizedList = realList || [];
              var _map = ["header", "footer"].map(function(name2) {
                return getSlot($slots, name2);
              }), _map2 = _slicedToArray2(_map, 2), header = _map2[0], footer = _map2[1];
              var item = $slots.item;
              if (!item) {
                throw new Error("draggable element must have an item slot");
              }
              var defaultNodes = normalizedList.flatMap(function(element, index2) {
                return item({
                  element,
                  index: index2
                }).map(function(node2) {
                  node2.key = getKey(element);
                  node2.props = _objectSpread22(_objectSpread22({}, node2.props || {}), {}, {
                    "data-draggable": true
                  });
                  return node2;
                });
              });
              if (defaultNodes.length !== normalizedList.length) {
                throw new Error("Item slot must have only one child");
              }
              return {
                header,
                footer,
                default: defaultNodes
              };
            }
            function getRootInformation(tag) {
              var transition = isTransition(tag);
              var externalComponent = !isHtmlTag(tag) && !transition;
              return {
                transition,
                externalComponent,
                tag: externalComponent ? Object(external_commonjs_vue_commonjs2_vue_root_Vue_["resolveComponent"])(tag) : transition ? external_commonjs_vue_commonjs2_vue_root_Vue_["TransitionGroup"] : tag
              };
            }
            function computeComponentStructure(_ref2) {
              var $slots = _ref2.$slots, tag = _ref2.tag, realList = _ref2.realList, getKey = _ref2.getKey;
              var nodes = computeNodes({
                $slots,
                realList,
                getKey
              });
              var root = getRootInformation(tag);
              return new componentStructure_ComponentStructure({
                nodes,
                root,
                realList
              });
            }
            function _emit(evtName, evtData) {
              var _this = this;
              Object(external_commonjs_vue_commonjs2_vue_root_Vue_["nextTick"])(function() {
                return _this.$emit(evtName.toLowerCase(), evtData);
              });
            }
            function _manage(evtName) {
              var _this2 = this;
              return function(evtData, originalElement) {
                if (_this2.realList !== null) {
                  return _this2["onDrag".concat(evtName)](evtData, originalElement);
                }
              };
            }
            function _manageAndEmit(evtName) {
              var _this3 = this;
              var delegateCallBack = _manage.call(this, evtName);
              return function(evtData, originalElement) {
                delegateCallBack.call(_this3, evtData, originalElement);
                _emit.call(_this3, evtName, evtData);
              };
            }
            var draggingElement = null;
            var props = {
              list: {
                type: Array,
                required: false,
                default: null
              },
              modelValue: {
                type: Array,
                required: false,
                default: null
              },
              itemKey: {
                type: [String, Function],
                required: true
              },
              clone: {
                type: Function,
                default: function _default(original) {
                  return original;
                }
              },
              tag: {
                type: String,
                default: "div"
              },
              move: {
                type: Function,
                default: null
              },
              componentData: {
                type: Object,
                required: false,
                default: null
              }
            };
            var emits = ["update:modelValue", "change"].concat(_toConsumableArray([].concat(_toConsumableArray(events.manageAndEmit), _toConsumableArray(events.emit)).map(function(evt) {
              return evt.toLowerCase();
            })));
            var draggableComponent = Object(external_commonjs_vue_commonjs2_vue_root_Vue_["defineComponent"])({
              name: "draggable",
              inheritAttrs: false,
              props,
              emits,
              data: function data() {
                return {
                  error: false
                };
              },
              render: function render2() {
                try {
                  this.error = false;
                  var $slots = this.$slots, $attrs = this.$attrs, tag = this.tag, componentData = this.componentData, realList = this.realList, getKey = this.getKey;
                  var componentStructure = computeComponentStructure({
                    $slots,
                    tag,
                    realList,
                    getKey
                  });
                  this.componentStructure = componentStructure;
                  var attributes = getComponentAttributes({
                    $attrs,
                    componentData
                  });
                  return componentStructure.render(external_commonjs_vue_commonjs2_vue_root_Vue_["h"], attributes);
                } catch (err) {
                  this.error = true;
                  return Object(external_commonjs_vue_commonjs2_vue_root_Vue_["h"])("pre", {
                    style: {
                      color: "red"
                    }
                  }, err.stack);
                }
              },
              created: function created() {
                if (this.list !== null && this.modelValue !== null) {
                  util_console[
                    "a"
                    /* console */
                  ].error("modelValue and list props are mutually exclusive! Please set one or another.");
                }
              },
              mounted: function mounted() {
                var _this4 = this;
                if (this.error) {
                  return;
                }
                var $attrs = this.$attrs, $el = this.$el, componentStructure = this.componentStructure;
                componentStructure.updated();
                var sortableOptions = createSortableOption({
                  $attrs,
                  callBackBuilder: {
                    manageAndEmit: function manageAndEmit2(event2) {
                      return _manageAndEmit.call(_this4, event2);
                    },
                    emit: function emit2(event2) {
                      return _emit.bind(_this4, event2);
                    },
                    manage: function manage2(event2) {
                      return _manage.call(_this4, event2);
                    }
                  }
                });
                var targetDomElement = $el.nodeType === 1 ? $el : $el.parentElement;
                this._sortable = new external_commonjs_sortablejs_commonjs2_sortablejs_amd_sortablejs_root_Sortable_default.a(targetDomElement, sortableOptions);
                this.targetDomElement = targetDomElement;
                targetDomElement.__draggable_component__ = this;
              },
              updated: function updated() {
                this.componentStructure.updated();
              },
              beforeUnmount: function beforeUnmount() {
                if (this._sortable !== void 0)
                  this._sortable.destroy();
              },
              computed: {
                realList: function realList() {
                  var list = this.list;
                  return list ? list : this.modelValue;
                },
                getKey: function getKey() {
                  var itemKey = this.itemKey;
                  if (typeof itemKey === "function") {
                    return itemKey;
                  }
                  return function(element) {
                    return element[itemKey];
                  };
                }
              },
              watch: {
                $attrs: {
                  handler: function handler(newOptionValue) {
                    var _sortable = this._sortable;
                    if (!_sortable)
                      return;
                    getValidSortableEntries(newOptionValue).forEach(function(_ref) {
                      var _ref2 = _slicedToArray2(_ref, 2), key = _ref2[0], value2 = _ref2[1];
                      _sortable.option(key, value2);
                    });
                  },
                  deep: true
                }
              },
              methods: {
                getUnderlyingVm: function getUnderlyingVm(domElement) {
                  return this.componentStructure.getUnderlyingVm(domElement) || null;
                },
                getUnderlyingPotencialDraggableComponent: function getUnderlyingPotencialDraggableComponent(htmElement) {
                  return htmElement.__draggable_component__;
                },
                emitChanges: function emitChanges(evt) {
                  var _this5 = this;
                  Object(external_commonjs_vue_commonjs2_vue_root_Vue_["nextTick"])(function() {
                    return _this5.$emit("change", evt);
                  });
                },
                alterList: function alterList(onList) {
                  if (this.list) {
                    onList(this.list);
                    return;
                  }
                  var newList = _toConsumableArray(this.modelValue);
                  onList(newList);
                  this.$emit("update:modelValue", newList);
                },
                spliceList: function spliceList() {
                  var _arguments = arguments;
                  var spliceList2 = function spliceList3(list) {
                    return list.splice.apply(list, _toConsumableArray(_arguments));
                  };
                  this.alterList(spliceList2);
                },
                updatePosition: function updatePosition(oldIndex2, newIndex2) {
                  var updatePosition2 = function updatePosition3(list) {
                    return list.splice(newIndex2, 0, list.splice(oldIndex2, 1)[0]);
                  };
                  this.alterList(updatePosition2);
                },
                getRelatedContextFromMoveEvent: function getRelatedContextFromMoveEvent(_ref3) {
                  var to = _ref3.to, related = _ref3.related;
                  var component = this.getUnderlyingPotencialDraggableComponent(to);
                  if (!component) {
                    return {
                      component
                    };
                  }
                  var list = component.realList;
                  var context = {
                    list,
                    component
                  };
                  if (to !== related && list) {
                    var destination = component.getUnderlyingVm(related) || {};
                    return _objectSpread22(_objectSpread22({}, destination), context);
                  }
                  return context;
                },
                getVmIndexFromDomIndex: function getVmIndexFromDomIndex(domIndex) {
                  return this.componentStructure.getVmIndexFromDomIndex(domIndex, this.targetDomElement);
                },
                onDragStart: function onDragStart(evt) {
                  this.context = this.getUnderlyingVm(evt.item);
                  evt.item._underlying_vm_ = this.clone(this.context.element);
                  draggingElement = evt.item;
                },
                onDragAdd: function onDragAdd(evt) {
                  var element = evt.item._underlying_vm_;
                  if (element === void 0) {
                    return;
                  }
                  removeNode(evt.item);
                  var newIndex2 = this.getVmIndexFromDomIndex(evt.newIndex);
                  this.spliceList(newIndex2, 0, element);
                  var added = {
                    element,
                    newIndex: newIndex2
                  };
                  this.emitChanges({
                    added
                  });
                },
                onDragRemove: function onDragRemove(evt) {
                  insertNodeAt(evt.from, evt.item, evt.oldIndex);
                  if (evt.pullMode === "clone") {
                    removeNode(evt.clone);
                    return;
                  }
                  var _this$context = this.context, oldIndex2 = _this$context.index, element = _this$context.element;
                  this.spliceList(oldIndex2, 1);
                  var removed = {
                    element,
                    oldIndex: oldIndex2
                  };
                  this.emitChanges({
                    removed
                  });
                },
                onDragUpdate: function onDragUpdate(evt) {
                  removeNode(evt.item);
                  insertNodeAt(evt.from, evt.item, evt.oldIndex);
                  var oldIndex2 = this.context.index;
                  var newIndex2 = this.getVmIndexFromDomIndex(evt.newIndex);
                  this.updatePosition(oldIndex2, newIndex2);
                  var moved2 = {
                    element: this.context.element,
                    oldIndex: oldIndex2,
                    newIndex: newIndex2
                  };
                  this.emitChanges({
                    moved: moved2
                  });
                },
                computeFutureIndex: function computeFutureIndex(relatedContext, evt) {
                  if (!relatedContext.element) {
                    return 0;
                  }
                  var domChildren = _toConsumableArray(evt.to.children).filter(function(el) {
                    return el.style["display"] !== "none";
                  });
                  var currentDomIndex = domChildren.indexOf(evt.related);
                  var currentIndex = relatedContext.component.getVmIndexFromDomIndex(currentDomIndex);
                  var draggedInList = domChildren.indexOf(draggingElement) !== -1;
                  return draggedInList || !evt.willInsertAfter ? currentIndex : currentIndex + 1;
                },
                onDragMove: function onDragMove(evt, originalEvent) {
                  var move2 = this.move, realList = this.realList;
                  if (!move2 || !realList) {
                    return true;
                  }
                  var relatedContext = this.getRelatedContextFromMoveEvent(evt);
                  var futureIndex = this.computeFutureIndex(relatedContext, evt);
                  var draggedContext = _objectSpread22(_objectSpread22({}, this.context), {}, {
                    futureIndex
                  });
                  var sendEvent = _objectSpread22(_objectSpread22({}, evt), {}, {
                    relatedContext,
                    draggedContext
                  });
                  return move2(sendEvent, originalEvent);
                },
                onDragEnd: function onDragEnd() {
                  draggingElement = null;
                }
              }
            });
            var vuedraggable = draggableComponent;
            __webpack_exports__["default"] = vuedraggable;
          }
        ),
        /***/
        "fb6a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var $ = __webpack_require__("23e7");
            var isObject2 = __webpack_require__("861d");
            var isArray2 = __webpack_require__("e8b5");
            var toAbsoluteIndex = __webpack_require__("23cb");
            var toLength = __webpack_require__("50c4");
            var toIndexedObject = __webpack_require__("fc6a");
            var createProperty = __webpack_require__("8418");
            var wellKnownSymbol = __webpack_require__("b622");
            var arrayMethodHasSpeciesSupport = __webpack_require__("1dde");
            var arrayMethodUsesToLength = __webpack_require__("ae40");
            var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("slice");
            var USES_TO_LENGTH = arrayMethodUsesToLength("slice", { ACCESSORS: true, 0: 0, 1: 2 });
            var SPECIES = wellKnownSymbol("species");
            var nativeSlice = [].slice;
            var max = Math.max;
            $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
              slice: function slice2(start, end) {
                var O = toIndexedObject(this);
                var length = toLength(O.length);
                var k = toAbsoluteIndex(start, length);
                var fin = toAbsoluteIndex(end === void 0 ? length : end, length);
                var Constructor, result2, n;
                if (isArray2(O)) {
                  Constructor = O.constructor;
                  if (typeof Constructor == "function" && (Constructor === Array || isArray2(Constructor.prototype))) {
                    Constructor = void 0;
                  } else if (isObject2(Constructor)) {
                    Constructor = Constructor[SPECIES];
                    if (Constructor === null)
                      Constructor = void 0;
                  }
                  if (Constructor === Array || Constructor === void 0) {
                    return nativeSlice.call(O, k, fin);
                  }
                }
                result2 = new (Constructor === void 0 ? Array : Constructor)(max(fin - k, 0));
                for (n = 0; k < fin; k++, n++)
                  if (k in O)
                    createProperty(result2, n, O[k]);
                result2.length = n;
                return result2;
              }
            });
          }
        ),
        /***/
        "fc6a": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var IndexedObject = __webpack_require__("44ad");
            var requireObjectCoercible = __webpack_require__("1d80");
            module2.exports = function(it) {
              return IndexedObject(requireObjectCoercible(it));
            };
          }
        ),
        /***/
        "fdbc": (
          /***/
          function(module2, exports2) {
            module2.exports = {
              CSSRuleList: 0,
              CSSStyleDeclaration: 0,
              CSSValueList: 0,
              ClientRectList: 0,
              DOMRectList: 0,
              DOMStringList: 0,
              DOMTokenList: 1,
              DataTransferItemList: 0,
              FileList: 0,
              HTMLAllCollection: 0,
              HTMLCollection: 0,
              HTMLFormElement: 0,
              HTMLSelectElement: 0,
              MediaList: 0,
              MimeTypeArray: 0,
              NamedNodeMap: 0,
              NodeList: 1,
              PaintRequestList: 0,
              Plugin: 0,
              PluginArray: 0,
              SVGLengthList: 0,
              SVGNumberList: 0,
              SVGPathSegList: 0,
              SVGPointList: 0,
              SVGStringList: 0,
              SVGTransformList: 0,
              SourceBufferList: 0,
              StyleSheetList: 0,
              TextTrackCueList: 0,
              TextTrackList: 0,
              TouchList: 0
            };
          }
        ),
        /***/
        "fdbf": (
          /***/
          function(module2, exports2, __webpack_require__) {
            var NATIVE_SYMBOL = __webpack_require__("4930");
            module2.exports = NATIVE_SYMBOL && !Symbol.sham && typeof Symbol.iterator == "symbol";
          }
        )
        /******/
      })["default"]
    );
  });
})(vuedraggable_umd);
var vuedraggable_umdExports = vuedraggable_umd.exports;
const Draggable = /* @__PURE__ */ getDefaultExportFromCjs(vuedraggable_umdExports);
var _export_sfc = (sfc, props) => {
  const target = sfc.__vccOpts || sfc;
  for (const [key, val] of props) {
    target[key] = val;
  }
  return target;
};
const _sfc_main$e = defineComponent({
  name: "ArrowDown"
});
const _hoisted_1$e = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$e = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M831.872 340.864L512 652.672 192.128 340.864a30.592 30.592 0 00-42.752 0 29.12 29.12 0 000 41.6L489.664 714.24a32 32 0 0044.672 0l340.288-331.712a29.12 29.12 0 000-41.728 30.592 30.592 0 00-42.752 0z"
}, null, -1);
const _hoisted_3$e = [
  _hoisted_2$e
];
function _sfc_render$e(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$e, _hoisted_3$e);
}
var arrowDown = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["render", _sfc_render$e]]);
const _sfc_main$d = defineComponent({
  name: "ArrowUp"
});
const _hoisted_1$d = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$d = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M488.832 344.32l-339.84 356.672a32 32 0 000 44.16l.384.384a29.44 29.44 0 0042.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0042.688 0l.384-.384a32 32 0 000-44.16L535.168 344.32a32 32 0 00-46.336 0z"
}, null, -1);
const _hoisted_3$d = [
  _hoisted_2$d
];
function _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$d, _hoisted_3$d);
}
var arrowUp = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$d]]);
const _sfc_main$c = defineComponent({
  name: "Back"
});
const _hoisted_1$c = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$c = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M224 480h640a32 32 0 110 64H224a32 32 0 010-64z"
}, null, -1);
const _hoisted_3$c = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M237.248 512l265.408 265.344a32 32 0 01-45.312 45.312l-288-288a32 32 0 010-45.312l288-288a32 32 0 1145.312 45.312L237.248 512z"
}, null, -1);
const _hoisted_4$4 = [
  _hoisted_2$c,
  _hoisted_3$c
];
function _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$c, _hoisted_4$4);
}
var back = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$c]]);
const _sfc_main$b = defineComponent({
  name: "BottomLeft"
});
const _hoisted_1$b = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$b = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M256 768h416a32 32 0 110 64H224a32 32 0 01-32-32V352a32 32 0 0164 0v416z"
}, null, -1);
const _hoisted_3$b = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M246.656 822.656a32 32 0 01-45.312-45.312l544-544a32 32 0 0145.312 45.312l-544 544z"
}, null, -1);
const _hoisted_4$3 = [
  _hoisted_2$b,
  _hoisted_3$b
];
function _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$b, _hoisted_4$3);
}
var bottomLeft = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$b]]);
const _sfc_main$a = defineComponent({
  name: "Bottom"
});
const _hoisted_1$a = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$a = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M544 805.888V168a32 32 0 10-64 0v637.888L246.656 557.952a30.72 30.72 0 00-45.312 0 35.52 35.52 0 000 48.064l288 306.048a30.72 30.72 0 0045.312 0l288-306.048a35.52 35.52 0 000-48 30.72 30.72 0 00-45.312 0L544 805.824z"
}, null, -1);
const _hoisted_3$a = [
  _hoisted_2$a
];
function _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$a, _hoisted_3$a);
}
var bottom = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$a]]);
const _sfc_main$9 = defineComponent({
  name: "CirclePlus"
});
const _hoisted_1$9 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$9 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M352 480h320a32 32 0 110 64H352a32 32 0 010-64z"
}, null, -1);
const _hoisted_3$9 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M480 672V352a32 32 0 1164 0v320a32 32 0 01-64 0z"
}, null, -1);
const _hoisted_4$2 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"
}, null, -1);
const _hoisted_5 = [
  _hoisted_2$9,
  _hoisted_3$9,
  _hoisted_4$2
];
function _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$9, _hoisted_5);
}
var circlePlus = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$9]]);
const _sfc_main$8 = defineComponent({
  name: "Delete"
});
const _hoisted_1$8 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$8 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z"
}, null, -1);
const _hoisted_3$8 = [
  _hoisted_2$8
];
function _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$8, _hoisted_3$8);
}
var _delete = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render$8]]);
const _sfc_main$7 = defineComponent({
  name: "Edit"
});
const _hoisted_1$7 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$7 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M832 512a32 32 0 1164 0v352a32 32 0 01-32 32H160a32 32 0 01-32-32V160a32 32 0 0132-32h352a32 32 0 010 64H192v640h640V512z"
}, null, -1);
const _hoisted_3$7 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 10-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 010 135.808l-331.84 331.84a32 32 0 01-18.112 9.088L436.8 623.68a32 32 0 01-36.224-36.224l15.104-105.6a32 32 0 019.024-18.112l331.904-331.84a96 96 0 01135.744 0z"
}, null, -1);
const _hoisted_4$1 = [
  _hoisted_2$7,
  _hoisted_3$7
];
function _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$7, _hoisted_4$1);
}
var edit = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["render", _sfc_render$7]]);
const _sfc_main$6 = defineComponent({
  name: "InfoFilled"
});
const _hoisted_1$6 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$6 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M512 64a448 448 0 110 896.064A448 448 0 01512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 01-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 017.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"
}, null, -1);
const _hoisted_3$6 = [
  _hoisted_2$6
];
function _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$6, _hoisted_3$6);
}
var infoFilled = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", _sfc_render$6]]);
const _sfc_main$5 = defineComponent({
  name: "Minus"
});
const _hoisted_1$5 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$5 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M128 544h768a32 32 0 100-64H128a32 32 0 000 64z"
}, null, -1);
const _hoisted_3$5 = [
  _hoisted_2$5
];
function _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$5, _hoisted_3$5);
}
var minus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [["render", _sfc_render$5]]);
const _sfc_main$4 = defineComponent({
  name: "Plus"
});
const _hoisted_1$4 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$4 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M480 480V128a32 32 0 0164 0v352h352a32 32 0 110 64H544v352a32 32 0 11-64 0V544H128a32 32 0 010-64h352z"
}, null, -1);
const _hoisted_3$4 = [
  _hoisted_2$4
];
function _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$4, _hoisted_3$4);
}
var plus = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", _sfc_render$4]]);
const _sfc_main$3 = defineComponent({
  name: "Right"
});
const _hoisted_1$3 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$3 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M754.752 480H160a32 32 0 100 64h594.752L521.344 777.344a32 32 0 0045.312 45.312l288-288a32 32 0 000-45.312l-288-288a32 32 0 10-45.312 45.312L754.752 480z"
}, null, -1);
const _hoisted_3$3 = [
  _hoisted_2$3
];
function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$3, _hoisted_3$3);
}
var right = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", _sfc_render$3]]);
const _sfc_main$2 = defineComponent({
  name: "Search"
});
const _hoisted_1$2 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$2 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M795.904 750.72l124.992 124.928a32 32 0 01-45.248 45.248L750.656 795.904a416 416 0 1145.248-45.248zM480 832a352 352 0 100-704 352 352 0 000 704z"
}, null, -1);
const _hoisted_3$2 = [
  _hoisted_2$2
];
function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$2, _hoisted_3$2);
}
var search = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["render", _sfc_render$2]]);
const _sfc_main$1 = defineComponent({
  name: "TopRight"
});
const _hoisted_1$1 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2$1 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M768 256H353.6a32 32 0 110-64H800a32 32 0 0132 32v448a32 32 0 01-64 0V256z"
}, null, -1);
const _hoisted_3$1 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M777.344 201.344a32 32 0 0145.312 45.312l-544 544a32 32 0 01-45.312-45.312l544-544z"
}, null, -1);
const _hoisted_4 = [
  _hoisted_2$1,
  _hoisted_3$1
];
function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1$1, _hoisted_4);
}
var topRight = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["render", _sfc_render$1]]);
const _sfc_main = defineComponent({
  name: "Top"
});
const _hoisted_1 = {
  class: "icon",
  width: "200",
  height: "200",
  viewBox: "0 0 1024 1024",
  xmlns: "http://www.w3.org/2000/svg"
};
const _hoisted_2 = /* @__PURE__ */ createElementVNode("path", {
  fill: "currentColor",
  d: "M572.235 205.282v600.365a30.118 30.118 0 11-60.235 0V205.282L292.382 438.633a28.913 28.913 0 01-42.646 0 33.43 33.43 0 010-45.236l271.058-288.045a28.913 28.913 0 0142.647 0L834.5 393.397a33.43 33.43 0 010 45.176 28.913 28.913 0 01-42.647 0l-219.618-233.23z"
}, null, -1);
const _hoisted_3 = [
  _hoisted_2
];
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return openBlock(), createElementBlock("svg", _hoisted_1, _hoisted_3);
}
var top = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
function registerIcon(app) {
  app.component("DownOutlined", DownOutlined$1);
  app.component("UserOutlined", UserOutlined$1);
  app.component("el-icon-edit", edit);
  app.component("el-icon-minus", minus);
  app.component("el-icon-plus", plus);
  app.component("el-icon-info", infoFilled);
  app.component("el-icon-search", search);
  app.component("el-icon-circle-plus-outline", circlePlus);
  app.component("el-icon-delete", _delete);
  app.component("el-icon-arrow-down", arrowDown);
  app.component("el-icon-arrow-up", arrowUp);
  app.component("el-icon-bottom", bottom);
  app.component("el-icon-top", top);
  app.component("el-icon-back", back);
  app.component("el-icon-right", right);
  app.component("el-icon-bottom-left", bottomLeft);
  app.component("el-icon-top-right", topRight);
}
if (typeof window !== "undefined") {
  let loadSvg = function() {
    var body = document.body;
    var svgDom = document.getElementById("__svg__icons__dom__1723701225212__");
    if (!svgDom) {
      svgDom = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      svgDom.style.position = "absolute";
      svgDom.style.width = "0";
      svgDom.style.height = "0";
      svgDom.id = "__svg__icons__dom__1723701225212__";
      svgDom.setAttribute("xmlns", "http://www.w3.org/2000/svg");
      svgDom.setAttribute("xmlns:link", "http://www.w3.org/1999/xlink");
    }
    svgDom.innerHTML = '<symbol class="icon" viewBox="0 0 1024 1024"  id="icon-alert"><path d="M512 85.163a319.573 319.573 0 0 1 319.83 309.333l.17 10.667v174.805l58.88 134.656a53.29 53.29 0 0 1-48.853 74.71L640 789.418a128 128 0 0 1-255.787 7.509l-.213-7.637-201.6.042a53.333 53.333 0 0 1-48.939-74.581L192 580.011V405.163c0-177.28 143.019-320 320-320zm64 704.17-128 .128a64 64 0 0 0 127.701 6.144l.256-6.272zm-64-640.17c-141.653 0-256 114.09-256 256v188.16l-57.344 132.01h627.072L768 593.365V405.717l-.17-9.6A255.488 255.488 0 0 0 512 149.163zM896 352h85.333a32 32 0 0 1 4.352 63.701l-4.352.299H896a32 32 0 0 1-4.352-63.701L896 352zm-853.333 0H128a32 32 0 0 1 4.352 63.701L128 416H42.667a32 32 0 0 1-4.352-63.701l4.352-.299zm921.6-243.2a32 32 0 0 1-2.816 41.685l-3.584 3.115-85.334 64a32 32 0 0 1-41.984-48.085l3.584-3.115 85.334-64a32 32 0 0 1 44.8 6.4zm-859.734-6.4 85.334 64a32 32 0 1 1-38.4 51.2l-85.334-64a32 32 0 1 1 38.4-51.2z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-button"><path d="M912 176v416H732.48v-32H880V208H144v352h175.488v32H112V176z" /><path d="m436.384 788.512.544 2.688a16 16 0 0 0 27.776 5.504l44.032-54.336 56.768 97.664a16 16 0 0 0 21.792 5.856l68.672-39.392 2.368-1.664a16 16 0 0 0 3.52-20.256l-55.904-96.16 68.8-12.064a16 16 0 0 0 6.464-28.8l-256-180.64a16 16 0 0 0-25.12 14.976l36.288 306.624z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-card"><path d="M858.656 864H165.344C109.472 864 64 818.56 64 762.688V261.312C64 205.44 109.472 160 165.344 160h693.312C914.528 160 960 205.44 960 261.312v501.376C960 818.56 914.528 864 858.656 864zM165.344 224C144.736 224 128 240.736 128 261.312v501.376C128 783.264 144.736 800 165.344 800h693.312C879.264 800 896 783.264 896 762.688V261.312C896 240.736 879.264 224 858.656 224H165.344zM800 416H224c-17.664 0-32-14.336-32-32s14.336-32 32-32h576c17.696 0 32 14.336 32 32s-14.304 32-32 32zM320 736h-96c-17.664 0-32-14.304-32-32s14.336-32 32-32h96c17.664 0 32 14.304 32 32s-14.336 32-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-cascader-field"><path d="M661.377 411.07v64.595H314.175v395.654H871.32V475.665h-48.447V411.07h48.447c35.675 0 64.595 28.92 64.595 64.595v395.654c0 35.675-28.92 64.595-64.595 64.595H314.175c-35.675 0-64.6-28.92-64.6-64.595V475.665c0-35.675 28.925-64.595 64.6-64.595h347.202zm48.448-322.984c35.675 0 64.6 28.92 64.6 64.595v403.73c0 35.676-28.925 64.595-64.6 64.595H362.623v-64.594h347.202V152.68H152.68v403.73h48.447v64.595H152.68c-35.675 0-64.595-28.92-64.595-64.594V152.68c0-35.675 28.92-64.595 64.595-64.595h557.144z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-checkbox-field"><path d="M897.94 896.77c6.259-6.278 10.257-14.835 10.257-24.531V147.672c0-9.118-3.998-18.235-10.257-24.533-6.277-6.258-14.815-9.696-24.51-9.696H149.644c-9.688 0-18.236 3.437-24.503 9.696-6.268 6.297-9.687 15.414-9.687 24.533V872.24c0 9.696 3.42 18.253 9.687 24.53 6.267 6.278 14.815 10.276 24.503 10.276h723.784c9.697 0 18.234-3.998 24.511-10.276zM149.645 61.52h723.784c23.933 0 45.586 9.697 60.98 25.111 15.397 15.974 25.073 37.666 25.073 61.04v724.567c0 23.97-9.676 45.643-25.073 61.056-15.394 15.396-37.047 25.093-60.98 25.093H149.645c-23.364 0-45.017-9.697-60.972-25.093-15.396-15.414-25.082-37.087-25.082-61.056V147.672c0-23.374 9.686-45.065 25.082-61.039 15.955-15.415 37.608-25.112 60.972-25.112z" /><path d="M417.42 698.27a23.556 23.556 0 0 1-16.668-6.9L259.5 550.12c-9.173-9.15-9.173-24.095 0-33.291 9.17-9.147 24.115-9.147 33.288 0l124.583 124.607 312.895-312.917c9.194-9.172 24.14-9.172 33.288 0 9.196 9.172 9.196 24.116 0 33.29L433.992 691.37c-4.618 4.645-10.643 6.9-16.666 6.9h.093z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-color-field"><path d="M619.52 490.667h-.853l-85.334-85.334h.854z" /><path d="M619.52 507.733h-.853a17.067 17.067 0 1 1 0-34.133c9.438 0 17.476 7.646 17.476 17.067s-7.185 17.066-16.623 17.066zM534.187 422.4c-9.438 0-17.494-7.646-17.494-17.067s7.202-17.066 16.64-17.066h.854a17.067 17.067 0 1 1 0 34.133zM192 866.133a34.133 34.133 0 0 1-24.132-58.265l42.666-42.667a34.133 34.133 0 1 1 48.265 48.265l-42.667 42.666A33.963 33.963 0 0 1 192 866.133z" /><path d="m619.52 490.667-.427-.427-84.906-84.907L746.667 192H832v85.333z" /><path d="M662.187 567.467a33.997 33.997 0 0 1-24.133-10.001L467.388 386.799a34.133 34.133 0 0 1 48.281-48.282l170.667 170.667a34.133 34.133 0 0 1-24.15 58.283z" /><path d="M320 806.4h-85.333a17.067 17.067 0 0 1-17.067-17.067V704c0-4.54 1.792-8.875 5-12.066L521.695 392.84a16.52 16.52 0 0 1 3.567-2.731l209.305-210.142a17.117 17.117 0 0 1 12.1-5.018H832a17.067 17.067 0 0 1 17.067 17.067v85.333a17.067 17.067 0 0 1-4.967 12.05L631.62 502.732a17.954 17.954 0 0 1-3.618 2.782L332.066 801.434A17.135 17.135 0 0 1 320 806.4zm-68.267-34.133h61.201l294.093-294.093a16.52 16.52 0 0 1 3.567-2.73l204.34-205.16v-61.217h-61.185L546.287 417.382a17.954 17.954 0 0 1-3.618 2.782L251.733 711.066v61.2z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-custom-component"><path d="M811.008 335.872c-2.048-7.168-11.264-9.216-17.408-4.096L690.176 435.2c-8.192 8.192-20.48 8.192-28.672 0L588.8 362.496c-8.192-8.192-8.192-20.48 0-28.672l104.448-104.448c5.12-5.12 3.072-14.336-4.096-17.408-17.408-4.096-35.84-7.168-54.272-7.168-108.544 0-195.584 94.208-183.296 204.8 2.048 17.408 6.144 32.768 12.288 48.128L225.28 697.344c-27.648 27.648-27.648 73.728 0 101.376 14.336 14.336 32.768 21.504 51.2 21.504s36.864-7.168 51.2-21.504l238.592-238.592c15.36 6.144 31.744 10.24 48.128 12.288 111.616 12.288 204.8-74.752 204.8-183.296 0-18.432-3.072-36.864-8.192-53.248z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-data-table"><path d="M915.692 39.385H108.308c-15.754 0-29.539 13.784-29.539 29.538v98.462c0 15.753 13.785 29.538 29.539 29.538h807.384c15.754 0 29.539-13.785 29.539-29.538V68.923c0-15.754-13.785-29.538-29.539-29.538zM285.538 275.692h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V305.23c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V305.23c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V305.23c0-15.754-13.785-29.539-29.539-29.539zM285.538 472.615h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zM285.538 669.538h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zm315.077 0h-177.23c-15.754 0-29.539 13.785-29.539 29.539v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538v-59.077c0-15.754-13.785-29.539-29.539-29.539zM285.538 866.462h-177.23c-15.754 0-29.539 13.784-29.539 29.538v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V896c0-15.754-13.785-29.538-29.539-29.538zm315.077 0h-177.23c-15.754 0-29.539 13.784-29.539 29.538v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V896c0-15.754-13.785-29.538-29.539-29.538zm315.077 0h-177.23c-15.754 0-29.539 13.784-29.539 29.538v59.077c0 15.754 13.785 29.538 29.539 29.538h177.23c15.754 0 29.539-13.784 29.539-29.538V896c0-15.754-13.785-29.538-29.539-29.538z" /></symbol><symbol class="icon" viewBox="0 0 1132 1024"  id="icon-date-field"><path d="M1023.995 1023.995H107.789C48.262 1023.995 0 975.732 0 916.205V188.63C0 129.105 48.262 80.843 107.789 80.843h80.842v53.894h-80.842c-29.777 0-53.895 24.118-53.895 53.895V296.42H1077.89V188.63c0-29.776-24.117-53.894-53.894-53.894h-80.842V80.842h80.842c59.526 0 107.789 48.262 107.789 107.789v727.575c0 59.526-48.263 107.789-107.79 107.789Zm53.894-673.681H53.894v565.892c0 29.777 24.118 53.894 53.895 53.894h916.206c29.777 0 53.894-24.117 53.894-53.894V350.314ZM794.943 628.086l-3.584 5.632c-3.314 6.306-7.087 12.153-11.237 17.731L646.734 861.476H589.12l98.358-160.875c-.108 0-.216.027-.324.027-66.963 0-121.262-60.335-121.262-134.736 0-74.401 54.299-134.736 121.262-134.736 66.964 0 121.263 60.335 121.263 134.736 0 22.42-5.39 43.25-14.12 61.844l.646.35ZM687.154 485.05c-37.214 0-67.368 36.19-67.368 80.842 0 44.651 30.154 80.842 67.368 80.842 19.052 0 36.164-9.567 48.425-24.819l9.781-16.006c5.66-11.83 9.163-25.385 9.163-40.017 0-44.652-30.154-80.842-67.369-80.842Zm-310.216 21.881-80.734 72.327v-66.991l82.405-80.41h52.062v429.727h-53.733V506.93Zm512.32-291.353c-14.874 0-26.947-12.072-26.947-26.947V26.947C862.311 12.072 874.384 0 889.26 0s26.947 12.072 26.947 26.947v161.684c0 14.875-12.072 26.947-26.947 26.947ZM296.42 80.842h538.944v53.894H296.42V80.842Zm-53.895 134.736c-14.875 0-26.947-12.072-26.947-26.947V26.947C215.578 12.072 227.65 0 242.525 0s26.947 12.072 26.947 26.947v161.684c0 14.875-12.072 26.947-26.947 26.947Z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-date-range-field"><path d="M887.467 192.853H786.773v-73.386c0-10.24-6.826-17.067-17.066-17.067s-17.067 6.827-17.067 17.067v73.386H303.787v-73.386c0-10.24-6.827-17.067-17.067-17.067s-17.067 6.827-17.067 17.067v73.386H168.96c-46.08 0-85.333 37.547-85.333 85.334v558.08c0 46.08 37.546 85.333 85.333 85.333h718.507c46.08 0 85.333-37.547 85.333-85.333v-558.08c0-47.787-37.547-85.334-85.333-85.334zM168.96 226.987h100.693v66.56c0 10.24 6.827 17.066 17.067 17.066s17.067-6.826 17.067-17.066v-66.56h450.56v66.56c0 10.24 6.826 17.066 17.066 17.066s17.067-6.826 17.067-17.066v-66.56h98.987c27.306 0 51.2 22.186 51.2 51.2v88.746H117.76v-88.746c0-29.014 22.187-51.2 51.2-51.2zm718.507 660.48H168.96c-27.307 0-51.2-22.187-51.2-51.2v-435.2h820.907v435.2c0 27.306-22.187 51.2-51.2 51.2z" /><path d="M858.453 493.227H327.68c-10.24 0-17.067 6.826-17.067 17.066V624.64H194.56c-10.24 0-17.067 6.827-17.067 17.067v133.12c0 10.24 6.827 17.066 17.067 17.066H460.8c10.24 0 17.067-6.826 17.067-17.066V660.48h380.586c10.24 0 17.067-6.827 17.067-17.067v-133.12c0-10.24-6.827-17.066-17.067-17.066zM445.44 527.36v97.28h-98.987v-97.28h98.987zm-230.4 131.413h98.987v98.987H215.04v-98.987zm131.413 97.28v-97.28h98.987v97.28h-98.987zm133.12-228.693h97.28v98.987h-97.28V527.36zm131.414 0h98.986v98.987h-98.986V527.36zm230.4 97.28H742.4v-98.987h98.987v98.987z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-divider"><path d="M62.5 491.773h899v74.918h-899v-74.918z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-document"><path d="M979.478 706.382a44.522 44.522 0 0 1-11.843 57.967l-4.363 2.85L569.478 995.06l-5.388 4.764a84.013 84.013 0 0 1-43.943 17.808l-8.102.401c-19.056 0-37.31-6.545-52.046-18.254l-5.432-4.72L60.817 767.2a44.522 44.522 0 0 1-18.61-56.187l2.36-4.63a44.522 44.522 0 0 1 60.816-16.25l405.326 234.54 1.336 1.514 1.335-1.514 405.282-234.54a44.522 44.522 0 0 1 60.86 16.25zm0-222.609a44.522 44.522 0 0 1-11.843 57.968l-4.363 2.849-393.794 227.862-5.388 4.764a84.013 84.013 0 0 1-43.943 17.809l-8.102.4c-19.056 0-37.31-6.544-52.046-18.254l-5.432-4.719L60.817 544.59a44.522 44.522 0 0 1-18.61-56.187l2.36-4.63a44.522 44.522 0 0 1 60.816-16.25l405.326 234.54 1.336 1.514 1.335-1.514 405.282-234.54a44.522 44.522 0 0 1 60.86 16.25zM512 0c18.788 0 36.864 6.1 51.645 17.185l4.586 3.74 403.5 199.68 5.61 6.144c32.501 35.44 32.501 89.89 0 125.329l-5.61 6.144-403.5 199.59-4.541 3.785a86.239 86.239 0 0 1-43.676 16.83l-8.014.356c-18.788 0-36.864-6.1-51.645-17.186l-4.63-3.784L52.269 358.222l-5.61-6.144a92.739 92.739 0 0 1 0-125.329l5.61-6.144 403.456-199.68 4.585-3.74C473 7.702 488.136 1.87 503.986.356z" fill="#008df0" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-drag"><path d="M574.958 267.016h-63.454 204.649L511.213 63.655 307.85 267.016h141.191V456.68H258.688v125.917H449.04V772.95h125.917V582.596h188.875V456.679H574.958V267.016zm-63.704 693.33 189.62-187.396H323.126l188.129 187.395zM71.292 518.891l187.395 189.62v-377.75L71.292 518.892zm692.54-188.13v377.75L952.708 518.89 763.833 330.762z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-dropdown"><path d="M787.692 157.538a78.77 78.77 0 0 1 78.77 78.77v551.384a78.77 78.77 0 0 1-78.77 78.77H236.308a78.77 78.77 0 0 1-78.77-78.77V236.308a78.77 78.77 0 0 1 78.77-78.77h551.384zm0 31.508H236.308a47.262 47.262 0 0 0-47.026 42.417l-.236 4.845v551.384a47.262 47.262 0 0 0 42.417 47.026l4.845.236h551.384a47.262 47.262 0 0 0 47.026-42.417l.236-4.845V236.308a47.262 47.262 0 0 0-42.417-47.026l-4.845-.236zM365.883 417.36l2.481 2.008L512.197 563.2l143.675-143.675a15.754 15.754 0 0 1 19.81-2.009l2.482 2.009a15.754 15.754 0 0 1 2.008 19.81l-2.008 2.482-154.821 154.781a15.754 15.754 0 0 1-19.81 2.048l-2.482-2.008-154.978-154.979a15.754 15.754 0 0 1 19.81-24.3z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-file-upload-field"><path d="m676.48 72.96 209.92 211.2 9.6 23.04V928l-32 32H160l-32-32V96l32-32h494.08l22.4 8.96zM640 320h192L640 128v192zM192 128v768h640V384H608l-32-32V128H192zm512 320H320v64h384v-64zM320 576h384v64H320v-64zm384 128H320v64h384v-64z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-github"><path d="M512 0C229.284 0 .142 234.943.142 524.868c0 231.829 146.647 428.553 350.068 497.952 25.593 4.82 34.977-11.389 34.977-25.294 0-12.455-.469-45.47-.725-89.277-142.382 31.735-172.453-70.38-172.453-70.38-23.247-60.57-56.817-76.694-56.817-76.694-46.493-32.588 3.54-31.948 3.54-31.948 51.357 3.71 78.358 54.086 78.358 54.086 45.683 80.191 119.817 57.072 148.993 43.594 4.65-33.911 17.915-57.03 32.503-70.168-113.675-13.223-233.151-58.224-233.151-259.341 0-57.285 19.92-104.163 52.678-140.846-5.246-13.266-22.82-66.627 4.991-138.884 0 0 42.996-14.076 140.76 53.787 40.864-11.644 84.628-17.445 128.179-17.659 43.465.214 87.271 6.015 128.135 17.66 97.68-67.907 140.59-53.788 140.59-53.788 27.939 72.257 10.408 125.618 5.119 138.884 32.844 36.683 52.593 83.56 52.593 140.846 0 201.587-119.647 245.99-233.663 258.957 18.341 16.21 34.72 48.2 34.72 97.21 0 70.168-.639 126.728-.639 143.96 0 14.034 9.214 30.371 35.19 25.21 203.25-69.528 349.77-266.124 349.77-497.867C1023.858 234.943 794.674 0 512 0" fill="#3E75C3" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-grid-sub-form"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M448 768h128V640H448v128zM256 384h128V256H256v128zm192 192h128V448H448v128zM256 768h128V640H256v128zm0-192h128V448H256v128zM832 0H192A192 192 0 0 0 0 192v640c0 105.984 85.952 192 192 192h640c105.984 0 192-86.016 192-192V192C1024 85.952 937.984 0 832 0zm64 832c0 35.392-28.608 64-64 64H192a64 64 0 0 1-64-64V192c0-35.328 28.672-64 64-64h640a64 64 0 0 1 64 64v640zM640 576h128V448H640v128zm0-192h128V256H640v128zm-192 0h128V256H448v128zm192 384h128V640H640v128z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-grid"><path d="M819.354 921.6h102.4V819.2h-102.4v102.4zm102.4-204.8h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V819.2a102.4 102.4 0 0 0-102.4-102.4zm-460.8 204.8h102.4V819.2h-102.4v102.4zm102.4-204.8h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V819.2a102.4 102.4 0 0 0-102.4-102.4zm-460.8 204.8h102.4V819.2h-102.4v102.4zm102.4-204.8h-102.4A102.4 102.4 0 0 0 .154 819.2v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V819.2a102.4 102.4 0 0 0-102.4-102.4zm614.4-153.6h102.4V460.8h-102.4v102.4zm102.4-204.8h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V460.8a102.4 102.4 0 0 0-102.4-102.4zm-460.8 204.8h102.4V460.8h-102.4v102.4zm102.4-204.8h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V460.8a102.4 102.4 0 0 0-102.4-102.4zm-460.8 204.8h102.4V460.8h-102.4v102.4zm102.4-204.8h-102.4A102.4 102.4 0 0 0 .154 460.8v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V460.8a102.4 102.4 0 0 0-102.4-102.4zm614.4-153.6h102.4V102.4h-102.4v102.4zM921.754 0h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V102.4A102.4 102.4 0 0 0 921.754 0zm-460.8 204.8h102.4V102.4h-102.4v102.4zM563.354 0h-102.4a102.4 102.4 0 0 0-102.4 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V102.4A102.4 102.4 0 0 0 563.354 0zm-460.8 204.8h102.4V102.4h-102.4v102.4zM204.954 0h-102.4A102.4 102.4 0 0 0 .154 102.4v102.4a102.4 102.4 0 0 0 102.4 102.4h102.4a102.4 102.4 0 0 0 102.4-102.4V102.4A102.4 102.4 0 0 0 204.954 0z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-html-text"><path d="m137.6 512 204.8-204.8c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L70.4 489.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4l227.2 227.2c12.8 12.8 32 12.8 44.8 0 12.8-12.8 12.8-32 0-44.8L137.6 512zm464-339.2c-16-3.2-35.2 6.4-38.4 22.4L396.8 812.8c-3.2 16 6.4 35.2 22.4 38.4 16 3.2 35.2-6.4 38.4-22.4L624 211.2c6.4-16-3.2-35.2-22.4-38.4zm352 316.8L726.4 262.4c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L886.4 512 681.6 716.8c-12.8 12.8-12.8 32 0 44.8 12.8 12.8 32 12.8 44.8 0l227.2-227.2c6.4-6.4 9.6-16 9.6-22.4 0-9.6-3.2-16-9.6-22.4z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-node-tree"><path d="M332.48 500.864a25.6 25.6 0 1 0 0-51.2H192.384v-184.96a115.2 115.2 0 0 0 89.6-112.128c0-63.488-51.712-115.2-115.2-115.2s-115.2 51.712-115.2 115.2a115.2 115.2 0 0 0 89.6 112.128v696.192a25.6 25.6 0 1 0 51.2 0v-141.12c2.304.192 4.48.512 6.912.512H332.48a25.6 25.6 0 1 0 0-51.2H199.296c-3.456 0-5.504-.448-6.08-.256a29.184 29.184 0 0 1-.896-8.576V500.8h140.16zM102.784 152.64c0-35.264 28.736-64 64-64s64 28.736 64 64-28.736 64-64 64-64-28.736-64-64zm818.432 207.424h-486.4c-28.224 0-51.2 22.976-51.2 51.2v128c0 28.224 22.976 51.2 51.2 51.2h486.4c28.224 0 51.2-22.976 51.2-51.2v-128c0-28.224-22.976-51.2-51.2-51.2zm-486.336 179.2v-128h486.4v128h-486.4zm486.336 140.352h-486.4c-28.224 0-51.2 22.976-51.2 51.2v128c0 28.224 22.976 51.2 51.2 51.2h486.4c28.224 0 51.2-22.976 51.2-51.2v-128c0-28.224-22.976-51.2-51.2-51.2zm-486.336 179.2v-128h486.4v128h-486.4z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-number-field"><path d="M960 1024H64a64 64 0 0 1-64-64V64A64 64 0 0 1 64 0h896a64 64 0 0 1 64 64v896a64 64 0 0 1-64 64zm0-896a64 64 0 0 0-64-64H128a64 64 0 0 0-64 64v768a64 64 0 0 0 64 64h768a64 64 0 0 0 64-64V128zM832 768H704a64 64 0 0 1 0-128h64v-64h-64a64 64 0 0 1 0-128h64v-64h-64a64 64 0 0 1 0-128h128a64 64 0 0 1 64 64v384a64 64 0 0 1-64 64zM512 640a64 64 0 0 1 0 128H384a64 64 0 0 1-64-64V512a64 64 0 0 1 64-64h64v-64h-64a64 64 0 0 1 0-128h128a64 64 0 0 1 64 64v192a64 64 0 0 1-64 64h-64v64h64zM192 768a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v384a64 64 0 0 1-64 64z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-picture-upload-field"><path d="M896 1024H128C57.312 1024 0 966.688 0 896V128C0 57.312 57.312 0 128 0h768c70.688 0 128 57.312 128 128v768c0 70.688-57.312 128-128 128zm0-64c35.328 0 64-28.672 64-64V639.968l-192-192L494.816 721.12 730.624 960H896zM64 896c0 35.328 28.672 64 64 64h512.032L318.24 638.208 64 865.952V896zm896-768c0-35.328-28.672-64-64-64H128c-35.328 0-64 28.672-64 64v650.752L320 544l129.856 131.552L768 352l192 196.096V128zM256 384c-70.688 0-128-57.312-128-128s57.312-128 128-128 128 57.312 128 128-57.312 128-128 128zm0-192c-35.328 0-64 28.672-64 64s28.672 64 64 64 64-28.672 64-64-28.672-64-64-64z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-radio-field"><path d="M512 65.983C266.08 65.983 65.983 266.08 65.983 512c0 245.952 200.065 446.017 446.017 446.017S958.017 757.952 958.017 512c0-245.92-200.065-446.017-446.017-446.017zm0 828.034c-210.656 0-382.017-171.392-382.017-382.017 0-210.656 171.36-382.017 382.017-382.017 210.625 0 382.017 171.36 382.017 382.017 0 210.625-171.392 382.017-382.017 382.017zM512 352C423.776 352 352 423.776 352 512s71.774 160 160 160 160-71.774 160-160-71.776-160-160-160z" /></symbol><symbol class="icon" viewBox="0 0 1069 1024"  id="icon-rate-field"><path d="m633.73 378.02 9.498 18.688 20.78 2.798 206.616 27.332a11.465 11.465 0 0 1 6.61 19.473L729.966 593.665l-14.893 14.893 3.8 20.683 37.847 204.89a11.465 11.465 0 0 1-16.481 12.296l-185.55-94.58-18.687-9.493-18.487 9.992-183.24 99.35a11.465 11.465 0 0 1-16.784-11.867l32.543-205.796 3.297-20.786-15.192-14.492-151.033-143.484a11.465 11.465 0 0 1 6.1-19.64L399 402.998l20.786-3.296 9.092-18.98 89.713-188.078a11.465 11.465 0 0 1 20.569-.263l94.568 185.635zM496.647 85.52 374.89 340.501l-279.126 44.26a34.395 34.395 0 0 0-18.303 58.908l204.873 194.663-44.169 279.115a34.395 34.395 0 0 0 50.366 35.616l248.4-134.679L788.776 946.66a34.395 34.395 0 0 0 49.437-36.894l-51.306-277.854 199.731-199.909a34.395 34.395 0 0 0-19.828-58.408l-280.118-37.032L558.33 84.713a34.395 34.395 0 0 0-61.682.802z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-redo"><path d="M412.081 346.3h443.415L640.168 133.871c-18.973-18.973-18.973-46.064 0-65.038s44.325-19.884 63.381-.83l291.385 284.591c18.973 18.973 18.973 44.159 0 63.132L703.549 700.649c-18.973 18.973-44.325 18.973-63.381-.083-18.973-18.973-18.973-43.91 0-62.883l215.328-208.534H412.081c-177.3 0-314.335 138.359-314.335 309.364v44.325c0 25.354-16.074 44.325-41.425 44.325s-41.425-18.973-41.425-44.325v-44.325c0-221.709 169.181-392.213 397.185-392.213z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-rich-editor-field"><path d="M313.36 448.094H632.63v31.927H313.36v-31.927ZM313.36 583.784h223.49v31.927H313.36v-31.927ZM313.36 719.474h127.709v31.927h-127.71v-31.927ZM889.412 554.809l-39.955-39.971-39.957-39.941c-7.358-7.358-19.285-7.358-26.642 0l-329.7 329.694a14.08 14.08 0 0 0-4.592 6.873L412.078 932.86a14.158 14.158 0 0 0 3.54 14.079l.99.763.77.982a14.174 14.174 0 0 0 14.062 3.555l121.395-36.495a14.04 14.04 0 0 0 6.938-4.677l329.639-329.63c7.35-7.343 7.35-19.284 0-26.627zM541.136 889.756l-95.198 28.622 28.623-95.235 255.02-255.02 66.6 66.599-255.045 255.034zM856.112 574.78l-46.611 46.611-66.59-66.598 46.605-46.597c3.677-3.68 9.641-3.68 13.319-.016l26.892 26.892 26.384 26.394c3.68 3.68 3.68 9.65.001 13.314z" /><path d="M671.874 224.898v-28.934c0-22.004-17.905-39.909-39.909-39.909H314.026c-22.004 0-39.909 17.905-39.909 39.91v28.933h-104.43v643.564c0 35.26 28.592 63.854 63.855 63.854h127.709v-47.89H249.506c-17.632 0-31.928-14.299-31.928-31.928v-579.71h56.54v10.976c0 22.004 17.904 39.909 39.908 39.909h317.938c22.004 0 39.91-17.905 39.91-39.91V272.79h56.538V437.45h47.89V224.898H671.875zm-47.89 50.884H322.007v-71.836h301.974v71.836z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-section"><path d="M141.074 906.496h741.852c89.581 0 134.583-44.562 134.583-132.846V250.331c0-88.283-45.002-132.845-134.583-132.845H141.074c-89.143.018-134.583 44.16-134.583 132.845V773.67c0 88.704 45.44 132.845 134.583 132.845zm1.28-68.992c-42.861 0-66.852-22.71-66.852-67.291V253.806c0-44.58 23.99-67.292 66.852-67.292h739.292c42.423 0 66.852 22.711 66.852 67.292v516.388c0 44.58-24.43 67.292-66.852 67.292z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-select-field"><path d="M374.784 649.515a32 32 0 0 1 3.072 41.685l-3.115 3.584L225.28 843.947a32 32 0 0 1-37.845 5.504l-3.968-2.56-85.334-64a32 32 0 0 1 34.432-53.76l3.968 2.56 63.147 47.36 129.835-129.622a32 32 0 0 1 45.269.043zm531.37 75.818a32 32 0 0 1 4.31 63.702l-4.31.298h-448a32 32 0 0 1-4.351-63.744l4.352-.256h448zm.513-256a32 32 0 0 1 4.352 63.702l-4.352.298h-448a32 32 0 0 1-4.352-63.701l4.352-.299h448zm-531.84-331.776a32 32 0 0 1 2.986 41.686l-3.114 3.584-149.846 149.205a32 32 0 0 1-37.888 5.419l-3.925-2.56-84.907-64a32 32 0 0 1 34.518-53.675l3.968 2.56 62.72 47.275L329.6 137.472a32 32 0 0 1 45.227.085zm531.328 75.819a32 32 0 0 1 4.309 63.701l-4.31.299H459.35a32 32 0 0 1-4.352-63.744l4.352-.256h446.806z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-slider-field"><path d="M951.453 476.844H523.672a131.836 131.836 0 0 0-254.18 0H72.547v70.312h196.945a131.836 131.836 0 0 0 254.18 0h427.781z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-slot-component"><path d="M512 102.4c-212.48 0-384 171.52-384 384s171.52 384 384 384 384-171.52 384-384-171.52-384-384-384zm25.6 716.8v-128c0-15.36-10.24-25.6-25.6-25.6s-25.6 10.24-25.6 25.6v128C322.56 806.4 192 675.84 179.2 512h128c15.36 0 25.6-10.24 25.6-25.6s-10.24-25.6-25.6-25.6h-128C192 296.96 322.56 166.4 486.4 156.16V281.6c0 15.36 10.24 25.6 25.6 25.6s25.6-10.24 25.6-25.6V156.16C701.44 168.96 832 299.52 844.8 460.8h-128c-15.36 0-25.6 10.24-25.6 25.6s10.24 25.6 25.6 25.6h128C832 675.84 701.44 806.4 537.6 819.2z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-slot-field"><path d="M493.969 244.87h36.285q18.031 0 18.031 18.03v217.267q0 18.031-18.031 18.031h-36.285q-18.032 0-18.032-18.031V262.901q0-18.031 18.032-18.031ZM323.45000000000005 525.802h36.286q18.031 0 18.031 18.031v217.266q0 18.031-18.031 18.031H323.45q-18.03 0-18.03-18.03V543.832q0-18.031 18.03-18.031ZM664.2639999999999 525.802h36.286q18.03 0 18.03 18.031v217.266q0 18.031-18.03 18.031h-36.286q-18.031 0-18.031-18.03V543.832q0-18.031 18.031-18.031Z" /><path d="M827.437 122.212H196.563a74.574 74.574 0 0 0-74.35 74.351v630.874a74.574 74.574 0 0 0 74.35 74.35h630.874a74.574 74.574 0 0 0 74.35-74.35V196.563a74.574 74.574 0 0 0-74.35-74.35zm52.09 705.225a52.09 52.09 0 0 1-52.09 52.09H196.563a52.09 52.09 0 0 1-52.09-52.09V196.563a52.09 52.09 0 0 1 52.09-52.09h630.874a52.09 52.09 0 0 1 52.09 52.09z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-static-text"><path d="M213.333 160c-4.821 0-9.472.64-13.824 1.792a32 32 0 0 1-16.554-61.824C192.683 97.408 202.88 96 213.333 96h33.195a32 32 0 0 1 0 64h-33.195zm133.931-32a32 32 0 0 1 32-32h66.347a32 32 0 1 1 0 64h-66.304a32 32 0 0 1-32-32zm199.125 0a32 32 0 0 1 32-32h66.347a32 32 0 0 1 0 64h-66.347a32 32 0 0 1-32-32zm199.083 0a32 32 0 0 1 32-32h33.195c10.453 0 20.65 1.365 30.378 3.968a32 32 0 1 1-16.554 61.867A53.419 53.419 0 0 0 810.667 160h-33.195a32 32 0 0 1-32-32zm-606.293 32.341a32 32 0 0 1 22.613 39.168A53.461 53.461 0 0 0 160 213.333v33.195a32 32 0 0 1-64 0v-33.195c0-10.453 1.365-20.65 3.968-30.378a32 32 0 0 1 39.168-22.614zm745.685 0a32 32 0 0 1 39.168 22.614c2.56 9.728 3.968 19.925 3.968 30.378v33.195a32 32 0 0 1-64 0v-33.195c0-4.821-.64-9.472-1.792-13.824a32 32 0 0 1 22.613-39.168zM128 347.221a32 32 0 0 1 32 32v66.39a32 32 0 1 1-64 0v-66.304a32 32 0 0 1 32-32zm768 0a32 32 0 0 1 32 32v66.39a32 32 0 1 1-64 0v-66.304a32 32 0 0 1 32-32zM128 546.432a32 32 0 0 1 32 32v66.347a32 32 0 0 1-64 0v-66.347a32 32 0 0 1 32-32zm768 0a32 32 0 0 1 32 32v66.347a32 32 0 0 1-64 0v-66.347a32 32 0 0 1 32-32zm0 199.083a32 32 0 0 1 32 32v33.152c0 10.453-1.365 20.65-3.968 30.378a32 32 0 1 1-61.867-16.554c1.195-4.352 1.835-8.96 1.835-13.824v-33.195a32 32 0 0 1 32-32zm-768 0a32 32 0 0 1 32 32v33.152c0 4.821.64 9.472 1.792 13.824a32 32 0 0 1-61.824 16.512A117.461 117.461 0 0 1 96 810.667v-33.195a32 32 0 0 1 32-32zm32.341 139.392a32 32 0 0 1 39.168-22.656 53.814 53.814 0 0 0 13.824 1.792h33.195a32 32 0 0 1 0 64h-33.195c-10.453 0-20.65-1.366-30.378-3.968a32 32 0 0 1-22.614-39.168zm703.318 0a32 32 0 0 1-22.614 39.168c-9.728 2.56-19.925 3.968-30.378 3.968h-33.195a32 32 0 0 1 0-64h33.195c4.821 0 9.472-.64 13.824-1.792a32 32 0 0 1 39.168 22.613zM347.307 896a32 32 0 0 1 32-32h66.346a32 32 0 1 1 0 64h-66.346a32 32 0 0 1-32-32zm199.125 0a32 32 0 0 1 32-32h66.347a32 32 0 0 1 0 64h-66.347a32 32 0 0 1-32-32zM341.333 352a32 32 0 0 0 0 64H480v266.667a32 32 0 0 0 64 0V416h138.667a32 32 0 0 0 0-64H341.333z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-sub-form"><path d="M512 106.667H112a5.333 5.333 0 0 0-5.333 5.333v800a5.333 5.333 0 0 0 5.333 5.333h800a5.333 5.333 0 0 0 5.333-5.333V112a5.333 5.333 0 0 0-5.333-5.333zm0 74.666h325.333a5.333 5.333 0 0 1 5.334 5.334v160a5.333 5.333 0 0 1-5.334 5.333H186.667a5.333 5.333 0 0 1-5.334-5.333v-160a5.333 5.333 0 0 1 5.334-5.334zM597.333 432v405.333a5.333 5.333 0 0 1-5.333 5.334H432a5.333 5.333 0 0 1-5.333-5.334V432a5.333 5.333 0 0 1 5.333-5.333h160a5.333 5.333 0 0 1 5.333 5.333zm-410.666-5.333h160A5.333 5.333 0 0 1 352 432v405.333a5.333 5.333 0 0 1-5.333 5.334h-160a5.333 5.333 0 0 1-5.334-5.334V432a5.333 5.333 0 0 1 5.334-5.333zM672 837.333V432a5.333 5.333 0 0 1 5.333-5.333h160a5.333 5.333 0 0 1 5.334 5.333v405.333a5.333 5.333 0 0 1-5.334 5.334h-160a5.333 5.333 0 0 1-5.333-5.334z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-switch-field"><path d="M692 792H332C182 792 62 672 62 522s120-270 270-270h360c150 0 270 120 270 270 0 147-120 270-270 270zM332 312c-117 0-210 93-210 210s93 210 210 210h360c117 0 210-93 210-210s-93-210-210-210H332z" /><path d="M191 522a150 150 0 1 0 300 0 150 150 0 1 0-300 0z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-tab"><path d="M908.8 1005.44H115.2A101.76 101.76 0 0 1 14.08 903.68V110.72A101.76 101.76 0 0 1 115.2 8.96h296.96a32.64 32.64 0 0 1 32 32V262.4a32 32 0 0 1-32 32 32 32 0 0 1-32-32v-192H115.2a37.76 37.76 0 0 0-37.12 37.76v795.52a37.76 37.76 0 0 0 37.12 37.76h793.6a37.76 37.76 0 0 0 37.12-37.76V267.52a32 32 0 0 1 32-32 32 32 0 0 1 32 32v636.16a101.76 101.76 0 0 1-101.12 101.76z" /><path d="M977.92 299.52a32.64 32.64 0 0 1-32-32v-87.04a37.12 37.12 0 0 0-37.12-37.76H421.12a32 32 0 0 1-32-32 32 32 0 0 1 32-32H908.8a101.76 101.76 0 0 1 101.12 101.76v87.04a32 32 0 0 1-32 32z" /><path d="M977.92 299.52H64a32 32 0 0 1-32-32 32 32 0 0 1 32-32h913.92a32 32 0 0 1 32 32 32 32 0 0 1-32 32z" /><path d="M699.52 299.52a32 32 0 0 1-32-32v-156.8a32 32 0 0 1 64 0v156.8a32 32 0 0 1-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-table"><path d="M925.586 0H101.369C69.885 0 42.24 28.924 42.24 62.328v902.8c0 33.403 27.645 58.872 59.129 58.872h824.217c31.484 0 56.057-25.469 56.057-58.873V62.328C981.643 28.924 957.198 0 925.586 0zM373.719 735.908V543.932h276.445v191.976zm276.445 42.235v203.494H373.719V778.143zm287.964-276.446h-244.45V298.203h244.45zm-287.964 0H373.719V298.203h276.445zm-319.96 0H85.754V298.203h244.45zm-244.45 42.235h244.45v191.976H85.754zm607.925 0h244.449v191.976h-244.45zM101.369 42.235h824.217c7.807 0 12.542 10.366 12.542 20.093v193.64H85.755V62.328c0-9.727 7.807-20.093 15.614-20.093zM85.755 964.999V778.143h244.449v203.494H101.369c-7.807 0-15.614-6.91-15.614-16.51zm839.83 16.638H693.68V778.143h244.449v186.856c0 9.727-4.607 16.638-12.542 16.638z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-text-field"><path d="M896 224H128c-35.2 0-64 28.8-64 64v448c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V288c0-35.2-28.8-64-64-64zm0 480c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V320c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v384z" /><path d="M224 352c-19.2 0-32 12.8-32 32v256c0 16 12.8 32 32 32s32-12.8 32-32V384c0-16-12.8-32-32-32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-textarea-field"><path d="M896.4 173.1H128.9c-35.2 0-49 13.8-49 49v575.6c0 35.2 13.8 49 49 49h767.5c35.2 0 49-13.8 49-49V222.1c0-35.2-13.8-49-49-49zm0 592.6c0 16-12.8 32-32 32H160.9c-19.2 0-32-12.8-32-32V254.1c0-16 12.8-32 32-32h703.5c19.2 0 32 12.8 32 32v511.6z" /><path d="M710.2 766.7h141.5c8.1 0 14.7-6.6 14.7-14.7V610.4c0-1.3-1.6-2-2.6-1.1L709.1 764.1c-1 1-.3 2.6 1.1 2.6zm-503-172.4h-13.5c-10 0-18.2-8.2-18.2-18.2V291.8c0-10.2 8.4-18.6 18.6-18.6h12.8c10.2 0 18.6 8.4 18.6 18.6v284.3c-.1 10-8.3 18.2-18.3 18.2z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-time-field"><path d="M512 39.385A472.615 472.615 0 1 0 984.615 512 472.615 472.615 0 0 0 512 39.385zm0 866.461A393.846 393.846 0 1 1 905.846 512 393.846 393.846 0 0 1 512 905.846zm75.855-373.72A77.154 77.154 0 0 0 590.769 512a78.454 78.454 0 0 0-39.384-67.86V196.923a39.385 39.385 0 0 0-78.77 0V444.14a78.336 78.336 0 0 0 59.55 143.715l70.144 70.144a39.385 39.385 0 0 0 55.69-55.69zM512 551.385A39.385 39.385 0 1 1 551.385 512 39.385 39.385 0 0 1 512 551.385zm315.077-78.77A39.385 39.385 0 1 0 866.462 512a39.385 39.385 0 0 0-39.385-39.385zm-630.154 0A39.385 39.385 0 1 0 236.308 512a39.385 39.385 0 0 0-39.385-39.385zm509.991 234.3a39.385 39.385 0 1 0 55.69 0 39.385 39.385 0 0 0-55.69 0zM317.007 317.006a39.385 39.385 0 1 0-55.73 0 39.385 39.385 0 0 0 55.809.04zM512 787.692a39.385 39.385 0 1 0 39.385 39.385A39.385 39.385 0 0 0 512 787.692zm-250.604-80.778a39.385 39.385 0 1 0 55.69 0 39.385 39.385 0 0 0-55.69-.039zm445.518-445.518a39.385 39.385 0 1 0 55.69 0 39.385 39.385 0 0 0-55.69-.04z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-time-range-field"><path d="M498.596 482.29H345.42v57.308h210.478V274.197h-57.301V482.29zm79.089 162.695h379.88v57.302h-379.88v-57.302zm0 128.78h379.88v57.307h-379.88v-57.307zm0 128.785h379.88v57.307h-379.88V902.55zm0 0" /><path d="M102.523 382.29a28.668 28.668 0 0 0 23.367 2.56l190.81-61.886c15.053-4.883 23.298-21.04 18.415-36.09-4.882-15.052-21.04-23.297-36.093-18.415l-123.346 40c15.994-26.117 35.17-50.538 57.37-72.745 73.768-73.767 171.847-114.388 276.169-114.388 104.32 0 202.395 40.622 276.161 114.388S899.77 407.56 899.77 511.882c0 26.428-2.616 52.45-7.71 77.78h58.303c4.465-25.499 6.709-51.47 6.709-77.78 0-60.45-11.846-119.102-35.205-174.336-22.56-53.335-54.85-101.227-95.969-142.35-41.122-41.122-89.017-73.408-142.348-95.968-55.233-23.361-113.89-35.207-174.334-35.207-60.45 0-119.107 11.846-174.337 35.208-53.335 22.56-101.23 54.846-142.35 95.969-23.98 23.98-44.933 50.278-62.727 78.6l-20.738-105.654c-3.043-15.528-18.105-25.642-33.632-22.6-15.528 3.048-25.643 18.105-22.6 33.637l36.103 183.932a28.666 28.666 0 0 0 13.588 19.178zm23.497 205.652H67.768c5.76 33.679 15.368 66.544 28.79 98.278 22.56 53.334 54.85 101.225 95.972 142.348 41.123 41.123 89.014 73.409 142.349 95.969 54.112 22.888 111.518 34.711 170.668 35.182v-57.324c-102.95-.941-199.595-41.446-272.5-114.349-55.501-55.502-92.237-124.77-107.027-200.104zm0 0" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-undo"><path d="M609.206 396.656H193.504l201.87-199.152c17.787-17.787 17.787-43.185 0-60.973s-41.555-18.641-59.42-.778L62.857 402.557c-17.787 17.787-17.787 41.399 0 59.186L336.03 728.858c17.787 17.787 41.555 17.787 59.42-.078 17.787-17.787 17.787-41.166 0-58.953L193.502 474.326h415.702c166.219 0 311.155 129.712 311.155 290.029v41.555c0 23.769 15.069 41.555 38.836 41.555s38.836-17.787 38.836-41.555v-41.555c0-207.852-175.073-367.7-388.828-367.7z" /></symbol><symbol class="icon" viewBox="0 0 1026 1024"  id="icon-vf-dialog"><defs><style>@font-face{font-family:"feedback-iconfont";src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M897.024 0q26.624 0 49.664 10.24t40.448 27.648 27.648 40.448 10.24 49.664v576.512q0 26.624-10.24 49.664t-27.648 40.448-40.448 27.648-49.664 10.24h-128v-128h63.488q26.624 0 45.568-18.432t18.944-45.056V320.512q0-26.624-18.944-45.568T832.512 256h-512q-26.624 0-45.568 18.944T256 320.512V384H128V128q0-26.624 10.24-49.664t27.648-40.448 40.448-27.648T256 0h641.024zM576.512 448.512q26.624 0 49.664 10.24t40.448 27.648 27.648 40.448 10.24 49.664v256q0 26.624-10.24 49.664t-27.648 40.448-40.448 27.648-49.664 10.24h-384q-26.624 0-50.176-10.24t-40.96-27.648-27.648-40.448-10.24-49.664v-256q0-26.624 10.24-49.664t27.648-40.448 40.96-27.648 50.176-10.24h384zm0 256q0-26.624-18.944-45.056T512 641.024H256q-26.624 0-45.056 18.432t-18.432 45.056v64.512q0 26.624 18.432 45.056T256 832.512h256q26.624 0 45.568-18.432t18.944-45.056v-64.512z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-vf-drawer"><defs><style>@font-face{font-family:"feedback-iconfont";src:url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944) format("woff2"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944) format("woff"),url(//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944) format("truetype")}</style></defs><path d="M128 765.952q0 26.624 18.432 45.056t45.056 18.432h191.488v128H128q-26.624 0-49.664-10.24t-40.448-27.648-27.648-40.448T0 829.44V191.488q0-25.6 10.24-49.152t27.648-40.448 40.448-27.136T128 64.512h701.44q26.624 0 49.664 10.24t40.448 27.136 27.648 40.448 10.24 49.152v251.904l-128 1.024v-61.44q0-26.624-18.432-45.056t-45.056-18.432H191.488q-26.624 0-45.056 18.432T128 382.976v382.976zm862.208-60.416q21.504 18.432 22.016 34.304t-20.992 33.28q-21.504 18.432-51.2 41.472t-60.928 48.128-61.952 49.152-55.296 43.52q-26.624 20.48-43.52 15.36t-16.896-31.744q1.024-16.384 0-40.448t-1.024-41.472q0-19.456-10.752-24.064t-31.232-4.608q-21.504 0-39.936-.512t-35.84-.512-36.352-.512-41.472-.512q-9.216 0-19.968-2.048t-19.456-7.168-14.336-15.36-5.632-27.648v-80.896q0-31.744 15.36-42.496T508.928 640q30.72 1.024 61.44 1.024t71.68 1.024q29.696 0 46.08-5.12t16.384-25.6q-1.024-14.336.512-35.328t1.536-37.376q0-26.624 14.336-33.28t36.864 10.752q22.528 18.432 52.736 43.008t61.952 50.688 62.976 51.2 54.784 44.544z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-vue-sfc"><path d="M454.138 11.176 54.066 174.092c-72.088 29.49-72.088 120.523 0 150.014l400.276 162.916c36.454 14.95 78.847 14.95 115.506 0l400.071-162.814c72.191-29.593 72.089-120.83-.307-150.116L569.746 11.278a155.339 155.339 0 0 0-115.608-.205zm469.19 237.872L532.37 408.585l-7.885 2.457a55.09 55.09 0 0 1-32.562-2.457L100.35 249.048l391.265-159.23a55.09 55.09 0 0 1 40.447 0l391.162 159.23z" fill="#1890FF" /><path d="M498.681 729.911c-20.275 0-40.652-3.788-59.391-11.673L53.76 561.26C20.48 547.847 0 519.89 0 488.558c0-31.436 20.582-59.391 53.862-72.703l36.556-15.053c21.401-8.806 47.103-1.024 57.24 17.408 10.24 18.227 1.025 40.14-20.479 48.947l-36.454 14.95c-3.072 1.229-4.71 3.584-4.71 6.45 0 3.073 1.536 5.12 4.71 6.452l385.326 156.875c14.336 5.939 30.924 5.939 45.362 0L906.74 495.009c3.072-1.229 4.915-3.584 4.915-6.451 0-3.072-1.536-5.222-4.607-6.451l-44.851-18.227c-21.401-8.806-30.412-30.72-20.377-48.947 10.342-18.329 35.84-26.214 57.24-17.407l44.851 18.431c33.177 13.517 53.76 41.267 53.76 72.703 0 31.334-20.48 59.391-53.76 72.703L558.482 718.238a161.585 161.585 0 0 1-59.801 11.673z" fill="#5DE1C8" /><path d="M498.681 966.247c-20.275 0-40.652-3.89-59.391-11.673L53.76 797.597C20.48 784.08 0 756.227 0 724.997c0-31.437 20.582-59.494 53.862-72.806l36.556-14.95c21.401-8.807 47.103-1.024 57.24 17.407 10.24 18.227 1.025 40.14-20.479 48.947l-36.454 14.95c-3.072 1.126-4.71 3.584-4.71 6.451 0 3.072 1.536 5.12 4.71 6.349l385.326 156.977c14.336 5.939 30.924 5.939 45.362 0L906.74 731.14c3.072-1.126 4.915-3.584 4.915-6.349 0-3.072-1.536-5.324-4.607-6.45l-44.851-18.33c-21.401-8.806-30.412-30.72-20.377-48.947 10.342-18.431 35.84-26.214 57.24-17.407l44.851 18.329c33.177 13.517 53.76 41.369 53.76 72.703 0 31.436-20.48 59.494-53.76 72.805l-385.428 157.08a161.585 161.585 0 0 1-59.801 11.673z" fill="#FF7272" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-custom-search"><path d="M863.3 641.94A416.1 416.1 0 0 0 96.7 318.06a416.1 416.1 0 0 0 766.6 323.88zM480 832a352 352 0 1 1 248.9-103.1A349.69 349.69 0 0 1 480 832z" /><path d="m950.63 841.37-96-96a32 32 0 0 0-45.25 45.25l96 96a13.25 13.25 0 1 1-18.75 18.75l-96-96a32 32 0 0 0-45.25 45.25l96 96a77.25 77.25 0 1 0 109.25-109.25z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-arrow-down"><path d="M512 714.667c-8.533 0-17.067-2.134-23.467-8.534L147.2 364.8c-12.8-12.8-12.8-32 0-44.8 12.8-12.8 32-12.8 44.8 0l320 317.867 317.867-320c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8L533.333 704c-4.266 8.533-12.8 10.667-21.333 10.667z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-back"><path fill="currentColor" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z" /><path fill="currentColor" d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-clone"><path d="M774.144 839.68c-.683 36.864-13.483 67.755-38.4 92.672s-55.808 37.717-92.672 38.4H184.32c-36.864-.683-67.755-13.483-92.672-38.4s-37.717-55.808-38.4-92.672V380.928c.683-36.864 13.483-67.755 38.4-92.672s55.808-37.717 92.672-38.4v65.536c-18.432.683-33.792 7.168-46.08 19.456s-18.773 27.648-19.456 46.08V839.68c.683 18.432 7.168 33.792 19.456 46.08s27.648 18.773 46.08 19.456h458.752c18.432-.683 33.792-7.168 46.08-19.456s18.773-27.648 19.456-46.08h65.536zM380.928 118.784c-18.432.683-33.792 7.168-46.08 19.456s-18.773 27.648-19.456 46.08v458.752c.683 18.432 7.168 33.792 19.456 46.08s27.648 18.773 46.08 19.456H839.68c18.432-.683 33.792-7.168 46.08-19.456s18.773-27.648 19.456-46.08V184.32c-.683-18.432-7.168-33.792-19.456-46.08s-27.648-18.773-46.08-19.456H380.928zm0-65.536H839.68c36.864.683 67.755 13.483 92.672 38.4s37.717 55.808 38.4 92.672v458.752c-.683 36.864-13.483 67.755-38.4 92.672s-55.808 37.717-92.672 38.4H380.928c-36.864-.683-67.755-13.483-92.672-38.4s-37.717-55.808-38.4-92.672V184.32c.683-36.864 13.483-67.755 38.4-92.672s55.808-37.717 92.672-38.4z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-delete"><path fill="currentColor" d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-download"><path d="M896 672c-17.067 0-32 14.933-32 32v128c0 6.4-4.267 10.667-10.667 10.667H170.667c-6.4 0-10.667-4.267-10.667-10.667V704c0-17.067-14.933-32-32-32s-32 14.933-32 32v128c0 40.533 34.133 74.667 74.667 74.667h682.666C893.867 906.667 928 872.533 928 832V704c0-17.067-14.933-32-32-32z" /><path d="M488.533 727.467c6.4 6.4 14.934 8.533 23.467 8.533s17.067-2.133 23.467-8.533L748.8 514.133c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L546.133 627.2V170.667c0-17.067-14.933-32-32-32S480 153.6 480 170.667V627.2L322.133 469.333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l211.2 213.334z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-drag-move"><path d="M909.3 506.3 781.7 405.6c-4.7-3.7-11.7-.4-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7c-2.9-3.7-8.5-3.7-11.3 0L405.6 242.3c-3.7 4.7-.4 11.7 5.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3c-3.7 2.9-3.7 8.5 0 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8c3.7-2.9 3.7-8.5.1-11.4z" /></symbol><symbol fill="none"  viewBox="0 0 22 21" id="icon-el-error-circle"><mask id="icon-el-error-circle_a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="22" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.126.907a1 1 0 0 1 1.748 0l9.967 17.94a1 1 0 0 1-.874 1.486H1.033a1 1 0 0 1-.874-1.485L10.126.907ZM9.892 9.25h2.187l-.437 4.667h-1.313L9.892 9.25Zm1.085 7.642a1.138 1.138 0 1 0 0-2.275 1.138 1.138 0 0 0 0 2.275Z" fill="#fff" /></mask><g mask="url(#icon-el-error-circle_a)"><path fill="#ED6A0C" d="M-3-3h28v28H-3z" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-form-template"><path d="M298.667 981.333A85.333 85.333 0 0 1 213.333 896V128a85.333 85.333 0 0 1 85.334-85.333h426.666A85.333 85.333 0 0 1 810.667 128v768a85.333 85.333 0 0 1-85.334 85.333zm0-832v725.334A21.333 21.333 0 0 0 320 896h384a21.333 21.333 0 0 0 21.333-21.333V149.333A21.333 21.333 0 0 0 704 128H320a21.333 21.333 0 0 0-21.333 21.333zm640 618.667V256a42.667 42.667 0 0 1 42.666-42.667A42.667 42.667 0 0 1 1024 256v512a42.667 42.667 0 0 1-42.667 42.667A42.667 42.667 0 0 1 938.667 768zM0 768V256a42.667 42.667 0 0 1 42.667-42.667A42.667 42.667 0 0 1 85.333 256v512a42.667 42.667 0 0 1-42.666 42.667A42.667 42.667 0 0 1 0 768z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-hide"><path d="M956.8 496c-41.6-70.4-99.2-147.2-176-204.8l105.6-105.6c12.8-12.8 12.8-32 0-44.8s-32-12.8-44.8 0L726.4 256C665.6 214.4 592 192 512 192c-214.4 0-358.4 166.4-444.8 304-6.4 9.6-6.4 22.4 0 32 41.6 70.4 102.4 147.2 176 204.8L134.4 841.6c-12.8 12.8-12.8 32 0 44.8 9.6 6.4 16 9.6 25.6 9.6s16-3.2 22.4-9.6l115.2-115.2C358.4 809.6 432 832 512 832c185.6 0 374.4-128 444.8-307.2 3.2-9.6 3.2-19.2 0-28.8zm-822.4 16C211.2 390.4 336 256 512 256c60.8 0 118.4 16 166.4 44.8l-80 80C576 361.6 544 352 512 352c-89.6 0-160 70.4-160 160 0 32 9.6 64 25.6 89.6L288 691.2C224 640 172.8 572.8 134.4 512zm473.6 0c0 54.4-41.6 96-96 96-16 0-28.8-3.2-41.6-9.6l128-128c6.4 12.8 9.6 25.6 9.6 41.6zm-192 0c0-54.4 41.6-96 96-96 16 0 28.8 3.2 41.6 9.6l-128 128c-6.4-12.8-9.6-25.6-9.6-41.6zm96 256c-60.8 0-118.4-16-166.4-44.8l80-80C448 662.4 480 672 512 672c89.6 0 160-70.4 160-160 0-32-9.6-64-25.6-89.6l89.6-89.6C803.2 384 854.4 451.2 892.8 512 825.6 659.2 665.6 768 512 768z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-info"><path d="M512.001 928.997c230.524 0 418.076-187.552 418.075-418.077 0-230.527-187.552-418.077-418.075-418.077S93.924 280.393 93.924 510.92c0 230.525 187.552 418.077 418.077 418.077zM512 301.88c28.86 0 52.26 23.399 52.26 52.263 0 28.858-23.399 52.257-52.26 52.257s-52.26-23.399-52.26-52.257c0-28.863 23.399-52.263 52.26-52.263zm-52.26 209.042c0-28.86 23.399-52.26 52.26-52.26s52.26 23.399 52.26 52.26v156.775c0 28.86-23.399 52.26-52.26 52.26s-52.26-23.399-52.26-52.26V510.922z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-insert-column"><path d="M653.184 713.6c12.864-12.864 33.6-12.864 46.528 0 6.4 6.4 3.776 14.72 3.776 23.232a32.675 32.675 0 0 1-9.6 23.104L569.92 886.4c-.128.128-.32.192-.512.32-2.88 2.88-9.536 5.184-13.312 6.784-3.456 1.344-.64 1.856-4.096 2.112-.768 0-1.344.384-2.048.384-.512 0-.896-.256-1.344-.256-3.84-.192-5.76-.896-9.344-2.24-3.264-1.344-6.016-3.52-8.64-5.76-.64-.512-1.472-.768-2.048-1.344L391.232 760c-12.864-12.736-6.976-33.6 5.888-46.4 12.8-12.864 33.6-12.864 46.464 0l105.472 100.352L653.184 713.6zM384 64v576h320V64H384zM128 704v256H64V640h256v320h-62.976L256 704H128m704 0v256h-64V640h256v320h-62.976L960 704H832" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-insert-row"><path d="M310.336 653.184c12.864 12.864 12.864 33.6 0 46.528-6.4 6.4-14.72 3.776-23.168 3.776s-16.832-3.264-23.168-9.6L137.6 569.92c-.128-.128-.192-.32-.256-.512-2.88-2.816-5.248-9.536-6.848-13.312-1.344-3.392-1.856-.576-2.112-4.096 0-.768-.384-1.344-.384-2.048 0-.512.256-.896.256-1.344.192-3.84.896-5.76 2.24-9.344 1.344-3.264 3.52-6.016 5.76-8.64.512-.704.768-1.536 1.344-2.112l126.336-137.344c12.8-12.864 33.6-6.976 46.4 5.888 12.864 12.8 12.864 33.6 0 46.464L210.048 548.992l100.288 104.192zM960 384H384v320h576V384zM320 128H64V64h320v256H64v-62.976L320 256V128m0 704H64v-64h320v256H64v-62.976L320 960V832" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-menu"><path d="M844.8 883.2h-256c-19.2 0-38.4-19.2-38.4-38.4v-256c0-19.2 19.2-38.4 38.4-38.4h256c19.2 0 38.4 19.2 38.4 38.4v256c0 19.2-19.2 38.4-38.4 38.4zm0-403.2h-256c-19.2 0-38.4-19.2-38.4-38.4v-256c0-19.2 19.2-38.4 38.4-38.4h256c19.2 0 38.4 19.2 38.4 38.4v256c0 19.2-19.2 38.4-38.4 38.4zM435.2 883.2h-256c-19.2 0-38.4-19.2-38.4-38.4v-256c0-19.2 19.2-38.4 38.4-38.4h256c19.2 0 38.4 19.2 38.4 38.4v256c6.4 19.2-12.8 38.4-38.4 38.4zm0-403.2h-256c-19.2 0-38.4-19.2-38.4-38.4v-256c0-19.2 19.2-38.4 38.4-38.4h256c19.2 0 38.4 19.2 38.4 38.4v256c6.4 19.2-12.8 38.4-38.4 38.4z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-move-down"><path d="M898.133 512c-12.8-12.8-32-12.8-44.8-2.133L544 800V149.333c0-17.066-14.933-32-32-32s-32 14.934-32 32V800L170.667 509.867c-12.8-12.8-34.134-10.667-44.8 2.133-12.8 12.8-10.667 34.133 2.133 44.8l362.667 341.333c2.133 2.134 6.4 4.267 8.533 6.4 4.267 2.134 6.4 2.134 10.667 2.134s8.533 0 10.666-2.134c4.267-2.133 6.4-4.266 8.534-6.4L891.733 556.8c17.067-12.8 19.2-32 6.4-44.8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-move-up"><path d="M896 467.2 533.333 125.867c-2.133-2.134-6.4-4.267-8.533-6.4-4.267-2.134-6.4-2.134-10.667-2.134s-8.533 0-10.666 2.134c-4.267 2.133-6.4 4.266-8.534 6.4L132.267 467.2c-12.8 12.8-12.8 32-2.134 44.8 12.8 12.8 32 12.8 44.8 2.133L484.267 224v650.667c0 17.066 14.933 32 32 32s32-14.934 32-32V224l305.066 290.133c6.4 6.4 14.934 8.534 21.334 8.534 8.533 0 17.066-4.267 23.466-10.667 12.8-12.8 10.667-32-2.133-44.8z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-plus"><path d="M554.667 213.333h-85.334v256h-256v85.334h256v256h85.334v-256h256v-85.334h-256z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-set-up"><path d="M217.088 151.552c-18.432.683-33.792 7.168-46.08 19.456s-18.773 27.648-19.456 46.08v589.824c.683 18.432 7.168 33.792 19.456 46.08s27.648 18.773 46.08 19.456h589.824c18.432-.683 33.792-7.168 46.08-19.456s18.773-27.648 19.456-46.08V217.088c-.683-18.432-7.168-33.792-19.456-46.08s-27.648-18.773-46.08-19.456H217.088zm0-65.536h589.824c36.864.683 67.755 13.483 92.672 38.4s37.717 55.808 38.4 92.672v589.824c-.683 36.864-13.483 67.755-38.4 92.672s-55.808 37.717-92.672 38.4H217.088c-36.864-.683-67.755-13.483-92.672-38.4s-37.717-55.808-38.4-92.672V217.088c.683-36.864 13.483-67.755 38.4-92.672s55.808-37.717 92.672-38.4zm163.84 327.68c18.432-.683 33.792-7.168 46.08-19.456s18.432-27.648 18.432-46.08-6.144-33.792-18.432-46.08-27.648-18.432-46.08-18.432-33.792 6.144-46.08 18.432-18.432 27.648-18.432 46.08 6.144 33.792 18.432 46.08 27.648 18.773 46.08 19.456zm0 65.536c-36.864-.683-67.755-13.483-92.672-38.4s-37.717-55.808-38.4-92.672c.683-36.864 13.483-67.755 38.4-92.672s55.808-37.717 92.672-38.4c36.864.683 67.755 13.483 92.672 38.4s37.717 55.808 38.4 92.672c-.683 36.864-13.483 67.755-38.4 92.672s-55.808 37.717-92.672 38.4zm98.304-163.84h262.144c21.845 0 32.768 10.923 32.768 32.768s-10.923 32.768-32.768 32.768H479.232c-21.845 0-32.768-10.923-32.768-32.768s10.923-32.768 32.768-32.768zm163.84 425.984c18.432-.683 33.792-7.168 46.08-19.456s18.432-27.648 18.432-46.08-6.144-33.792-18.432-46.08-27.648-18.432-46.08-18.432-33.792 6.144-46.08 18.432-18.432 27.648-18.432 46.08 6.144 33.792 18.432 46.08 27.648 18.773 46.08 19.456zm0 65.536c-36.864-.683-67.755-13.483-92.672-38.4s-37.717-55.808-38.4-92.672c.683-36.864 13.483-67.755 38.4-92.672s55.808-37.717 92.672-38.4c36.864.683 67.755 13.483 92.672 38.4s37.717 55.808 38.4 92.672c-.683 36.864-13.483 67.755-38.4 92.672s-55.808 37.717-92.672 38.4zm-360.448-163.84h262.144c21.845 0 32.768 10.923 32.768 32.768s-10.923 32.768-32.768 32.768H282.624c-21.845 0-32.768-10.923-32.768-32.768s10.923-32.768 32.768-32.768z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="icon-el-view"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z" /></symbol>';
    body.insertBefore(svgDom, body.firstChild);
  };
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", loadSvg);
  } else {
    loadSvg();
  }
}
function _isSlot(s) {
  return typeof s === "function" || Object.prototype.toString.call(s) === "[object Object]" && !isVNode(s);
}
const createInputTextEditor = function(propName, propLabelKey) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-input"), {
          "type": "text",
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event
        }, null)]
      });
    }
  };
};
const createInputNumberEditor = function(propName, propLabelKey) {
  return {
    props: {
      optionModel: Object
    },
    methods: {
      updateValue(newValue) {
        if (newValue === void 0 || newValue === null || isNaN(newValue)) {
          this.optionModel[propName] = null;
        } else {
          this.optionModel[propName] = Number(newValue);
        }
      }
    },
    render(h2) {
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-input-number"), {
          "type": "text",
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event,
          "onChange": this.updateValue,
          "style": "width: 100%"
        }, null)]
      });
    }
  };
};
const createBooleanEditor = function(propName, propLabelKey) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-switch"), {
          "checked": this.optionModel[propName],
          "onUpdate:checked": ($event) => this.optionModel[propName] = $event
        }, null)]
      });
    }
  };
};
const createCheckboxGroupEditor = function(propName, propLabelKey, configs) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      let _slot;
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-checkbox-group"), {
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event
        }, _isSlot(_slot = configs.optionItems.map((item) => {
          return createVNode(resolveComponent("a-checkbox"), {
            "value": item.value
          }, {
            default: () => [item.label]
          });
        })) ? _slot : {
          default: () => [_slot]
        })]
      });
    }
  };
};
const createRadioGroupEditor = function(propName, propLabelKey, configs) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      let _slot2;
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-radio-group"), {
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event
        }, _isSlot(_slot2 = configs.optionItems.map((item) => {
          return createVNode(resolveComponent("a-radio"), {
            "value": item.value
          }, {
            default: () => [item.label]
          });
        })) ? _slot2 : {
          default: () => [_slot2]
        })]
      });
    }
  };
};
const createRadioButtonGroupEditor = function(propName, propLabelKey, configs) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      let _slot3;
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-radio-group"), {
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event
        }, _isSlot(_slot3 = configs.optionItems.map((item) => {
          return createVNode(resolveComponent("a-radio-button"), {
            "value": item.value
          }, {
            default: () => [item.label]
          });
        })) ? _slot3 : {
          default: () => [_slot3]
        })]
      });
    }
  };
};
const createSelectEditor = function(propName, propLabelKey, configs) {
  return {
    props: {
      optionModel: Object
    },
    render(h2) {
      return createVNode(resolveComponent("a-form-item"), {
        "label": translate$2(propLabelKey)
      }, {
        default: () => [createVNode(resolveComponent("a-select"), {
          "value": this.optionModel[propName],
          "onUpdate:value": ($event) => this.optionModel[propName] = $event,
          "options": configs.optionItems
        }, null)]
      });
    }
  };
};
const createEventHandlerEditor = function(eventPropName, eventParams) {
  return {
    props: {
      optionModel: Object
    },
    mixins: [emitter],
    methods: {
      editEventHandler() {
        this.dispatch("SettingPanel", "editEventHandler", [eventPropName, [...eventParams]]);
      }
    },
    render(h2) {
      let _slot4;
      return createVNode(resolveComponent("a-form-item"), {
        "label": eventPropName,
        "label-width": "150px"
      }, {
        default: () => [createVNode(resolveComponent("a-button"), {
          "type": "info",
          "plain": true,
          "shape": "round",
          "onClick": this.editEventHandler
        }, _isSlot(_slot4 = translate$2("designer.setting.addEventHandler")) ? _slot4 : {
          default: () => [_slot4]
        })]
      });
    }
  };
};
const createEmptyEditor = function() {
  return {
    render() {
      return createVNode("div", {
        "style": "display: none"
      }, null);
    }
  };
};
const PEFactory = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  createBooleanEditor,
  createCheckboxGroupEditor,
  createEmptyEditor,
  createEventHandlerEditor,
  createInputNumberEditor,
  createInputTextEditor,
  createRadioButtonGroupEditor,
  createRadioGroupEditor,
  createSelectEditor
}, Symbol.toStringTag, { value: "Module" }));
({
  name: "card-widget",
  componentName: "ContainerWidget",
  mixins: [i18n$1, containerMixin, refMixinDesign],
  inject: ["refList"],
  components: {
    ContainerWrapper,
    ...comps$1
    // ArrowDown,
    // ArrowUp
  },
  props: {
    widget: Object,
    parentWidget: Object,
    parentList: Array,
    indexOfParentList: Number,
    designer: Object
  },
  computed: {
    selected() {
      return this.widget.id === this.designer.selectedId;
    },
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
    this.initRefList();
  },
  methods: {
    /**
     * 检查接收哪些组件拖放，如不接受某些组件拖放，则根据组件类型判断后返回false
     * @param evt
     * @returns {boolean}
     */
    checkContainerMove(evt) {
      return true;
    },
    toggleCard() {
      this.widget.options.folded = !this.widget.options.folded;
    },
    /**
     * 设置折叠/打开状态
     * @param folded
     */
    setFolded(folded) {
      this.widget.options.folded = !!folded;
    }
  }
});
({
  name: "card-item",
  componentName: "ContainerItem",
  mixins: [emitter, i18n$1, refMixin, containerItemMixin],
  components: {
    ContainerItemWrapper,
    ...comps$1
    // ArrowDown,
    // ArrowUp
  },
  props: {
    widget: Object,
    subFormRowIndex: {
      /* 子表单组件行索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormColIndex: {
      /* 子表单组件列索引，从0开始计数 */
      type: Number,
      default: -1
    },
    subFormRowId: {
      /* 子表单组件行Id，唯一id且不可变 */
      type: String,
      default: ""
    }
  },
  inject: ["refList", "sfRefList", "globalModel"],
  computed: {
    customClass() {
      return this.widget.options.customClass || "";
    }
  },
  created() {
    this.initRefList();
  },
  beforeUnmount() {
    this.unregisterFromRefList();
  },
  methods: {
    toggleCard() {
      this.widget.options.folded = !this.widget.options.folded;
    }
  }
});
const registerCWGenerator = function(containerType, ctGenerator) {
};
const registerFWGenerator = function(fieldType, ftGenerator) {
};
const VFormRegisterHttp = (h2) => {
  window.$vform = {
    ...window.$vform || {},
    $http: h2
  };
};
VFormDesigner.install = function(app) {
  console.warn("VFormDesigner.install:成功");
  app.use(ContainerWidgets);
  app.use(ContainerItems);
  registerIcon(app);
  app.component("draggable", Draggable);
  app.component(VFormDesigner.name, VFormDesigner);
};
VFormRender.install = function(app) {
  console.warn("VFormRender.install:成功");
  app.use(ContainerItems);
  registerIcon(app);
  app.component(VFormRender.name, VFormRender);
};
const components = [VFormDesigner, VFormRender];
const install = (app, h2) => {
  console.warn("install:成功");
  app.config.globalProperties.$http = h2;
  VFormRegisterHttp(h2);
  app.use(ContainerWidgets);
  app.use(ContainerItems);
  registerIcon(app);
  app.component("draggable", Draggable);
  components.forEach((component) => {
    app.component(component.name, component);
  });
};
const VFormSDK = {
  basicFieldsEnums,
  addContainerWidgetSchema,
  addBasicFieldSchema,
  addAdvancedFieldSchema,
  addCustomWidgetSchema,
  PERegister,
  PEFactory,
  registerCWGenerator,
  registerFWGenerator,
  addZHExtensionLang,
  addENExtensionLang,
  i18n: i18n$1,
  containerMixin,
  Draggable,
  ContainerWrapper,
  FieldComponents: comps$1,
  refMixinDesign,
  ContainerItemWrapper,
  containerItemMixin,
  refMixin,
  StaticContentWrapper,
  FormItemWrapper,
  emitter,
  fieldMixin
};
const install$1 = {
  install,
  VFormDesigner,
  VFormRender,
  VFormSDK,
  VFormRegisterHttp
};
export {
  install$1 as default
};
